(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function om(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function FI(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var jh={exports:{}},hl={},Fh={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function UI(){if(Iv)return $e;Iv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),I=Symbol.iterator;function P(b){return b===null||typeof b!="object"?null:(b=I&&b[I]||b["@@iterator"],typeof b=="function"?b:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,M={};function j(b,z,ne){this.props=b,this.context=z,this.refs=M,this.updater=ne||D}j.prototype.isReactComponent={},j.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},j.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function q(){}q.prototype=j.prototype;function Q(b,z,ne){this.props=b,this.context=z,this.refs=M,this.updater=ne||D}var G=Q.prototype=new q;G.constructor=Q,V(G,j.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,U=Object.prototype.hasOwnProperty,B={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function R(b,z,ne){var ie,ae={},le=null,ce=null;if(z!=null)for(ie in z.ref!==void 0&&(ce=z.ref),z.key!==void 0&&(le=""+z.key),z)U.call(z,ie)&&!x.hasOwnProperty(ie)&&(ae[ie]=z[ie]);var Te=arguments.length-2;if(Te===1)ae.children=ne;else if(1<Te){for(var be=Array(Te),Re=0;Re<Te;Re++)be[Re]=arguments[Re+2];ae.children=be}if(b&&b.defaultProps)for(ie in Te=b.defaultProps,Te)ae[ie]===void 0&&(ae[ie]=Te[ie]);return{$$typeof:n,type:b,key:le,ref:ce,props:ae,_owner:B.current}}function S(b,z){return{$$typeof:n,type:b.type,key:z,ref:b.ref,props:b.props,_owner:b._owner}}function _(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function O(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ne){return z[ne]})}var L=/\/+/g;function k(b,z){return typeof b=="object"&&b!==null&&b.key!=null?O(""+b.key):z.toString(36)}function J(b,z,ne,ie,ae){var le=typeof b;(le==="undefined"||le==="boolean")&&(b=null);var ce=!1;if(b===null)ce=!0;else switch(le){case"string":case"number":ce=!0;break;case"object":switch(b.$$typeof){case n:case e:ce=!0}}if(ce)return ce=b,ae=ae(ce),b=ie===""?"."+k(ce,0):ie,ee(ae)?(ne="",b!=null&&(ne=b.replace(L,"$&/")+"/"),J(ae,z,ne,"",function(Re){return Re})):ae!=null&&(_(ae)&&(ae=S(ae,ne+(!ae.key||ce&&ce.key===ae.key?"":(""+ae.key).replace(L,"$&/")+"/")+b)),z.push(ae)),1;if(ce=0,ie=ie===""?".":ie+":",ee(b))for(var Te=0;Te<b.length;Te++){le=b[Te];var be=ie+k(le,Te);ce+=J(le,z,ne,be,ae)}else if(be=P(b),typeof be=="function")for(b=be.call(b),Te=0;!(le=b.next()).done;)le=le.value,be=ie+k(le,Te++),ce+=J(le,z,ne,be,ae);else if(le==="object")throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ce}function pe(b,z,ne){if(b==null)return b;var ie=[],ae=0;return J(b,ie,"","",function(le){return z.call(ne,le,ae++)}),ie}function fe(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(ne){(b._status===0||b._status===-1)&&(b._status=1,b._result=ne)},function(ne){(b._status===0||b._status===-1)&&(b._status=2,b._result=ne)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var T={current:null},se={transition:null},$={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:se,ReactCurrentOwner:B};function E(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:pe,forEach:function(b,z,ne){pe(b,function(){z.apply(this,arguments)},ne)},count:function(b){var z=0;return pe(b,function(){z++}),z},toArray:function(b){return pe(b,function(z){return z})||[]},only:function(b){if(!_(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},$e.Component=j,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=Q,$e.StrictMode=i,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,$e.act=E,$e.cloneElement=function(b,z,ne){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ie=V({},b.props),ae=b.key,le=b.ref,ce=b._owner;if(z!=null){if(z.ref!==void 0&&(le=z.ref,ce=B.current),z.key!==void 0&&(ae=""+z.key),b.type&&b.type.defaultProps)var Te=b.type.defaultProps;for(be in z)U.call(z,be)&&!x.hasOwnProperty(be)&&(ie[be]=z[be]===void 0&&Te!==void 0?Te[be]:z[be])}var be=arguments.length-2;if(be===1)ie.children=ne;else if(1<be){Te=Array(be);for(var Re=0;Re<be;Re++)Te[Re]=arguments[Re+2];ie.children=Te}return{$$typeof:n,type:b.type,key:ae,ref:le,props:ie,_owner:ce}},$e.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:a,_context:b},b.Consumer=b},$e.createElement=R,$e.createFactory=function(b){var z=R.bind(null,b);return z.type=b,z},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:f,render:b}},$e.isValidElement=_,$e.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:fe}},$e.memo=function(b,z){return{$$typeof:p,type:b,compare:z===void 0?null:z}},$e.startTransition=function(b){var z=se.transition;se.transition={};try{b()}finally{se.transition=z}},$e.unstable_act=E,$e.useCallback=function(b,z){return T.current.useCallback(b,z)},$e.useContext=function(b){return T.current.useContext(b)},$e.useDebugValue=function(){},$e.useDeferredValue=function(b){return T.current.useDeferredValue(b)},$e.useEffect=function(b,z){return T.current.useEffect(b,z)},$e.useId=function(){return T.current.useId()},$e.useImperativeHandle=function(b,z,ne){return T.current.useImperativeHandle(b,z,ne)},$e.useInsertionEffect=function(b,z){return T.current.useInsertionEffect(b,z)},$e.useLayoutEffect=function(b,z){return T.current.useLayoutEffect(b,z)},$e.useMemo=function(b,z){return T.current.useMemo(b,z)},$e.useReducer=function(b,z,ne){return T.current.useReducer(b,z,ne)},$e.useRef=function(b){return T.current.useRef(b)},$e.useState=function(b){return T.current.useState(b)},$e.useSyncExternalStore=function(b,z,ne){return T.current.useSyncExternalStore(b,z,ne)},$e.useTransition=function(){return T.current.useTransition()},$e.version="18.3.1",$e}var bv;function $r(){return bv||(bv=1,Fh.exports=UI()),Fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function zI(){if(kv)return hl;kv=1;var n=$r(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,p){var v,I={},P=null,D=null;p!==void 0&&(P=""+p),h.key!==void 0&&(P=""+h.key),h.ref!==void 0&&(D=h.ref);for(v in h)i.call(h,v)&&!a.hasOwnProperty(v)&&(I[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)I[v]===void 0&&(I[v]=h[v]);return{$$typeof:e,type:f,key:P,ref:D,props:I,_owner:o.current}}return hl.Fragment=t,hl.jsx=u,hl.jsxs=u,hl}var Cv;function $I(){return Cv||(Cv=1,jh.exports=zI()),jh.exports}var A=$I(),W=$r();const st=om(W);var Ec={},Uh={exports:{}},En={},zh={exports:{}},$h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function BI(){return xv||(xv=1,function(n){function e(se,$){var E=se.length;se.push($);e:for(;0<E;){var b=E-1>>>1,z=se[b];if(0<o(z,$))se[b]=$,se[E]=z,E=b;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var $=se[0],E=se.pop();if(E!==$){se[0]=E;e:for(var b=0,z=se.length,ne=z>>>1;b<ne;){var ie=2*(b+1)-1,ae=se[ie],le=ie+1,ce=se[le];if(0>o(ae,E))le<z&&0>o(ce,ae)?(se[b]=ce,se[le]=E,b=le):(se[b]=ae,se[ie]=E,b=ie);else if(le<z&&0>o(ce,E))se[b]=ce,se[le]=E,b=le;else break e}}return $}function o(se,$){var E=se.sortIndex-$.sortIndex;return E!==0?E:se.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],p=[],v=1,I=null,P=3,D=!1,V=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var $=t(p);$!==null;){if($.callback===null)i(p);else if($.startTime<=se)i(p),$.sortIndex=$.expirationTime,e(h,$);else break;$=t(p)}}function ee(se){if(M=!1,G(se),!V)if(t(h)!==null)V=!0,fe(U);else{var $=t(p);$!==null&&T(ee,$.startTime-se)}}function U(se,$){V=!1,M&&(M=!1,q(R),R=-1),D=!0;var E=P;try{for(G($),I=t(h);I!==null&&(!(I.expirationTime>$)||se&&!O());){var b=I.callback;if(typeof b=="function"){I.callback=null,P=I.priorityLevel;var z=b(I.expirationTime<=$);$=n.unstable_now(),typeof z=="function"?I.callback=z:I===t(h)&&i(h),G($)}else i(h);I=t(h)}if(I!==null)var ne=!0;else{var ie=t(p);ie!==null&&T(ee,ie.startTime-$),ne=!1}return ne}finally{I=null,P=E,D=!1}}var B=!1,x=null,R=-1,S=5,_=-1;function O(){return!(n.unstable_now()-_<S)}function L(){if(x!==null){var se=n.unstable_now();_=se;var $=!0;try{$=x(!0,se)}finally{$?k():(B=!1,x=null)}}else B=!1}var k;if(typeof Q=="function")k=function(){Q(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,pe=J.port2;J.port1.onmessage=L,k=function(){pe.postMessage(null)}}else k=function(){j(L,0)};function fe(se){x=se,B||(B=!0,k())}function T(se,$){R=j(function(){se(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){V||D||(V=!0,fe(U))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(se){switch(P){case 1:case 2:case 3:var $=3;break;default:$=P}var E=P;P=$;try{return se()}finally{P=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,$){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var E=P;P=se;try{return $()}finally{P=E}},n.unstable_scheduleCallback=function(se,$,E){var b=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?b+E:b):E=b,se){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=E+z,se={id:v++,callback:$,priorityLevel:se,startTime:E,expirationTime:z,sortIndex:-1},E>b?(se.sortIndex=E,e(p,se),t(h)===null&&se===t(p)&&(M?(q(R),R=-1):M=!0,T(ee,E-b))):(se.sortIndex=z,e(h,se),V||D||(V=!0,fe(U))),se},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(se){var $=P;return function(){var E=P;P=$;try{return se.apply(this,arguments)}finally{P=E}}}}($h)),$h}var Rv;function qI(){return Rv||(Rv=1,zh.exports=BI()),zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function HI(){if(Pv)return En;Pv=1;var n=$r(),e=qI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},I={};function P(r){return h.call(I,r)?!0:h.call(v,r)?!1:p.test(r)?I[r]=!0:(v[r]=!0,!1)}function D(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,s,l,d){if(s===null||typeof s>"u"||D(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,l,d,m,y,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=C}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,Q);j[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,Q);j[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,Q);j[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,l,d){var m=j.hasOwnProperty(s)?j[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,l,m,d)&&(l=null),d||m===null?P(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,d=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),B=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),se=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var E=Object.assign,b;function z(r){if(b===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var ne=!1;function ie(r,s){if(!r||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(te){var d=te}Reflect.construct(r,[],s)}else{try{s.call()}catch(te){d=te}r.call(s.prototype)}else{try{throw Error()}catch(te){d=te}r()}}catch(te){if(te&&d&&typeof te.stack=="string"){for(var m=te.stack.split(`
`),y=d.stack.split(`
`),C=m.length-1,F=y.length-1;1<=C&&0<=F&&m[C]!==y[F];)F--;for(;1<=C&&0<=F;C--,F--)if(m[C]!==y[F]){if(C!==1||F!==1)do if(C--,F--,0>F||m[C]!==y[F]){var H=`
`+m[C].replace(" at new "," at ");return r.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",r.displayName)),H}while(1<=C&&0<=F);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?z(r):""}function ae(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case B:return"Portal";case S:return"Profiler";case R:return"StrictMode";case k:return"Suspense";case J:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case _:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pe:return s=r.displayName||null,s!==null?s:le(r.type)||"Memo";case fe:s=r._payload,r=r._init;try{return le(r(s))}catch{}}return null}function ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=be(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(C){d=""+C,y.call(this,C)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ze(r){r._valueTracker||(r._valueTracker=Re(r))}function qe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=be(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ue(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ve(r,s){var l=s.checked;return E({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Be(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Te(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ct(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Fe(r,s){ct(r,s);var l=Te(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ft(r,s.type,l):s.hasOwnProperty("defaultValue")&&ft(r,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ft(r,s,l){(s!=="number"||Ue(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var rt=Array.isArray;function yt(r,s,l,d){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Te(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function Cn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function er(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(rt(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Te(l)}}function Qr(r,s){var l=Te(s.value),d=Te(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function tr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function St(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?St(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var sn,Sa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,m)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(sn=sn||document.createElement("div"),sn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=sn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Si(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ys=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(r){ys.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),gs[s]=gs[r]})});function Ia(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||gs.hasOwnProperty(r)&&gs[r]?(""+s).trim():s+"px"}function ba(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Ia(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,m):r[l]=m}}var ka=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(r,s){if(s){if(ka[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function xa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function ao(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var lo=null,zn=null,Er=null;function uo(r){if(r=Ja(r)){if(typeof lo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Lu(s),lo(r.stateNode,r.type,s))}}function Tr(r){zn?Er?Er.push(r):Er=[r]:zn=r}function Ra(){if(zn){var r=zn,s=Er;if(Er=zn=null,uo(r),s)for(r=0;r<s.length;r++)uo(s[r])}}function _s(r,s){return r(s)}function Pa(){}var Yr=!1;function Aa(r,s,l){if(Yr)return r(s,l);Yr=!0;try{return _s(r,s,l)}finally{Yr=!1,(zn!==null||Er!==null)&&(Pa(),Ra())}}function It(r,s){var l=r.stateNode;if(l===null)return null;var d=Lu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var co=!1;if(f)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){co=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{co=!1}function ws(r,s,l,d,m,y,C,F,H){var te=Array.prototype.slice.call(arguments,3);try{s.apply(l,te)}catch(he){this.onError(he)}}var Es=!1,fo=null,rr=!1,Na=null,ff={onError:function(r){Es=!0,fo=r}};function ho(r,s,l,d,m,y,C,F,H){Es=!1,fo=null,ws.apply(ff,arguments)}function ou(r,s,l,d,m,y,C,F,H){if(ho.apply(this,arguments),Es){if(Es){var te=fo;Es=!1,fo=null}else throw Error(t(198));rr||(rr=!0,Na=te)}}function ir(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Ts(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function sr(r){if(ir(r)!==r)throw Error(t(188))}function au(r){var s=r.alternate;if(!s){if(s=ir(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return sr(m),r;if(y===d)return sr(m),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var C=!1,F=m.child;F;){if(F===l){C=!0,l=m,d=y;break}if(F===d){C=!0,d=m,l=y;break}F=F.sibling}if(!C){for(F=y.child;F;){if(F===l){C=!0,l=y,d=m;break}if(F===d){C=!0,d=y,l=m;break}F=F.sibling}if(!C)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Oa(r){return r=au(r),r!==null?po(r):null}function po(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=po(r);if(s!==null)return s;r=r.sibling}return null}var mo=e.unstable_scheduleCallback,Da=e.unstable_cancelCallback,lu=e.unstable_shouldYield,hf=e.unstable_requestPaint,ot=e.unstable_now,uu=e.unstable_getCurrentPriorityLevel,Ss=e.unstable_ImmediatePriority,Ii=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,La=e.unstable_LowPriority,cu=e.unstable_IdlePriority,Is=null,xn=null;function du(r){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Is,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:hu,Ma=Math.log,fu=Math.LN2;function hu(r){return r>>>=0,r===0?32:31-(Ma(r)/fu|0)|0}var go=64,yo=4194304;function bi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function bs(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,y=r.pingedLanes,C=l&268435455;if(C!==0){var F=C&~m;F!==0?d=bi(F):(y&=C,y!==0&&(d=bi(y)))}else C=l&~m,C!==0?d=bi(C):y!==0&&(d=bi(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-on(s),m=1<<l,d|=r[l],s&=~m;return d}function pf(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes;0<y;){var C=31-on(y),F=1<<C,H=m[C];H===-1?((F&l)===0||(F&d)!==0)&&(m[C]=pf(F,s)):H<=s&&(r.expiredLanes|=F),y&=~F}}function Rn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ks(){var r=go;return go<<=1,(go&4194240)===0&&(go=64),r}function ki(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ci(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-on(s),r[s]=l}function it(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-on(l),y=1<<m;s[m]=0,d[m]=-1,r[m]=-1,l&=~y}}function xi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-on(l),m=1<<d;m&s|r[d]&s&&(r[d]|=s),l&=~m}}var Ke=0;function Ri(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var pu,vo,mu,gu,yu,Va=!1,Sr=[],$t=null,or=null,ar=null,Pi=new Map,Bn=new Map,Ir=[],mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(r,s){switch(r){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(s.pointerId)}}function pn(r,s,l,d,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Ja(s),s!==null&&vo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function gf(r,s,l,d,m){switch(s){case"focusin":return $t=pn($t,r,s,l,d,m),!0;case"dragenter":return or=pn(or,r,s,l,d,m),!0;case"mouseover":return ar=pn(ar,r,s,l,d,m),!0;case"pointerover":var y=m.pointerId;return Pi.set(y,pn(Pi.get(y)||null,r,s,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Bn.set(y,pn(Bn.get(y)||null,r,s,l,d,m)),!0}return!1}function _u(r){var s=As(r.target);if(s!==null){var l=ir(s);if(l!==null){if(s=l.tag,s===13){if(s=Ts(l),s!==null){r.blockedOn=s,yu(r.priority,function(){mu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Jr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=_o(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);vs=d,l.target.dispatchEvent(d),vs=null}else return s=Ja(l),s!==null&&vo(s),r.blockedOn=l,!1;s.shift()}return!0}function Cs(r,s,l){Jr(r)&&l.delete(s)}function wu(){Va=!1,$t!==null&&Jr($t)&&($t=null),or!==null&&Jr(or)&&(or=null),ar!==null&&Jr(ar)&&(ar=null),Pi.forEach(Cs),Bn.forEach(Cs)}function lr(r,s){r.blockedOn===s&&(r.blockedOn=null,Va||(Va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wu)))}function ur(r){function s(m){return lr(m,r)}if(0<Sr.length){lr(Sr[0],r);for(var l=1;l<Sr.length;l++){var d=Sr[l];d.blockedOn===r&&(d.blockedOn=null)}}for($t!==null&&lr($t,r),or!==null&&lr(or,r),ar!==null&&lr(ar,r),Pi.forEach(s),Bn.forEach(s),l=0;l<Ir.length;l++)d=Ir[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Ir.length&&(l=Ir[0],l.blockedOn===null);)_u(l),l.blockedOn===null&&Ir.shift()}var Zr=ee.ReactCurrentBatchConfig,Ai=!0;function mt(r,s,l,d){var m=Ke,y=Zr.transition;Zr.transition=null;try{Ke=1,ja(r,s,l,d)}finally{Ke=m,Zr.transition=y}}function yf(r,s,l,d){var m=Ke,y=Zr.transition;Zr.transition=null;try{Ke=4,ja(r,s,l,d)}finally{Ke=m,Zr.transition=y}}function ja(r,s,l,d){if(Ai){var m=_o(r,s,l,d);if(m===null)xf(r,s,d,xs,l),vu(r,d);else if(gf(m,r,s,l,d))d.stopPropagation();else if(vu(r,d),s&4&&-1<mf.indexOf(r)){for(;m!==null;){var y=Ja(m);if(y!==null&&pu(y),y=_o(r,s,l,d),y===null&&xf(r,s,d,xs,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else xf(r,s,d,null,l)}}var xs=null;function _o(r,s,l,d){if(xs=null,r=ao(d),r=As(r),r!==null)if(s=ir(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Ts(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return xs=r,null}function Fa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uu()){case Ss:return 1;case Ii:return 4;case $n:case La:return 16;case cu:return 536870912;default:return 16}default:return 16}}var Pn=null,wo=null,mn=null;function Ua(){if(mn)return mn;var r,s=wo,l=s.length,d,m="value"in Pn?Pn.value:Pn.textContent,y=m.length;for(r=0;r<l&&s[r]===m[r];r++);var C=l-r;for(d=1;d<=C&&s[l-d]===m[y-d];d++);return mn=m.slice(r,1<d?1-d:void 0)}function Eo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function za(){return!1}function Bt(r){function s(l,d,m,y,C){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(l=r[F],this[F]=l?l(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?br:za,this.isPropagationStopped=za,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),s}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Bt(cr),kr=E({},cr,{view:0,detail:0}),vf=Bt(kr),So,ei,Ni,Rs=E({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ni&&(Ni&&r.type==="mousemove"?(So=r.screenX-Ni.screenX,ei=r.screenY-Ni.screenY):ei=So=0,Ni=r),So)},movementY:function(r){return"movementY"in r?r.movementY:ei}}),Io=Bt(Rs),$a=E({},Rs,{dataTransfer:0}),Eu=Bt($a),bo=E({},kr,{relatedTarget:0}),ko=Bt(bo),Tu=E({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ti=Bt(Tu),Su=E({},cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Iu=Bt(Su),bu=E({},cr,{data:0}),Ba=Bt(bu),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ku[r])?!!s[r]:!1}function Cr(){return Cu}var c=E({},kr,{key:function(r){if(r.key){var s=Co[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?an[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Bt(c),w=E({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=Bt(w),Y=E({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),re=Bt(Y),ye=E({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Bt(ye),Nt=E({},Rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Bt(Nt),Mt=[9,13,27,32],Ct=f&&"CompositionEvent"in window,qn=null;f&&"documentMode"in document&&(qn=document.documentMode);var An=f&&"TextEvent"in window&&!qn,Ps=f&&(!Ct||qn&&8<qn&&11>=qn),xo=" ",vg=!1;function _g(r,s){switch(r){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ro=!1;function MS(r,s){switch(r){case"compositionend":return wg(s);case"keypress":return s.which!==32?null:(vg=!0,xo);case"textInput":return r=s.data,r===xo&&vg?null:r;default:return null}}function VS(r,s){if(Ro)return r==="compositionend"||!Ct&&_g(r,s)?(r=Ua(),mn=wo=Pn=null,Ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ps&&s.locale!=="ko"?null:s.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!jS[r.type]:s==="textarea"}function Tg(r,s,l,d){Tr(d),s=Nu(s,"onChange"),0<s.length&&(l=new To("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var qa=null,Ha=null;function FS(r){Ug(r,0)}function xu(r){var s=Do(r);if(qe(s))return r}function US(r,s){if(r==="change")return s}var Sg=!1;if(f){var _f;if(f){var wf="oninput"in document;if(!wf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),wf=typeof Ig.oninput=="function"}_f=wf}else _f=!1;Sg=_f&&(!document.documentMode||9<document.documentMode)}function bg(){qa&&(qa.detachEvent("onpropertychange",kg),Ha=qa=null)}function kg(r){if(r.propertyName==="value"&&xu(Ha)){var s=[];Tg(s,Ha,r,ao(r)),Aa(FS,s)}}function zS(r,s,l){r==="focusin"?(bg(),qa=s,Ha=l,qa.attachEvent("onpropertychange",kg)):r==="focusout"&&bg()}function $S(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xu(Ha)}function BS(r,s){if(r==="click")return xu(s)}function qS(r,s){if(r==="input"||r==="change")return xu(s)}function HS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var dr=typeof Object.is=="function"?Object.is:HS;function Wa(r,s){if(dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(s,m)||!dr(r[m],s[m]))return!1}return!0}function Cg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xg(r,s){var l=Cg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Cg(l)}}function Rg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Rg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Pg(){for(var r=window,s=Ue();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ue(r.document)}return s}function Ef(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function WS(r){var s=Pg(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Rg(l.ownerDocument.documentElement,l)){if(d!==null&&Ef(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!r.extend&&y>d&&(m=d,d=y,y=m),m=xg(l,y);var C=xg(l,d);m&&C&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var KS=f&&"documentMode"in document&&11>=document.documentMode,Po=null,Tf=null,Ka=null,Sf=!1;function Ag(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sf||Po==null||Po!==Ue(d)||(d=Po,"selectionStart"in d&&Ef(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ka&&Wa(Ka,d)||(Ka=d,d=Nu(Tf,"onSelect"),0<d.length&&(s=new To("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Po)))}function Ru(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ao={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},If={},Ng={};f&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Pu(r){if(If[r])return If[r];if(!Ao[r])return r;var s=Ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ng)return If[r]=s[l];return r}var Og=Pu("animationend"),Dg=Pu("animationiteration"),Lg=Pu("animationstart"),Mg=Pu("transitionend"),Vg=new Map,jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(r,s){Vg.set(r,s),a(s,[r])}for(var bf=0;bf<jg.length;bf++){var kf=jg[bf],GS=kf.toLowerCase(),QS=kf[0].toUpperCase()+kf.slice(1);Oi(GS,"on"+QS)}Oi(Og,"onAnimationEnd"),Oi(Dg,"onAnimationIteration"),Oi(Lg,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Mg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function Fg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,ou(d,s,void 0,r),r.currentTarget=null}function Ug(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var C=d.length-1;0<=C;C--){var F=d[C],H=F.instance,te=F.currentTarget;if(F=F.listener,H!==y&&m.isPropagationStopped())break e;Fg(m,F,te),y=H}else for(C=0;C<d.length;C++){if(F=d[C],H=F.instance,te=F.currentTarget,F=F.listener,H!==y&&m.isPropagationStopped())break e;Fg(m,F,te),y=H}}}if(rr)throw r=Na,rr=!1,Na=null,r}function ht(r,s){var l=s[Df];l===void 0&&(l=s[Df]=new Set);var d=r+"__bubble";l.has(d)||(zg(s,r,2,!1),l.add(d))}function Cf(r,s,l){var d=0;s&&(d|=4),zg(l,r,d,s)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Qa(r){if(!r[Au]){r[Au]=!0,i.forEach(function(l){l!=="selectionchange"&&(YS.has(l)||Cf(l,!1,r),Cf(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Au]||(s[Au]=!0,Cf("selectionchange",!1,s))}}function zg(r,s,l,d){switch(Fa(s)){case 1:var m=mt;break;case 4:m=yf;break;default:m=ja}l=m.bind(null,s,l,r),m=void 0,!co||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function xf(r,s,l,d,m){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var F=d.stateNode.containerInfo;if(F===m||F.nodeType===8&&F.parentNode===m)break;if(C===4)for(C=d.return;C!==null;){var H=C.tag;if((H===3||H===4)&&(H=C.stateNode.containerInfo,H===m||H.nodeType===8&&H.parentNode===m))return;C=C.return}for(;F!==null;){if(C=As(F),C===null)return;if(H=C.tag,H===5||H===6){d=y=C;continue e}F=F.parentNode}}d=d.return}Aa(function(){var te=y,he=ao(l),me=[];e:{var de=Vg.get(r);if(de!==void 0){var we=To,Ie=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":Ie="focus",we=ko;break;case"focusout":Ie="blur",we=ko;break;case"beforeblur":case"afterblur":we=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=re;break;case Og:case Dg:case Lg:we=ti;break;case Mg:we=et;break;case"scroll":we=vf;break;case"wheel":we=Qe;break;case"copy":case"cut":case"paste":we=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var ke=(s&4)!==0,bt=!ke&&r==="scroll",X=ke?de!==null?de+"Capture":null:de;ke=[];for(var K=te,Z;K!==null;){Z=K;var ge=Z.stateNode;if(Z.tag===5&&ge!==null&&(Z=ge,X!==null&&(ge=It(K,X),ge!=null&&ke.push(Ya(K,ge,Z)))),bt)break;K=K.return}0<ke.length&&(de=new we(de,Ie,null,l,he),me.push({event:de,listeners:ke}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",de&&l!==vs&&(Ie=l.relatedTarget||l.fromElement)&&(As(Ie)||Ie[ni]))break e;if((we||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,we?(Ie=l.relatedTarget||l.toElement,we=te,Ie=Ie?As(Ie):null,Ie!==null&&(bt=ir(Ie),Ie!==bt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(we=null,Ie=te),we!==Ie)){if(ke=Io,ge="onMouseLeave",X="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(ke=N,ge="onPointerLeave",X="onPointerEnter",K="pointer"),bt=we==null?de:Do(we),Z=Ie==null?de:Do(Ie),de=new ke(ge,K+"leave",we,l,he),de.target=bt,de.relatedTarget=Z,ge=null,As(he)===te&&(ke=new ke(X,K+"enter",Ie,l,he),ke.target=Z,ke.relatedTarget=bt,ge=ke),bt=ge,we&&Ie)t:{for(ke=we,X=Ie,K=0,Z=ke;Z;Z=No(Z))K++;for(Z=0,ge=X;ge;ge=No(ge))Z++;for(;0<K-Z;)ke=No(ke),K--;for(;0<Z-K;)X=No(X),Z--;for(;K--;){if(ke===X||X!==null&&ke===X.alternate)break t;ke=No(ke),X=No(X)}ke=null}else ke=null;we!==null&&$g(me,de,we,ke,!1),Ie!==null&&bt!==null&&$g(me,bt,Ie,ke,!0)}}e:{if(de=te?Do(te):window,we=de.nodeName&&de.nodeName.toLowerCase(),we==="select"||we==="input"&&de.type==="file")var Ce=US;else if(Eg(de))if(Sg)Ce=qS;else{Ce=$S;var Pe=zS}else(we=de.nodeName)&&we.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ce=BS);if(Ce&&(Ce=Ce(r,te))){Tg(me,Ce,l,he);break e}Pe&&Pe(r,de,te),r==="focusout"&&(Pe=de._wrapperState)&&Pe.controlled&&de.type==="number"&&ft(de,"number",de.value)}switch(Pe=te?Do(te):window,r){case"focusin":(Eg(Pe)||Pe.contentEditable==="true")&&(Po=Pe,Tf=te,Ka=null);break;case"focusout":Ka=Tf=Po=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Ag(me,l,he);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":Ag(me,l,he)}var Ae;if(Ct)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ro?_g(r,l)&&(De="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Ps&&l.locale!=="ko"&&(Ro||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ro&&(Ae=Ua()):(Pn=he,wo="value"in Pn?Pn.value:Pn.textContent,Ro=!0)),Pe=Nu(te,De),0<Pe.length&&(De=new Ba(De,r,null,l,he),me.push({event:De,listeners:Pe}),Ae?De.data=Ae:(Ae=wg(l),Ae!==null&&(De.data=Ae)))),(Ae=An?MS(r,l):VS(r,l))&&(te=Nu(te,"onBeforeInput"),0<te.length&&(he=new Ba("onBeforeInput","beforeinput",null,l,he),me.push({event:he,listeners:te}),he.data=Ae))}Ug(me,s)})}function Ya(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Nu(r,s){for(var l=s+"Capture",d=[];r!==null;){var m=r,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=It(r,l),y!=null&&d.unshift(Ya(r,y,m)),y=It(r,s),y!=null&&d.push(Ya(r,y,m))),r=r.return}return d}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function $g(r,s,l,d,m){for(var y=s._reactName,C=[];l!==null&&l!==d;){var F=l,H=F.alternate,te=F.stateNode;if(H!==null&&H===d)break;F.tag===5&&te!==null&&(F=te,m?(H=It(l,y),H!=null&&C.unshift(Ya(l,H,F))):m||(H=It(l,y),H!=null&&C.push(Ya(l,H,F)))),l=l.return}C.length!==0&&r.push({event:s,listeners:C})}var XS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function Bg(r){return(typeof r=="string"?r:""+r).replace(XS,`
`).replace(JS,"")}function Ou(r,s,l){if(s=Bg(s),Bg(r)!==s&&l)throw Error(t(425))}function Du(){}var Rf=null,Pf=null;function Af(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(r){return qg.resolve(null).then(r).catch(tI)}:Nf;function tI(r){setTimeout(function(){throw r})}function Of(r,s){var l=s,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){r.removeChild(m),ur(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);ur(s)}function Di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Hg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),xr="__reactFiber$"+Oo,Xa="__reactProps$"+Oo,ni="__reactContainer$"+Oo,Df="__reactEvents$"+Oo,nI="__reactListeners$"+Oo,rI="__reactHandles$"+Oo;function As(r){var s=r[xr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ni]||l[xr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Hg(r);r!==null;){if(l=r[xr])return l;r=Hg(r)}return s}r=l,l=r.parentNode}return null}function Ja(r){return r=r[xr]||r[ni],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Do(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Lu(r){return r[Xa]||null}var Lf=[],Lo=-1;function Li(r){return{current:r}}function pt(r){0>Lo||(r.current=Lf[Lo],Lf[Lo]=null,Lo--)}function at(r,s){Lo++,Lf[Lo]=r.current,r.current=s}var Mi={},Qt=Li(Mi),gn=Li(!1),Ns=Mi;function Mo(r,s){var l=r.type.contextTypes;if(!l)return Mi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function yn(r){return r=r.childContextTypes,r!=null}function Mu(){pt(gn),pt(Qt)}function Wg(r,s,l){if(Qt.current!==Mi)throw Error(t(168));at(Qt,s),at(gn,l)}function Kg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(t(108,ce(r)||"Unknown",m));return E({},l,d)}function Vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Mi,Ns=Qt.current,at(Qt,r),at(gn,gn.current),!0}function Gg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Kg(r,s,Ns),d.__reactInternalMemoizedMergedChildContext=r,pt(gn),pt(Qt),at(Qt,r)):pt(gn),at(gn,l)}var ri=null,ju=!1,Mf=!1;function Qg(r){ri===null?ri=[r]:ri.push(r)}function iI(r){ju=!0,Qg(r)}function Vi(){if(!Mf&&ri!==null){Mf=!0;var r=0,s=Ke;try{var l=ri;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}ri=null,ju=!1}catch(m){throw ri!==null&&(ri=ri.slice(r+1)),mo(Ss,Vi),m}finally{Ke=s,Mf=!1}}return null}var Vo=[],jo=0,Fu=null,Uu=0,Hn=[],Wn=0,Os=null,ii=1,si="";function Ds(r,s){Vo[jo++]=Uu,Vo[jo++]=Fu,Fu=r,Uu=s}function Yg(r,s,l){Hn[Wn++]=ii,Hn[Wn++]=si,Hn[Wn++]=Os,Os=r;var d=ii;r=si;var m=32-on(d)-1;d&=~(1<<m),l+=1;var y=32-on(s)+m;if(30<y){var C=m-m%5;y=(d&(1<<C)-1).toString(32),d>>=C,m-=C,ii=1<<32-on(s)+m|l<<m|d,si=y+r}else ii=1<<y|l<<m|d,si=r}function Vf(r){r.return!==null&&(Ds(r,1),Yg(r,1,0))}function jf(r){for(;r===Fu;)Fu=Vo[--jo],Vo[jo]=null,Uu=Vo[--jo],Vo[jo]=null;for(;r===Os;)Os=Hn[--Wn],Hn[Wn]=null,si=Hn[--Wn],Hn[Wn]=null,ii=Hn[--Wn],Hn[Wn]=null}var Nn=null,On=null,gt=!1,fr=null;function Xg(r,s){var l=Yn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Jg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Nn=r,On=Di(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Nn=r,On=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Os!==null?{id:ii,overflow:si}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Yn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Nn=r,On=null,!0):!1;default:return!1}}function Ff(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Uf(r){if(gt){var s=On;if(s){var l=s;if(!Jg(r,s)){if(Ff(r))throw Error(t(418));s=Di(l.nextSibling);var d=Nn;s&&Jg(r,s)?Xg(d,l):(r.flags=r.flags&-4097|2,gt=!1,Nn=r)}}else{if(Ff(r))throw Error(t(418));r.flags=r.flags&-4097|2,gt=!1,Nn=r}}}function Zg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Nn=r}function zu(r){if(r!==Nn)return!1;if(!gt)return Zg(r),gt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Af(r.type,r.memoizedProps)),s&&(s=On)){if(Ff(r))throw ey(),Error(t(418));for(;s;)Xg(r,s),s=Di(s.nextSibling)}if(Zg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){On=Di(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}On=null}}else On=Nn?Di(r.stateNode.nextSibling):null;return!0}function ey(){for(var r=On;r;)r=Di(r.nextSibling)}function Fo(){On=Nn=null,gt=!1}function zf(r){fr===null?fr=[r]:fr.push(r)}var sI=ee.ReactCurrentBatchConfig;function Za(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var m=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(C){var F=m.refs;C===null?delete F[y]:F[y]=C},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function $u(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ty(r){var s=r._init;return s(r._payload)}function ny(r){function s(X,K){if(r){var Z=X.deletions;Z===null?(X.deletions=[K],X.flags|=16):Z.push(K)}}function l(X,K){if(!r)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function d(X,K){for(X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function m(X,K){return X=Hi(X,K),X.index=0,X.sibling=null,X}function y(X,K,Z){return X.index=Z,r?(Z=X.alternate,Z!==null?(Z=Z.index,Z<K?(X.flags|=2,K):Z):(X.flags|=2,K)):(X.flags|=1048576,K)}function C(X){return r&&X.alternate===null&&(X.flags|=2),X}function F(X,K,Z,ge){return K===null||K.tag!==6?(K=Nh(Z,X.mode,ge),K.return=X,K):(K=m(K,Z),K.return=X,K)}function H(X,K,Z,ge){var Ce=Z.type;return Ce===x?he(X,K,Z.props.children,ge,Z.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===fe&&ty(Ce)===K.type)?(ge=m(K,Z.props),ge.ref=Za(X,K,Z),ge.return=X,ge):(ge=fc(Z.type,Z.key,Z.props,null,X.mode,ge),ge.ref=Za(X,K,Z),ge.return=X,ge)}function te(X,K,Z,ge){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Oh(Z,X.mode,ge),K.return=X,K):(K=m(K,Z.children||[]),K.return=X,K)}function he(X,K,Z,ge,Ce){return K===null||K.tag!==7?(K=$s(Z,X.mode,ge,Ce),K.return=X,K):(K=m(K,Z),K.return=X,K)}function me(X,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Nh(""+K,X.mode,Z),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case U:return Z=fc(K.type,K.key,K.props,null,X.mode,Z),Z.ref=Za(X,null,K),Z.return=X,Z;case B:return K=Oh(K,X.mode,Z),K.return=X,K;case fe:var ge=K._init;return me(X,ge(K._payload),Z)}if(rt(K)||$(K))return K=$s(K,X.mode,Z,null),K.return=X,K;$u(X,K)}return null}function de(X,K,Z,ge){var Ce=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ce!==null?null:F(X,K,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case U:return Z.key===Ce?H(X,K,Z,ge):null;case B:return Z.key===Ce?te(X,K,Z,ge):null;case fe:return Ce=Z._init,de(X,K,Ce(Z._payload),ge)}if(rt(Z)||$(Z))return Ce!==null?null:he(X,K,Z,ge,null);$u(X,Z)}return null}function we(X,K,Z,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return X=X.get(Z)||null,F(K,X,""+ge,Ce);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case U:return X=X.get(ge.key===null?Z:ge.key)||null,H(K,X,ge,Ce);case B:return X=X.get(ge.key===null?Z:ge.key)||null,te(K,X,ge,Ce);case fe:var Pe=ge._init;return we(X,K,Z,Pe(ge._payload),Ce)}if(rt(ge)||$(ge))return X=X.get(Z)||null,he(K,X,ge,Ce,null);$u(K,ge)}return null}function Ie(X,K,Z,ge){for(var Ce=null,Pe=null,Ae=K,De=K=0,Ft=null;Ae!==null&&De<Z.length;De++){Ae.index>De?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Je=de(X,Ae,Z[De],ge);if(Je===null){Ae===null&&(Ae=Ft);break}r&&Ae&&Je.alternate===null&&s(X,Ae),K=y(Je,K,De),Pe===null?Ce=Je:Pe.sibling=Je,Pe=Je,Ae=Ft}if(De===Z.length)return l(X,Ae),gt&&Ds(X,De),Ce;if(Ae===null){for(;De<Z.length;De++)Ae=me(X,Z[De],ge),Ae!==null&&(K=y(Ae,K,De),Pe===null?Ce=Ae:Pe.sibling=Ae,Pe=Ae);return gt&&Ds(X,De),Ce}for(Ae=d(X,Ae);De<Z.length;De++)Ft=we(Ae,X,De,Z[De],ge),Ft!==null&&(r&&Ft.alternate!==null&&Ae.delete(Ft.key===null?De:Ft.key),K=y(Ft,K,De),Pe===null?Ce=Ft:Pe.sibling=Ft,Pe=Ft);return r&&Ae.forEach(function(Wi){return s(X,Wi)}),gt&&Ds(X,De),Ce}function ke(X,K,Z,ge){var Ce=$(Z);if(typeof Ce!="function")throw Error(t(150));if(Z=Ce.call(Z),Z==null)throw Error(t(151));for(var Pe=Ce=null,Ae=K,De=K=0,Ft=null,Je=Z.next();Ae!==null&&!Je.done;De++,Je=Z.next()){Ae.index>De?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Wi=de(X,Ae,Je.value,ge);if(Wi===null){Ae===null&&(Ae=Ft);break}r&&Ae&&Wi.alternate===null&&s(X,Ae),K=y(Wi,K,De),Pe===null?Ce=Wi:Pe.sibling=Wi,Pe=Wi,Ae=Ft}if(Je.done)return l(X,Ae),gt&&Ds(X,De),Ce;if(Ae===null){for(;!Je.done;De++,Je=Z.next())Je=me(X,Je.value,ge),Je!==null&&(K=y(Je,K,De),Pe===null?Ce=Je:Pe.sibling=Je,Pe=Je);return gt&&Ds(X,De),Ce}for(Ae=d(X,Ae);!Je.done;De++,Je=Z.next())Je=we(Ae,X,De,Je.value,ge),Je!==null&&(r&&Je.alternate!==null&&Ae.delete(Je.key===null?De:Je.key),K=y(Je,K,De),Pe===null?Ce=Je:Pe.sibling=Je,Pe=Je);return r&&Ae.forEach(function(jI){return s(X,jI)}),gt&&Ds(X,De),Ce}function bt(X,K,Z,ge){if(typeof Z=="object"&&Z!==null&&Z.type===x&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case U:e:{for(var Ce=Z.key,Pe=K;Pe!==null;){if(Pe.key===Ce){if(Ce=Z.type,Ce===x){if(Pe.tag===7){l(X,Pe.sibling),K=m(Pe,Z.props.children),K.return=X,X=K;break e}}else if(Pe.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===fe&&ty(Ce)===Pe.type){l(X,Pe.sibling),K=m(Pe,Z.props),K.ref=Za(X,Pe,Z),K.return=X,X=K;break e}l(X,Pe);break}else s(X,Pe);Pe=Pe.sibling}Z.type===x?(K=$s(Z.props.children,X.mode,ge,Z.key),K.return=X,X=K):(ge=fc(Z.type,Z.key,Z.props,null,X.mode,ge),ge.ref=Za(X,K,Z),ge.return=X,X=ge)}return C(X);case B:e:{for(Pe=Z.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(X,K.sibling),K=m(K,Z.children||[]),K.return=X,X=K;break e}else{l(X,K);break}else s(X,K);K=K.sibling}K=Oh(Z,X.mode,ge),K.return=X,X=K}return C(X);case fe:return Pe=Z._init,bt(X,K,Pe(Z._payload),ge)}if(rt(Z))return Ie(X,K,Z,ge);if($(Z))return ke(X,K,Z,ge);$u(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,K!==null&&K.tag===6?(l(X,K.sibling),K=m(K,Z),K.return=X,X=K):(l(X,K),K=Nh(Z,X.mode,ge),K.return=X,X=K),C(X)):l(X,K)}return bt}var Uo=ny(!0),ry=ny(!1),Bu=Li(null),qu=null,zo=null,$f=null;function Bf(){$f=zo=qu=null}function qf(r){var s=Bu.current;pt(Bu),r._currentValue=s}function Hf(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function $o(r,s){qu=r,$f=zo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(vn=!0),r.firstContext=null)}function Kn(r){var s=r._currentValue;if($f!==r)if(r={context:r,memoizedValue:s,next:null},zo===null){if(qu===null)throw Error(t(308));zo=r,qu.dependencies={lanes:0,firstContext:r}}else zo=zo.next=r;return s}var Ls=null;function Wf(r){Ls===null?Ls=[r]:Ls.push(r)}function iy(r,s,l,d){var m=s.interleaved;return m===null?(l.next=l,Wf(s)):(l.next=m.next,m.next=l),s.interleaved=l,oi(r,d)}function oi(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ji=!1;function Kf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ai(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,oi(r,l)}return m=d.interleaved,m===null?(s.next=s,Wf(d)):(s.next=m.next,m.next=s),d.interleaved=s,oi(r,l)}function Hu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,xi(r,l)}}function oy(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var C={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=C:y=y.next=C,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Wu(r,s,l,d){var m=r.updateQueue;ji=!1;var y=m.firstBaseUpdate,C=m.lastBaseUpdate,F=m.shared.pending;if(F!==null){m.shared.pending=null;var H=F,te=H.next;H.next=null,C===null?y=te:C.next=te,C=H;var he=r.alternate;he!==null&&(he=he.updateQueue,F=he.lastBaseUpdate,F!==C&&(F===null?he.firstBaseUpdate=te:F.next=te,he.lastBaseUpdate=H))}if(y!==null){var me=m.baseState;C=0,he=te=H=null,F=y;do{var de=F.lane,we=F.eventTime;if((d&de)===de){he!==null&&(he=he.next={eventTime:we,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Ie=r,ke=F;switch(de=s,we=l,ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){me=Ie.call(we,me,de);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,de=typeof Ie=="function"?Ie.call(we,me,de):Ie,de==null)break e;me=E({},me,de);break e;case 2:ji=!0}}F.callback!==null&&F.lane!==0&&(r.flags|=64,de=m.effects,de===null?m.effects=[F]:de.push(F))}else we={eventTime:we,lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},he===null?(te=he=we,H=me):he=he.next=we,C|=de;if(F=F.next,F===null){if(F=m.shared.pending,F===null)break;de=F,F=de.next,de.next=null,m.lastBaseUpdate=de,m.shared.pending=null}}while(!0);if(he===null&&(H=me),m.baseState=H,m.firstBaseUpdate=te,m.lastBaseUpdate=he,s=m.shared.interleaved,s!==null){m=s;do C|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);js|=C,r.lanes=C,r.memoizedState=me}}function ay(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var el={},Rr=Li(el),tl=Li(el),nl=Li(el);function Ms(r){if(r===el)throw Error(t(174));return r}function Gf(r,s){switch(at(nl,s),at(tl,r),at(Rr,el),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=tt(s,r)}pt(Rr),at(Rr,s)}function Bo(){pt(Rr),pt(tl),pt(nl)}function ly(r){Ms(nl.current);var s=Ms(Rr.current),l=tt(s,r.type);s!==l&&(at(tl,r),at(Rr,l))}function Qf(r){tl.current===r&&(pt(Rr),pt(tl))}var vt=Li(0);function Ku(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yf=[];function Xf(){for(var r=0;r<Yf.length;r++)Yf[r]._workInProgressVersionPrimary=null;Yf.length=0}var Gu=ee.ReactCurrentDispatcher,Jf=ee.ReactCurrentBatchConfig,Vs=0,_t=null,Ot=null,Vt=null,Qu=!1,rl=!1,il=0,oI=0;function Yt(){throw Error(t(321))}function Zf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!dr(r[l],s[l]))return!1;return!0}function eh(r,s,l,d,m,y){if(Vs=y,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gu.current=r===null||r.memoizedState===null?cI:dI,r=l(d,m),rl){y=0;do{if(rl=!1,il=0,25<=y)throw Error(t(301));y+=1,Vt=Ot=null,s.updateQueue=null,Gu.current=fI,r=l(d,m)}while(rl)}if(Gu.current=Ju,s=Ot!==null&&Ot.next!==null,Vs=0,Vt=Ot=_t=null,Qu=!1,s)throw Error(t(300));return r}function th(){var r=il!==0;return il=0,r}function Pr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Gn(){if(Ot===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Ot.next;var s=Vt===null?_t.memoizedState:Vt.next;if(s!==null)Vt=s,Ot=r;else{if(r===null)throw Error(t(310));Ot=r,r={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function sl(r,s){return typeof s=="function"?s(r):s}function nh(r){var s=Gn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Ot,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var C=m.next;m.next=y.next,y.next=C}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var F=C=null,H=null,te=y;do{var he=te.lane;if((Vs&he)===he)H!==null&&(H=H.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),d=te.hasEagerState?te.eagerState:r(d,te.action);else{var me={lane:he,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};H===null?(F=H=me,C=d):H=H.next=me,_t.lanes|=he,js|=he}te=te.next}while(te!==null&&te!==y);H===null?C=d:H.next=F,dr(d,s.memoizedState)||(vn=!0),s.memoizedState=d,s.baseState=C,s.baseQueue=H,l.lastRenderedState=d}if(r=l.interleaved,r!==null){m=r;do y=m.lane,_t.lanes|=y,js|=y,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function rh(r){var s=Gn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var C=m=m.next;do y=r(y,C.action),C=C.next;while(C!==m);dr(y,s.memoizedState)||(vn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function uy(){}function cy(r,s){var l=_t,d=Gn(),m=s(),y=!dr(d.memoizedState,m);if(y&&(d.memoizedState=m,vn=!0),d=d.queue,ih(hy.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,ol(9,fy.bind(null,l,d,m,s),void 0,null),jt===null)throw Error(t(349));(Vs&30)!==0||dy(l,s,m)}return m}function dy(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function fy(r,s,l,d){s.value=l,s.getSnapshot=d,py(s)&&my(r)}function hy(r,s,l){return l(function(){py(s)&&my(r)})}function py(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!dr(r,l)}catch{return!0}}function my(r){var s=oi(r,1);s!==null&&gr(s,r,1,-1)}function gy(r){var s=Pr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:r},s.queue=r,r=r.dispatch=uI.bind(null,_t,r),[s.memoizedState,r]}function ol(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function yy(){return Gn().memoizedState}function Yu(r,s,l,d){var m=Pr();_t.flags|=r,m.memoizedState=ol(1|s,l,void 0,d===void 0?null:d)}function Xu(r,s,l,d){var m=Gn();d=d===void 0?null:d;var y=void 0;if(Ot!==null){var C=Ot.memoizedState;if(y=C.destroy,d!==null&&Zf(d,C.deps)){m.memoizedState=ol(s,l,y,d);return}}_t.flags|=r,m.memoizedState=ol(1|s,l,y,d)}function vy(r,s){return Yu(8390656,8,r,s)}function ih(r,s){return Xu(2048,8,r,s)}function _y(r,s){return Xu(4,2,r,s)}function wy(r,s){return Xu(4,4,r,s)}function Ey(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ty(r,s,l){return l=l!=null?l.concat([r]):null,Xu(4,4,Ey.bind(null,s,r),l)}function sh(){}function Sy(r,s){var l=Gn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Zf(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Iy(r,s){var l=Gn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Zf(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function by(r,s,l){return(Vs&21)===0?(r.baseState&&(r.baseState=!1,vn=!0),r.memoizedState=l):(dr(l,s)||(l=ks(),_t.lanes|=l,js|=l,r.baseState=!0),s)}function aI(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=Jf.transition;Jf.transition={};try{r(!1),s()}finally{Ke=l,Jf.transition=d}}function ky(){return Gn().memoizedState}function lI(r,s,l){var d=Bi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Cy(r))xy(s,l);else if(l=iy(r,s,l,d),l!==null){var m=un();gr(l,r,d,m),Ry(l,s,d)}}function uI(r,s,l){var d=Bi(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cy(r))xy(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,F=y(C,l);if(m.hasEagerState=!0,m.eagerState=F,dr(F,C)){var H=s.interleaved;H===null?(m.next=m,Wf(s)):(m.next=H.next,H.next=m),s.interleaved=m;return}}catch{}finally{}l=iy(r,s,m,d),l!==null&&(m=un(),gr(l,r,d,m),Ry(l,s,d))}}function Cy(r){var s=r.alternate;return r===_t||s!==null&&s===_t}function xy(r,s){rl=Qu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Ry(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,xi(r,l)}}var Ju={readContext:Kn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},cI={readContext:Kn,useCallback:function(r,s){return Pr().memoizedState=[r,s===void 0?null:s],r},useContext:Kn,useEffect:vy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Yu(4194308,4,Ey.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Yu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Yu(4,2,r,s)},useMemo:function(r,s){var l=Pr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Pr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=lI.bind(null,_t,r),[d.memoizedState,r]},useRef:function(r){var s=Pr();return r={current:r},s.memoizedState=r},useState:gy,useDebugValue:sh,useDeferredValue:function(r){return Pr().memoizedState=r},useTransition:function(){var r=gy(!1),s=r[0];return r=aI.bind(null,r[1]),Pr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=_t,m=Pr();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),jt===null)throw Error(t(349));(Vs&30)!==0||dy(d,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,vy(hy.bind(null,d,y,r),[r]),d.flags|=2048,ol(9,fy.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Pr(),s=jt.identifierPrefix;if(gt){var l=si,d=ii;l=(d&~(1<<32-on(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=il++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=oI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},dI={readContext:Kn,useCallback:Sy,useContext:Kn,useEffect:ih,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Iy,useReducer:nh,useRef:yy,useState:function(){return nh(sl)},useDebugValue:sh,useDeferredValue:function(r){var s=Gn();return by(s,Ot.memoizedState,r)},useTransition:function(){var r=nh(sl)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:uy,useSyncExternalStore:cy,useId:ky,unstable_isNewReconciler:!1},fI={readContext:Kn,useCallback:Sy,useContext:Kn,useEffect:ih,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:Iy,useReducer:rh,useRef:yy,useState:function(){return rh(sl)},useDebugValue:sh,useDeferredValue:function(r){var s=Gn();return Ot===null?s.memoizedState=r:by(s,Ot.memoizedState,r)},useTransition:function(){var r=rh(sl)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:uy,useSyncExternalStore:cy,useId:ky,unstable_isNewReconciler:!1};function hr(r,s){if(r&&r.defaultProps){s=E({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function oh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:E({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Zu={isMounted:function(r){return(r=r._reactInternals)?ir(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=un(),m=Bi(r),y=ai(d,m);y.payload=s,l!=null&&(y.callback=l),s=Fi(r,y,m),s!==null&&(gr(s,r,m,d),Hu(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=un(),m=Bi(r),y=ai(d,m);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Fi(r,y,m),s!==null&&(gr(s,r,m,d),Hu(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=un(),d=Bi(r),m=ai(l,d);m.tag=2,s!=null&&(m.callback=s),s=Fi(r,m,d),s!==null&&(gr(s,r,d,l),Hu(s,r,d))}};function Py(r,s,l,d,m,y,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,C):s.prototype&&s.prototype.isPureReactComponent?!Wa(l,d)||!Wa(m,y):!0}function Ay(r,s,l){var d=!1,m=Mi,y=s.contextType;return typeof y=="object"&&y!==null?y=Kn(y):(m=yn(s)?Ns:Qt.current,d=s.contextTypes,y=(d=d!=null)?Mo(r,m):Mi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=y),s}function Ny(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Zu.enqueueReplaceState(s,s.state,null)}function ah(r,s,l,d){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},Kf(r);var y=s.contextType;typeof y=="object"&&y!==null?m.context=Kn(y):(y=yn(s)?Ns:Qt.current,m.context=Mo(r,y)),m.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(oh(r,s,y,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Zu.enqueueReplaceState(m,m.state,null),Wu(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function qo(r,s){try{var l="",d=s;do l+=ae(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:m,digest:null}}function lh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function uh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var hI=typeof WeakMap=="function"?WeakMap:Map;function Oy(r,s,l){l=ai(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){oc||(oc=!0,Ih=d),uh(r,s)},l}function Dy(r,s,l){l=ai(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;l.payload=function(){return d(m)},l.callback=function(){uh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){uh(r,s),typeof d!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),l}function Ly(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new hI;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(l)||(m.add(l),r=CI.bind(null,r,s,l),s.then(r,r))}function My(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Vy(r,s,l,d,m){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ai(-1,1),s.tag=2,Fi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=m,r)}var pI=ee.ReactCurrentOwner,vn=!1;function ln(r,s,l,d){s.child=r===null?ry(s,null,l,d):Uo(s,r.child,l,d)}function jy(r,s,l,d,m){l=l.render;var y=s.ref;return $o(s,m),d=eh(r,s,l,d,y,m),l=th(),r!==null&&!vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,li(r,s,m)):(gt&&l&&Vf(s),s.flags|=1,ln(r,s,d,m),s.child)}function Fy(r,s,l,d,m){if(r===null){var y=l.type;return typeof y=="function"&&!Ah(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Uy(r,s,y,d,m)):(r=fc(l.type,null,d,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&m)===0){var C=y.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(C,d)&&r.ref===s.ref)return li(r,s,m)}return s.flags|=1,r=Hi(y,d),r.ref=s.ref,r.return=s,s.child=r}function Uy(r,s,l,d,m){if(r!==null){var y=r.memoizedProps;if(Wa(y,d)&&r.ref===s.ref)if(vn=!1,s.pendingProps=d=y,(r.lanes&m)!==0)(r.flags&131072)!==0&&(vn=!0);else return s.lanes=r.lanes,li(r,s,m)}return ch(r,s,l,d,m)}function zy(r,s,l){var d=s.pendingProps,m=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Wo,Dn),Dn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(Wo,Dn),Dn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,at(Wo,Dn),Dn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,at(Wo,Dn),Dn|=d;return ln(r,s,m,l),s.child}function $y(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ch(r,s,l,d,m){var y=yn(l)?Ns:Qt.current;return y=Mo(s,y),$o(s,m),l=eh(r,s,l,d,y,m),d=th(),r!==null&&!vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,li(r,s,m)):(gt&&d&&Vf(s),s.flags|=1,ln(r,s,l,m),s.child)}function By(r,s,l,d,m){if(yn(l)){var y=!0;Vu(s)}else y=!1;if($o(s,m),s.stateNode===null)tc(r,s),Ay(s,l,d),ah(s,l,d,m),d=!0;else if(r===null){var C=s.stateNode,F=s.memoizedProps;C.props=F;var H=C.context,te=l.contextType;typeof te=="object"&&te!==null?te=Kn(te):(te=yn(l)?Ns:Qt.current,te=Mo(s,te));var he=l.getDerivedStateFromProps,me=typeof he=="function"||typeof C.getSnapshotBeforeUpdate=="function";me||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==d||H!==te)&&Ny(s,C,d,te),ji=!1;var de=s.memoizedState;C.state=de,Wu(s,d,C,m),H=s.memoizedState,F!==d||de!==H||gn.current||ji?(typeof he=="function"&&(oh(s,l,he,d),H=s.memoizedState),(F=ji||Py(s,l,F,d,de,H,te))?(me||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=H),C.props=d,C.state=H,C.context=te,d=F):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{C=s.stateNode,sy(r,s),F=s.memoizedProps,te=s.type===s.elementType?F:hr(s.type,F),C.props=te,me=s.pendingProps,de=C.context,H=l.contextType,typeof H=="object"&&H!==null?H=Kn(H):(H=yn(l)?Ns:Qt.current,H=Mo(s,H));var we=l.getDerivedStateFromProps;(he=typeof we=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==me||de!==H)&&Ny(s,C,d,H),ji=!1,de=s.memoizedState,C.state=de,Wu(s,d,C,m);var Ie=s.memoizedState;F!==me||de!==Ie||gn.current||ji?(typeof we=="function"&&(oh(s,l,we,d),Ie=s.memoizedState),(te=ji||Py(s,l,te,d,de,Ie,H)||!1)?(he||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(d,Ie,H),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(d,Ie,H)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ie),C.props=d,C.state=Ie,C.context=H,d=te):(typeof C.componentDidUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),d=!1)}return dh(r,s,l,d,y,m)}function dh(r,s,l,d,m,y){$y(r,s);var C=(s.flags&128)!==0;if(!d&&!C)return m&&Gg(s,l,!1),li(r,s,y);d=s.stateNode,pI.current=s;var F=C&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&C?(s.child=Uo(s,r.child,null,y),s.child=Uo(s,null,F,y)):ln(r,s,F,y),s.memoizedState=d.state,m&&Gg(s,l,!0),s.child}function qy(r){var s=r.stateNode;s.pendingContext?Wg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Wg(r,s.context,!1),Gf(r,s.containerInfo)}function Hy(r,s,l,d,m){return Fo(),zf(m),s.flags|=256,ln(r,s,l,d),s.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Wy(r,s,l){var d=s.pendingProps,m=vt.current,y=!1,C=(s.flags&128)!==0,F;if((F=C)||(F=r!==null&&r.memoizedState===null?!1:(m&2)!==0),F?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),at(vt,m&1),r===null)return Uf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(C=d.children,r=d.fallback,y?(d=s.mode,y=s.child,C={mode:"hidden",children:C},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=C):y=hc(C,d,0,null),r=$s(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=hh(l),s.memoizedState=fh,r):ph(s,C));if(m=r.memoizedState,m!==null&&(F=m.dehydrated,F!==null))return mI(r,s,C,d,F,m,l);if(y){y=d.fallback,C=s.mode,m=r.child,F=m.sibling;var H={mode:"hidden",children:d.children};return(C&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=H,s.deletions=null):(d=Hi(m,H),d.subtreeFlags=m.subtreeFlags&14680064),F!==null?y=Hi(F,y):(y=$s(y,C,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,C=r.child.memoizedState,C=C===null?hh(l):{baseLanes:C.baseLanes|l,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=r.childLanes&~l,s.memoizedState=fh,d}return y=r.child,r=y.sibling,d=Hi(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function ph(r,s){return s=hc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ec(r,s,l,d){return d!==null&&zf(d),Uo(s,r.child,null,l),r=ph(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mI(r,s,l,d,m,y,C){if(l)return s.flags&256?(s.flags&=-257,d=lh(Error(t(422))),ec(r,s,C,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,m=s.mode,d=hc({mode:"visible",children:d.children},m,0,null),y=$s(y,m,C,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&Uo(s,r.child,null,C),s.child.memoizedState=hh(C),s.memoizedState=fh,y);if((s.mode&1)===0)return ec(r,s,C,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var F=d.dgst;return d=F,y=Error(t(419)),d=lh(y,d,void 0),ec(r,s,C,d)}if(F=(C&r.childLanes)!==0,vn||F){if(d=jt,d!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|C))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,oi(r,m),gr(d,r,m,-1))}return Ph(),d=lh(Error(t(421))),ec(r,s,C,d)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=xI.bind(null,r),m._reactRetry=s,null):(r=y.treeContext,On=Di(m.nextSibling),Nn=s,gt=!0,fr=null,r!==null&&(Hn[Wn++]=ii,Hn[Wn++]=si,Hn[Wn++]=Os,ii=r.id,si=r.overflow,Os=s),s=ph(s,d.children),s.flags|=4096,s)}function Ky(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Hf(r.return,s,l)}function mh(r,s,l,d,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function Gy(r,s,l){var d=s.pendingProps,m=d.revealOrder,y=d.tail;if(ln(r,s,d.children,l),d=vt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ky(r,l,s);else if(r.tag===19)Ky(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(at(vt,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&Ku(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),mh(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Ku(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}mh(s,!0,l,null,y);break;case"together":mh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function li(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),js|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Hi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Hi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function gI(r,s,l){switch(s.tag){case 3:qy(s),Fo();break;case 5:ly(s);break;case 1:yn(s.type)&&Vu(s);break;case 4:Gf(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;at(Bu,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(vt,vt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Wy(r,s,l):(at(vt,vt.current&1),r=li(r,s,l),r!==null?r.sibling:null);at(vt,vt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Gy(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(vt,vt.current),d)break;return null;case 22:case 23:return s.lanes=0,zy(r,s,l)}return li(r,s,l)}var Qy,gh,Yy,Xy;Qy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},gh=function(){},Yy=function(r,s,l,d){var m=r.memoizedProps;if(m!==d){r=s.stateNode,Ms(Rr.current);var y=null;switch(l){case"input":m=Ve(r,m),d=Ve(r,d),y=[];break;case"select":m=E({},m,{value:void 0}),d=E({},d,{value:void 0}),y=[];break;case"textarea":m=Cn(r,m),d=Cn(r,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Du)}Ca(l,d);var C;l=null;for(te in m)if(!d.hasOwnProperty(te)&&m.hasOwnProperty(te)&&m[te]!=null)if(te==="style"){var F=m[te];for(C in F)F.hasOwnProperty(C)&&(l||(l={}),l[C]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(o.hasOwnProperty(te)?y||(y=[]):(y=y||[]).push(te,null));for(te in d){var H=d[te];if(F=m!=null?m[te]:void 0,d.hasOwnProperty(te)&&H!==F&&(H!=null||F!=null))if(te==="style")if(F){for(C in F)!F.hasOwnProperty(C)||H&&H.hasOwnProperty(C)||(l||(l={}),l[C]="");for(C in H)H.hasOwnProperty(C)&&F[C]!==H[C]&&(l||(l={}),l[C]=H[C])}else l||(y||(y=[]),y.push(te,l)),l=H;else te==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,F=F?F.__html:void 0,H!=null&&F!==H&&(y=y||[]).push(te,H)):te==="children"?typeof H!="string"&&typeof H!="number"||(y=y||[]).push(te,""+H):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(o.hasOwnProperty(te)?(H!=null&&te==="onScroll"&&ht("scroll",r),y||F===H||(y=[])):(y=y||[]).push(te,H))}l&&(y=y||[]).push("style",l);var te=y;(s.updateQueue=te)&&(s.flags|=4)}},Xy=function(r,s,l,d){l!==d&&(s.flags|=4)};function al(r,s){if(!gt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function yI(r,s,l){var d=s.pendingProps;switch(jf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return yn(s.type)&&Mu(),Xt(s),null;case 3:return d=s.stateNode,Bo(),pt(gn),pt(Qt),Xf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(zu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fr!==null&&(Ch(fr),fr=null))),gh(r,s),Xt(s),null;case 5:Qf(s);var m=Ms(nl.current);if(l=s.type,r!==null&&s.stateNode!=null)Yy(r,s,l,d,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Xt(s),null}if(r=Ms(Rr.current),zu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[xr]=s,d[Xa]=y,r=(s.mode&1)!==0,l){case"dialog":ht("cancel",d),ht("close",d);break;case"iframe":case"object":case"embed":ht("load",d);break;case"video":case"audio":for(m=0;m<Ga.length;m++)ht(Ga[m],d);break;case"source":ht("error",d);break;case"img":case"image":case"link":ht("error",d),ht("load",d);break;case"details":ht("toggle",d);break;case"input":Be(d,y),ht("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ht("invalid",d);break;case"textarea":er(d,y),ht("invalid",d)}Ca(l,y),m=null;for(var C in y)if(y.hasOwnProperty(C)){var F=y[C];C==="children"?typeof F=="string"?d.textContent!==F&&(y.suppressHydrationWarning!==!0&&Ou(d.textContent,F,r),m=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(y.suppressHydrationWarning!==!0&&Ou(d.textContent,F,r),m=["children",""+F]):o.hasOwnProperty(C)&&F!=null&&C==="onScroll"&&ht("scroll",d)}switch(l){case"input":ze(d),dt(d,y,!0);break;case"textarea":ze(d),tr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Du)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=St(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=C.createElement(l,{is:d.is}):(r=C.createElement(l),l==="select"&&(C=r,d.multiple?C.multiple=!0:d.size&&(C.size=d.size))):r=C.createElementNS(r,l),r[xr]=s,r[Xa]=d,Qy(r,s,!1,!1),s.stateNode=r;e:{switch(C=xa(l,d),l){case"dialog":ht("cancel",r),ht("close",r),m=d;break;case"iframe":case"object":case"embed":ht("load",r),m=d;break;case"video":case"audio":for(m=0;m<Ga.length;m++)ht(Ga[m],r);m=d;break;case"source":ht("error",r),m=d;break;case"img":case"image":case"link":ht("error",r),ht("load",r),m=d;break;case"details":ht("toggle",r),m=d;break;case"input":Be(r,d),m=Ve(r,d),ht("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=E({},d,{value:void 0}),ht("invalid",r);break;case"textarea":er(r,d),m=Cn(r,d),ht("invalid",r);break;default:m=d}Ca(l,m),F=m;for(y in F)if(F.hasOwnProperty(y)){var H=F[y];y==="style"?ba(r,H):y==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Sa(r,H)):y==="children"?typeof H=="string"?(l!=="textarea"||H!=="")&&Si(r,H):typeof H=="number"&&Si(r,""+H):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?H!=null&&y==="onScroll"&&ht("scroll",r):H!=null&&G(r,y,H,C))}switch(l){case"input":ze(r),dt(r,d,!1);break;case"textarea":ze(r),tr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Te(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?yt(r,!!d.multiple,y,!1):d.defaultValue!=null&&yt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=Du)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(r&&s.stateNode!=null)Xy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ms(nl.current),Ms(Rr.current),zu(s)){if(d=s.stateNode,l=s.memoizedProps,d[xr]=s,(y=d.nodeValue!==l)&&(r=Nn,r!==null))switch(r.tag){case 3:Ou(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ou(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xr]=s,s.stateNode=d}return Xt(s),null;case 13:if(pt(vt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&On!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ey(),Fo(),s.flags|=98560,y=!1;else if(y=zu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[xr]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),y=!1}else fr!==null&&(Ch(fr),fr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(vt.current&1)!==0?Dt===0&&(Dt=3):Ph())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return Bo(),gh(r,s),r===null&&Qa(s.stateNode.containerInfo),Xt(s),null;case 10:return qf(s.type._context),Xt(s),null;case 17:return yn(s.type)&&Mu(),Xt(s),null;case 19:if(pt(vt),y=s.memoizedState,y===null)return Xt(s),null;if(d=(s.flags&128)!==0,C=y.rendering,C===null)if(d)al(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(C=Ku(r),C!==null){for(s.flags|=128,al(y,!1),d=C.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,r=C.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return at(vt,vt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ot()>Ko&&(s.flags|=128,d=!0,al(y,!1),s.lanes=4194304)}else{if(!d)if(r=Ku(C),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),al(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!gt)return Xt(s),null}else 2*ot()-y.renderingStartTime>Ko&&l!==1073741824&&(s.flags|=128,d=!0,al(y,!1),s.lanes=4194304);y.isBackwards?(C.sibling=s.child,s.child=C):(l=y.last,l!==null?l.sibling=C:s.child=C,y.last=C)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ot(),s.sibling=null,l=vt.current,at(vt,d?l&1|2:l&1),s):(Xt(s),null);case 22:case 23:return Rh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Dn&1073741824)!==0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function vI(r,s){switch(jf(s),s.tag){case 1:return yn(s.type)&&Mu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Bo(),pt(gn),pt(Qt),Xf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Qf(s),null;case 13:if(pt(vt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(vt),null;case 4:return Bo(),null;case 10:return qf(s.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var nc=!1,Jt=!1,_I=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ho(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Tt(r,s,d)}else l.current=null}function yh(r,s,l){try{l()}catch(d){Tt(r,s,d)}}var Jy=!1;function wI(r,s){if(Rf=Ai,r=Pg(),Ef(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var C=0,F=-1,H=-1,te=0,he=0,me=r,de=null;t:for(;;){for(var we;me!==l||m!==0&&me.nodeType!==3||(F=C+m),me!==y||d!==0&&me.nodeType!==3||(H=C+d),me.nodeType===3&&(C+=me.nodeValue.length),(we=me.firstChild)!==null;)de=me,me=we;for(;;){if(me===r)break t;if(de===l&&++te===m&&(F=C),de===y&&++he===d&&(H=C),(we=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=we}l=F===-1||H===-1?null:{start:F,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pf={focusedElem:r,selectionRange:l},Ai=!1,Se=s;Se!==null;)if(s=Se,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Se=r;else for(;Se!==null;){s=Se;try{var Ie=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var ke=Ie.memoizedProps,bt=Ie.memoizedState,X=s.stateNode,K=X.getSnapshotBeforeUpdate(s.elementType===s.type?ke:hr(s.type,ke),bt);X.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Z=s.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Tt(s,s.return,ge)}if(r=s.sibling,r!==null){r.return=s.return,Se=r;break}Se=s.return}return Ie=Jy,Jy=!1,Ie}function ll(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var y=m.destroy;m.destroy=void 0,y!==void 0&&yh(s,l,y)}m=m.next}while(m!==d)}}function rc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function vh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Zy(r){var s=r.alternate;s!==null&&(r.alternate=null,Zy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[xr],delete s[Xa],delete s[Df],delete s[nI],delete s[rI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ev(r){return r.tag===5||r.tag===3||r.tag===4}function tv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ev(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _h(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Du));else if(d!==4&&(r=r.child,r!==null))for(_h(r,s,l),r=r.sibling;r!==null;)_h(r,s,l),r=r.sibling}function wh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(wh(r,s,l),r=r.sibling;r!==null;)wh(r,s,l),r=r.sibling}var qt=null,pr=!1;function Ui(r,s,l){for(l=l.child;l!==null;)nv(r,s,l),l=l.sibling}function nv(r,s,l){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Is,l)}catch{}switch(l.tag){case 5:Jt||Ho(l,s);case 6:var d=qt,m=pr;qt=null,Ui(r,s,l),qt=d,pr=m,qt!==null&&(pr?(r=qt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):qt.removeChild(l.stateNode));break;case 18:qt!==null&&(pr?(r=qt,l=l.stateNode,r.nodeType===8?Of(r.parentNode,l):r.nodeType===1&&Of(r,l),ur(r)):Of(qt,l.stateNode));break;case 4:d=qt,m=pr,qt=l.stateNode.containerInfo,pr=!0,Ui(r,s,l),qt=d,pr=m;break;case 0:case 11:case 14:case 15:if(!Jt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,C=y.destroy;y=y.tag,C!==void 0&&((y&2)!==0||(y&4)!==0)&&yh(l,s,C),m=m.next}while(m!==d)}Ui(r,s,l);break;case 1:if(!Jt&&(Ho(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(F){Tt(l,s,F)}Ui(r,s,l);break;case 21:Ui(r,s,l);break;case 22:l.mode&1?(Jt=(d=Jt)||l.memoizedState!==null,Ui(r,s,l),Jt=d):Ui(r,s,l);break;default:Ui(r,s,l)}}function rv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new _I),s.forEach(function(d){var m=RI.bind(null,r,d);l.has(d)||(l.add(d),d.then(m,m))})}}function mr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=r,C=s,F=C;e:for(;F!==null;){switch(F.tag){case 5:qt=F.stateNode,pr=!1;break e;case 3:qt=F.stateNode.containerInfo,pr=!0;break e;case 4:qt=F.stateNode.containerInfo,pr=!0;break e}F=F.return}if(qt===null)throw Error(t(160));nv(y,C,m),qt=null,pr=!1;var H=m.alternate;H!==null&&(H.return=null),m.return=null}catch(te){Tt(m,s,te)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)iv(s,r),s=s.sibling}function iv(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(mr(s,r),Ar(r),d&4){try{ll(3,r,r.return),rc(3,r)}catch(ke){Tt(r,r.return,ke)}try{ll(5,r,r.return)}catch(ke){Tt(r,r.return,ke)}}break;case 1:mr(s,r),Ar(r),d&512&&l!==null&&Ho(l,l.return);break;case 5:if(mr(s,r),Ar(r),d&512&&l!==null&&Ho(l,l.return),r.flags&32){var m=r.stateNode;try{Si(m,"")}catch(ke){Tt(r,r.return,ke)}}if(d&4&&(m=r.stateNode,m!=null)){var y=r.memoizedProps,C=l!==null?l.memoizedProps:y,F=r.type,H=r.updateQueue;if(r.updateQueue=null,H!==null)try{F==="input"&&y.type==="radio"&&y.name!=null&&ct(m,y),xa(F,C);var te=xa(F,y);for(C=0;C<H.length;C+=2){var he=H[C],me=H[C+1];he==="style"?ba(m,me):he==="dangerouslySetInnerHTML"?Sa(m,me):he==="children"?Si(m,me):G(m,he,me,te)}switch(F){case"input":Fe(m,y);break;case"textarea":Qr(m,y);break;case"select":var de=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?yt(m,!!y.multiple,we,!1):de!==!!y.multiple&&(y.defaultValue!=null?yt(m,!!y.multiple,y.defaultValue,!0):yt(m,!!y.multiple,y.multiple?[]:"",!1))}m[Xa]=y}catch(ke){Tt(r,r.return,ke)}}break;case 6:if(mr(s,r),Ar(r),d&4){if(r.stateNode===null)throw Error(t(162));m=r.stateNode,y=r.memoizedProps;try{m.nodeValue=y}catch(ke){Tt(r,r.return,ke)}}break;case 3:if(mr(s,r),Ar(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ur(s.containerInfo)}catch(ke){Tt(r,r.return,ke)}break;case 4:mr(s,r),Ar(r);break;case 13:mr(s,r),Ar(r),m=r.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Sh=ot())),d&4&&rv(r);break;case 22:if(he=l!==null&&l.memoizedState!==null,r.mode&1?(Jt=(te=Jt)||he,mr(s,r),Jt=te):mr(s,r),Ar(r),d&8192){if(te=r.memoizedState!==null,(r.stateNode.isHidden=te)&&!he&&(r.mode&1)!==0)for(Se=r,he=r.child;he!==null;){for(me=Se=he;Se!==null;){switch(de=Se,we=de.child,de.tag){case 0:case 11:case 14:case 15:ll(4,de,de.return);break;case 1:Ho(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){d=de,l=de.return;try{s=d,Ie.props=s.memoizedProps,Ie.state=s.memoizedState,Ie.componentWillUnmount()}catch(ke){Tt(d,l,ke)}}break;case 5:Ho(de,de.return);break;case 22:if(de.memoizedState!==null){av(me);continue}}we!==null?(we.return=de,Se=we):av(me)}he=he.sibling}e:for(he=null,me=r;;){if(me.tag===5){if(he===null){he=me;try{m=me.stateNode,te?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(F=me.stateNode,H=me.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null,F.style.display=Ia("display",C))}catch(ke){Tt(r,r.return,ke)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(ke){Tt(r,r.return,ke)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:mr(s,r),Ar(r),d&4&&rv(r);break;case 21:break;default:mr(s,r),Ar(r)}}function Ar(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(ev(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Si(m,""),d.flags&=-33);var y=tv(r);wh(r,y,m);break;case 3:case 4:var C=d.stateNode.containerInfo,F=tv(r);_h(r,F,C);break;default:throw Error(t(161))}}catch(H){Tt(r,r.return,H)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function EI(r,s,l){Se=r,sv(r)}function sv(r,s,l){for(var d=(r.mode&1)!==0;Se!==null;){var m=Se,y=m.child;if(m.tag===22&&d){var C=m.memoizedState!==null||nc;if(!C){var F=m.alternate,H=F!==null&&F.memoizedState!==null||Jt;F=nc;var te=Jt;if(nc=C,(Jt=H)&&!te)for(Se=m;Se!==null;)C=Se,H=C.child,C.tag===22&&C.memoizedState!==null?lv(m):H!==null?(H.return=C,Se=H):lv(m);for(;y!==null;)Se=y,sv(y),y=y.sibling;Se=m,nc=F,Jt=te}ov(r)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,Se=y):ov(r)}}function ov(r){for(;Se!==null;){var s=Se;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Jt||rc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Jt)if(l===null)d.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:hr(s.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ay(s,y,d);break;case 3:var C=s.updateQueue;if(C!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ay(s,C,l)}break;case 5:var F=s.stateNode;if(l===null&&s.flags&4){l=F;var H=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&l.focus();break;case"img":H.src&&(l.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var te=s.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&ur(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||s.flags&512&&vh(s)}catch(de){Tt(s,s.return,de)}}if(s===r){Se=null;break}if(l=s.sibling,l!==null){l.return=s.return,Se=l;break}Se=s.return}}function av(r){for(;Se!==null;){var s=Se;if(s===r){Se=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Se=l;break}Se=s.return}}function lv(r){for(;Se!==null;){var s=Se;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{rc(4,s)}catch(H){Tt(s,l,H)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(H){Tt(s,m,H)}}var y=s.return;try{vh(s)}catch(H){Tt(s,y,H)}break;case 5:var C=s.return;try{vh(s)}catch(H){Tt(s,C,H)}}}catch(H){Tt(s,s.return,H)}if(s===r){Se=null;break}var F=s.sibling;if(F!==null){F.return=s.return,Se=F;break}Se=s.return}}var TI=Math.ceil,ic=ee.ReactCurrentDispatcher,Eh=ee.ReactCurrentOwner,Qn=ee.ReactCurrentBatchConfig,Xe=0,jt=null,xt=null,Ht=0,Dn=0,Wo=Li(0),Dt=0,ul=null,js=0,sc=0,Th=0,cl=null,_n=null,Sh=0,Ko=1/0,ui=null,oc=!1,Ih=null,zi=null,ac=!1,$i=null,lc=0,dl=0,bh=null,uc=-1,cc=0;function un(){return(Xe&6)!==0?ot():uc!==-1?uc:uc=ot()}function Bi(r){return(r.mode&1)===0?1:(Xe&2)!==0&&Ht!==0?Ht&-Ht:sI.transition!==null?(cc===0&&(cc=ks()),cc):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Fa(r.type)),r)}function gr(r,s,l,d){if(50<dl)throw dl=0,bh=null,Error(t(185));Ci(r,l,d),((Xe&2)===0||r!==jt)&&(r===jt&&((Xe&2)===0&&(sc|=l),Dt===4&&qi(r,Ht)),wn(r,d),l===1&&Xe===0&&(s.mode&1)===0&&(Ko=ot()+500,ju&&Vi()))}function wn(r,s){var l=r.callbackNode;Xr(r,s);var d=bs(r,r===jt?Ht:0);if(d===0)l!==null&&Da(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Da(l),s===1)r.tag===0?iI(cv.bind(null,r)):Qg(cv.bind(null,r)),eI(function(){(Xe&6)===0&&Vi()}),l=null;else{switch(Ri(d)){case 1:l=Ss;break;case 4:l=Ii;break;case 16:l=$n;break;case 536870912:l=cu;break;default:l=$n}l=vv(l,uv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function uv(r,s){if(uc=-1,cc=0,(Xe&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Go()&&r.callbackNode!==l)return null;var d=bs(r,r===jt?Ht:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=dc(r,d);else{s=d;var m=Xe;Xe|=2;var y=fv();(jt!==r||Ht!==s)&&(ui=null,Ko=ot()+500,Us(r,s));do try{bI();break}catch(F){dv(r,F)}while(!0);Bf(),ic.current=y,Xe=m,xt!==null?s=0:(jt=null,Ht=0,s=Dt)}if(s!==0){if(s===2&&(m=Rn(r),m!==0&&(d=m,s=kh(r,m))),s===1)throw l=ul,Us(r,0),qi(r,d),wn(r,ot()),l;if(s===6)qi(r,d);else{if(m=r.current.alternate,(d&30)===0&&!SI(m)&&(s=dc(r,d),s===2&&(y=Rn(r),y!==0&&(d=y,s=kh(r,y))),s===1))throw l=ul,Us(r,0),qi(r,d),wn(r,ot()),l;switch(r.finishedWork=m,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:zs(r,_n,ui);break;case 3:if(qi(r,d),(d&130023424)===d&&(s=Sh+500-ot(),10<s)){if(bs(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){un(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=Nf(zs.bind(null,r,_n,ui),s);break}zs(r,_n,ui);break;case 4:if(qi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,m=-1;0<d;){var C=31-on(d);y=1<<C,C=s[C],C>m&&(m=C),d&=~y}if(d=m,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*TI(d/1960))-d,10<d){r.timeoutHandle=Nf(zs.bind(null,r,_n,ui),d);break}zs(r,_n,ui);break;case 5:zs(r,_n,ui);break;default:throw Error(t(329))}}}return wn(r,ot()),r.callbackNode===l?uv.bind(null,r):null}function kh(r,s){var l=cl;return r.current.memoizedState.isDehydrated&&(Us(r,s).flags|=256),r=dc(r,s),r!==2&&(s=_n,_n=l,s!==null&&Ch(s)),r}function Ch(r){_n===null?_n=r:_n.push.apply(_n,r)}function SI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!dr(y(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qi(r,s){for(s&=~Th,s&=~sc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-on(s),d=1<<l;r[l]=-1,s&=~d}}function cv(r){if((Xe&6)!==0)throw Error(t(327));Go();var s=bs(r,0);if((s&1)===0)return wn(r,ot()),null;var l=dc(r,s);if(r.tag!==0&&l===2){var d=Rn(r);d!==0&&(s=d,l=kh(r,d))}if(l===1)throw l=ul,Us(r,0),qi(r,s),wn(r,ot()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,zs(r,_n,ui),wn(r,ot()),null}function xh(r,s){var l=Xe;Xe|=1;try{return r(s)}finally{Xe=l,Xe===0&&(Ko=ot()+500,ju&&Vi())}}function Fs(r){$i!==null&&$i.tag===0&&(Xe&6)===0&&Go();var s=Xe;Xe|=1;var l=Qn.transition,d=Ke;try{if(Qn.transition=null,Ke=1,r)return r()}finally{Ke=d,Qn.transition=l,Xe=s,(Xe&6)===0&&Vi()}}function Rh(){Dn=Wo.current,pt(Wo)}function Us(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,ZS(l)),xt!==null)for(l=xt.return;l!==null;){var d=l;switch(jf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Mu();break;case 3:Bo(),pt(gn),pt(Qt),Xf();break;case 5:Qf(d);break;case 4:Bo();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:qf(d.type._context);break;case 22:case 23:Rh()}l=l.return}if(jt=r,xt=r=Hi(r.current,null),Ht=Dn=s,Dt=0,ul=null,Th=sc=js=0,_n=cl=null,Ls!==null){for(s=0;s<Ls.length;s++)if(l=Ls[s],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var C=y.next;y.next=m,d.next=C}l.pending=d}Ls=null}return r}function dv(r,s){do{var l=xt;try{if(Bf(),Gu.current=Ju,Qu){for(var d=_t.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Qu=!1}if(Vs=0,Vt=Ot=_t=null,rl=!1,il=0,Eh.current=null,l===null||l.return===null){Dt=1,ul=s,xt=null;break}e:{var y=r,C=l.return,F=l,H=s;if(s=Ht,F.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var te=H,he=F,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var we=My(C);if(we!==null){we.flags&=-257,Vy(we,C,F,y,s),we.mode&1&&Ly(y,te,s),s=we,H=te;var Ie=s.updateQueue;if(Ie===null){var ke=new Set;ke.add(H),s.updateQueue=ke}else Ie.add(H);break e}else{if((s&1)===0){Ly(y,te,s),Ph();break e}H=Error(t(426))}}else if(gt&&F.mode&1){var bt=My(C);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),Vy(bt,C,F,y,s),zf(qo(H,F));break e}}y=H=qo(H,F),Dt!==4&&(Dt=2),cl===null?cl=[y]:cl.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var X=Oy(y,H,s);oy(y,X);break e;case 1:F=H;var K=y.type,Z=y.stateNode;if((y.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(zi===null||!zi.has(Z)))){y.flags|=65536,s&=-s,y.lanes|=s;var ge=Dy(y,F,s);oy(y,ge);break e}}y=y.return}while(y!==null)}pv(l)}catch(Ce){s=Ce,xt===l&&l!==null&&(xt=l=l.return);continue}break}while(!0)}function fv(){var r=ic.current;return ic.current=Ju,r===null?Ju:r}function Ph(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),jt===null||(js&268435455)===0&&(sc&268435455)===0||qi(jt,Ht)}function dc(r,s){var l=Xe;Xe|=2;var d=fv();(jt!==r||Ht!==s)&&(ui=null,Us(r,s));do try{II();break}catch(m){dv(r,m)}while(!0);if(Bf(),Xe=l,ic.current=d,xt!==null)throw Error(t(261));return jt=null,Ht=0,Dt}function II(){for(;xt!==null;)hv(xt)}function bI(){for(;xt!==null&&!lu();)hv(xt)}function hv(r){var s=yv(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,s===null?pv(r):xt=s,Eh.current=null}function pv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=yI(l,s,Dn),l!==null){xt=l;return}}else{if(l=vI(l,s),l!==null){l.flags&=32767,xt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Dt=6,xt=null;return}}if(s=s.sibling,s!==null){xt=s;return}xt=s=r}while(s!==null);Dt===0&&(Dt=5)}function zs(r,s,l){var d=Ke,m=Qn.transition;try{Qn.transition=null,Ke=1,kI(r,s,l,d)}finally{Qn.transition=m,Ke=d}return null}function kI(r,s,l,d){do Go();while($i!==null);if((Xe&6)!==0)throw Error(t(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(it(r,y),r===jt&&(xt=jt=null,Ht=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ac||(ac=!0,vv($n,function(){return Go(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var C=Ke;Ke=1;var F=Xe;Xe|=4,Eh.current=null,wI(r,l),iv(l,r),WS(Pf),Ai=!!Rf,Pf=Rf=null,r.current=l,EI(l),hf(),Xe=F,Ke=C,Qn.transition=y}else r.current=l;if(ac&&(ac=!1,$i=r,lc=m),y=r.pendingLanes,y===0&&(zi=null),du(l.stateNode),wn(r,ot()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(oc)throw oc=!1,r=Ih,Ih=null,r;return(lc&1)!==0&&r.tag!==0&&Go(),y=r.pendingLanes,(y&1)!==0?r===bh?dl++:(dl=0,bh=r):dl=0,Vi(),null}function Go(){if($i!==null){var r=Ri(lc),s=Qn.transition,l=Ke;try{if(Qn.transition=null,Ke=16>r?16:r,$i===null)var d=!1;else{if(r=$i,$i=null,lc=0,(Xe&6)!==0)throw Error(t(331));var m=Xe;for(Xe|=4,Se=r.current;Se!==null;){var y=Se,C=y.child;if((Se.flags&16)!==0){var F=y.deletions;if(F!==null){for(var H=0;H<F.length;H++){var te=F[H];for(Se=te;Se!==null;){var he=Se;switch(he.tag){case 0:case 11:case 15:ll(8,he,y)}var me=he.child;if(me!==null)me.return=he,Se=me;else for(;Se!==null;){he=Se;var de=he.sibling,we=he.return;if(Zy(he),he===te){Se=null;break}if(de!==null){de.return=we,Se=de;break}Se=we}}}var Ie=y.alternate;if(Ie!==null){var ke=Ie.child;if(ke!==null){Ie.child=null;do{var bt=ke.sibling;ke.sibling=null,ke=bt}while(ke!==null)}}Se=y}}if((y.subtreeFlags&2064)!==0&&C!==null)C.return=y,Se=C;else e:for(;Se!==null;){if(y=Se,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ll(9,y,y.return)}var X=y.sibling;if(X!==null){X.return=y.return,Se=X;break e}Se=y.return}}var K=r.current;for(Se=K;Se!==null;){C=Se;var Z=C.child;if((C.subtreeFlags&2064)!==0&&Z!==null)Z.return=C,Se=Z;else e:for(C=K;Se!==null;){if(F=Se,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:rc(9,F)}}catch(Ce){Tt(F,F.return,Ce)}if(F===C){Se=null;break e}var ge=F.sibling;if(ge!==null){ge.return=F.return,Se=ge;break e}Se=F.return}}if(Xe=m,Vi(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Is,r)}catch{}d=!0}return d}finally{Ke=l,Qn.transition=s}}return!1}function mv(r,s,l){s=qo(l,s),s=Oy(r,s,1),r=Fi(r,s,1),s=un(),r!==null&&(Ci(r,1,s),wn(r,s))}function Tt(r,s,l){if(r.tag===3)mv(r,r,l);else for(;s!==null;){if(s.tag===3){mv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(zi===null||!zi.has(d))){r=qo(l,r),r=Dy(s,r,1),s=Fi(s,r,1),r=un(),s!==null&&(Ci(s,1,r),wn(s,r));break}}s=s.return}}function CI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=un(),r.pingedLanes|=r.suspendedLanes&l,jt===r&&(Ht&l)===l&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>ot()-Sh?Us(r,0):Th|=l),wn(r,s)}function gv(r,s){s===0&&((r.mode&1)===0?s=1:(s=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var l=un();r=oi(r,s),r!==null&&(Ci(r,s,l),wn(r,l))}function xI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),gv(r,l)}function RI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),gv(r,l)}var yv;yv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||gn.current)vn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return vn=!1,gI(r,s,l);vn=(r.flags&131072)!==0}else vn=!1,gt&&(s.flags&1048576)!==0&&Yg(s,Uu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;tc(r,s),r=s.pendingProps;var m=Mo(s,Qt.current);$o(s,l),m=eh(null,s,d,r,m,l);var y=th();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yn(d)?(y=!0,Vu(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Kf(s),m.updater=Zu,s.stateNode=m,m._reactInternals=s,ah(s,d,r,l),s=dh(null,s,d,!0,y,l)):(s.tag=0,gt&&y&&Vf(s),ln(null,s,m,l),s=s.child),s;case 16:d=s.elementType;e:{switch(tc(r,s),r=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=AI(d),r=hr(d,r),m){case 0:s=ch(null,s,d,r,l);break e;case 1:s=By(null,s,d,r,l);break e;case 11:s=jy(null,s,d,r,l);break e;case 14:s=Fy(null,s,d,hr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:hr(d,m),ch(r,s,d,m,l);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:hr(d,m),By(r,s,d,m,l);case 3:e:{if(qy(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,m=y.element,sy(r,s),Wu(s,d,null,l);var C=s.memoizedState;if(d=C.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=qo(Error(t(423)),s),s=Hy(r,s,d,l,m);break e}else if(d!==m){m=qo(Error(t(424)),s),s=Hy(r,s,d,l,m);break e}else for(On=Di(s.stateNode.containerInfo.firstChild),Nn=s,gt=!0,fr=null,l=ry(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),d===m){s=li(r,s,l);break e}ln(r,s,d,l)}s=s.child}return s;case 5:return ly(s),r===null&&Uf(s),d=s.type,m=s.pendingProps,y=r!==null?r.memoizedProps:null,C=m.children,Af(d,m)?C=null:y!==null&&Af(d,y)&&(s.flags|=32),$y(r,s),ln(r,s,C,l),s.child;case 6:return r===null&&Uf(s),null;case 13:return Wy(r,s,l);case 4:return Gf(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Uo(s,null,d,l):ln(r,s,d,l),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:hr(d,m),jy(r,s,d,m,l);case 7:return ln(r,s,s.pendingProps,l),s.child;case 8:return ln(r,s,s.pendingProps.children,l),s.child;case 12:return ln(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,y=s.memoizedProps,C=m.value,at(Bu,d._currentValue),d._currentValue=C,y!==null)if(dr(y.value,C)){if(y.children===m.children&&!gn.current){s=li(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var F=y.dependencies;if(F!==null){C=y.child;for(var H=F.firstContext;H!==null;){if(H.context===d){if(y.tag===1){H=ai(-1,l&-l),H.tag=2;var te=y.updateQueue;if(te!==null){te=te.shared;var he=te.pending;he===null?H.next=H:(H.next=he.next,he.next=H),te.pending=H}}y.lanes|=l,H=y.alternate,H!==null&&(H.lanes|=l),Hf(y.return,l,s),F.lanes|=l;break}H=H.next}}else if(y.tag===10)C=y.type===s.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(t(341));C.lanes|=l,F=C.alternate,F!==null&&(F.lanes|=l),Hf(C,l,s),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}ln(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,$o(s,l),m=Kn(m),d=d(m),s.flags|=1,ln(r,s,d,l),s.child;case 14:return d=s.type,m=hr(d,s.pendingProps),m=hr(d.type,m),Fy(r,s,d,m,l);case 15:return Uy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:hr(d,m),tc(r,s),s.tag=1,yn(d)?(r=!0,Vu(s)):r=!1,$o(s,l),Ay(s,d,m),ah(s,d,m,l),dh(null,s,d,!0,r,l);case 19:return Gy(r,s,l);case 22:return zy(r,s,l)}throw Error(t(156,s.tag))};function vv(r,s){return mo(r,s)}function PI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,l,d){return new PI(r,s,l,d)}function Ah(r){return r=r.prototype,!(!r||!r.isReactComponent)}function AI(r){if(typeof r=="function")return Ah(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===pe)return 14}return 2}function Hi(r,s){var l=r.alternate;return l===null?(l=Yn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function fc(r,s,l,d,m,y){var C=2;if(d=r,typeof r=="function")Ah(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case x:return $s(l.children,m,y,s);case R:C=8,m|=8;break;case S:return r=Yn(12,l,s,m|2),r.elementType=S,r.lanes=y,r;case k:return r=Yn(13,l,s,m),r.elementType=k,r.lanes=y,r;case J:return r=Yn(19,l,s,m),r.elementType=J,r.lanes=y,r;case T:return hc(l,m,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:C=10;break e;case O:C=9;break e;case L:C=11;break e;case pe:C=14;break e;case fe:C=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Yn(C,l,s,m),s.elementType=r,s.type=d,s.lanes=y,s}function $s(r,s,l,d){return r=Yn(7,r,d,s),r.lanes=l,r}function hc(r,s,l,d){return r=Yn(22,r,d,s),r.elementType=T,r.lanes=l,r.stateNode={isHidden:!1},r}function Nh(r,s,l){return r=Yn(6,r,null,s),r.lanes=l,r}function Oh(r,s,l){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function NI(r,s,l,d,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Dh(r,s,l,d,m,y,C,F,H){return r=new NI(r,s,l,F,H),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Yn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(y),r}function OI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function _v(r){if(!r)return Mi;r=r._reactInternals;e:{if(ir(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(yn(l))return Kg(r,l,s)}return s}function wv(r,s,l,d,m,y,C,F,H){return r=Dh(l,d,!0,r,m,y,C,F,H),r.context=_v(null),l=r.current,d=un(),m=Bi(l),y=ai(d,m),y.callback=s??null,Fi(l,y,m),r.current.lanes=m,Ci(r,m,d),wn(r,d),r}function pc(r,s,l,d){var m=s.current,y=un(),C=Bi(m);return l=_v(l),s.context===null?s.context=l:s.pendingContext=l,s=ai(y,C),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Fi(m,s,C),r!==null&&(gr(r,m,C,y),Hu(r,m,C)),C}function mc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ev(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Lh(r,s){Ev(r,s),(r=r.alternate)&&Ev(r,s)}function DI(){return null}var Tv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Mh(r){this._internalRoot=r}gc.prototype.render=Mh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));pc(r,s,null,null)},gc.prototype.unmount=Mh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Fs(function(){pc(null,r,null,null)}),s[ni]=null}};function gc(r){this._internalRoot=r}gc.prototype.unstable_scheduleHydration=function(r){if(r){var s=gu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Ir.length&&s!==0&&s<Ir[l].priority;l++);Ir.splice(l,0,r),l===0&&_u(r)}};function Vh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function yc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function LI(r,s,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var te=mc(C);y.call(te)}}var C=wv(s,d,r,0,null,!1,!1,"",Sv);return r._reactRootContainer=C,r[ni]=C.current,Qa(r.nodeType===8?r.parentNode:r),Fs(),C}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var F=d;d=function(){var te=mc(H);F.call(te)}}var H=Dh(r,0,!1,null,null,!1,!1,"",Sv);return r._reactRootContainer=H,r[ni]=H.current,Qa(r.nodeType===8?r.parentNode:r),Fs(function(){pc(s,H,l,d)}),H}function vc(r,s,l,d,m){var y=l._reactRootContainer;if(y){var C=y;if(typeof m=="function"){var F=m;m=function(){var H=mc(C);F.call(H)}}pc(s,C,r,m)}else C=LI(l,s,r,m,d);return mc(C)}pu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=bi(s.pendingLanes);l!==0&&(xi(s,l|1),wn(s,ot()),(Xe&6)===0&&(Ko=ot()+500,Vi()))}break;case 13:Fs(function(){var d=oi(r,1);if(d!==null){var m=un();gr(d,r,1,m)}}),Lh(r,1)}},vo=function(r){if(r.tag===13){var s=oi(r,134217728);if(s!==null){var l=un();gr(s,r,134217728,l)}Lh(r,134217728)}},mu=function(r){if(r.tag===13){var s=Bi(r),l=oi(r,s);if(l!==null){var d=un();gr(l,r,s,d)}Lh(r,s)}},gu=function(){return Ke},yu=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},lo=function(r,s,l){switch(s){case"input":if(Fe(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var m=Lu(d);if(!m)throw Error(t(90));qe(d),Fe(d,m)}}}break;case"textarea":Qr(r,l);break;case"select":s=l.value,s!=null&&yt(r,!!l.multiple,s,!1)}},_s=xh,Pa=Fs;var MI={usingClientEntryPoint:!1,Events:[Ja,Do,Lu,Tr,Ra,xh]},fl={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VI={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Oa(r),r===null?null:r.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Is=_c.inject(VI),xn=_c}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MI,En.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(s))throw Error(t(200));return OI(r,s,null,l)},En.createRoot=function(r,s){if(!Vh(r))throw Error(t(299));var l=!1,d="",m=Tv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Dh(r,1,!1,null,null,l,!1,d,m),r[ni]=s.current,Qa(r.nodeType===8?r.parentNode:r),new Mh(s)},En.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Oa(s),r=r===null?null:r.stateNode,r},En.flushSync=function(r){return Fs(r)},En.hydrate=function(r,s,l){if(!yc(s))throw Error(t(200));return vc(null,r,s,!0,l)},En.hydrateRoot=function(r,s,l){if(!Vh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",C=Tv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),s=wv(s,null,r,1,l??null,m,!1,y,C),r[ni]=s.current,Qa(r),d)for(r=0;r<d.length;r++)l=d[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new gc(s)},En.render=function(r,s,l){if(!yc(s))throw Error(t(200));return vc(null,r,s,!1,l)},En.unmountComponentAtNode=function(r){if(!yc(r))throw Error(t(40));return r._reactRootContainer?(Fs(function(){vc(null,null,r,!1,function(){r._reactRootContainer=null,r[ni]=null})}),!0):!1},En.unstable_batchedUpdates=xh,En.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!yc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return vc(r,s,l,!1,d)},En.version="18.3.1-next-f1338f8080-20240426",En}var Av;function WI(){if(Av)return Uh.exports;Av=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uh.exports=HI(),Uh.exports}var Nv;function KI(){if(Nv)return Ec;Nv=1;var n=WI();return Ec.createRoot=n.createRoot,Ec.hydrateRoot=n.hydrateRoot,Ec}var GI=KI();const QI=om(GI);var pl={},Ov;function YI(){if(Ov)return pl;Ov=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parse=u,pl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const P=function(){};return P.prototype=Object.create(null),P})();function u(P,D){const V=new a,M=P.length;if(M<2)return V;const j=(D==null?void 0:D.decode)||v;let q=0;do{const Q=P.indexOf("=",q);if(Q===-1)break;const G=P.indexOf(";",q),ee=G===-1?M:G;if(Q>ee){q=P.lastIndexOf(";",Q-1)+1;continue}const U=f(P,q,Q),B=h(P,Q,U),x=P.slice(U,B);if(V[x]===void 0){let R=f(P,Q+1,ee),S=h(P,ee,R);const _=j(P.slice(R,S));V[x]=_}q=ee+1}while(q<M);return V}function f(P,D,V){do{const M=P.charCodeAt(D);if(M!==32&&M!==9)return D}while(++D<V);return V}function h(P,D,V){for(;D>V;){const M=P.charCodeAt(--D);if(M!==32&&M!==9)return D+1}return V}function p(P,D,V){const M=(V==null?void 0:V.encode)||encodeURIComponent;if(!n.test(P))throw new TypeError(`argument name is invalid: ${P}`);const j=M(D);if(!e.test(j))throw new TypeError(`argument val is invalid: ${D}`);let q=P+"="+j;if(!V)return q;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);q+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);q+="; Domain="+V.domain}if(V.path){if(!i.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);q+="; Path="+V.path}if(V.expires){if(!I(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);q+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(q+="; HttpOnly"),V.secure&&(q+="; Secure"),V.partitioned&&(q+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return q}function v(P){if(P.indexOf("%")===-1)return P;try{return decodeURIComponent(P)}catch{return P}}function I(P){return o.call(P)==="[object Date]"}return pl}YI();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dv="popstate";function XI(n={}){function e(i,o){let{pathname:a,search:u,hash:f}=i.location;return _p("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Pl(o)}return ZI(e,t,null,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JI(){return Math.random().toString(36).substring(2,10)}function Lv(n,e){return{usr:n.state,key:n.key,idx:e}}function _p(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:t,key:e&&e.key||i||JI()}}function Pl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ma(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function ZI(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f="POP",h=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function I(){f="POP";let j=v(),q=j==null?null:j-p;p=j,h&&h({action:f,location:M.location,delta:q})}function P(j,q){f="PUSH";let Q=_p(M.location,j,q);p=v()+1;let G=Lv(Q,p),ee=M.createHref(Q);try{u.pushState(G,"",ee)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(ee)}a&&h&&h({action:f,location:M.location,delta:1})}function D(j,q){f="REPLACE";let Q=_p(M.location,j,q);p=v();let G=Lv(Q,p),ee=M.createHref(Q);u.replaceState(G,"",ee),a&&h&&h({action:f,location:M.location,delta:0})}function V(j){let q=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof j=="string"?j:Pl(j);return Q=Q.replace(/ $/,"%20"),wt(q,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,q)}let M={get action(){return f},get location(){return n(o,u)},listen(j){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,I),h=j,()=>{o.removeEventListener(Dv,I),h=null}},createHref(j){return e(o,j)},createURL:V,encodeLocation(j){let q=V(j);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:P,replace:D,go(j){return u.go(j)}};return M}function Zw(n,e,t="/"){return eb(n,e,t,!1)}function eb(n,e,t,i){let o=typeof e=="string"?ma(e):e,a=mi(o.pathname||"/",t);if(a==null)return null;let u=e0(n);tb(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let p=fb(a);f=cb(u[h],p,i)}return f}function e0(n,e=[],t=[],i=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(wt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=hi([i,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(wt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),e0(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:lb(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of t0(a.path))o(a,u,h)}),e}function t0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=t0(i.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function tb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ub(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var nb=/^:[\w-]+$/,rb=3,ib=2,sb=1,ob=10,ab=-2,Mv=n=>n==="*";function lb(n,e){let t=n.split("/"),i=t.length;return t.some(Mv)&&(i+=ab),e&&(i+=ib),t.filter(o=>!Mv(o)).reduce((o,a)=>o+(nb.test(a)?rb:a===""?sb:ob),i)}function ub(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function cb(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],p=f===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",I=Jc({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),P=h.route;if(!I&&p&&t&&!i[i.length-1].route.index&&(I=Jc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!I)return null;Object.assign(o,I.params),u.push({params:o,pathname:hi([a,I.pathname]),pathnameBase:gb(hi([a,I.pathnameBase])),route:P}),I.pathnameBase!=="/"&&(a=hi([a,I.pathnameBase]))}return u}function Jc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=db(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:I},P)=>{if(v==="*"){let V=f[P]||"";u=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const D=f[P];return I&&!D?p[v]=void 0:p[v]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function db(n,e=!1,t=!0){Fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function fb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function mi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function hb(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ma(n):n;return{pathname:t?t.startsWith("/")?t:pb(t,e):e,search:yb(i),hash:vb(o)}}function pb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Bh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function n0(n){let e=mb(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function r0(n,e,t,i=!1){let o;typeof n=="string"?o=ma(n):(o={...n},wt(!o.pathname||!o.pathname.includes("?"),Bh("?","pathname","search",o)),wt(!o.pathname||!o.pathname.includes("#"),Bh("#","pathname","hash",o)),wt(!o.search||!o.search.includes("#"),Bh("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let I=e.length-1;if(!i&&u.startsWith("..")){let P=u.split("/");for(;P[0]==="..";)P.shift(),I-=1;o.pathname=P.join("/")}f=I>=0?e[I]:"/"}let h=hb(o,f),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var hi=n=>n.join("/").replace(/\/\/+/g,"/"),gb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _b(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var i0=["POST","PUT","PATCH","DELETE"];new Set(i0);var wb=["GET",...i0];new Set(wb);var ga=W.createContext(null);ga.displayName="DataRouter";var xd=W.createContext(null);xd.displayName="DataRouterState";var s0=W.createContext({isTransitioning:!1});s0.displayName="ViewTransition";var Eb=W.createContext(new Map);Eb.displayName="Fetchers";var Tb=W.createContext(null);Tb.displayName="Await";var Br=W.createContext(null);Br.displayName="Navigation";var $l=W.createContext(null);$l.displayName="Location";var qr=W.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var am=W.createContext(null);am.displayName="RouteError";function Sb(n,{relative:e}={}){wt(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(Br),{hash:o,pathname:a,search:u}=ql(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:hi([t,a])),i.createHref({pathname:f,search:u,hash:o})}function Bl(){return W.useContext($l)!=null}function Ei(){return wt(Bl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext($l).location}var o0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a0(n){W.useContext(Br).static||W.useLayoutEffect(n)}function hn(){let{isDataRoute:n}=W.useContext(qr);return n?Vb():Ib()}function Ib(){wt(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(ga),{basename:e,navigator:t}=W.useContext(Br),{matches:i}=W.useContext(qr),{pathname:o}=Ei(),a=JSON.stringify(n0(i)),u=W.useRef(!1);return a0(()=>{u.current=!0}),W.useCallback((h,p={})=>{if(Fr(u.current,o0),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=r0(h,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:hi([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,o,n])}W.createContext(null);function bb(){let{matches:n}=W.useContext(qr),e=n[n.length-1];return e?e.params:{}}function ql(n,{relative:e}={}){let{matches:t}=W.useContext(qr),{pathname:i}=Ei(),o=JSON.stringify(n0(t));return W.useMemo(()=>r0(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function kb(n,e){return l0(n,e)}function l0(n,e,t,i){var Q;wt(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=W.useContext(Br),{matches:u}=W.useContext(qr),f=u[u.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",I=f&&f.route;{let G=I&&I.path||"";u0(p,!I||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let P=Ei(),D;if(e){let G=typeof e=="string"?ma(e):e;wt(v==="/"||((Q=G.pathname)==null?void 0:Q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),D=G}else D=P;let V=D.pathname||"/",M=V;if(v!=="/"){let G=v.replace(/^\//,"").split("/");M="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let j=!a&&t&&t.matches&&t.matches.length>0?t.matches:Zw(n,{pathname:M});Fr(I||j!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Fr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Ab(j&&j.map(G=>Object.assign({},G,{params:Object.assign({},h,G.params),pathname:hi([v,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:hi([v,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,i);return e&&q?W.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},q):q}function Cb(){let n=Mb(),e=_b(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:a},"ErrorBoundary")," or"," ",W.createElement("code",{style:a},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,u)}var xb=W.createElement(Cb,null),Rb=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(qr.Provider,{value:this.props.routeContext},W.createElement(am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Pb({routeContext:n,match:e,children:t}){let i=W.useContext(ga);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(qr.Provider,{value:n},t)}function Ab(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:v,errors:I}=t,P=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!I||I[p.route.id]===void 0);if(p.route.lazy||P){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,v)=>{let I,P=!1,D=null,V=null;t&&(I=a&&p.route.id?a[p.route.id]:void 0,D=p.route.errorElement||xb,u&&(f<0&&v===0?(u0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,V=null):f===v&&(P=!0,V=p.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,v+1)),j=()=>{let q;return I?q=D:P?q=V:p.route.Component?q=W.createElement(p.route.Component,null):p.route.element?q=p.route.element:q=h,W.createElement(Pb,{match:p,routeContext:{outlet:h,matches:M,isDataRoute:t!=null},children:q})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?W.createElement(Rb,{location:t.location,revalidation:t.revalidation,component:D,error:I,children:j(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):j()},null)}function lm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nb(n){let e=W.useContext(ga);return wt(e,lm(n)),e}function Ob(n){let e=W.useContext(xd);return wt(e,lm(n)),e}function Db(n){let e=W.useContext(qr);return wt(e,lm(n)),e}function um(n){let e=Db(n),t=e.matches[e.matches.length-1];return wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Lb(){return um("useRouteId")}function Mb(){var i;let n=W.useContext(am),e=Ob("useRouteError"),t=um("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Vb(){let{router:n}=Nb("useNavigate"),e=um("useNavigate"),t=W.useRef(!1);return a0(()=>{t.current=!0}),W.useCallback(async(o,a={})=>{Fr(t.current,o0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Vv={};function u0(n,e,t){!e&&!Vv[n]&&(Vv[n]=!0,Fr(!1,t))}W.memo(jb);function jb({routes:n,future:e,state:t}){return l0(n,void 0,t,e)}function Xn(n){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fb({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){wt(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=ma(t));let{pathname:h="/",search:p="",hash:v="",state:I=null,key:P="default"}=t,D=W.useMemo(()=>{let V=mi(h,u);return V==null?null:{location:{pathname:V,search:p,hash:v,state:I,key:P},navigationType:i}},[u,h,p,v,I,P,i]);return Fr(D!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:W.createElement(Br.Provider,{value:f},W.createElement($l.Provider,{children:e,value:D}))}function Ub({children:n,location:e}){return kb(wp(n),e)}function wp(n,e=[]){let t=[];return W.Children.forEach(n,(i,o)=>{if(!W.isValidElement(i))return;let a=[...e,o];if(i.type===W.Fragment){t.push.apply(t,wp(i.props.children,a));return}wt(i.type===Xn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=wp(i.props.children,a)),t.push(u)}),t}var Ac="get",Nc="application/x-www-form-urlencoded";function Rd(n){return n!=null&&typeof n.tagName=="string"}function zb(n){return Rd(n)&&n.tagName.toLowerCase()==="button"}function $b(n){return Rd(n)&&n.tagName.toLowerCase()==="form"}function Bb(n){return Rd(n)&&n.tagName.toLowerCase()==="input"}function qb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Hb(n,e){return n.button===0&&(!e||e==="_self")&&!qb(n)}var Tc=null;function Wb(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var Kb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qh(n){return n!=null&&!Kb.has(n)?(Fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):n}function Gb(n,e){let t,i,o,a,u;if($b(n)){let f=n.getAttribute("action");i=f?mi(f,e):null,t=n.getAttribute("method")||Ac,o=qh(n.getAttribute("enctype"))||Nc,a=new FormData(n)}else if(zb(n)||Bb(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(i=h?mi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Ac,o=qh(n.getAttribute("formenctype"))||qh(f.getAttribute("enctype"))||Nc,a=new FormData(f,n),!Wb()){let{name:p,type:v,value:I}=n;if(v==="image"){let P=p?`${p}.`:"";a.append(`${P}x`,"0"),a.append(`${P}y`,"0")}else p&&a.append(p,I)}}else{if(Rd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ac,i=null,o=Nc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function cm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Qb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Xb(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await Qb(a,t);return u.links?u.links():[]}return[]}));return tk(i.flat(1).filter(Yb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jv(n,e,t,i,o,a){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>{var v;return t[p].pathname!==h.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>u(h,p)||f(h,p)):a==="data"?e.filter((h,p)=>{var I;let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let P=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function Jb(n,e,{includeHydrateFallback:t}={}){return Zb(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Zb(n){return[...new Set(n)]}function ek(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function tk(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(ek(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function nk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function c0(){let n=W.useContext(ga);return cm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rk(){let n=W.useContext(xd);return cm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dm=W.createContext(void 0);dm.displayName="FrameworkContext";function d0(){let n=W.useContext(dm);return cm(n,"You must render this element inside a <HydratedRouter> element"),n}function ik(n,e){let t=W.useContext(dm),[i,o]=W.useState(!1),[a,u]=W.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:I}=e,P=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=q=>{q.forEach(Q=>{u(Q.isIntersecting)})},j=new IntersectionObserver(M,{threshold:.5});return P.current&&j.observe(P.current),()=>{j.disconnect()}}},[n]),W.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let D=()=>{o(!0)},V=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,P,{}]:[a,P,{onFocus:ml(f,D),onBlur:ml(h,V),onMouseEnter:ml(p,D),onMouseLeave:ml(v,V),onTouchStart:ml(I,D)}]:[!1,P,{}]}function ml(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sk({page:n,...e}){let{router:t}=c0(),i=W.useMemo(()=>Zw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(ak,{page:n,matches:i,...e}):null}function ok(n){let{manifest:e,routeModules:t}=d0(),[i,o]=W.useState([]);return W.useEffect(()=>{let a=!1;return Xb(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function ak({page:n,matches:e,...t}){let i=Ei(),{manifest:o,routeModules:a}=d0(),{basename:u}=c0(),{loaderData:f,matches:h}=rk(),p=W.useMemo(()=>jv(n,e,h,o,i,"data"),[n,e,h,o,i]),v=W.useMemo(()=>jv(n,e,h,o,i,"assets"),[n,e,h,o,i]),I=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let V=new Set,M=!1;if(e.forEach(q=>{var G;let Q=o.routes[q.route.id];!Q||!Q.hasLoader||(!p.some(ee=>ee.route.id===q.route.id)&&q.route.id in f&&((G=a[q.route.id])!=null&&G.shouldRevalidate)||Q.hasClientLoader?M=!0:V.add(q.route.id))}),V.size===0)return[];let j=nk(n,u);return M&&V.size>0&&j.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[j.pathname+j.search]},[u,f,i,o,p,e,n,a]),P=W.useMemo(()=>Jb(v,o),[v,o]),D=ok(v);return W.createElement(W.Fragment,null,I.map(V=>W.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),P.map(V=>W.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),D.map(({key:V,link:M})=>W.createElement("link",{key:V,...M})))}function lk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f0&&(window.__reactRouterVersion="7.3.0")}catch{}function uk({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=XI({window:t,v5Compat:!0}));let o=i.current,[a,u]=W.useState({action:o.action,location:o.location}),f=W.useCallback(h=>{W.startTransition(()=>u(h))},[u]);return W.useLayoutEffect(()=>o.listen(f),[o,f]),W.createElement(Fb,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:p,preventScrollReset:v,viewTransition:I,...P},D){let{basename:V}=W.useContext(Br),M=typeof p=="string"&&h0.test(p),j,q=!1;if(typeof p=="string"&&M&&(j=p,f0))try{let S=new URL(window.location.href),_=p.startsWith("//")?new URL(S.protocol+p):new URL(p),O=mi(_.pathname,V);_.origin===S.origin&&O!=null?p=O+_.search+_.hash:q=!0}catch{Fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Sb(p,{relative:o}),[G,ee,U]=ik(i,P),B=hk(p,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:I});function x(S){e&&e(S),S.defaultPrevented||B(S)}let R=W.createElement("a",{...P,...U,href:j||Q,onClick:q||a?e:x,ref:lk(D,ee),target:h,"data-discover":!M&&t==="render"?"true":void 0});return G&&!M?W.createElement(W.Fragment,null,R,W.createElement(sk,{page:Q})):R});Or.displayName="Link";var ck=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...p},v){let I=ql(u,{relative:p.relative}),P=Ei(),D=W.useContext(xd),{navigator:V,basename:M}=W.useContext(Br),j=D!=null&&vk(I)&&f===!0,q=V.encodeLocation?V.encodeLocation(I).pathname:I.pathname,Q=P.pathname,G=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&M&&(G=mi(G,M)||G);const ee=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let U=Q===q||!o&&Q.startsWith(q)&&Q.charAt(ee)==="/",B=G!=null&&(G===q||!o&&G.startsWith(q)&&G.charAt(q.length)==="/"),x={isActive:U,isPending:B,isTransitioning:j},R=U?e:void 0,S;typeof i=="function"?S=i(x):S=[i,U?"active":null,B?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let _=typeof a=="function"?a(x):a;return W.createElement(Or,{...p,"aria-current":R,className:S,ref:v,style:_,to:u,viewTransition:f},typeof h=="function"?h(x):h)});ck.displayName="NavLink";var dk=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=Ac,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:I,...P},D)=>{let V=gk(),M=yk(f,{relative:p}),j=u.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&h0.test(f),Q=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let ee=G.nativeEvent.submitter,U=(ee==null?void 0:ee.getAttribute("formmethod"))||u;V(ee||G.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:o,state:a,relative:p,preventScrollReset:v,viewTransition:I})};return W.createElement("form",{ref:D,method:j,action:M,onSubmit:i?h:Q,...P,"data-discover":!q&&n==="render"?"true":void 0})});dk.displayName="Form";function fk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p0(n){let e=W.useContext(ga);return wt(e,fk(n)),e}function hk(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=hn(),h=Ei(),p=ql(n,{relative:a});return W.useCallback(v=>{if(Hb(v,e)){v.preventDefault();let I=t!==void 0?t:Pl(h)===Pl(p);f(n,{replace:I,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,p,t,i,e,n,o,a,u])}var pk=0,mk=()=>`__${String(++pk)}__`;function gk(){let{router:n}=p0("useSubmit"),{basename:e}=W.useContext(Br),t=Lb();return W.useCallback(async(i,o={})=>{let{action:a,method:u,encType:f,formData:h,body:p}=Gb(i,e);if(o.navigate===!1){let v=o.fetcherKey||mk();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function yk(n,{relative:e}={}){let{basename:t}=W.useContext(Br),i=W.useContext(qr);wt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...ql(n||".",{relative:e})},u=Ei();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(I=>I).forEach(I=>f.append("index",I));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:hi([t,a.pathname])),Pl(a)}function vk(n,e={}){let t=W.useContext(s0);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=p0("useViewTransitionState"),o=ql(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=mi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=mi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Jc(o.pathname,u)!=null||Jc(o.pathname,a)!=null}new TextEncoder;var Hh={},Wh={},gl={},Kh={},Fv;function _k(){return Fv||(Fv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(Kh)),Kh}var Gh,Uv;function wk(){if(Uv)return Gh;Uv=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,h=typeof wc=="object"&&wc&&wc.Object===Object&&wc,p=typeof self=="object"&&self&&self.Object===Object&&self,v=h||p||Function("return this")(),I=Object.prototype,P=I.toString,D=Math.max,V=Math.min,M=function(){return v.Date.now()};function j(U,B,x){var R,S,_,O,L,k,J=0,pe=!1,fe=!1,T=!0;if(typeof U!="function")throw new TypeError(n);B=ee(B)||0,q(x)&&(pe=!!x.leading,fe="maxWait"in x,_=fe?D(ee(x.maxWait)||0,B):_,T="trailing"in x?!!x.trailing:T);function se(ce){var Te=R,be=S;return R=S=void 0,J=ce,O=U.apply(be,Te),O}function $(ce){return J=ce,L=setTimeout(z,B),pe?se(ce):O}function E(ce){var Te=ce-k,be=ce-J,Re=B-Te;return fe?V(Re,_-be):Re}function b(ce){var Te=ce-k,be=ce-J;return k===void 0||Te>=B||Te<0||fe&&be>=_}function z(){var ce=M();if(b(ce))return ne(ce);L=setTimeout(z,E(ce))}function ne(ce){return L=void 0,T&&R?se(ce):(R=S=void 0,O)}function ie(){L!==void 0&&clearTimeout(L),J=0,R=k=S=L=void 0}function ae(){return L===void 0?O:ne(M())}function le(){var ce=M(),Te=b(ce);if(R=arguments,S=this,k=ce,Te){if(L===void 0)return $(k);if(fe)return L=setTimeout(z,B),se(k)}return L===void 0&&(L=setTimeout(z,B)),O}return le.cancel=ie,le.flush=ae,le}function q(U){var B=typeof U;return!!U&&(B=="object"||B=="function")}function Q(U){return!!U&&typeof U=="object"}function G(U){return typeof U=="symbol"||Q(U)&&P.call(U)==t}function ee(U){if(typeof U=="number")return U;if(G(U))return e;if(q(U)){var B=typeof U.valueOf=="function"?U.valueOf():U;U=q(B)?B+"":B}if(typeof U!="string")return U===0?U:+U;U=U.replace(i,"");var x=a.test(U);return x||u.test(U)?f(U.slice(2),x?2:8):o.test(U)?e:+U}return Gh=j,Gh}var Qh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var zv;function Pd(){return zv||(zv=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=o(a,i(f)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=o(u,f));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Qh)),Qh.exports}var _e={},Yh={},$v;function m0(){return $v||($v=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t($r());function t(o){return o&&o.__esModule?o:{default:o}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}(Yh)),Yh}var Bv;function Hl(){if(Bv)return _e;Bv=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkSpecKeys=_e.checkNavigable=_e.changeSlide=_e.canUseDOM=_e.canGoNext=void 0,_e.clamp=p,_e.extractObject=void 0,_e.filterSettings=se,_e.validSettings=_e.swipeStart=_e.swipeMove=_e.swipeEnd=_e.slidesOnRight=_e.slidesOnLeft=_e.slideHandler=_e.siblingDirection=_e.safePreventDefault=_e.lazyStartIndex=_e.lazySlidesOnRight=_e.lazySlidesOnLeft=_e.lazyEndIndex=_e.keyHandler=_e.initializedState=_e.getWidth=_e.getTrackLeft=_e.getTrackCSS=_e.getTrackAnimateCSS=_e.getTotalSlides=_e.getSwipeDirection=_e.getSlideCount=_e.getRequiredLazySlides=_e.getPreClones=_e.getPostClones=_e.getOnDemandLazySlides=_e.getNavigableIndexes=_e.getHeight=void 0;var n=t($r()),e=t(m0());function t($){return $&&$.__esModule?$:{default:$}}function i($){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i($)}function o($,E){var b=Object.keys($);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols($);E&&(z=z.filter(function(ne){return Object.getOwnPropertyDescriptor($,ne).enumerable})),b.push.apply(b,z)}return b}function a($){for(var E=1;E<arguments.length;E++){var b=arguments[E]!=null?arguments[E]:{};E%2?o(Object(b),!0).forEach(function(z){u($,z,b[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(b)):o(Object(b)).forEach(function(z){Object.defineProperty($,z,Object.getOwnPropertyDescriptor(b,z))})}return $}function u($,E,b){return E=f(E),E in $?Object.defineProperty($,E,{value:b,enumerable:!0,configurable:!0,writable:!0}):$[E]=b,$}function f($){var E=h($,"string");return i(E)=="symbol"?E:String(E)}function h($,E){if(i($)!="object"||!$)return $;var b=$[Symbol.toPrimitive];if(b!==void 0){var z=b.call($,E);if(i(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)($)}function p($,E,b){return Math.max(E,Math.min($,b))}var v=_e.safePreventDefault=function(E){var b=["onTouchStart","onTouchMove","onWheel"];b.includes(E._reactName)||E.preventDefault()},I=_e.getOnDemandLazySlides=function(E){for(var b=[],z=P(E),ne=D(E),ie=z;ie<ne;ie++)E.lazyLoadedList.indexOf(ie)<0&&b.push(ie);return b};_e.getRequiredLazySlides=function(E){for(var b=[],z=P(E),ne=D(E),ie=z;ie<ne;ie++)b.push(ie);return b};var P=_e.lazyStartIndex=function(E){return E.currentSlide-V(E)},D=_e.lazyEndIndex=function(E){return E.currentSlide+M(E)},V=_e.lazySlidesOnLeft=function(E){return E.centerMode?Math.floor(E.slidesToShow/2)+(parseInt(E.centerPadding)>0?1:0):0},M=_e.lazySlidesOnRight=function(E){return E.centerMode?Math.floor((E.slidesToShow-1)/2)+1+(parseInt(E.centerPadding)>0?1:0):E.slidesToShow},j=_e.getWidth=function(E){return E&&E.offsetWidth||0},q=_e.getHeight=function(E){return E&&E.offsetHeight||0},Q=_e.getSwipeDirection=function(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z,ne,ie,ae;return z=E.startX-E.curX,ne=E.startY-E.curY,ie=Math.atan2(ne,z),ae=Math.round(ie*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":b===!0?ae>=35&&ae<=135?"up":"down":"vertical"},G=_e.canGoNext=function(E){var b=!0;return E.infinite||(E.centerMode&&E.currentSlide>=E.slideCount-1||E.slideCount<=E.slidesToShow||E.currentSlide>=E.slideCount-E.slidesToShow)&&(b=!1),b};_e.extractObject=function(E,b){var z={};return b.forEach(function(ne){return z[ne]=E[ne]}),z},_e.initializedState=function(E){var b=n.default.Children.count(E.children),z=E.listRef,ne=Math.ceil(j(z)),ie=E.trackRef&&E.trackRef.node,ae=Math.ceil(j(ie)),le;if(E.vertical)le=ne;else{var ce=E.centerMode&&parseInt(E.centerPadding)*2;typeof E.centerPadding=="string"&&E.centerPadding.slice(-1)==="%"&&(ce*=ne/100),le=Math.ceil((ne-ce)/E.slidesToShow)}var Te=z&&q(z.querySelector('[data-index="0"]')),be=Te*E.slidesToShow,Re=E.currentSlide===void 0?E.initialSlide:E.currentSlide;E.rtl&&E.currentSlide===void 0&&(Re=b-1-E.initialSlide);var ze=E.lazyLoadedList||[],qe=I(a(a({},E),{},{currentSlide:Re,lazyLoadedList:ze}));ze=ze.concat(qe);var Ue={slideCount:b,slideWidth:le,listWidth:ne,trackWidth:ae,currentSlide:Re,slideHeight:Te,listHeight:be,lazyLoadedList:ze};return E.autoplaying===null&&E.autoplay&&(Ue.autoplaying="playing"),Ue},_e.slideHandler=function(E){var b=E.waitForAnimate,z=E.animating,ne=E.fade,ie=E.infinite,ae=E.index,le=E.slideCount,ce=E.lazyLoad,Te=E.currentSlide,be=E.centerMode,Re=E.slidesToScroll,ze=E.slidesToShow,qe=E.useCSS,Ue=E.lazyLoadedList;if(b&&z)return{};var Ve=ae,Be,ct,Fe,dt={},ft={},rt=ie?ae:p(ae,0,le-1);if(ne){if(!ie&&(ae<0||ae>=le))return{};ae<0?Ve=ae+le:ae>=le&&(Ve=ae-le),ce&&Ue.indexOf(Ve)<0&&(Ue=Ue.concat(Ve)),dt={animating:!0,currentSlide:Ve,lazyLoadedList:Ue,targetSlide:Ve},ft={animating:!1,targetSlide:Ve}}else Be=Ve,Ve<0?(Be=Ve+le,ie?le%Re!==0&&(Be=le-le%Re):Be=0):!G(E)&&Ve>Te?Ve=Be=Te:be&&Ve>=le?(Ve=ie?le:le-1,Be=ie?0:le-1):Ve>=le&&(Be=Ve-le,ie?le%Re!==0&&(Be=0):Be=le-ze),!ie&&Ve+ze>=le&&(Be=le-ze),ct=_(a(a({},E),{},{slideIndex:Ve})),Fe=_(a(a({},E),{},{slideIndex:Be})),ie||(ct===Fe&&(Ve=Be),ct=Fe),ce&&(Ue=Ue.concat(I(a(a({},E),{},{currentSlide:Ve})))),qe?(dt={animating:!0,currentSlide:Be,trackStyle:S(a(a({},E),{},{left:ct})),lazyLoadedList:Ue,targetSlide:rt},ft={animating:!1,currentSlide:Be,trackStyle:R(a(a({},E),{},{left:Fe})),swipeLeft:null,targetSlide:rt}):dt={currentSlide:Be,trackStyle:R(a(a({},E),{},{left:Fe})),lazyLoadedList:Ue,targetSlide:rt};return{state:dt,nextState:ft}},_e.changeSlide=function(E,b){var z,ne,ie,ae,le,ce=E.slidesToScroll,Te=E.slidesToShow,be=E.slideCount,Re=E.currentSlide,ze=E.targetSlide,qe=E.lazyLoad,Ue=E.infinite;if(ae=be%ce!==0,z=ae?0:(be-Re)%ce,b.message==="previous")ie=z===0?ce:Te-z,le=Re-ie,qe&&!Ue&&(ne=Re-ie,le=ne===-1?be-1:ne),Ue||(le=ze-ce);else if(b.message==="next")ie=z===0?ce:z,le=Re+ie,qe&&!Ue&&(le=(Re+ce)%be+z),Ue||(le=ze+ce);else if(b.message==="dots")le=b.index*b.slidesToScroll;else if(b.message==="children"){if(le=b.index,Ue){var Ve=J(a(a({},E),{},{targetSlide:le}));le>b.currentSlide&&Ve==="left"?le=le-be:le<b.currentSlide&&Ve==="right"&&(le=le+be)}}else b.message==="index"&&(le=Number(b.index));return le},_e.keyHandler=function(E,b,z){return E.target.tagName.match("TEXTAREA|INPUT|SELECT")||!b?"":E.keyCode===37?z?"next":"previous":E.keyCode===39?z?"previous":"next":""},_e.swipeStart=function(E,b,z){return E.target.tagName==="IMG"&&v(E),!b||!z&&E.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:E.touches?E.touches[0].pageX:E.clientX,startY:E.touches?E.touches[0].pageY:E.clientY,curX:E.touches?E.touches[0].pageX:E.clientX,curY:E.touches?E.touches[0].pageY:E.clientY}}},_e.swipeMove=function(E,b){var z=b.scrolling,ne=b.animating,ie=b.vertical,ae=b.swipeToSlide,le=b.verticalSwiping,ce=b.rtl,Te=b.currentSlide,be=b.edgeFriction,Re=b.edgeDragged,ze=b.onEdge,qe=b.swiped,Ue=b.swiping,Ve=b.slideCount,Be=b.slidesToScroll,ct=b.infinite,Fe=b.touchObject,dt=b.swipeEvent,ft=b.listHeight,rt=b.listWidth;if(!z){if(ne)return v(E);ie&&ae&&le&&v(E);var yt,Cn={},er=_(b);Fe.curX=E.touches?E.touches[0].pageX:E.clientX,Fe.curY=E.touches?E.touches[0].pageY:E.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var Qr=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!le&&!Ue&&Qr>10)return{scrolling:!0};le&&(Fe.swipeLength=Qr);var tr=(ce?-1:1)*(Fe.curX>Fe.startX?1:-1);le&&(tr=Fe.curY>Fe.startY?1:-1);var St=Math.ceil(Ve/Be),tt=Q(b.touchObject,le),sn=Fe.swipeLength;return ct||(Te===0&&(tt==="right"||tt==="down")||Te+1>=St&&(tt==="left"||tt==="up")||!G(b)&&(tt==="left"||tt==="up"))&&(sn=Fe.swipeLength*be,Re===!1&&ze&&(ze(tt),Cn.edgeDragged=!0)),!qe&&dt&&(dt(tt),Cn.swiped=!0),ie?yt=er+sn*(ft/rt)*tr:ce?yt=er-sn*tr:yt=er+sn*tr,le&&(yt=er+sn*tr),Cn=a(a({},Cn),{},{touchObject:Fe,swipeLeft:yt,trackStyle:R(a(a({},b),{},{left:yt}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(Cn.swiping=!0,v(E)),Cn}},_e.swipeEnd=function(E,b){var z=b.dragging,ne=b.swipe,ie=b.touchObject,ae=b.listWidth,le=b.touchThreshold,ce=b.verticalSwiping,Te=b.listHeight,be=b.swipeToSlide,Re=b.scrolling,ze=b.onSwipe,qe=b.targetSlide,Ue=b.currentSlide,Ve=b.infinite;if(!z)return ne&&v(E),{};var Be=ce?Te/le:ae/le,ct=Q(ie,ce),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Re||!ie.swipeLength)return Fe;if(ie.swipeLength>Be){v(E),ze&&ze(ct);var dt,ft,rt=Ve?Ue:qe;switch(ct){case"left":case"up":ft=rt+B(b),dt=be?U(b,ft):ft,Fe.currentDirection=0;break;case"right":case"down":ft=rt-B(b),dt=be?U(b,ft):ft,Fe.currentDirection=1;break;default:dt=rt}Fe.triggerSlideHandler=dt}else{var yt=_(b);Fe.trackStyle=S(a(a({},b),{},{left:yt}))}return Fe};var ee=_e.getNavigableIndexes=function(E){for(var b=E.infinite?E.slideCount*2:E.slideCount,z=E.infinite?E.slidesToShow*-1:0,ne=E.infinite?E.slidesToShow*-1:0,ie=[];z<b;)ie.push(z),z=ne+E.slidesToScroll,ne+=Math.min(E.slidesToScroll,E.slidesToShow);return ie},U=_e.checkNavigable=function(E,b){var z=ee(E),ne=0;if(b>z[z.length-1])b=z[z.length-1];else for(var ie in z){if(b<z[ie]){b=ne;break}ne=z[ie]}return b},B=_e.getSlideCount=function(E){var b=E.centerMode?E.slideWidth*Math.floor(E.slidesToShow/2):0;if(E.swipeToSlide){var z,ne=E.listRef,ie=ne.querySelectorAll&&ne.querySelectorAll(".slick-slide")||[];if(Array.from(ie).every(function(ce){if(E.vertical){if(ce.offsetTop+q(ce)/2>E.swipeLeft*-1)return z=ce,!1}else if(ce.offsetLeft-b+j(ce)/2>E.swipeLeft*-1)return z=ce,!1;return!0}),!z)return 0;var ae=E.rtl===!0?E.slideCount-E.currentSlide:E.currentSlide,le=Math.abs(z.dataset.index-ae)||1;return le}else return E.slidesToScroll},x=_e.checkSpecKeys=function(E,b){return b.reduce(function(z,ne){return z&&E.hasOwnProperty(ne)},!0)?null:console.error("Keys Missing:",E)},R=_e.getTrackCSS=function(E){x(E,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var b,z,ne=E.slideCount+2*E.slidesToShow;E.vertical?z=ne*E.slideHeight:b=k(E)*E.slideWidth;var ie={opacity:1,transition:"",WebkitTransition:""};if(E.useTransform){var ae=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",le=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",ce=E.vertical?"translateY("+E.left+"px)":"translateX("+E.left+"px)";ie=a(a({},ie),{},{WebkitTransform:ae,transform:le,msTransform:ce})}else E.vertical?ie.top=E.left:ie.left=E.left;return E.fade&&(ie={opacity:1}),b&&(ie.width=b),z&&(ie.height=z),window&&!window.addEventListener&&window.attachEvent&&(E.vertical?ie.marginTop=E.left+"px":ie.marginLeft=E.left+"px"),ie},S=_e.getTrackAnimateCSS=function(E){x(E,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var b=R(E);return E.useTransform?(b.WebkitTransition="-webkit-transform "+E.speed+"ms "+E.cssEase,b.transition="transform "+E.speed+"ms "+E.cssEase):E.vertical?b.transition="top "+E.speed+"ms "+E.cssEase:b.transition="left "+E.speed+"ms "+E.cssEase,b},_=_e.getTrackLeft=function(E){if(E.unslick)return 0;x(E,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var b=E.slideIndex,z=E.trackRef,ne=E.infinite,ie=E.centerMode,ae=E.slideCount,le=E.slidesToShow,ce=E.slidesToScroll,Te=E.slideWidth,be=E.listWidth,Re=E.variableWidth,ze=E.slideHeight,qe=E.fade,Ue=E.vertical,Ve=0,Be,ct,Fe=0;if(qe||E.slideCount===1)return 0;var dt=0;if(ne?(dt=-O(E),ae%ce!==0&&b+ce>ae&&(dt=-(b>ae?le-(b-ae):ae%ce)),ie&&(dt+=parseInt(le/2))):(ae%ce!==0&&b+ce>ae&&(dt=le-ae%ce),ie&&(dt=parseInt(le/2))),Ve=dt*Te,Fe=dt*ze,Ue?Be=b*ze*-1+Fe:Be=b*Te*-1+Ve,Re===!0){var ft,rt=z&&z.node;if(ft=b+O(E),ct=rt&&rt.childNodes[ft],Be=ct?ct.offsetLeft*-1:0,ie===!0){ft=ne?b+O(E):b,ct=rt&&rt.children[ft],Be=0;for(var yt=0;yt<ft;yt++)Be-=rt&&rt.children[yt]&&rt.children[yt].offsetWidth;Be-=parseInt(E.centerPadding),Be+=ct&&(be-ct.offsetWidth)/2}}return Be},O=_e.getPreClones=function(E){return E.unslick||!E.infinite?0:E.variableWidth?E.slideCount:E.slidesToShow+(E.centerMode?1:0)},L=_e.getPostClones=function(E){return E.unslick||!E.infinite?0:E.slideCount},k=_e.getTotalSlides=function(E){return E.slideCount===1?1:O(E)+E.slideCount+L(E)},J=_e.siblingDirection=function(E){return E.targetSlide>E.currentSlide?E.targetSlide>E.currentSlide+pe(E)?"left":"right":E.targetSlide<E.currentSlide-fe(E)?"right":"left"},pe=_e.slidesOnRight=function(E){var b=E.slidesToShow,z=E.centerMode,ne=E.rtl,ie=E.centerPadding;if(z){var ae=(b-1)/2+1;return parseInt(ie)>0&&(ae+=1),ne&&b%2===0&&(ae+=1),ae}return ne?0:b-1},fe=_e.slidesOnLeft=function(E){var b=E.slidesToShow,z=E.centerMode,ne=E.rtl,ie=E.centerPadding;if(z){var ae=(b-1)/2+1;return parseInt(ie)>0&&(ae+=1),!ne&&b%2===0&&(ae+=1),ae}return ne?b-1:0};_e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=_e.validSettings=Object.keys(e.default);function se($){return T.reduce(function(E,b){return $.hasOwnProperty(b)&&(E[b]=$[b]),E},{})}return _e}var yl={},qv;function Ek(){if(qv)return yl;qv=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.Track=void 0;var n=i($r()),e=i(Pd()),t=Hl();function i(S){return S&&S.__esModule?S:{default:S}}function o(S){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o(S)}function a(){return a=Object.assign?Object.assign.bind():function(S){for(var _=1;_<arguments.length;_++){var O=arguments[_];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(S[L]=O[L])}return S},a.apply(this,arguments)}function u(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function f(S,_){for(var O=0;O<_.length;O++){var L=_[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,G(L.key),L)}}function h(S,_,O){return _&&f(S.prototype,_),Object.defineProperty(S,"prototype",{writable:!1}),S}function p(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),_&&v(S,_)}function v(S,_){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,k){return L.__proto__=k,L},v(S,_)}function I(S){var _=V();return function(){var L=M(S),k;if(_){var J=M(this).constructor;k=Reflect.construct(L,arguments,J)}else k=L.apply(this,arguments);return P(this,k)}}function P(S,_){if(_&&(o(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(S)}function D(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function V(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V=function(){return!!S})()}function M(S){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},M(S)}function j(S,_){var O=Object.keys(S);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(S);_&&(L=L.filter(function(k){return Object.getOwnPropertyDescriptor(S,k).enumerable})),O.push.apply(O,L)}return O}function q(S){for(var _=1;_<arguments.length;_++){var O=arguments[_]!=null?arguments[_]:{};_%2?j(Object(O),!0).forEach(function(L){Q(S,L,O[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(O)):j(Object(O)).forEach(function(L){Object.defineProperty(S,L,Object.getOwnPropertyDescriptor(O,L))})}return S}function Q(S,_,O){return _=G(_),_ in S?Object.defineProperty(S,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):S[_]=O,S}function G(S){var _=ee(S,"string");return o(_)=="symbol"?_:String(_)}function ee(S,_){if(o(S)!="object"||!S)return S;var O=S[Symbol.toPrimitive];if(O!==void 0){var L=O.call(S,_);if(o(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(S)}var U=function(_){var O,L,k,J,pe;_.rtl?pe=_.slideCount-1-_.index:pe=_.index,k=pe<0||pe>=_.slideCount,_.centerMode?(J=Math.floor(_.slidesToShow/2),L=(pe-_.currentSlide)%_.slideCount===0,pe>_.currentSlide-J-1&&pe<=_.currentSlide+J&&(O=!0)):O=_.currentSlide<=pe&&pe<_.currentSlide+_.slidesToShow;var fe;_.targetSlide<0?fe=_.targetSlide+_.slideCount:_.targetSlide>=_.slideCount?fe=_.targetSlide-_.slideCount:fe=_.targetSlide;var T=pe===fe;return{"slick-slide":!0,"slick-active":O,"slick-center":L,"slick-cloned":k,"slick-current":T}},B=function(_){var O={};return(_.variableWidth===void 0||_.variableWidth===!1)&&(O.width=_.slideWidth),_.fade&&(O.position="relative",_.vertical?O.top=-_.index*parseInt(_.slideHeight):O.left=-_.index*parseInt(_.slideWidth),O.opacity=_.currentSlide===_.index?1:0,O.zIndex=_.currentSlide===_.index?999:998,_.useCSS&&(O.transition="opacity "+_.speed+"ms "+_.cssEase+", visibility "+_.speed+"ms "+_.cssEase)),O},x=function(_,O){return _.key||O},R=function(_){var O,L=[],k=[],J=[],pe=n.default.Children.count(_.children),fe=(0,t.lazyStartIndex)(_),T=(0,t.lazyEndIndex)(_);return n.default.Children.forEach(_.children,function(se,$){var E,b={message:"children",index:$,slidesToScroll:_.slidesToScroll,currentSlide:_.currentSlide};!_.lazyLoad||_.lazyLoad&&_.lazyLoadedList.indexOf($)>=0?E=se:E=n.default.createElement("div",null);var z=B(q(q({},_),{},{index:$})),ne=E.props.className||"",ie=U(q(q({},_),{},{index:$}));if(L.push(n.default.cloneElement(E,{key:"original"+x(E,$),"data-index":$,className:(0,e.default)(ie,ne),tabIndex:"-1","aria-hidden":!ie["slick-active"],style:q(q({outline:"none"},E.props.style||{}),z),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),_.focusOnSelect&&_.focusOnSelect(b)}})),_.infinite&&_.fade===!1){var ae=pe-$;ae<=(0,t.getPreClones)(_)&&(O=-ae,O>=fe&&(E=se),ie=U(q(q({},_),{},{index:O})),k.push(n.default.cloneElement(E,{key:"precloned"+x(E,O),"data-index":O,tabIndex:"-1",className:(0,e.default)(ie,ne),"aria-hidden":!ie["slick-active"],style:q(q({},E.props.style||{}),z),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),_.focusOnSelect&&_.focusOnSelect(b)}}))),O=pe+$,O<T&&(E=se),ie=U(q(q({},_),{},{index:O})),J.push(n.default.cloneElement(E,{key:"postcloned"+x(E,O),"data-index":O,tabIndex:"-1",className:(0,e.default)(ie,ne),"aria-hidden":!ie["slick-active"],style:q(q({},E.props.style||{}),z),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),_.focusOnSelect&&_.focusOnSelect(b)}}))}}),_.rtl?k.concat(L,J).reverse():k.concat(L,J)};return yl.Track=function(S){p(O,S);var _=I(O);function O(){var L;u(this,O);for(var k=arguments.length,J=new Array(k),pe=0;pe<k;pe++)J[pe]=arguments[pe];return L=_.call.apply(_,[this].concat(J)),Q(D(L),"node",null),Q(D(L),"handleRef",function(fe){L.node=fe}),L}return h(O,[{key:"render",value:function(){var k=R(this.props),J=this.props,pe=J.onMouseEnter,fe=J.onMouseOver,T=J.onMouseLeave,se={onMouseEnter:pe,onMouseOver:fe,onMouseLeave:T};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},se),k)}}]),O}(n.default.PureComponent),yl}var vl={},Hv;function Tk(){if(Hv)return vl;Hv=1;function n(U){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},n(U)}Object.defineProperty(vl,"__esModule",{value:!0}),vl.Dots=void 0;var e=o($r()),t=o(Pd()),i=Hl();function o(U){return U&&U.__esModule?U:{default:U}}function a(U,B){var x=Object.keys(U);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(U);B&&(R=R.filter(function(S){return Object.getOwnPropertyDescriptor(U,S).enumerable})),x.push.apply(x,R)}return x}function u(U){for(var B=1;B<arguments.length;B++){var x=arguments[B]!=null?arguments[B]:{};B%2?a(Object(x),!0).forEach(function(R){f(U,R,x[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(x)):a(Object(x)).forEach(function(R){Object.defineProperty(U,R,Object.getOwnPropertyDescriptor(x,R))})}return U}function f(U,B,x){return B=I(B),B in U?Object.defineProperty(U,B,{value:x,enumerable:!0,configurable:!0,writable:!0}):U[B]=x,U}function h(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")}function p(U,B){for(var x=0;x<B.length;x++){var R=B[x];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(U,I(R.key),R)}}function v(U,B,x){return B&&p(U.prototype,B),Object.defineProperty(U,"prototype",{writable:!1}),U}function I(U){var B=P(U,"string");return n(B)=="symbol"?B:String(B)}function P(U,B){if(n(U)!="object"||!U)return U;var x=U[Symbol.toPrimitive];if(x!==void 0){var R=x.call(U,B);if(n(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}function D(U,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(B&&B.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),B&&V(U,B)}function V(U,B){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,S){return R.__proto__=S,R},V(U,B)}function M(U){var B=Q();return function(){var R=G(U),S;if(B){var _=G(this).constructor;S=Reflect.construct(R,arguments,_)}else S=R.apply(this,arguments);return j(this,S)}}function j(U,B){if(B&&(n(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(U)}function q(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function Q(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q=function(){return!!U})()}function G(U){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},G(U)}var ee=function(B){var x;return B.infinite?x=Math.ceil(B.slideCount/B.slidesToScroll):x=Math.ceil((B.slideCount-B.slidesToShow)/B.slidesToScroll)+1,x};return vl.Dots=function(U){D(x,U);var B=M(x);function x(){return h(this,x),B.apply(this,arguments)}return v(x,[{key:"clickHandler",value:function(S,_){_.preventDefault(),this.props.clickHandler(S)}},{key:"render",value:function(){for(var S=this.props,_=S.onMouseEnter,O=S.onMouseOver,L=S.onMouseLeave,k=S.infinite,J=S.slidesToScroll,pe=S.slidesToShow,fe=S.slideCount,T=S.currentSlide,se=ee({slideCount:fe,slidesToScroll:J,slidesToShow:pe,infinite:k}),$={onMouseEnter:_,onMouseOver:O,onMouseLeave:L},E=[],b=0;b<se;b++){var z=(b+1)*J-1,ne=k?z:(0,i.clamp)(z,0,fe-1),ie=ne-(J-1),ae=k?ie:(0,i.clamp)(ie,0,fe-1),le=(0,t.default)({"slick-active":k?T>=ae&&T<=ne:T===ae}),ce={message:"dots",index:b,slidesToScroll:J,currentSlide:T},Te=this.clickHandler.bind(this,ce);E=E.concat(e.default.createElement("li",{key:b,className:le},e.default.cloneElement(this.props.customPaging(b),{onClick:Te})))}return e.default.cloneElement(this.props.appendDots(E),u({className:this.props.dotsClass},$))}}]),x}(e.default.PureComponent),vl}var Bs={},Wv;function Sk(){if(Wv)return Bs;Wv=1;function n(U){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},n(U)}Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.PrevArrow=Bs.NextArrow=void 0;var e=o($r()),t=o(Pd()),i=Hl();function o(U){return U&&U.__esModule?U:{default:U}}function a(){return a=Object.assign?Object.assign.bind():function(U){for(var B=1;B<arguments.length;B++){var x=arguments[B];for(var R in x)Object.prototype.hasOwnProperty.call(x,R)&&(U[R]=x[R])}return U},a.apply(this,arguments)}function u(U,B){var x=Object.keys(U);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(U);B&&(R=R.filter(function(S){return Object.getOwnPropertyDescriptor(U,S).enumerable})),x.push.apply(x,R)}return x}function f(U){for(var B=1;B<arguments.length;B++){var x=arguments[B]!=null?arguments[B]:{};B%2?u(Object(x),!0).forEach(function(R){h(U,R,x[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(x)):u(Object(x)).forEach(function(R){Object.defineProperty(U,R,Object.getOwnPropertyDescriptor(x,R))})}return U}function h(U,B,x){return B=P(B),B in U?Object.defineProperty(U,B,{value:x,enumerable:!0,configurable:!0,writable:!0}):U[B]=x,U}function p(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")}function v(U,B){for(var x=0;x<B.length;x++){var R=B[x];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(U,P(R.key),R)}}function I(U,B,x){return B&&v(U.prototype,B),Object.defineProperty(U,"prototype",{writable:!1}),U}function P(U){var B=D(U,"string");return n(B)=="symbol"?B:String(B)}function D(U,B){if(n(U)!="object"||!U)return U;var x=U[Symbol.toPrimitive];if(x!==void 0){var R=x.call(U,B);if(n(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}function V(U,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(B&&B.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),B&&M(U,B)}function M(U,B){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,S){return R.__proto__=S,R},M(U,B)}function j(U){var B=G();return function(){var R=ee(U),S;if(B){var _=ee(this).constructor;S=Reflect.construct(R,arguments,_)}else S=R.apply(this,arguments);return q(this,S)}}function q(U,B){if(B&&(n(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(U)}function Q(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function G(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G=function(){return!!U})()}function ee(U){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},ee(U)}return Bs.PrevArrow=function(U){V(x,U);var B=j(x);function x(){return p(this,x),B.apply(this,arguments)}return I(x,[{key:"clickHandler",value:function(S,_){_&&_.preventDefault(),this.props.clickHandler(S,_)}},{key:"render",value:function(){var S={"slick-arrow":!0,"slick-prev":!0},_=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(S["slick-disabled"]=!0,_=null);var O={key:"0","data-role":"none",className:(0,t.default)(S),style:{display:"block"},onClick:_},L={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},k;return this.props.prevArrow?k=e.default.cloneElement(this.props.prevArrow,f(f({},O),L)):k=e.default.createElement("button",a({key:"0",type:"button"},O)," ","Previous"),k}}]),x}(e.default.PureComponent),Bs.NextArrow=function(U){V(x,U);var B=j(x);function x(){return p(this,x),B.apply(this,arguments)}return I(x,[{key:"clickHandler",value:function(S,_){_&&_.preventDefault(),this.props.clickHandler(S,_)}},{key:"render",value:function(){var S={"slick-arrow":!0,"slick-next":!0},_=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(S["slick-disabled"]=!0,_=null);var O={key:"1","data-role":"none",className:(0,t.default)(S),style:{display:"block"},onClick:_},L={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},k;return this.props.nextArrow?k=e.default.cloneElement(this.props.nextArrow,f(f({},O),L)):k=e.default.createElement("button",a({key:"1",type:"button"},O)," ","Next"),k}}]),x}(e.default.PureComponent),Bs}var g0=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(o,a){return o[0]===t?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(t,i){var o=n(this.__entries__,t);~o?this.__entries__[o][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,o=n(i,t);~o&&i.splice(o,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var o=0,a=this.__entries__;o<a.length;o++){var u=a[o];t.call(i,u[1],u[0])}},e}()}(),Ep=typeof window<"u"&&typeof document<"u"&&window.document===document,Zc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Ik=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Zc):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),bk=2;function kk(n,e){var t=!1,i=!1,o=0;function a(){t&&(t=!1,n()),i&&f()}function u(){Ik(a)}function f(){var h=Date.now();if(t){if(h-o<bk)return;i=!0}else t=!0,i=!1,setTimeout(u,e);o=h}return f}var Ck=20,xk=["top","right","bottom","left","width","height","size","weight"],Rk=typeof MutationObserver<"u",Pk=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=kk(this.refresh.bind(this),Ck)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Ep||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Rk?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Ep||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,o=xk.some(function(a){return!!~i.indexOf(a)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),y0=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var o=i[t];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},sa=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Zc},v0=Ad(0,0,0,0);function ed(n){return parseFloat(n)||0}function Kv(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,o){var a=n["border-"+o+"-width"];return i+ed(a)},0)}function Ak(n){for(var e=["top","right","bottom","left"],t={},i=0,o=e;i<o.length;i++){var a=o[i],u=n["padding-"+a];t[a]=ed(u)}return t}function Nk(n){var e=n.getBBox();return Ad(0,0,e.width,e.height)}function Ok(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return v0;var i=sa(n).getComputedStyle(n),o=Ak(i),a=o.left+o.right,u=o.top+o.bottom,f=ed(i.width),h=ed(i.height);if(i.boxSizing==="border-box"&&(Math.round(f+a)!==e&&(f-=Kv(i,"left","right")+a),Math.round(h+u)!==t&&(h-=Kv(i,"top","bottom")+u)),!Lk(n)){var p=Math.round(f+a)-e,v=Math.round(h+u)-t;Math.abs(p)!==1&&(f-=p),Math.abs(v)!==1&&(h-=v)}return Ad(o.left,o.top,f,h)}var Dk=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof sa(n).SVGGraphicsElement}:function(n){return n instanceof sa(n).SVGElement&&typeof n.getBBox=="function"}}();function Lk(n){return n===sa(n).document.documentElement}function Mk(n){return Ep?Dk(n)?Nk(n):Ok(n):v0}function Vk(n){var e=n.x,t=n.y,i=n.width,o=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(a.prototype);return y0(u,{x:e,y:t,width:i,height:o,top:t,right:e+i,bottom:o+t,left:e}),u}function Ad(n,e,t,i){return{x:n,y:e,width:t,height:i}}var jk=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ad(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Mk(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Fk=function(){function n(e,t){var i=Vk(t);y0(this,{target:e,contentRect:i})}return n}(),Uk=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new g0,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new jk(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new Fk(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),_0=typeof WeakMap<"u"?new WeakMap:new g0,w0=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Pk.getInstance(),i=new Uk(e,t,this);_0.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){w0.prototype[n]=function(){var e;return(e=_0.get(this))[n].apply(e,arguments)}});var zk=function(){return typeof Zc.ResizeObserver<"u"?Zc.ResizeObserver:w0}();const $k=Object.freeze(Object.defineProperty({__proto__:null,default:zk},Symbol.toStringTag,{value:"Module"})),Bk=FI($k);var Gv;function qk(){if(Gv)return gl;Gv=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.InnerSlider=void 0;var n=p($r()),e=p(_k()),t=p(wk()),i=p(Pd()),o=Hl(),a=Ek(),u=Tk(),f=Sk(),h=p(Bk);function p(k){return k&&k.__esModule?k:{default:k}}function v(k){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},v(k)}function I(){return I=Object.assign?Object.assign.bind():function(k){for(var J=1;J<arguments.length;J++){var pe=arguments[J];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(k[fe]=pe[fe])}return k},I.apply(this,arguments)}function P(k,J){if(k==null)return{};var pe=D(k,J),fe,T;if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(k);for(T=0;T<se.length;T++)fe=se[T],!(J.indexOf(fe)>=0)&&Object.prototype.propertyIsEnumerable.call(k,fe)&&(pe[fe]=k[fe])}return pe}function D(k,J){if(k==null)return{};var pe={},fe=Object.keys(k),T,se;for(se=0;se<fe.length;se++)T=fe[se],!(J.indexOf(T)>=0)&&(pe[T]=k[T]);return pe}function V(k,J){var pe=Object.keys(k);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(k);J&&(fe=fe.filter(function(T){return Object.getOwnPropertyDescriptor(k,T).enumerable})),pe.push.apply(pe,fe)}return pe}function M(k){for(var J=1;J<arguments.length;J++){var pe=arguments[J]!=null?arguments[J]:{};J%2?V(Object(pe),!0).forEach(function(fe){_(k,fe,pe[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(pe)):V(Object(pe)).forEach(function(fe){Object.defineProperty(k,fe,Object.getOwnPropertyDescriptor(pe,fe))})}return k}function j(k,J){if(!(k instanceof J))throw new TypeError("Cannot call a class as a function")}function q(k,J){for(var pe=0;pe<J.length;pe++){var fe=J[pe];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(k,O(fe.key),fe)}}function Q(k,J,pe){return J&&q(k.prototype,J),Object.defineProperty(k,"prototype",{writable:!1}),k}function G(k,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(J&&J.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),J&&ee(k,J)}function ee(k,J){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(fe,T){return fe.__proto__=T,fe},ee(k,J)}function U(k){var J=R();return function(){var fe=S(k),T;if(J){var se=S(this).constructor;T=Reflect.construct(fe,arguments,se)}else T=fe.apply(this,arguments);return B(this,T)}}function B(k,J){if(J&&(v(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(k)}function x(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function R(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!k})()}function S(k){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},S(k)}function _(k,J,pe){return J=O(J),J in k?Object.defineProperty(k,J,{value:pe,enumerable:!0,configurable:!0,writable:!0}):k[J]=pe,k}function O(k){var J=L(k,"string");return v(J)=="symbol"?J:String(J)}function L(k,J){if(v(k)!="object"||!k)return k;var pe=k[Symbol.toPrimitive];if(pe!==void 0){var fe=pe.call(k,J);if(v(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(k)}return gl.InnerSlider=function(k){G(pe,k);var J=U(pe);function pe(fe){var T;j(this,pe),T=J.call(this,fe),_(x(T),"listRefHandler",function($){return T.list=$}),_(x(T),"trackRefHandler",function($){return T.track=$}),_(x(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var $=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,o.getHeight)($)+"px"}}),_(x(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var $=(0,o.getOnDemandLazySlides)(M(M({},T.props),T.state));$.length>0&&(T.setState(function(b){return{lazyLoadedList:b.lazyLoadedList.concat($)}}),T.props.onLazyLoad&&T.props.onLazyLoad($))}var E=M({listRef:T.list,trackRef:T.track},T.props);T.updateState(E,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new h.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(b){b.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,b.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),_(x(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function($){return clearTimeout($)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),_(x(T),"componentDidUpdate",function($){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var E=(0,o.getOnDemandLazySlides)(M(M({},T.props),T.state));E.length>0&&(T.setState(function(ne){return{lazyLoadedList:ne.lazyLoadedList.concat(E)}}),T.props.onLazyLoad&&T.props.onLazyLoad(E))}T.adaptHeight();var b=M(M({listRef:T.list,trackRef:T.track},T.props),T.state),z=T.didPropsChange($);z&&T.updateState(b,z,function(){T.state.currentSlide>=n.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:n.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),_(x(T),"onWindowResized",function($){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,t.default)(function(){return T.resizeWindow($)},50),T.debouncedResize()}),_(x(T),"resizeWindow",function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=!!(T.track&&T.track.node);if(E){var b=M(M({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(b,$,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),_(x(T),"updateState",function($,E,b){var z=(0,o.initializedState)($);$=M(M(M({},$),z),{},{slideIndex:z.currentSlide});var ne=(0,o.getTrackLeft)($);$=M(M({},$),{},{left:ne});var ie=(0,o.getTrackCSS)($);(E||n.default.Children.count(T.props.children)!==n.default.Children.count($.children))&&(z.trackStyle=ie),T.setState(z,b)}),_(x(T),"ssrInit",function(){if(T.props.variableWidth){var $=0,E=0,b=[],z=(0,o.getPreClones)(M(M(M({},T.props),T.state),{},{slideCount:T.props.children.length})),ne=(0,o.getPostClones)(M(M(M({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function(ct){b.push(ct.props.style.width),$+=ct.props.style.width});for(var ie=0;ie<z;ie++)E+=b[b.length-1-ie],$+=b[b.length-1-ie];for(var ae=0;ae<ne;ae++)$+=b[ae];for(var le=0;le<T.state.currentSlide;le++)E+=b[le];var ce={width:$+"px",left:-E+"px"};if(T.props.centerMode){var Te="".concat(b[T.state.currentSlide],"px");ce.left="calc(".concat(ce.left," + (100% - ").concat(Te,") / 2 ) ")}return{trackStyle:ce}}var be=n.default.Children.count(T.props.children),Re=M(M(M({},T.props),T.state),{},{slideCount:be}),ze=(0,o.getPreClones)(Re)+(0,o.getPostClones)(Re)+be,qe=100/T.props.slidesToShow*ze,Ue=100/ze,Ve=-Ue*((0,o.getPreClones)(Re)+T.state.currentSlide)*qe/100;T.props.centerMode&&(Ve+=(100-Ue*qe/100)/2);var Be={width:qe+"%",left:Ve+"%"};return{slideWidth:Ue+"%",trackStyle:Be}}),_(x(T),"checkImagesLoad",function(){var $=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],E=$.length,b=0;Array.prototype.forEach.call($,function(z){var ne=function(){return++b&&b>=E&&T.onWindowResized()};if(!z.onclick)z.onclick=function(){return z.parentNode.focus()};else{var ie=z.onclick;z.onclick=function(ae){ie(ae),z.parentNode.focus()}}z.onload||(T.props.lazyLoad?z.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(z.onload=ne,z.onerror=function(){ne(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),_(x(T),"progressiveLazyLoad",function(){for(var $=[],E=M(M({},T.props),T.state),b=T.state.currentSlide;b<T.state.slideCount+(0,o.getPostClones)(E);b++)if(T.state.lazyLoadedList.indexOf(b)<0){$.push(b);break}for(var z=T.state.currentSlide-1;z>=-(0,o.getPreClones)(E);z--)if(T.state.lazyLoadedList.indexOf(z)<0){$.push(z);break}$.length>0?(T.setState(function(ne){return{lazyLoadedList:ne.lazyLoadedList.concat($)}}),T.props.onLazyLoad&&T.props.onLazyLoad($)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),_(x(T),"slideHandler",function($){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=T.props,z=b.asNavFor,ne=b.beforeChange,ie=b.onLazyLoad,ae=b.speed,le=b.afterChange,ce=T.state.currentSlide,Te=(0,o.slideHandler)(M(M(M({index:$},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!E})),be=Te.state,Re=Te.nextState;if(be){ne&&ne(ce,be.currentSlide);var ze=be.lazyLoadedList.filter(function(qe){return T.state.lazyLoadedList.indexOf(qe)<0});ie&&ze.length>0&&ie(ze),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),le&&le(ce),delete T.animationEndCallback),T.setState(be,function(){z&&T.asNavForIndex!==$&&(T.asNavForIndex=$,z.innerSlider.slideHandler($)),Re&&(T.animationEndCallback=setTimeout(function(){var qe=Re.animating,Ue=P(Re,["animating"]);T.setState(Ue,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:qe})},10)),le&&le(be.currentSlide),delete T.animationEndCallback})},ae))})}}),_(x(T),"changeSlide",function($){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=M(M({},T.props),T.state),z=(0,o.changeSlide)(b,$);if(!(z!==0&&!z)&&(E===!0?T.slideHandler(z,E):T.slideHandler(z),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var ne=T.list.querySelectorAll(".slick-current");ne[0]&&ne[0].focus()}}),_(x(T),"clickHandler",function($){T.clickable===!1&&($.stopPropagation(),$.preventDefault()),T.clickable=!0}),_(x(T),"keyHandler",function($){var E=(0,o.keyHandler)($,T.props.accessibility,T.props.rtl);E!==""&&T.changeSlide({message:E})}),_(x(T),"selectHandler",function($){T.changeSlide($)}),_(x(T),"disableBodyScroll",function(){var $=function(b){b=b||window.event,b.preventDefault&&b.preventDefault(),b.returnValue=!1};window.ontouchmove=$}),_(x(T),"enableBodyScroll",function(){window.ontouchmove=null}),_(x(T),"swipeStart",function($){T.props.verticalSwiping&&T.disableBodyScroll();var E=(0,o.swipeStart)($,T.props.swipe,T.props.draggable);E!==""&&T.setState(E)}),_(x(T),"swipeMove",function($){var E=(0,o.swipeMove)($,M(M(M({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));E&&(E.swiping&&(T.clickable=!1),T.setState(E))}),_(x(T),"swipeEnd",function($){var E=(0,o.swipeEnd)($,M(M(M({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(E){var b=E.triggerSlideHandler;delete E.triggerSlideHandler,T.setState(E),b!==void 0&&(T.slideHandler(b),T.props.verticalSwiping&&T.enableBodyScroll())}}),_(x(T),"touchEnd",function($){T.swipeEnd($),T.clickable=!0}),_(x(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),_(x(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),_(x(T),"slickGoTo",function($){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($=Number($),isNaN($))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:$,currentSlide:T.state.currentSlide},E)},0))}),_(x(T),"play",function(){var $;if(T.props.rtl)$=T.state.currentSlide-T.props.slidesToScroll;else if((0,o.canGoNext)(M(M({},T.props),T.state)))$=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler($)}),_(x(T),"autoPlay",function($){T.autoplayTimer&&clearInterval(T.autoplayTimer);var E=T.state.autoplaying;if($==="update"){if(E==="hovered"||E==="focused"||E==="paused")return}else if($==="leave"){if(E==="paused"||E==="focused")return}else if($==="blur"&&(E==="paused"||E==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),_(x(T),"pause",function($){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var E=T.state.autoplaying;$==="paused"?T.setState({autoplaying:"paused"}):$==="focused"?(E==="hovered"||E==="playing")&&T.setState({autoplaying:"focused"}):E==="playing"&&T.setState({autoplaying:"hovered"})}),_(x(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),_(x(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),_(x(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),_(x(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),_(x(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),_(x(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),_(x(T),"render",function(){var $=(0,i.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),E=M(M({},T.props),T.state),b=(0,o.extractObject)(E,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),z=T.props.pauseOnHover;b=M(M({},b),{},{onMouseEnter:z?T.onTrackOver:null,onMouseLeave:z?T.onTrackLeave:null,onMouseOver:z?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var ne;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var ie=(0,o.extractObject)(E,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=T.props.pauseOnDotsHover;ie=M(M({},ie),{},{clickHandler:T.changeSlide,onMouseEnter:ae?T.onDotsLeave:null,onMouseOver:ae?T.onDotsOver:null,onMouseLeave:ae?T.onDotsLeave:null}),ne=n.default.createElement(u.Dots,ie)}var le,ce,Te=(0,o.extractObject)(E,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Te.clickHandler=T.changeSlide,T.props.arrows&&(le=n.default.createElement(f.PrevArrow,Te),ce=n.default.createElement(f.NextArrow,Te));var be=null;T.props.vertical&&(be={height:T.state.listHeight});var Re=null;T.props.vertical===!1?T.props.centerMode===!0&&(Re={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(Re={padding:T.props.centerPadding+" 0px"});var ze=M(M({},be),Re),qe=T.props.touchMove,Ue={className:"slick-list",style:ze,onClick:T.clickHandler,onMouseDown:qe?T.swipeStart:null,onMouseMove:T.state.dragging&&qe?T.swipeMove:null,onMouseUp:qe?T.swipeEnd:null,onMouseLeave:T.state.dragging&&qe?T.swipeEnd:null,onTouchStart:qe?T.swipeStart:null,onTouchMove:T.state.dragging&&qe?T.swipeMove:null,onTouchEnd:qe?T.touchEnd:null,onTouchCancel:T.state.dragging&&qe?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},Ve={className:$,dir:"ltr",style:T.props.style};return T.props.unslick&&(Ue={className:"slick-list"},Ve={className:$}),n.default.createElement("div",Ve,T.props.unslick?"":le,n.default.createElement("div",I({ref:T.listRefHandler},Ue),n.default.createElement(a.Track,I({ref:T.trackRefHandler},b),T.props.children)),T.props.unslick?"":ce,T.props.unslick?"":ne)}),T.list=null,T.track=null,T.state=M(M({},e.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:n.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var se=T.ssrInit();return T.state=M(M({},T.state),se),T}return Q(pe,[{key:"didPropsChange",value:function(T){for(var se=!1,$=0,E=Object.keys(this.props);$<E.length;$++){var b=E[$];if(!T.hasOwnProperty(b)){se=!0;break}if(!(v(T[b])==="object"||typeof T[b]=="function"||isNaN(T[b]))&&T[b]!==this.props[b]){se=!0;break}}return se||n.default.Children.count(this.props.children)!==n.default.Children.count(T.children)}}]),pe}(n.default.Component),gl}var Xh,Qv;function Hk(){if(Qv)return Xh;Qv=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return Xh=n,Xh}var Jh,Yv;function Wk(){if(Yv)return Jh;Yv=1;var n=Hk(),e=function(o){var a=/[height|width]$/;return a.test(o)},t=function(o){var a="",u=Object.keys(o);return u.forEach(function(f,h){var p=o[f];f=n(f),e(f)&&typeof p=="number"&&(p=p+"px"),p===!0?a+=f:p===!1?a+="not "+f:a+="("+f+": "+p+")",h<u.length-1&&(a+=" and ")}),a},i=function(o){var a="";return typeof o=="string"?o:o instanceof Array?(o.forEach(function(u,f){a+=t(u),f<o.length-1&&(a+=", ")}),a):t(o)};return Jh=i,Jh}var Zh,Xv;function Kk(){if(Xv)return Zh;Xv=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Zh=n,Zh}var ep,Jv;function E0(){if(Jv)return ep;Jv=1;function n(i,o){var a=0,u=i.length,f;for(a;a<u&&(f=o(i[a],a),f!==!1);a++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return ep={isFunction:t,isArray:e,each:n},ep}var tp,Zv;function Gk(){if(Zv)return tp;Zv=1;var n=Kk(),e=E0().each;function t(i,o){this.query=i,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(i);var a=this;this.listener=function(u){a.mql=u.currentTarget||u,a.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var o=new n(i);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(i){var o=this.handlers;e(o,function(a,u){if(a.equals(i))return a.destroy(),!o.splice(u,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(o){o[i]()})}},tp=t,tp}var np,e_;function Qk(){if(e_)return np;e_=1;var n=Gk(),e=E0(),t=e.each,i=e.isFunction,o=e.isArray;function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return a.prototype={constructor:a,register:function(u,f,h){var p=this.queries,v=h&&this.browserIsIncapable;return p[u]||(p[u]=new n(u,v)),i(f)&&(f={match:f}),o(f)||(f=[f]),t(f,function(I){i(I)&&(I={match:I}),p[u].addHandler(I)}),this},unregister:function(u,f){var h=this.queries[u];return h&&(f?h.removeHandler(f):(h.clear(),delete this.queries[u])),this}},np=a,np}var rp,t_;function Yk(){if(t_)return rp;t_=1;var n=Qk();return rp=new n,rp}var n_;function Xk(){return n_||(n_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=u($r()),t=qk(),i=u(Wk()),o=u(m0()),a=Hl();function u(S){return S&&S.__esModule?S:{default:S}}function f(S){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(S)}function h(){return h=Object.assign?Object.assign.bind():function(S){for(var _=1;_<arguments.length;_++){var O=arguments[_];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(S[L]=O[L])}return S},h.apply(this,arguments)}function p(S,_){var O=Object.keys(S);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(S);_&&(L=L.filter(function(k){return Object.getOwnPropertyDescriptor(S,k).enumerable})),O.push.apply(O,L)}return O}function v(S){for(var _=1;_<arguments.length;_++){var O=arguments[_]!=null?arguments[_]:{};_%2?p(Object(O),!0).forEach(function(L){U(S,L,O[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(O)):p(Object(O)).forEach(function(L){Object.defineProperty(S,L,Object.getOwnPropertyDescriptor(O,L))})}return S}function I(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function P(S,_){for(var O=0;O<_.length;O++){var L=_[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,B(L.key),L)}}function D(S,_,O){return _&&P(S.prototype,_),Object.defineProperty(S,"prototype",{writable:!1}),S}function V(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),_&&M(S,_)}function M(S,_){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,k){return L.__proto__=k,L},M(S,_)}function j(S){var _=G();return function(){var L=ee(S),k;if(_){var J=ee(this).constructor;k=Reflect.construct(L,arguments,J)}else k=L.apply(this,arguments);return q(this,k)}}function q(S,_){if(_&&(f(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(S)}function Q(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function G(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G=function(){return!!S})()}function ee(S){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},ee(S)}function U(S,_,O){return _=B(_),_ in S?Object.defineProperty(S,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):S[_]=O,S}function B(S){var _=x(S,"string");return f(_)=="symbol"?_:String(_)}function x(S,_){if(f(S)!="object"||!S)return S;var O=S[Symbol.toPrimitive];if(O!==void 0){var L=O.call(S,_);if(f(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(S)}var R=(0,a.canUseDOM)()&&Yk();n.default=function(S){V(O,S);var _=j(O);function O(L){var k;return I(this,O),k=_.call(this,L),U(Q(k),"innerSliderRefHandler",function(J){return k.innerSlider=J}),U(Q(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),U(Q(k),"slickNext",function(){return k.innerSlider.slickNext()}),U(Q(k),"slickGoTo",function(J){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(J,pe)}),U(Q(k),"slickPause",function(){return k.innerSlider.pause("paused")}),U(Q(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return D(O,[{key:"media",value:function(k,J){R.register(k,J),this._responsiveMediaHandlers.push({query:k,handler:J})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var J=this.props.responsive.map(function(fe){return fe.breakpoint});J.sort(function(fe,T){return fe-T}),J.forEach(function(fe,T){var se;T===0?se=(0,i.default)({minWidth:0,maxWidth:fe}):se=(0,i.default)({minWidth:J[T-1]+1,maxWidth:fe}),(0,a.canUseDOM)()&&k.media(se,function(){k.setState({breakpoint:fe})})});var pe=(0,i.default)({minWidth:J.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(pe,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){R.unregister(k.query,k.handler)})}},{key:"render",value:function(){var k=this,J,pe;this.state.breakpoint?(pe=this.props.responsive.filter(function(ae){return ae.breakpoint===k.state.breakpoint}),J=pe[0].settings==="unslick"?"unslick":v(v(v({},o.default),this.props),pe[0].settings)):J=v(v({},o.default),this.props),J.centerMode&&(J.slidesToScroll>1,J.slidesToScroll=1),J.fade&&(J.slidesToShow>1,J.slidesToScroll>1,J.slidesToShow=1,J.slidesToScroll=1);var fe=e.default.Children.toArray(this.props.children);fe=fe.filter(function(ae){return typeof ae=="string"?!!ae.trim():!!ae}),J.variableWidth&&(J.rows>1||J.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),J.variableWidth=!1);for(var T=[],se=null,$=0;$<fe.length;$+=J.rows*J.slidesPerRow){for(var E=[],b=$;b<$+J.rows*J.slidesPerRow;b+=J.slidesPerRow){for(var z=[],ne=b;ne<b+J.slidesPerRow&&(J.variableWidth&&fe[ne].props.style&&(se=fe[ne].props.style.width),!(ne>=fe.length));ne+=1)z.push(e.default.cloneElement(fe[ne],{key:100*$+10*b+ne,tabIndex:-1,style:{width:"".concat(100/J.slidesPerRow,"%"),display:"inline-block"}}));E.push(e.default.createElement("div",{key:10*$+b},z))}J.variableWidth?T.push(e.default.createElement("div",{key:$,style:{width:se}},E)):T.push(e.default.createElement("div",{key:$},E))}if(J==="unslick"){var ie="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ie},fe)}else T.length<=J.slidesToShow&&!J.infinite&&(J.unslick=!0);return e.default.createElement(t.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(J)),T)}}]),O}(e.default.Component)}(Wh)),Wh}var r_;function Jk(){return r_||(r_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Xk());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(Hh)),Hh}var Zk=Jk();const Nd=om(Zk),eC=()=>{const n=[{id:1,image:"banner1.jpg",title:"¡Oferta Especial! 35% OFF"},{id:2,image:"banner2.jpg",title:"Nuevos Lanzamientos"},{id:3,image:"banner3.jpg",title:"Envíos Gratis Hoy"},{id:4,image:"banner4.jpg",title:"Descuentos Exclusivos"}],e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,nextArrow:A.jsx(tC,{}),prevArrow:A.jsx(nC,{})};return A.jsx("div",{className:"text-white",children:A.jsx(Nd,{...e,children:n.map(t=>A.jsxs("div",{className:"relative outline-none",children:[A.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[500px] md:h-[400px] sm:h-[300px] object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-opacity-40 flex items-center justify-center",children:A.jsx("h2",{className:"text-4xl md:text-3xl sm:text-2xl font-bold text-center",children:t.title})})]},t.id))})})},tC=n=>{const{className:e,style:t,onClick:i}=n;return A.jsx("button",{className:e,style:{...t,display:"block",right:"10px",zIndex:10},onClick:i,children:"→"})},nC=n=>{const{className:e,style:t,onClick:i}=n;return A.jsx("button",{className:e,style:{...t,display:"block",left:"10px",zIndex:10},onClick:i,children:"←"})},rC=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,p=h?n[o+2]:0,v=a>>2,I=(a&3)<<4|f>>4;let P=(f&15)<<2|p>>6,D=p&63;h||(D=64,u||(P=64)),i.push(t[v],t[I],t[P],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(T0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||p==null||I==null)throw new sC;const P=a<<2|f>>4;if(i.push(P),p!==64){const D=f<<4&240|p>>2;if(i.push(D),I!==64){const V=p<<6&192|I;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oC=function(n){const e=T0(n);return S0.encodeByteArray(e,!0)},td=function(n){return oC(n).replace(/\./g,"")},I0=function(n){try{return S0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>aC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof i_>"u")return;const n=i_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&I0(n[1]);return e&&JSON.parse(e)},Od=()=>{try{return rC()||lC()||uC()||cC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},b0=n=>{var e,t;return(t=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fm=n=>{const e=b0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},k0=()=>{var n;return(n=Od())===null||n===void 0?void 0:n.config},C0=n=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[td(JSON.stringify(t)),td(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function hC(){var n;const e=(n=Od())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function R0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gC(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yC(){return!hC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P0(){try{return typeof indexedDB=="object"}catch{return!1}}function A0(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function vC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="FirebaseError";class Un extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_C,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,no.prototype.create)}}class no{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?wC(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Un(o,f,i)}}function wC(n,e){return n.replace(EC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const EC=/\{\$([^}]+)}/g;function TC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function is(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(s_(a)&&s_(u)){if(!is(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function s_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _l(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function wl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SC(n,e){const t=new IC(n,e);return t.subscribe.bind(t)}class IC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");bC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=ip),o.error===void 0&&(o.error=ip),o.complete===void 0&&(o.complete=ip);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ip(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1e3,CC=2,xC=4*60*60*1e3,RC=.5;function o_(n,e=kC,t=CC){const i=e*Math.pow(t,n),o=Math.round(RC*i*(Math.random()-.5)*2);return Math.min(xC,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n){return n&&n._delegate?n._delegate:n}class Fn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new dC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NC(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AC(n){return n===qs?void 0:n}function NC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const DC={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},LC=He.INFO,MC={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},VC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=MC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=LC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const jC=(n,e)=>e.some(t=>n instanceof t);let a_,l_;function FC(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UC(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,Tp=new WeakMap,O0=new WeakMap,sp=new WeakMap,hm=new WeakMap;function zC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Zi(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&N0.set(t,n)}).catch(()=>{}),hm.set(e,n),e}function $C(n){if(Tp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Tp.set(n,e)}let Sp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||O0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BC(n){Sp=n(Sp)}function qC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(op(this),e,...t);return O0.set(i,e.sort?e.sort():[e]),Zi(i)}:UC().includes(n)?function(...e){return n.apply(op(this),e),Zi(N0.get(this))}:function(...e){return Zi(n.apply(op(this),e))}}function HC(n){return typeof n=="function"?qC(n):(n instanceof IDBTransaction&&$C(n),jC(n,FC())?new Proxy(n,Sp):n)}function Zi(n){if(n instanceof IDBRequest)return zC(n);if(sp.has(n))return sp.get(n);const e=HC(n);return e!==n&&(sp.set(n,e),hm.set(e,n)),e}const op=n=>hm.get(n);function D0(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Zi(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Zi(u.result),h.oldVersion,h.newVersion,Zi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const WC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],ap=new Map;function u_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=KC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),o&&h.done]))[0]};return ap.set(e,a),a}BC(n=>({...n,get:(e,t,i)=>u_(e,t)||n.get(e,t,i),has:(e,t)=>!!u_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function QC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ip="@firebase/app",c_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Dd("@firebase/app"),YC="@firebase/app-compat",XC="@firebase/analytics-compat",JC="@firebase/analytics",ZC="@firebase/app-check-compat",ex="@firebase/app-check",tx="@firebase/auth",nx="@firebase/auth-compat",rx="@firebase/database",ix="@firebase/data-connect",sx="@firebase/database-compat",ox="@firebase/functions",ax="@firebase/functions-compat",lx="@firebase/installations",ux="@firebase/installations-compat",cx="@firebase/messaging",dx="@firebase/messaging-compat",fx="@firebase/performance",hx="@firebase/performance-compat",px="@firebase/remote-config",mx="@firebase/remote-config-compat",gx="@firebase/storage",yx="@firebase/storage-compat",vx="@firebase/firestore",_x="@firebase/vertexai",wx="@firebase/firestore-compat",Ex="firebase",Tx="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="[DEFAULT]",Sx={[Ip]:"fire-core",[YC]:"fire-core-compat",[JC]:"fire-analytics",[XC]:"fire-analytics-compat",[ex]:"fire-app-check",[ZC]:"fire-app-check-compat",[tx]:"fire-auth",[nx]:"fire-auth-compat",[rx]:"fire-rtdb",[ix]:"fire-data-connect",[sx]:"fire-rtdb-compat",[ox]:"fire-fn",[ax]:"fire-fn-compat",[lx]:"fire-iid",[ux]:"fire-iid-compat",[cx]:"fire-fcm",[dx]:"fire-fcm-compat",[fx]:"fire-perf",[hx]:"fire-perf-compat",[px]:"fire-rc",[mx]:"fire-rc-compat",[gx]:"fire-gcs",[yx]:"fire-gcs-compat",[vx]:"fire-fst",[wx]:"fire-fst-compat",[_x]:"fire-vertex","fire-js":"fire-js",[Ex]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,Ix=new Map,kp=new Map;function d_(n,e){try{n.container.addComponent(e)}catch(t){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jn(n){const e=n.name;if(kp.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,n);for(const t of nd.values())d_(t,n);for(const t of Ix.values())d_(t,n);return!0}function Ti(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new no("app","Firebase",bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=Tx;function L0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:bp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(t||(t=k0()),!t)throw es.create("no-options");const a=nd.get(o);if(a){if(is(t,a.options)&&is(i,a.config))return a;throw es.create("duplicate-app",{appName:o})}const u=new OC(o);for(const h of kp.values())u.addComponent(h);const f=new kx(t,i,u);return nd.set(o,f),f}function Kl(n=bp){const e=nd.get(n);if(!e&&n===bp&&k0())return L0();if(!e)throw es.create("no-app",{appName:n});return e}function nn(n,e,t){var i;let o=(i=Sx[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(f.join(" "));return}Jn(new Fn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebase-heartbeat-database",xx=1,Al="firebase-heartbeat-store";let lp=null;function M0(){return lp||(lp=D0(Cx,xx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Al)}catch(t){console.warn(t)}}}}).catch(n=>{throw es.create("idb-open",{originalErrorMessage:n.message})})),lp}async function Rx(n){try{const t=(await M0()).transaction(Al),i=await t.objectStore(Al).get(V0(n));return await t.done,i}catch(e){if(e instanceof Un)gi.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(t.message)}}}async function f_(n,e){try{const i=(await M0()).transaction(Al,"readwrite");await i.objectStore(Al).put(e,V0(n)),await i.done}catch(t){if(t instanceof Un)gi.warn(t.message);else{const i=es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gi.warn(i.message)}}}function V0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=1024,Ax=30;class Nx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=h_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Ax){const u=Lx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h_(),{heartbeatsToSend:i,unsentEntries:o}=Ox(this._heartbeatsCache.heartbeats),a=td(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return gi.warn(t),""}}}function h_(){return new Date().toISOString().substring(0,10)}function Ox(n,e=Px){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),p_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),p_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P0()?A0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Rx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function p_(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function Lx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n){Jn(new Fn("platform-logger",e=>new GC(e),"PRIVATE")),Jn(new Fn("heartbeat",e=>new Nx(e),"PRIVATE")),nn(Ip,c_,n),nn(Ip,c_,"esm2017"),nn("fire-js","")}Mx("");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,j0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function S(){}S.prototype=R.prototype,x.D=R.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(_,O,L){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return R.prototype[O].apply(_,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,S){S||(S=0);var _=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)_[O]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(O=0;16>O;++O)_[O]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=x.g[0],S=x.g[1],O=x.g[2];var L=x.g[3],k=R+(L^S&(O^L))+_[0]+3614090360&4294967295;R=S+(k<<7&4294967295|k>>>25),k=L+(O^R&(S^O))+_[1]+3905402710&4294967295,L=R+(k<<12&4294967295|k>>>20),k=O+(S^L&(R^S))+_[2]+606105819&4294967295,O=L+(k<<17&4294967295|k>>>15),k=S+(R^O&(L^R))+_[3]+3250441966&4294967295,S=O+(k<<22&4294967295|k>>>10),k=R+(L^S&(O^L))+_[4]+4118548399&4294967295,R=S+(k<<7&4294967295|k>>>25),k=L+(O^R&(S^O))+_[5]+1200080426&4294967295,L=R+(k<<12&4294967295|k>>>20),k=O+(S^L&(R^S))+_[6]+2821735955&4294967295,O=L+(k<<17&4294967295|k>>>15),k=S+(R^O&(L^R))+_[7]+4249261313&4294967295,S=O+(k<<22&4294967295|k>>>10),k=R+(L^S&(O^L))+_[8]+1770035416&4294967295,R=S+(k<<7&4294967295|k>>>25),k=L+(O^R&(S^O))+_[9]+2336552879&4294967295,L=R+(k<<12&4294967295|k>>>20),k=O+(S^L&(R^S))+_[10]+4294925233&4294967295,O=L+(k<<17&4294967295|k>>>15),k=S+(R^O&(L^R))+_[11]+2304563134&4294967295,S=O+(k<<22&4294967295|k>>>10),k=R+(L^S&(O^L))+_[12]+1804603682&4294967295,R=S+(k<<7&4294967295|k>>>25),k=L+(O^R&(S^O))+_[13]+4254626195&4294967295,L=R+(k<<12&4294967295|k>>>20),k=O+(S^L&(R^S))+_[14]+2792965006&4294967295,O=L+(k<<17&4294967295|k>>>15),k=S+(R^O&(L^R))+_[15]+1236535329&4294967295,S=O+(k<<22&4294967295|k>>>10),k=R+(O^L&(S^O))+_[1]+4129170786&4294967295,R=S+(k<<5&4294967295|k>>>27),k=L+(S^O&(R^S))+_[6]+3225465664&4294967295,L=R+(k<<9&4294967295|k>>>23),k=O+(R^S&(L^R))+_[11]+643717713&4294967295,O=L+(k<<14&4294967295|k>>>18),k=S+(L^R&(O^L))+_[0]+3921069994&4294967295,S=O+(k<<20&4294967295|k>>>12),k=R+(O^L&(S^O))+_[5]+3593408605&4294967295,R=S+(k<<5&4294967295|k>>>27),k=L+(S^O&(R^S))+_[10]+38016083&4294967295,L=R+(k<<9&4294967295|k>>>23),k=O+(R^S&(L^R))+_[15]+3634488961&4294967295,O=L+(k<<14&4294967295|k>>>18),k=S+(L^R&(O^L))+_[4]+3889429448&4294967295,S=O+(k<<20&4294967295|k>>>12),k=R+(O^L&(S^O))+_[9]+568446438&4294967295,R=S+(k<<5&4294967295|k>>>27),k=L+(S^O&(R^S))+_[14]+3275163606&4294967295,L=R+(k<<9&4294967295|k>>>23),k=O+(R^S&(L^R))+_[3]+4107603335&4294967295,O=L+(k<<14&4294967295|k>>>18),k=S+(L^R&(O^L))+_[8]+1163531501&4294967295,S=O+(k<<20&4294967295|k>>>12),k=R+(O^L&(S^O))+_[13]+2850285829&4294967295,R=S+(k<<5&4294967295|k>>>27),k=L+(S^O&(R^S))+_[2]+4243563512&4294967295,L=R+(k<<9&4294967295|k>>>23),k=O+(R^S&(L^R))+_[7]+1735328473&4294967295,O=L+(k<<14&4294967295|k>>>18),k=S+(L^R&(O^L))+_[12]+2368359562&4294967295,S=O+(k<<20&4294967295|k>>>12),k=R+(S^O^L)+_[5]+4294588738&4294967295,R=S+(k<<4&4294967295|k>>>28),k=L+(R^S^O)+_[8]+2272392833&4294967295,L=R+(k<<11&4294967295|k>>>21),k=O+(L^R^S)+_[11]+1839030562&4294967295,O=L+(k<<16&4294967295|k>>>16),k=S+(O^L^R)+_[14]+4259657740&4294967295,S=O+(k<<23&4294967295|k>>>9),k=R+(S^O^L)+_[1]+2763975236&4294967295,R=S+(k<<4&4294967295|k>>>28),k=L+(R^S^O)+_[4]+1272893353&4294967295,L=R+(k<<11&4294967295|k>>>21),k=O+(L^R^S)+_[7]+4139469664&4294967295,O=L+(k<<16&4294967295|k>>>16),k=S+(O^L^R)+_[10]+3200236656&4294967295,S=O+(k<<23&4294967295|k>>>9),k=R+(S^O^L)+_[13]+681279174&4294967295,R=S+(k<<4&4294967295|k>>>28),k=L+(R^S^O)+_[0]+3936430074&4294967295,L=R+(k<<11&4294967295|k>>>21),k=O+(L^R^S)+_[3]+3572445317&4294967295,O=L+(k<<16&4294967295|k>>>16),k=S+(O^L^R)+_[6]+76029189&4294967295,S=O+(k<<23&4294967295|k>>>9),k=R+(S^O^L)+_[9]+3654602809&4294967295,R=S+(k<<4&4294967295|k>>>28),k=L+(R^S^O)+_[12]+3873151461&4294967295,L=R+(k<<11&4294967295|k>>>21),k=O+(L^R^S)+_[15]+530742520&4294967295,O=L+(k<<16&4294967295|k>>>16),k=S+(O^L^R)+_[2]+3299628645&4294967295,S=O+(k<<23&4294967295|k>>>9),k=R+(O^(S|~L))+_[0]+4096336452&4294967295,R=S+(k<<6&4294967295|k>>>26),k=L+(S^(R|~O))+_[7]+1126891415&4294967295,L=R+(k<<10&4294967295|k>>>22),k=O+(R^(L|~S))+_[14]+2878612391&4294967295,O=L+(k<<15&4294967295|k>>>17),k=S+(L^(O|~R))+_[5]+4237533241&4294967295,S=O+(k<<21&4294967295|k>>>11),k=R+(O^(S|~L))+_[12]+1700485571&4294967295,R=S+(k<<6&4294967295|k>>>26),k=L+(S^(R|~O))+_[3]+2399980690&4294967295,L=R+(k<<10&4294967295|k>>>22),k=O+(R^(L|~S))+_[10]+4293915773&4294967295,O=L+(k<<15&4294967295|k>>>17),k=S+(L^(O|~R))+_[1]+2240044497&4294967295,S=O+(k<<21&4294967295|k>>>11),k=R+(O^(S|~L))+_[8]+1873313359&4294967295,R=S+(k<<6&4294967295|k>>>26),k=L+(S^(R|~O))+_[15]+4264355552&4294967295,L=R+(k<<10&4294967295|k>>>22),k=O+(R^(L|~S))+_[6]+2734768916&4294967295,O=L+(k<<15&4294967295|k>>>17),k=S+(L^(O|~R))+_[13]+1309151649&4294967295,S=O+(k<<21&4294967295|k>>>11),k=R+(O^(S|~L))+_[4]+4149444226&4294967295,R=S+(k<<6&4294967295|k>>>26),k=L+(S^(R|~O))+_[11]+3174756917&4294967295,L=R+(k<<10&4294967295|k>>>22),k=O+(R^(L|~S))+_[2]+718787259&4294967295,O=L+(k<<15&4294967295|k>>>17),k=S+(L^(O|~R))+_[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}i.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var S=R-this.blockSize,_=this.B,O=this.h,L=0;L<R;){if(O==0)for(;L<=S;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(_[O++]=x.charCodeAt(L++),O==this.blockSize){o(this,_),O=0;break}}else for(;L<R;)if(_[O++]=x[L++],O==this.blockSize){o(this,_),O=0;break}}this.h=O,this.o+=R},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var S=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.u(x),x=Array(16),R=S=0;4>R;++R)for(var _=0;32>_;_+=8)x[S++]=this.g[R]>>>_&255;return x};function a(x,R){var S=f;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=R(x)}function u(x,R){this.h=R;for(var S=[],_=!0,O=x.length-1;0<=O;O--){var L=x[O]|0;_&&L==R||(S[O]=L,_=!1)}this.g=S}var f={};function h(x){return-128<=x&&128>x?a(x,function(R){return new u([R|0],0>R?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return j(p(-x));for(var R=[],S=1,_=0;x>=S;_++)R[_]=x/S|0,S*=4294967296;return new u(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return j(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=p(Math.pow(R,8)),_=I,O=0;O<x.length;O+=8){var L=Math.min(8,x.length-O),k=parseInt(x.substring(O,O+L),R);8>L?(L=p(Math.pow(R,L)),_=_.j(L).add(p(k))):(_=_.j(S),_=_.add(p(k)))}return _}var I=h(0),P=h(1),D=h(16777216);n=u.prototype,n.m=function(){if(M(this))return-j(this).m();for(var x=0,R=1,S=0;S<this.g.length;S++){var _=this.i(S);x+=(0<=_?_:4294967296+_)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(M(this))return"-"+j(this).toString(x);for(var R=p(Math.pow(x,6)),S=this,_="";;){var O=ee(S,R).g;S=q(S,O.j(R));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,V(S))return L+_;for(;6>L.length;)L="0"+L;_=L+_}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function M(x){return x.h==-1}n.l=function(x){return x=q(this,x),M(x)?-1:V(x)?0:1};function j(x){for(var R=x.g.length,S=[],_=0;_<R;_++)S[_]=~x.g[_];return new u(S,~x.h).add(P)}n.abs=function(){return M(this)?j(this):this},n.add=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],_=0,O=0;O<=R;O++){var L=_+(this.i(O)&65535)+(x.i(O)&65535),k=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);_=k>>>16,L&=65535,k&=65535,S[O]=k<<16|L}return new u(S,S[S.length-1]&-2147483648?-1:0)};function q(x,R){return x.add(j(R))}n.j=function(x){if(V(this)||V(x))return I;if(M(this))return M(x)?j(this).j(j(x)):j(j(this).j(x));if(M(x))return j(this.j(j(x)));if(0>this.l(D)&&0>x.l(D))return p(this.m()*x.m());for(var R=this.g.length+x.g.length,S=[],_=0;_<2*R;_++)S[_]=0;for(_=0;_<this.g.length;_++)for(var O=0;O<x.g.length;O++){var L=this.i(_)>>>16,k=this.i(_)&65535,J=x.i(O)>>>16,pe=x.i(O)&65535;S[2*_+2*O]+=k*pe,Q(S,2*_+2*O),S[2*_+2*O+1]+=L*pe,Q(S,2*_+2*O+1),S[2*_+2*O+1]+=k*J,Q(S,2*_+2*O+1),S[2*_+2*O+2]+=L*J,Q(S,2*_+2*O+2)}for(_=0;_<R;_++)S[_]=S[2*_+1]<<16|S[2*_];for(_=R;_<2*R;_++)S[_]=0;return new u(S,0)};function Q(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function G(x,R){this.g=x,this.h=R}function ee(x,R){if(V(R))throw Error("division by zero");if(V(x))return new G(I,I);if(M(x))return R=ee(j(x),R),new G(j(R.g),j(R.h));if(M(R))return R=ee(x,j(R)),new G(j(R.g),R.h);if(30<x.g.length){if(M(x)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var S=P,_=R;0>=_.l(x);)S=U(S),_=U(_);var O=B(S,1),L=B(_,1);for(_=B(_,2),S=B(S,2);!V(_);){var k=L.add(_);0>=k.l(x)&&(O=O.add(S),L=k),_=B(_,1),S=B(S,1)}return R=q(x,O.j(R)),new G(O,R)}for(O=I;0<=x.l(R);){for(S=Math.max(1,Math.floor(x.m()/R.m())),_=Math.ceil(Math.log(S)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),L=p(S),k=L.j(R);M(k)||0<k.l(x);)S-=_,L=p(S),k=L.j(R);V(L)&&(L=P),O=O.add(L),x=q(x,k)}return new G(O,x)}n.A=function(x){return ee(this,x).h},n.and=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],_=0;_<R;_++)S[_]=this.i(_)&x.i(_);return new u(S,this.h&x.h)},n.or=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],_=0;_<R;_++)S[_]=this.i(_)|x.i(_);return new u(S,this.h|x.h)},n.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],_=0;_<R;_++)S[_]=this.i(_)^x.i(_);return new u(S,this.h^x.h)};function U(x){for(var R=x.g.length+1,S=[],_=0;_<R;_++)S[_]=x.i(_)<<1|x.i(_-1)>>>31;return new u(S,x.h)}function B(x,R){var S=R>>5;R%=32;for(var _=x.g.length-S,O=[],L=0;L<_;L++)O[L]=0<R?x.i(L+S)>>>R|x.i(L+S+1)<<32-R:x.i(L+S);return new u(O,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,j0=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,ts=u}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F0,El,U0,Oc,Cp,z0,$0,B0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var w=i;c=c.split(".");for(var N=0;N<c.length-1;N++){var Y=c[N];if(!(Y in w))break e;w=w[Y]}c=c[c.length-1],N=w[c],g=g(N),g!=N&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,N=!1,Y={next:function(){if(!N&&w<c.length){var re=w++;return{value:g(re,c[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function I(c,g,w){if(!c)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),c.apply(g,Y)}}return function(){return c.apply(g,arguments)}}function P(c,g,w){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:I,P.apply(null,arguments)}function D(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function V(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(N,Y,re){for(var ye=Array(arguments.length-2),et=2;et<arguments.length;et++)ye[et-2]=arguments[et];return g.prototype[Y].apply(N,ye)}}function M(c){const g=c.length;if(0<g){const w=Array(g);for(let N=0;N<g;N++)w[N]=c[N];return w}return[]}function j(c,g){for(let w=1;w<arguments.length;w++){const N=arguments[w];if(h(N)){const Y=c.length||0,re=N.length||0;c.length=Y+re;for(let ye=0;ye<re;ye++)c[Y+ye]=N[ye]}else c.push(N)}}class q{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var U=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function B(c,g,w){for(const N in c)g.call(w,c[N],N,c)}function x(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function R(c){const g={};for(const w in c)g[w]=c[w];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(c,g){let w,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(w in N)c[w]=N[w];for(let re=0;re<S.length;re++)w=S[re],Object.prototype.hasOwnProperty.call(N,w)&&(c[w]=N[w])}}function O(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function L(c){f.setTimeout(()=>{throw c},0)}function k(){var c=$;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,w){const N=pe.get();N.set(g,w),this.h?this.h.next=N:this.g=N,this.h=N}}var pe=new q(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let T,se=!1,$=new J,E=()=>{const c=f.Promise.resolve(void 0);T=()=>{c.then(b)}};var b=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(w){L(w)}var g=pe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};f.addEventListener("test",w,g),f.removeEventListener("test",w,g)}catch{}return c}();function ae(c,g){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(U){e:{try{ee(g.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}V(ae,ne);var le={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Te=0;function be(c,g,w,N,Y){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!N,this.ha=Y,this.key=++Te,this.da=this.fa=!1}function Re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c){this.src=c,this.g={},this.h=0}ze.prototype.add=function(c,g,w,N,Y){var re=c.toString();c=this.g[re],c||(c=this.g[re]=[],this.h++);var ye=Ue(c,g,N,Y);return-1<ye?(g=c[ye],w||(g.fa=!1)):(g=new be(g,this.src,re,!!N,Y),g.fa=w,c.push(g)),g};function qe(c,g){var w=g.type;if(w in c.g){var N=c.g[w],Y=Array.prototype.indexOf.call(N,g,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(N,Y,1),re&&(Re(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ue(c,g,w,N){for(var Y=0;Y<c.length;++Y){var re=c[Y];if(!re.da&&re.listener==g&&re.capture==!!w&&re.ha==N)return Y}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Be={};function ct(c,g,w,N,Y){if(Array.isArray(g)){for(var re=0;re<g.length;re++)ct(c,g[re],w,N,Y);return null}return w=tr(w),c&&c[ce]?c.K(g,w,p(N)?!!N.capture:!1,Y):Fe(c,g,w,!1,N,Y)}function Fe(c,g,w,N,Y,re){if(!g)throw Error("Invalid event type");var ye=p(Y)?!!Y.capture:!!Y,et=er(c);if(et||(c[Ve]=et=new ze(c)),w=et.add(g,w,N,ye,re),w.proxy)return w;if(N=dt(),w.proxy=N,N.src=c,N.listener=w,c.addEventListener)ie||(Y=ye),Y===void 0&&(Y=!1),c.addEventListener(g.toString(),N,Y);else if(c.attachEvent)c.attachEvent(yt(g.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function dt(){function c(w){return g.call(c.src,c.listener,w)}const g=Cn;return c}function ft(c,g,w,N,Y){if(Array.isArray(g))for(var re=0;re<g.length;re++)ft(c,g[re],w,N,Y);else N=p(N)?!!N.capture:!!N,w=tr(w),c&&c[ce]?(c=c.i,g=String(g).toString(),g in c.g&&(re=c.g[g],w=Ue(re,w,N,Y),-1<w&&(Re(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete c.g[g],c.h--)))):c&&(c=er(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ue(g,w,N,Y)),(w=-1<c?g[c]:null)&&rt(w))}function rt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ce])qe(g.i,c);else{var w=c.type,N=c.proxy;g.removeEventListener?g.removeEventListener(w,N,c.capture):g.detachEvent?g.detachEvent(yt(w),N):g.addListener&&g.removeListener&&g.removeListener(N),(w=er(g))?(qe(w,c),w.h==0&&(w.src=null,g[Ve]=null)):Re(c)}}}function yt(c){return c in Be?Be[c]:Be[c]="on"+c}function Cn(c,g){if(c.da)c=!0;else{g=new ae(g,this);var w=c.listener,N=c.ha||c.src;c.fa&&rt(c),c=w.call(N,g)}return c}function er(c){return c=c[Ve],c instanceof ze?c:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(c){return typeof c=="function"?c:(c[Qr]||(c[Qr]=function(g){return c.handleEvent(g)}),c[Qr])}function St(){z.call(this),this.i=new ze(this),this.M=this,this.F=null}V(St,z),St.prototype[ce]=!0,St.prototype.removeEventListener=function(c,g,w,N){ft(this,c,g,w,N)};function tt(c,g){var w,N=c.F;if(N)for(w=[];N;N=N.F)w.push(N);if(c=c.M,N=g.type||g,typeof g=="string")g=new ne(g,c);else if(g instanceof ne)g.target=g.target||c;else{var Y=g;g=new ne(N,c),_(g,Y)}if(Y=!0,w)for(var re=w.length-1;0<=re;re--){var ye=g.g=w[re];Y=sn(ye,N,!0,g)&&Y}if(ye=g.g=c,Y=sn(ye,N,!0,g)&&Y,Y=sn(ye,N,!1,g)&&Y,w)for(re=0;re<w.length;re++)ye=g.g=w[re],Y=sn(ye,N,!1,g)&&Y}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],N=0;N<w.length;N++)Re(w[N]);delete c.g[g],c.h--}}this.F=null},St.prototype.K=function(c,g,w,N){return this.i.add(String(c),g,!1,w,N)},St.prototype.L=function(c,g,w,N){return this.i.add(String(c),g,!0,w,N)};function sn(c,g,w,N){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var Y=!0,re=0;re<g.length;++re){var ye=g[re];if(ye&&!ye.da&&ye.capture==w){var et=ye.listener,Nt=ye.ha||ye.src;ye.fa&&qe(c.i,ye),Y=et.call(Nt,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function Sa(c,g,w){if(typeof c=="function")w&&(c=P(c,w));else if(c&&typeof c.handleEvent=="function")c=P(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function Si(c){c.g=Sa(()=>{c.g=null,c.i&&(c.i=!1,Si(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class gs extends z{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Si(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){z.call(this),this.h=c,this.g={}}V(ys,z);var Ia=[];function ba(c){B(c.g,function(g,w){this.g.hasOwnProperty(w)&&rt(g)},c),c.g={}}ys.prototype.N=function(){ys.aa.N.call(this),ba(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=f.JSON.stringify,Ca=f.JSON.parse,xa=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function vs(){}vs.prototype.h=null;function ao(c){return c.h||(c.h=c.i())}function lo(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){ne.call(this,"d")}V(Er,ne);function uo(){ne.call(this,"c")}V(uo,ne);var Tr={},Ra=null;function _s(){return Ra=Ra||new St}Tr.La="serverreachability";function Pa(c){ne.call(this,Tr.La,c)}V(Pa,ne);function Yr(c){const g=_s();tt(g,new Pa(g))}Tr.STAT_EVENT="statevent";function Aa(c,g){ne.call(this,Tr.STAT_EVENT,c),this.stat=g}V(Aa,ne);function It(c){const g=_s();tt(g,new Aa(g,c))}Tr.Ma="timingevent";function co(c,g){ne.call(this,Tr.Ma,c),this.size=g}V(co,ne);function nr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Es(c,g,w,N,Y,re){c.info(function(){if(c.g)if(re)for(var ye="",et=re.split("&"),Nt=0;Nt<et.length;Nt++){var Qe=et[Nt].split("=");if(1<Qe.length){var Mt=Qe[0];Qe=Qe[1];var Ct=Mt.split("_");ye=2<=Ct.length&&Ct[1]=="type"?ye+(Mt+"="+Qe+"&"):ye+(Mt+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+g+`
`+w+`
`+ye})}function fo(c,g,w,N,Y,re,ye){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+g+`
`+w+`
`+re+" "+ye})}function rr(c,g,w,N){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ff(c,w)+(N?" "+N:"")})}function Na(c,g){c.info(function(){return"TIMEOUT: "+g})}ws.prototype.info=function(){};function ff(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var N=w[c];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<Y.length;ye++)Y[ye]=""}}}}return ka(w)}catch{return g}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function Ts(){}V(Ts,vs),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},ir=new Ts;function sr(c,g,w,N){this.j=c,this.i=g,this.l=w,this.R=N||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var Oa={},po={};function mo(c,g,w){c.L=1,c.v=xi(Rn(g)),c.m=w,c.P=!0,Da(c,null)}function Da(c,g){c.F=Date.now(),ot(c),c.A=Rn(c.v);var w=c.A,N=c.R;Array.isArray(N)||(N=[String(N)]),Pi(w.i,"t",N),c.C=0,w=c.j.J,c.h=new au,c.g=bu(c.j,w?g:null,!c.m),0<c.O&&(c.M=new gs(P(c.Y,c,c.g),c.O)),g=c.U,w=c.g,N=c.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ia[0]=Y.toString()),Y=Ia);for(var re=0;re<Y.length;re++){var ye=ct(w,Y[re],N||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Yr(),Es(c.i,c.u,c.A,c.l,c.R,c.m)}sr.prototype.ca=function(c){c=c.target;const g=this.M;g&&mn(c)==3?g.j():this.Y(c)},sr.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=mn(this.g);var g=this.g.Ba();const qn=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Ua(this.g)))){this.J||Ct!=4||g==7||(g==8||0>=qn?Yr(3):Yr(2)),Ss(this);var w=this.g.Z();this.X=w;t:if(lu(this)){var N=Ua(this.g);c="";var Y=N.length,re=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),Ii(this);var ye="";break t}this.h.i=new f.TextDecoder}for(g=0;g<Y;g++)this.h.h=!0,c+=this.h.i.decode(N[g],{stream:!(re&&g==Y-1)});N.length=0,this.h.g+=c,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=w==200,fo(this.i,this.u,this.A,this.l,this.R,Ct,w),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Nt=this.g;if((et=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(et)){var Qe=et;break t}}Qe=null}if(w=Qe)rr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,w);else{this.o=!1,this.s=3,It(12),$n(this),Ii(this);break e}}if(this.P){w=!0;let An;for(;!this.J&&this.C<ye.length;)if(An=hf(this,ye),An==po){Ct==4&&(this.s=4,It(14),w=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Oa){this.s=4,It(15),rr(this.i,this.l,ye,"[Invalid Chunk]"),w=!1;break}else rr(this.i,this.l,An,null),La(this,An);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ye.length!=0||this.h.h||(this.s=1,It(16),w=!1),this.o=this.o&&w,!w)rr(this.i,this.l,ye,"[Invalid Chunked Response]"),$n(this),Ii(this);else if(0<ye.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),$a(Mt),Mt.M=!0,It(11))}}else rr(this.i,this.l,ye,null),La(this,ye);Ct==4&&$n(this),this.o&&!this.J&&(Ct==4?ko(this.j,this):(this.o=!1,ot(this)))}else Eo(this.g),w==400&&0<ye.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),$n(this),Ii(this)}}}catch{}finally{}};function lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hf(c,g){var w=c.C,N=g.indexOf(`
`,w);return N==-1?po:(w=Number(g.substring(w,N)),isNaN(w)?Oa:(N+=1,N+w>g.length?po:(g=g.slice(N,N+w),c.C=N+w,g)))}sr.prototype.cancel=function(){this.J=!0,$n(this)};function ot(c){c.S=Date.now()+c.I,uu(c,c.I)}function uu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=nr(P(c.ba,c),g)}function Ss(c){c.B&&(f.clearTimeout(c.B),c.B=null)}sr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Na(this.i,this.A),this.L!=2&&(Yr(),It(17)),$n(this),this.s=2,Ii(this)):uu(this,this.S-c)};function Ii(c){c.j.G==0||c.J||ko(c.j,c)}function $n(c){Ss(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ba(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function La(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||on(w.h,c))){if(!c.K&&on(w.h,c)&&w.G==3){try{var N=w.Da.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)bo(w),cr(w);else break e;Io(w),It(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=nr(P(w.Za,w),6e3));if(1>=du(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ti(w,11)}else if((c.K||w.g==c)&&bo(w),!Q(g))for(Y=w.Da.g.parse(g),g=0;g<Y.length;g++){let Qe=Y[g];if(w.T=Qe[0],Qe=Qe[1],w.G==2)if(Qe[0]=="c"){w.K=Qe[1],w.ia=Qe[2];const Mt=Qe[3];Mt!=null&&(w.la=Mt,w.j.info("VER="+w.la));const Ct=Qe[4];Ct!=null&&(w.Aa=Ct,w.j.info("SVER="+w.Aa));const qn=Qe[5];qn!=null&&typeof qn=="number"&&0<qn&&(N=1.5*qn,w.L=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const An=c.g;if(An){const Ps=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var re=N.h;re.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Ma(re,re.h),re.h=null))}if(N.D){const xo=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(N.ya=xo,it(N.I,N.D,xo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),N=w;var ye=c;if(N.qa=Iu(N,N.J?N.ia:null,N.W),ye.K){fu(N.h,ye);var et=ye,Nt=N.L;Nt&&(et.I=Nt),et.B&&(Ss(et),ot(et)),N.g=ye}else Rs(N);0<w.i.length&&kr(w)}else Qe[0]!="stop"&&Qe[0]!="close"||ti(w,7);else w.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ti(w,7):Bt(w):Qe[0]!="noop"&&w.l&&w.l.ta(Qe),w.v=0)}}Yr(4)}catch{}}var cu=class{constructor(c,g){this.g=c,this.map=g}};function Is(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function du(c){return c.h?1:c.g?c.g.size:0}function on(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ma(c,g){c.g?c.g.add(g):c.h=g}function fu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Is.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return M(c.i)}function go(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],w=c.length,N=0;N<w;N++)g.push(c[N]);return g}g=[],w=0;for(N in c)g[w++]=c[N];return g}function yo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const N in c)g[w++]=N;return g}}}function bi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=yo(c),N=go(c),Y=N.length,re=0;re<Y;re++)g.call(void 0,N[re],w&&w[re],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var N=c[w].indexOf("="),Y=null;if(0<=N){var re=c[w].substring(0,N);Y=c[w].substring(N+1)}else re=c[w];g(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Xr){this.h=c.h,ks(this,c.j),this.o=c.o,this.g=c.g,ki(this,c.s),this.l=c.l;var g=c.i,w=new Sr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Ci(this,w),this.m=c.m}else c&&(g=String(c).match(bs))?(this.h=!1,ks(this,g[1]||"",!0),this.o=Ke(g[2]||""),this.g=Ke(g[3]||"",!0),ki(this,g[4]),this.l=Ke(g[5]||"",!0),Ci(this,g[6]||"",!0),this.m=Ke(g[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}Xr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ri(g,vo,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ri(g,vo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ri(w,w.charAt(0)=="/"?gu:mu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ri(w,Va)),c.join("")};function Rn(c){return new Xr(c)}function ks(c,g,w){c.j=w?Ke(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ki(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ci(c,g,w){g instanceof Sr?(c.i=g,Ir(c.i,c.h)):(w||(g=Ri(g,yu)),c.i=new Sr(g,c.h))}function it(c,g,w){c.i.set(g,w)}function xi(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ke(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ri(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,pu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vo=/[#\/\?@]/g,mu=/[#\?:]/g,gu=/[#\?]/g,yu=/[#\?@]/g,Va=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function $t(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=Sr.prototype,n.add=function(c,g){$t(this),this.i=null,c=Bn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function or(c,g){$t(c),g=Bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ar(c,g){return $t(c),g=Bn(c,g),c.g.has(g)}n.forEach=function(c,g){$t(this),this.g.forEach(function(w,N){w.forEach(function(Y){c.call(g,Y,N,this)},this)},this)},n.na=function(){$t(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let N=0;N<g.length;N++){const Y=c[N];for(let re=0;re<Y.length;re++)w.push(g[N])}return w},n.V=function(c){$t(this);let g=[];if(typeof c=="string")ar(this,c)&&(g=g.concat(this.g.get(Bn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return $t(this),this.i=null,c=Bn(this,c),ar(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Pi(c,g,w){or(c,g),0<w.length&&(c.i=null,c.g.set(Bn(c,g),M(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var N=g[w];const re=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Y=re;ye[N]!==""&&(Y+="="+encodeURIComponent(String(ye[N]))),c.push(Y)}}return this.i=c.join("&")};function Bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ir(c,g){g&&!c.j&&($t(c),c.i=null,c.g.forEach(function(w,N){var Y=N.toLowerCase();N!=Y&&(or(this,N),Pi(this,Y,w))},c)),c.j=g}function mf(c,g){const w=new ws;if(f.Image){const N=new Image;N.onload=D(pn,w,"TestLoadImage: loaded",!0,g,N),N.onerror=D(pn,w,"TestLoadImage: error",!1,g,N),N.onabort=D(pn,w,"TestLoadImage: abort",!1,g,N),N.ontimeout=D(pn,w,"TestLoadImage: timeout",!1,g,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else g(!1)}function vu(c,g){const w=new ws,N=new AbortController,Y=setTimeout(()=>{N.abort(),pn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:N.signal}).then(re=>{clearTimeout(Y),re.ok?pn(w,"TestPingServer: ok",!0,g):pn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Y),pn(w,"TestPingServer: error",!1,g)})}function pn(c,g,w,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(w)}catch{}}function gf(){this.g=new xa}function _u(c,g,w){const N=w||"";try{bi(c,function(Y,re){let ye=Y;p(Y)&&(ye=ka(Y)),g.push(N+re+"="+encodeURIComponent(ye))})}catch(Y){throw g.push(N+"type="+encodeURIComponent("_badmap")),Y}}function Jr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Jr,vs),Jr.prototype.g=function(){return new Cs(this.l,this.j)},Jr.prototype.i=function(c){return function(){return c}}({});function Cs(c,g){St.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Cs,St),n=Cs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ur(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function wu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?lr(this):ur(this),this.readyState==3&&wu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},n.Qa=function(c){this.g&&(this.response=c,lr(this))},n.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zr(c){let g="";return B(c,function(w,N){g+=N,g+=":",g+=w,g+=`\r
`}),g}function Ai(c,g,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Zr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):it(c,g,w))}function mt(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(mt,St);var yf=/^https?$/i,ja=["POST","PUT"];n=mt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?ao(this.o):ao(ir),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(re){xs(this,re);return}if(c=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)w.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())w.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),Y=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ja,g,void 0))||N||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of w)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(c),this.u=!1}catch(re){xs(this,re)}};function xs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,_o(c),Pn(c)}function _o(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||mn(c)!=4||c.Z()!=2)){if(c.u&&mn(c)==4)Sa(c.Ea,0,c);else if(tt(c,"readystatechange"),mn(c)==4){c.h=!1;try{const ye=c.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var N;if(N=ye===0){var Y=String(c.D).match(bs)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),N=!yf.test(Y?Y.toLowerCase():"")}w=N}if(w)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var re=2<mn(c)?c.g.statusText:""}catch{re=""}c.l=re+" ["+c.Z()+"]",_o(c)}}finally{Pn(c)}}}}function Pn(c,g){if(c.g){wo(c);const w=c.g,N=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||tt(c,"ready");try{w.onreadystatechange=N}catch{}}}function wo(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function mn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ca(g)}};function Ua(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(c){const g={};c=(c.g&&2<=mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(Q(c[N]))continue;var w=O(c[N]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=g[Y]||[];g[Y]=re,re.push(w)}x(g,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function za(c){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,c),this.cb=br("retryDelaySeedMs",1e4,c),this.Wa=br("forwardChannelMaxRetries",2,c),this.wa=br("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(c&&c.concurrentRequestLimit),this.Da=new gf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=za.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,N){It(0),this.W=c,this.H=g||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.I=Iu(this,null,this.W),kr(this)};function Bt(c){if(To(c),c.G==3){var g=c.U++,w=Rn(c.I);if(it(w,"SID",c.K),it(w,"RID",g),it(w,"TYPE","terminate"),ei(c,w),g=new sr(c,c.j,g),g.L=2,g.v=xi(Rn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=g.v,w=!0),w||(g.g=bu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}Su(c)}function cr(c){c.g&&($a(c),c.g.cancel(),c.g=null)}function To(c){cr(c),c.u&&(f.clearTimeout(c.u),c.u=null),bo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function kr(c){if(!xn(c.h)&&!c.s){c.s=!0;var g=c.Ga;T||E(),se||(T(),se=!0),$.add(g,c),c.B=0}}function vf(c,g){return du(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=nr(P(c.Ga,c,g),Tu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Y=new sr(this,this.j,c);let re=this.o;if(this.S&&(re?(re=R(re),_(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Ni(this,Y,g),w=Rn(this.I),it(w,"RID",c),it(w,"CVER",22),this.D&&it(w,"X-HTTP-Session-Id",this.D),ei(this,w),re&&(this.O?g="headers="+encodeURIComponent(String(Zr(re)))+"&"+g:this.m&&Ai(w,this.m,re)),Ma(this.h,Y),this.Ua&&it(w,"TYPE","init"),this.P?(it(w,"$req",g),it(w,"SID","null"),Y.T=!0,mo(Y,w,null)):mo(Y,w,g),this.G=2}}else this.G==3&&(c?So(this,c):this.i.length==0||xn(this.h)||So(this))};function So(c,g){var w;g?w=g.l:w=c.U++;const N=Rn(c.I);it(N,"SID",c.K),it(N,"RID",w),it(N,"AID",c.T),ei(c,N),c.m&&c.o&&Ai(N,c.m,c.o),w=new sr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ni(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ma(c.h,w),mo(w,N,g)}function ei(c,g){c.H&&B(c.H,function(w,N){it(g,N,w)}),c.l&&bi({},function(w,N){it(g,N,w)})}function Ni(c,g,w){w=Math.min(c.i.length,w);var N=c.l?P(c.l.Na,c.l,c):null;e:{var Y=c.i;let re=-1;for(;;){const ye=["count="+w];re==-1?0<w?(re=Y[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let et=!0;for(let Nt=0;Nt<w;Nt++){let Qe=Y[Nt].g;const Mt=Y[Nt].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[Nt].g-100),et=!1;else try{_u(Mt,ye,"req"+Qe+"_")}catch{N&&N(Mt)}}if(et){N=ye.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,N}function Rs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;T||E(),se||(T(),se=!0),$.add(g,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=nr(P(c.Fa,c),Tu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=nr(P(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),cr(this),Eu(this))};function $a(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new sr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Rn(c.qa);it(g,"RID","rpc"),it(g,"SID",c.K),it(g,"AID",c.T),it(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(g,"TO",c.ja),it(g,"TYPE","xmlhttp"),ei(c,g),c.m&&c.o&&Ai(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=xi(Rn(g)),w.m=null,w.P=!0,Da(w,c)}n.Za=function(){this.C!=null&&(this.C=null,cr(this),Io(this),It(19))};function bo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ko(c,g){var w=null;if(c.g==g){bo(c),$a(c),c.g=null;var N=2}else if(on(c.h,g))w=g.D,fu(c.h,g),N=1;else return;if(c.G!=0){if(g.o)if(N==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var Y=c.B;N=_s(),tt(N,new co(N,w)),kr(c)}else Rs(c);else if(Y=g.s,Y==3||Y==0&&0<g.X||!(N==1&&vf(c,g)||N==2&&Io(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),Y){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function Tu(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function ti(c,g){if(c.j.info("Error code "+g),g==2){var w=P(c.fb,c),N=c.Xa;const Y=!N;N=new Xr(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ks(N,"https"),xi(N),Y?mf(N.toString(),w):vu(N.toString(),w)}else It(2);c.G=0,c.l&&c.l.sa(g),Su(c),To(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const g=hu(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Iu(c,g,w){var N=w instanceof Xr?Rn(w):new Xr(w);if(N.g!="")g&&(N.g=g+"."+N.g),ki(N,N.s);else{var Y=f.location;N=Y.protocol,g=g?g+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new Xr(null);N&&ks(re,N),g&&(re.g=g),Y&&ki(re,Y),w&&(re.l=w),N=re}return w=c.D,g=c.ya,w&&g&&it(N,w,g),it(N,"VER",c.la),ei(c,N),N}function bu(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new mt(new Jr({eb:w})):new mt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ba(){}n=Ba.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Co(){}Co.prototype.g=function(c,g){return new an(c,g)};function an(c,g){St.call(this),this.g=new za(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Cr(this)}V(an,St),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Bt(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ka(c),c=w);g.i.push(new cu(g.Ya++,c)),g.G==3&&kr(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,an.aa.N.call(this)};function ku(c){Er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}V(ku,Er);function Cu(){uo.call(this),this.status=1}V(Cu,uo);function Cr(c){this.g=c}V(Cr,Ba),Cr.prototype.ua=function(){tt(this.g,"a")},Cr.prototype.ta=function(c){tt(this.g,new ku(c))},Cr.prototype.sa=function(c){tt(this.g,new Cu)},Cr.prototype.ra=function(){tt(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,B0=function(){return new Co},$0=function(){return _s()},z0=Tr,Cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,Oc=ho,ou.COMPLETE="complete",U0=ou,lo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",St.prototype.listen=St.prototype.K,El=lo,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,F0=mt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore",y_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Dd("@firebase/firestore");function Qo(){return Gs.logLevel}function Ee(n,...e){if(Gs.logLevel<=He.DEBUG){const t=e.map(pm);Gs.debug(`Firestore (${ya}): ${n}`,...t)}}function yi(n,...e){if(Gs.logLevel<=He.ERROR){const t=e.map(pm);Gs.error(`Firestore (${ya}): ${n}`,...t)}}function oa(n,...e){if(Gs.logLevel<=He.WARN){const t=e.map(pm);Gs.warn(`Firestore (${ya}): ${n}`,...t)}}function pm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+n;throw yi(e),new Error(e)}function Ze(n,e){n||Oe()}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fx{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ns,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ns)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new q0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new en(e)}}class Ux{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Ux(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $x{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new v_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new v_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Bx(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function aa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=-62135596800,w_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*w_);return new At(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<__)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-__;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new At(0,0))}static max(){return new Me(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="__name__";class Nr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Oe(),i===void 0?i=e.length-t:i>e.length-t&&Oe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Nr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Nr.isNumericId(e),o=Nr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class lt extends Nr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Nr{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new Kt([E_])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(lt.fromString(e))}static fromName(e){return new xe(lt.fromString(e).popFirst(5))}static empty(){return new xe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function Hx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new ss(o,xe.empty(),e)}function Wx(n){return new ss(n.readTime,n.key,Nl)}class ss{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ss(Me.min(),xe.empty(),Nl)}static max(){return new ss(Me.max(),xe.empty(),Nl)}}function Kx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Gx)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>i(h))}),u=!0,a===o&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(o=>o?ue.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(v=>{u[p]=v,++f,f===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new ue((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function Yx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ld.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function Md(n){return n==null}function rd(n){return n===0&&1/n==-1/0}function Xx(n){return typeof n=="number"&&Number.isInteger(n)&&!rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="";function Jx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=T_(e)),e=Zx(n.get(t),e);return T_(e)}function Zx(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case W0:t+="";break;default:t+=a}}return t}function T_(n){return n+W0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ds(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Wt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Lt(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new G0("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=eR.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function as(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="server_timestamp",Y0="__type__",X0="__previous_value__",J0="__local_write_time__";function Vd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y0])===null||t===void 0?void 0:t.stringValue)===Q0}function jd(n){const e=n.mapValue.fields[X0];return Vd(e)?jd(e):e}function Ol(n){const e=os(n.mapValue.fields[J0].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,i,o,a,u,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p}}const id="(default)";class Dl{constructor(e,t){this.projectId=e,this.database=t||id}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__type__",nR="__max__",bc={mapValue:{}},eE="__vector__",sd="value";function ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vd(n)?4:iR(n)?9007199254740991:rR(n)?10:11:Oe()}function Ur(n,e){if(n===e)return!0;const t=ls(n);if(t!==ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=os(o.timestampValue),f=os(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return as(o.bytesValue).isEqual(as(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return kt(o.geoPointValue.latitude)===kt(a.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return kt(o.integerValue)===kt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=kt(o.doubleValue),f=kt(a.doubleValue);return u===f?rd(u)===rd(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return aa(n.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(S_(u)!==S_(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ur(u[h],f[h])))return!1;return!0}(n,e);default:return Oe()}}function Ll(n,e){return(n.values||[]).find(t=>Ur(t,e))!==void 0}function la(n,e){if(n===e)return 0;const t=ls(n),i=ls(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=kt(a.integerValue||a.doubleValue),h=kt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return b_(n.timestampValue,e.timestampValue);case 4:return b_(Ol(n),Ol(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(a,u){const f=as(a),h=as(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let p=0;p<f.length&&p<h.length;p++){const v=Ge(f[p],h[p]);if(v!==0)return v}return Ge(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ge(kt(a.latitude),kt(u.latitude));return f!==0?f:Ge(kt(a.longitude),kt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,p,v;const I=a.fields||{},P=u.fields||{},D=(f=I[sd])===null||f===void 0?void 0:f.arrayValue,V=(h=P[sd])===null||h===void 0?void 0:h.arrayValue,M=Ge(((p=D==null?void 0:D.values)===null||p===void 0?void 0:p.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:k_(D,V)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===bc.mapValue&&u===bc.mapValue)return 0;if(a===bc.mapValue)return 1;if(u===bc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),p=u.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let I=0;I<h.length&&I<v.length;++I){const P=Ge(h[I],v[I]);if(P!==0)return P;const D=la(f[h[I]],p[v[I]]);if(D!==0)return D}return Ge(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Oe()}}function b_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=os(n),i=os(e),o=Ge(t.seconds,i.seconds);return o!==0?o:Ge(t.nanos,i.nanos)}function k_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=la(t[o],i[o]);if(a)return a}return Ge(t.length,i.length)}function ua(n){return xp(n)}function xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=os(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return as(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=xp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${xp(t.fields[u])}`;return o+"}"}(n.mapValue):Oe()}function Dc(n){switch(ls(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(n);return e?16+Dc(e):16;case 5:return 2*n.stringValue.length;case 6:return as(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Dc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ds(i.fields,(a,u)=>{o+=a.length+Dc(u)}),o}(n.mapValue);default:throw Oe()}}function od(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rp(n){return!!n&&"integerValue"in n}function gm(n){return!!n&&"arrayValue"in n}function C_(n){return!!n&&"nullValue"in n}function x_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lc(n){return!!n&&"mapValue"in n}function rR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z0])===null||t===void 0?void 0:t.stringValue)===eE}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ds(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=bl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=Kt.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=bl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ds(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new In(bl(this.value))}}function tE(n){const e=[];return ds(n.fields,(t,i)=>{const o=new Kt([t]);if(Lc(i)){const a=tE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,o,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new tn(e,0,Me.min(),Me.min(),Me.min(),In.empty(),0)}static newFoundDocument(e,t,i,o){return new tn(e,1,t,Me.min(),i,o,0)}static newNoDocument(e,t){return new tn(e,2,t,Me.min(),Me.min(),In.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Me.min(),Me.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.position=e,this.inclusive=t}}function R_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),t.key):i=la(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function P_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ur(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t="asc"){this.field=e,this.dir=t}}function sR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{}class Pt extends nE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new aR(e,t,i):t==="array-contains"?new cR(e,i):t==="in"?new dR(e,i):t==="not-in"?new fR(e,i):t==="array-contains-any"?new hR(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new lR(e,i):new uR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(la(t,this.value)):t!==null&&ls(this.value)===ls(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends nE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new _r(e,t)}matches(e){return rE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rE(n){return n.op==="and"}function iE(n){return oR(n)&&rE(n)}function oR(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Pp(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(iE(n))return n.filters.map(e=>Pp(e)).join(",");{const e=n.filters.map(t=>Pp(t)).join(",");return`${n.op}(${e})`}}function sE(n,e){return n instanceof Pt?function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&Ur(i.value,o.value)}(n,e):n instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,f)=>a&&sE(u,o.filters[f]),!0):!1}(n,e):void Oe()}function oE(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(oE).join(" ,")+"}"}(n):"Filter"}class aR extends Pt{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class lR extends Pt{constructor(e,t){super(e,"in",t),this.keys=aE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uR extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=aE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class cR extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gm(t)&&Ll(t.arrayValue,this.value)}}class dR extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class fR extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ll(this.value.arrayValue,t)}}class hR extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function A_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new pR(n,e,t,i,o,a,u)}function ym(n){const e=je(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Pp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ua(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ua(i)).join(",")),e.le=t}return e.le}function vm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!P_(n.startAt,e.startAt)&&P_(n.endAt,e.endAt)}function Ap(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t=null,i=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mR(n,e,t,i,o,a,u,f){return new fs(n,e,t,i,o,a,u,f)}function Fd(n){return new fs(n)}function N_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _m(n){return n.collectionGroup!==null}function ea(n){const e=je(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Lt(Kt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ml(a,i))}),t.has(Kt.keyField().canonicalString())||e.he.push(new Ml(Kt.keyField(),i))}return e.he}function Dr(n){const e=je(n);return e.Pe||(e.Pe=gR(e,ea(n))),e.Pe}function gR(n,e){if(n.limitType==="F")return A_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ml(o.field,a)});const t=n.endAt?new ca(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ca(n.startAt.position,n.startAt.inclusive):null;return A_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Np(n,e){const t=n.filters.concat([e]);return new fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ad(n,e,t){return new fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ud(n,e){return vm(Dr(n),Dr(e))&&n.limitType===e.limitType}function lE(n){return`${ym(Dr(n))}|lt:${n.limitType}`}function Yo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>oE(o)).join(", ")}]`),Md(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ua(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ua(o)).join(",")),`Target(${i})`}(Dr(n))}; limitType=${n.limitType})`}function zd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):xe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of ea(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,f,h){const p=R_(u,f,h);return u.inclusive?p<=0:p<0}(i.startAt,ea(i),o)||i.endAt&&!function(u,f,h){const p=R_(u,f,h);return u.inclusive?p>=0:p>0}(i.endAt,ea(i),o))}(n,e)}function yR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uE(n){return(e,t)=>{let i=!1;for(const o of ea(n)){const a=vR(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function vR(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),p=f.data.field(a);return h!==null&&p!==null?la(h,p):Oe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Et(xe.comparator);function vi(){return _R}const cE=new Et(xe.comparator);function Tl(...n){let e=cE;for(const t of n)e=e.insert(t.key,t);return e}function dE(n){let e=cE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hs(){return kl()}function fE(){return kl()}function kl(){return new io(n=>n.toString(),(n,e)=>n.isEqual(e))}const wR=new Et(xe.comparator),ER=new Lt(xe.comparator);function We(...n){let e=ER;for(const t of n)e=e.add(t);return e}const TR=new Lt(Ge);function SR(){return TR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function hE(n){return{integerValue:""+n}}function IR(n,e){return Xx(e)?hE(e):wm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this._=void 0}}function bR(n,e,t){return n instanceof ld?function(o,a){const u={fields:{[Y0]:{stringValue:Q0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Vd(a)&&(a=jd(a)),a&&(u.fields[X0]=a),{mapValue:u}}(t,e):n instanceof Vl?mE(n,e):n instanceof jl?gE(n,e):function(o,a){const u=pE(o,a),f=O_(u)+O_(o.Ie);return Rp(u)&&Rp(o.Ie)?hE(f):wm(o.serializer,f)}(n,e)}function kR(n,e,t){return n instanceof Vl?mE(n,e):n instanceof jl?gE(n,e):t}function pE(n,e){return n instanceof ud?function(i){return Rp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class ld extends $d{}class Vl extends $d{constructor(e){super(),this.elements=e}}function mE(n,e){const t=yE(e);for(const i of n.elements)t.some(o=>Ur(o,i))||t.push(i);return{arrayValue:{values:t}}}class jl extends $d{constructor(e){super(),this.elements=e}}function gE(n,e){let t=yE(e);for(const i of n.elements)t=t.filter(o=>!Ur(o,i));return{arrayValue:{values:t}}}class ud extends $d{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function O_(n){return kt(n.integerValue||n.doubleValue)}function yE(n){return gm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function CR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Vl&&o instanceof Vl||i instanceof jl&&o instanceof jl?aa(i.elements,o.elements,Ur):i instanceof ud&&o instanceof ud?Ur(i.Ie,o.Ie):i instanceof ld&&o instanceof ld}(n.transform,e.transform)}class xR{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bd{}function vE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Em(n.key,vr.none()):new Gl(n.key,n.data,vr.none());{const t=n.data,i=In.empty();let o=new Lt(Kt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new hs(n.key,i,new Mn(o.toArray()),vr.none())}}function RR(n,e,t){n instanceof Gl?function(o,a,u){const f=o.value.clone(),h=L_(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof hs?function(o,a,u){if(!Mc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=L_(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(_E(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Cl(n,e,t,i){return n instanceof Gl?function(a,u,f,h){if(!Mc(a.precondition,u))return f;const p=a.value.clone(),v=M_(a.fieldTransforms,h,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof hs?function(a,u,f,h){if(!Mc(a.precondition,u))return f;const p=M_(a.fieldTransforms,h,u),v=u.data;return v.setAll(_E(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(a,u,f){return Mc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function PR(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=pE(i.transform,o||null);a!=null&&(t===null&&(t=In.empty()),t.set(i.field,a))}return t||null}function D_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&aa(i,o,(a,u)=>CR(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends Bd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends Bd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function L_(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,kR(u,f,t[o]))}return i}function M_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,bR(a,u,e))}return i}class Em extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&RR(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Cl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Cl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=fE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=vE(u,f);h!==null&&i.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(t,i)=>D_(t,i))&&aa(this.baseMutations,e.baseMutations,(t,i)=>D_(t,i))}}class Tm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return wR}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Tm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ye;function LR(n){switch(n){case oe.OK:return Oe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Oe()}}function wE(n){if(n===void 0)return yi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Rt.OK:return oe.OK;case Rt.CANCELLED:return oe.CANCELLED;case Rt.UNKNOWN:return oe.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return oe.INTERNAL;case Rt.UNAVAILABLE:return oe.UNAVAILABLE;case Rt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Rt.NOT_FOUND:return oe.NOT_FOUND;case Rt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Rt.ABORTED:return oe.ABORTED;case Rt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Rt.DATA_LOSS:return oe.DATA_LOSS;default:return Oe()}}(Ye=Rt||(Rt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new ts([4294967295,4294967295],0);function V_(n){const e=MR().encode(n),t=new j0;return t.update(e),new Uint8Array(t.digest())}function j_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ts([t,i],0),new ts([o,a],0)]}class Sm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Sl(`Invalid padding: ${t}`);if(i<0)throw new Sl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ts.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(ts.fromNumber(i)));return o.compare(VR)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=V_(e),[i,o]=j_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Sm(a,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=V_(e),[i,o]=j_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new qd(Me.min(),o,new Et(Ge),vi(),We())}}class Ql{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ql(i,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class EE{constructor(e,t){this.targetId=e,this.ge=t}}class TE{constructor(e,t,i=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class F_{constructor(){this.pe=0,this.ye=U_(),this.we=Gt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=We(),t=We(),i=We();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Oe()}}),new Ql(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=U_()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class jR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vi(),this.$e=kc(),this.Ke=kc(),this.Ue=new Et(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(Ap(a))if(i===0){const u=new xe(a.path);this.ze(t,u,tn.newNoDocument(u,Me.min()))}else Ze(i===1);else{const u=this.et(t);if(u!==i){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=as(i).toUint8Array()}catch(h){if(h instanceof G0)return oa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Sm(u,o,a)}catch(h){return oa(h instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&Ap(f.target)){const h=new xe(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,tn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let i=We();this.Ke.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new qd(e,t,this.Ue,this.Qe,i);return this.Qe=vi(),this.$e=kc(),this.Ke=kc(),this.Ue=new Et(Ge),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new F_,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Lt(Ge),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Lt(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new F_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function kc(){return new Et(xe.comparator)}function U_(){return new Et(xe.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},UR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class $R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Op(n,e){return n.useProto3Json||Md(e)?e:{value:e}}function cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BR(n,e){return cd(n,e.toTimestamp())}function Lr(n){return Ze(!!n),Me.fromTimestamp(function(t){const i=os(t);return new At(i.seconds,i.nanos)}(n))}function Im(n,e){return Dp(n,e).canonicalString()}function Dp(n,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function IE(n){const e=lt.fromString(n);return Ze(RE(e)),e}function Lp(n,e){return Im(n.databaseId,e.path)}function up(n,e){const t=IE(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(kE(t))}function bE(n,e){return Im(n.databaseId,e)}function qR(n){const e=IE(n);return e.length===4?lt.emptyPath():kE(e)}function Mp(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kE(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function z_(n,e,t){return{name:Lp(n,e),fields:t.value.mapValue.fields}}function HR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Ze(v===void 0||typeof v=="string"),Gt.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Gt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const v=p.code===void 0?oe.UNKNOWN:wE(p.code);return new ve(v,p.message||"")}(u);t=new TE(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=up(n,i.document.name),a=Lr(i.document.updateTime),u=i.document.createTime?Lr(i.document.createTime):Me.min(),f=new In({mapValue:{fields:i.document.fields}}),h=tn.newFoundDocument(o,a,u,f),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Vc(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=up(n,i.document),a=i.readTime?Lr(i.readTime):Me.min(),u=tn.newNoDocument(o,a),f=i.removedTargetIds||[];t=new Vc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=up(n,i.document),a=i.removedTargetIds||[];t=new Vc([],a,o,null)}else{if(!("filter"in e))return Oe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new DR(o,a),f=i.targetId;t=new EE(f,u)}}return t}function WR(n,e){let t;if(e instanceof Gl)t={update:z_(n,e.key,e.value)};else if(e instanceof Em)t={delete:Lp(n,e.key)};else if(e instanceof hs)t={update:z_(n,e.key,e.data),updateMask:tP(e.fieldMask)};else{if(!(e instanceof AR))return Oe();t={verify:Lp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof ld)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ud)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Oe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:BR(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe()}(n,e.precondition)),t}function KR(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Lr(o.updateTime):Lr(a);return u.isEqual(Me.min())&&(u=Lr(a)),new xR(u,o.transformResults||[])}(t,e))):[]}function GR(n,e){return{documents:[bE(n,e.path)]}}function QR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=bE(n,o);const a=function(p){if(p.length!==0)return xE(_r.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(P){return{field:Xo(P.field),direction:JR(P.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Op(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:o}}function YR(n){let e=qR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(I){const P=CE(I);return P instanceof _r&&iE(P)?P.getFilters():[P]}(t.where));let u=[];t.orderBy&&(u=function(I){return I.map(P=>function(V){return new Ml(Jo(V.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(P))}(t.orderBy));let f=null;t.limit&&(f=function(I){let P;return P=typeof I=="object"?I.value:I,Md(P)?null:P}(t.limit));let h=null;t.startAt&&(h=function(I){const P=!!I.before,D=I.values||[];return new ca(D,P)}(t.startAt));let p=null;return t.endAt&&(p=function(I){const P=!I.before,D=I.values||[];return new ca(D,P)}(t.endAt)),mR(e,o,u,a,f,"F",h,p)}function XR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jo(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jo(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Jo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>CE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe()}}(t.compositeFilter.op))}(n):Oe()}function JR(n){return FR[n]}function ZR(n){return UR[n]}function eP(n){return zR[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function Jo(n){return Kt.fromServerFormat(n.fieldPath)}function xE(n){return n instanceof Pt?function(t){if(t.op==="=="){if(x_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(C_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(x_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(C_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:ZR(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(o=>xE(o));return i.length===1?i[0]:{compositeFilter:{op:eP(t.op),filters:i}}}(n):Oe()}function tP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,i,o,a=Me.min(),u=Me.min(),f=Gt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.Tt=e}}function rP(n){const e=YR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.Tn=new sP}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ss.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class sP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Lt(lt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PE=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(PE,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new da(0)}static Un(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",oP=1048576;function q_([n,e],[t,i]){const o=Ge(n,t);return o===0?Ge(e,i):o}class aP{constructor(e){this.Hn=e,this.buffer=new Lt(q_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();q_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(B_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_a(t)?Ee(B_,"Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.er(3e5)})}}class uP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Ld.ae);const i=new aP(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve($_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,u,f,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,u=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(a=I,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(p=Date.now(),Qo()<=He.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${I} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:I})))}}function cP(n,e){return new uP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Cl(i.mutation,o,Mn.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=Tl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let a=vi();const u=kl(),f=function(){return kl()}();return t.forEach((h,p)=>{const v=i.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof hs)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Cl(v.mutation,p,v.mutation.getFieldMask(),At.now())):u.set(p.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var I;return f.set(p,new fP(v,(I=u.get(p))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const i=kl();let o=new Et((u,f)=>u-f),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let v=i.get(h)||Mn.empty();v=f.applyToLocalView(p,v),i.set(h,v);const I=(o.get(f.batchId)||We()).add(h);o=o.insert(f.batchId,I)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,v=h.value,I=fE();v.forEach(P=>{if(!a.has(P)){const D=vE(t.get(P),i.get(P));D!==null&&I.set(P,D),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,I))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_m(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ue.resolve(Hs());let f=Nl,h=a;return u.next(p=>ue.forEach(p,(v,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),a.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(P=>{h=h.insert(v,P)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,We())).next(v=>({batchId:f,changes:dE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let o=Tl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=Tl();return this.indexManager.getCollectionParents(e,a).next(f=>ue.forEach(f,h=>{const p=function(I,P){return new fs(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(v=>{v.forEach((I,P)=>{u=u.insert(I,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((h,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,tn.newInvalidDocument(v)))});let f=Tl();return u.forEach((h,p)=>{const v=a.get(h);v!==void 0&&Cl(v.mutation,p,Mn.empty(),At.now()),zd(t,p)&&(f=f.insert(h,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:rP(o.bundledQuery),readTime:Lr(o.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.overlays=new Et(xe.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hs();return ue.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const o=Hs(),a=t.length+1,u=new xe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>i&&o.set(h.getKey(),h)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Et((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=a.get(p.largestBatchId);v===null&&(v=Hs(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Hs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=o)););return ue.resolve(f)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new OR(t,i));let a=this.Rr.get(t);a===void 0&&(a=We(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Vr=new Lt(Ut.mr),this.gr=new Lt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ut(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ut(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new xe(new lt([])),i=new Ut(t,e),o=new Ut(t,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new xe(new lt([])),i=new Ut(t,e),o=new Ut(t,e+1);let a=We();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ut(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return xe.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Ut.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NR(a,t,i,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Ut(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?mm:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(Ge);return t.forEach(o=>{const a=new Ut(o,0),u=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{i=i.add(f.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;xe.isDocumentKey(a)||(a=a.child(""));const u=new Ut(new xe(a),0);let f=new Lt(Ge);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(f=f.add(h.Cr)),!0)},u),ue.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,o=>{const a=new Ut(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ut(t,0),o=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.kr=e,this.docs=function(){return new Et(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=vi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():tn.newInvalidDocument(o))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=vi();const u=t.path,f=new xe(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Kx(Wx(v),i)<=0||(o.has(v.key)||zd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Oe()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _P(this)}getSize(e){return ue.resolve(this.size)}}class _P extends dP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.persistence=e,this.Qr=new io(t=>ym(t),vm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.$r=0,this.Kr=new bm,this.targetCount=0,this.Ur=da.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new da(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ue.waitFor(a).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ld(0),this.zr=!1,this.zr=!0,this.jr=new gP,this.referenceDelegate=e(this),this.Hr=new wP(this),this.indexManager=new iP,this.remoteDocumentCache=function(o){return new vP(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new nP(t),this.Yr=new pP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new yP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new EP(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class EP extends Qx{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.ti=new bm,this.ni=null}static ri(e){return new km(e)}get ii(){if(this.ni)return this.ni;throw Oe()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const o=xe.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Me.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class dd{constructor(e,t){this.persistence=e,this.oi=new io(i=>Jx(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=cP(this,t)}static ri(e,t){return new dd(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ue.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(i++,a.removeEntry(u,Me.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dc(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ue.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=We(),o=We();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Cm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yC()?8:Yx(rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new TP;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Qo()<=He.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Qo()<=He.DEBUG&&Ee("QueryEngine","Query:",Yo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Qo()<=He.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):ue.resolve())}rs(e,t){if(N_(t))return ue.resolve(null);let i=Dr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ad(t,null,"F"),i=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=We(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.cs(t,f);return this.ls(t,p,u,h.readTime)?this.rs(e,ad(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,i,o){return N_(t)||o.isEqual(Me.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(t,a);return this.ls(t,u,i,o)?ue.resolve(null):(Qo()<=He.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yo(t)),this.hs(e,u,t,Hx(o,Nl)).next(f=>f))})}cs(e,t){let i=new Lt(uE(e));return t.forEach((o,a)=>{zd(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return Qo()<=He.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.ns.getDocumentsMatchingQuery(e,t,ss.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",IP=3e8;class bP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Et(Ge),this.Is=new io(a=>ym(a),vm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function kP(n,e,t,i){return new bP(n,e,t,i)}async function NE(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let h=We();for(const p of o){u.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of a){f.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(i,h).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:f}))})})}function CP(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,p,v){const I=p.batch,P=I.keys();let D=ue.resolve();return P.forEach(V=>{D=D.next(()=>v.getEntry(h,V)).next(M=>{const j=p.docVersions.get(V);Ze(j!==null),M.version.compareTo(j)<0&&(I.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))})}),D.next(()=>f.mutationQueue.removeMutationBatch(h,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=We();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function OE(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function xP(n,e){const t=je(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,I)=>{const P=o.get(I);if(!P)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,I).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,I)));let D=P.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(I)!==null?D=D.withResumeToken(Gt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,i)),o=o.insert(I,D),function(M,j,q){return M.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=IP?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(P,D,v)&&f.push(t.Hr.updateTargetData(a,D))});let h=vi(),p=We();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(RP(a,u,e.documentUpdates).next(v=>{h=v.Vs,p=v.fs})),!i.isEqual(Me.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(I=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return ue.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ts=o,a))}function RP(n,e,t){let i=We(),o=We();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=vi();return t.forEach((f,h)=>{const p=a.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Ee(xm,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function PP(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=mm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AP(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,ue.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Ji(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Vp(n,e,t){const i=je(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!_a(u))throw u;Ee(xm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function H_(n,e,t){const i=je(n);let o=Me.min(),a=We();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,v){const I=je(h),P=I.Is.get(v);return P!==void 0?ue.resolve(I.Ts.get(P)):I.Hr.getTargetData(p,v)}(i,u,Dr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:Me.min(),t?a:We())).next(f=>(NP(i,yR(e),f),{documents:f,gs:a})))}function NP(n,e,t){let i=n.Es.get(e)||Me.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class W_{constructor(){this.activeTargetIds=SR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OP{constructor(){this.ho=new W_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new W_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class G_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(K_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function jp(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",LP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===id?`project_id=${i}`:`project_id=${i}&database_id=${o}`}bo(e,t,i,o,a){const u=jp(),f=this.So(e,t.toUriEncodedString());Ee(cp,`Sending RPC '${e}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,i).then(p=>(Ee(cp,`Received RPC '${e}' ${u}: `,p),p),p=>{throw oa(cp,`RPC '${e}' ${u} failed with error: `,p,"url: ",f,"request:",i),p})}Co(e,t,i,o,a,u){return this.bo(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}So(e,t){const i=LP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class jP extends MP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=jp();return new Promise((u,f)=>{const h=new F0;h.setWithCredentials(!0),h.listenOnce(U0.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Oc.NO_ERROR:const v=h.getResponseJson();Ee(Zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Oc.TIMEOUT:Ee(Zt,`RPC '${e}' ${a} timed out`),f(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const I=h.getStatus();if(Ee(Zt,`RPC '${e}' ${a} failed with status:`,I,"response text:",h.getResponseText()),I>0){let P=h.getResponseJson();Array.isArray(P)&&(P=P[0]);const D=P==null?void 0:P.error;if(D&&D.status&&D.message){const V=function(j){const q=j.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(q)>=0?q:oe.UNKNOWN}(D.status);f(new ve(V,D.message))}else f(new ve(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{Ee(Zt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);Ee(Zt,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",p,i,15)})}Wo(e,t,i){const o=jp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=B0(),f=$0(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const v=a.join("");Ee(Zt,`Creating RPC '${e}' stream ${o}: ${v}`,h);const I=u.createWebChannel(v,h);let P=!1,D=!1;const V=new VP({Fo:j=>{D?Ee(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(P||(Ee(Zt,`Opening RPC '${e}' stream ${o} transport.`),I.open(),P=!0),Ee(Zt,`RPC '${e}' stream ${o} sending:`,j),I.send(j))},Mo:()=>I.close()}),M=(j,q,Q)=>{j.listen(q,G=>{try{Q(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return M(I,El.EventType.OPEN,()=>{D||(Ee(Zt,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),M(I,El.EventType.CLOSE,()=>{D||(D=!0,Ee(Zt,`RPC '${e}' stream ${o} transport closed`),V.Ko())}),M(I,El.EventType.ERROR,j=>{D||(D=!0,oa(Zt,`RPC '${e}' stream ${o} transport errored:`,j),V.Ko(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),M(I,El.EventType.MESSAGE,j=>{var q;if(!D){const Q=j.data[0];Ze(!!Q);const G=Q,ee=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(ee){Ee(Zt,`RPC '${e}' stream ${o} received error:`,ee);const U=ee.status;let B=function(S){const _=Rt[S];if(_!==void 0)return wE(_)}(U),x=ee.message;B===void 0&&(B=oe.INTERNAL,x="Unknown error status: "+U+" with message "+ee.message),D=!0,V.Ko(new ve(B,x)),I.close()}else Ee(Zt,`RPC '${e}' stream ${o} received:`,Q),V.Uo(Q)}}),M(f,z0.STAT_EVENT,j=>{j.stat===Cp.PROXY?Ee(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Cp.NOPROXY&&Ee(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){return new $R(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class LE{constructor(e,t,i,o,a,u,f,h){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new DE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FP extends LE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=HR(this.serializer,e),i=function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Lr(u.readTime):Me.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Mp(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=Ap(h)?{documents:GR(a,h)}:{query:QR(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=SE(a,u.resumeToken);const p=Op(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Me.min())>0){f.readTime=cd(a,u.snapshotVersion.toTimestamp());const p=Op(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const i=XR(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Mp(this.serializer),t.removeTarget=e,this.I_(t)}}class UP extends LE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=KR(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Mp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>WR(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{}class $P extends zP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.bo(e,Dp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(oe.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Dp(t,i),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yi(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class qP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{so(this)&&(Ee(Qs,"Restarting streams for network reachability change."),await async function(h){const p=je(h);p.W_.add(4),await Yl(p),p.j_.set("Unknown"),p.W_.delete(4),await Wd(p)}(this))})}),this.j_=new BP(i,o)}}async function Wd(n){if(so(n))for(const e of n.G_)await e(!0)}async function Yl(n){for(const e of n.G_)await e(!1)}function ME(n,e){const t=je(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Nm(t)?Am(t):wa(t).c_()&&Pm(t,e))}function Rm(n,e){const t=je(n),i=wa(t);t.U_.delete(e),i.c_()&&VE(t,e),t.U_.size===0&&(i.c_()?i.P_():so(t)&&t.j_.set("Unknown"))}function Pm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wa(n).y_(e)}function VE(n,e){n.H_.Ne(e),wa(n).w_(e)}function Am(n){n.H_=new jR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),wa(n).start(),n.j_.B_()}function Nm(n){return so(n)&&!wa(n).u_()&&n.U_.size>0}function so(n){return je(n).W_.size===0}function jE(n){n.H_=void 0}async function HP(n){n.j_.set("Online")}async function WP(n){n.U_.forEach((e,t)=>{Pm(n,e)})}async function KP(n,e){jE(n),Nm(n)?(n.j_.q_(e),Am(n)):n.j_.set("Unknown")}async function GP(n,e,t){if(n.j_.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.U_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(i){Ee(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fd(n,i)}else if(e instanceof Vc?n.H_.We(e):e instanceof EE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Me.min()))try{const i=await OE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.U_.get(p);v&&a.U_.set(p,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,p)=>{const v=a.U_.get(h);if(!v)return;a.U_.set(h,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),VE(a,h);const I=new Ji(v.target,h,p,v.sequenceNumber);Pm(a,I)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Ee(Qs,"Failed to raise snapshot:",i),await fd(n,i)}}async function fd(n,e,t){if(!_a(e))throw e;n.W_.add(1),await Yl(n),n.j_.set("Offline"),t||(t=()=>OE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Qs,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Wd(n)})}function FE(n,e){return e().catch(t=>fd(n,t,e))}async function Kd(n){const e=je(n),t=us(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:mm;for(;QP(e);)try{const o=await PP(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,YP(e,o)}catch(o){await fd(e,o)}UE(e)&&zE(e)}function QP(n){return so(n)&&n.K_.length<10}function YP(n,e){n.K_.push(e);const t=us(n);t.c_()&&t.b_&&t.S_(e.mutations)}function UE(n){return so(n)&&!us(n).u_()&&n.K_.length>0}function zE(n){us(n).start()}async function XP(n){us(n).C_()}async function JP(n){const e=us(n);for(const t of n.K_)e.S_(t.mutations)}async function ZP(n,e,t){const i=n.K_.shift(),o=Tm.from(i,e,t);await FE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Kd(n)}async function eA(n,e){e&&us(n).b_&&await async function(i,o){if(function(u){return LR(u)&&u!==oe.ABORTED}(o.code)){const a=i.K_.shift();us(i).h_(),await FE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Kd(i)}}(n,e),UE(n)&&zE(n)}async function Y_(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Ee(Qs,"RemoteStore received new credentials");const i=so(t);t.W_.add(3),await Yl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Wd(t)}async function tA(n,e){const t=je(n);e?(t.W_.delete(2),await Wd(t)):e||(t.W_.add(2),await Yl(t),t.j_.set("Unknown"))}function wa(n){return n.J_||(n.J_=function(t,i,o){const a=je(t);return a.M_(),new FP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:HP.bind(null,n),No:WP.bind(null,n),Lo:KP.bind(null,n),p_:GP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Nm(n)?Am(n):n.j_.set("Unknown")):(await n.J_.stop(),jE(n))})),n.J_}function us(n){return n.Y_||(n.Y_=function(t,i,o){const a=je(t);return a.M_(),new UP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:XP.bind(null,n),Lo:eA.bind(null,n),D_:JP.bind(null,n),v_:ZP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Kd(n)):(await n.Y_.stop(),n.K_.length>0&&(Ee(Qs,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,f=new Om(e,t,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(n,e){if(yi("AsyncQueue",`${e}: ${n}`),_a(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Tl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Z_=new Et(xe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Oe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class fa{constructor(e,t,i,o,a,u,f,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new fa(e,t,ta.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rA{constructor(){this.queries=J_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=je(t),a=o.queries;o.queries=J_(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function J_(){return new io(n=>lE(n),Ud)}async function $E(n,e){const t=je(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new nA,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Dm(u,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Lm(t)}async function BE(n,e){const t=je(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function iA(n,e){const t=je(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(i=!0);u.ea=o}}i&&Lm(t)}function sA(n,e,t){const i=je(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function Lm(n){n.ia.forEach(e=>{e.next()})}var Fp,Z_;(Z_=Fp||(Fp={}))._a="default",Z_.Cache="cache";class qE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new fa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class oA{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=We(),this.mutatedKeys=We(),this.ya=uE(e),this.wa=new ta(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new X_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,I)=>{const P=o.get(v),D=zd(this.query,I)?I:null,V=!!P&&this.mutatedKeys.has(P.key),M=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let j=!1;P&&D?P.data.isEqual(D.data)?V!==M&&(i.track({type:3,doc:D}),j=!0):this.va(P,D)||(i.track({type:2,doc:D}),j=!0,(h&&this.ya(D,h)>0||p&&this.ya(D,p)<0)&&(f=!0)):!P&&D?(i.track({type:0,doc:D}),j=!0):P&&!D&&(i.track({type:1,doc:P}),j=!0,(h||p)&&(f=!0)),j&&(D?(u=u.add(D),a=M?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,I)=>function(D,V){const M=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return M(D)-M(V)}(v.type,I.type)||this.ya(v.doc,I.doc)),this.Ca(i),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,p=h!==this.ga;return this.ga=h,u.length!==0||p?{snapshot:new fa(this.query,e.wa,a,u,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new X_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=We(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new WE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new HE(i))}),t}Oa(e){this.fa=e.gs,this.pa=We();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return fa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Mm="SyncEngine";class aA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lA{constructor(e){this.key=e,this.Ba=!1}}class uA{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new io(f=>lE(f),Ud),this.qa=new Map,this.Qa=new Set,this.$a=new Et(xe.comparator),this.Ka=new Map,this.Ua=new bm,this.Wa={},this.Ga=new Map,this.za=da.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cA(n,e,t=!0){const i=JE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await KE(i,e,t,!0),o}async function dA(n,e){const t=JE(n);await KE(t,e,!0,!1)}async function KE(n,e,t,i){const o=await AP(n.localStore,Dr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await fA(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&ME(n.remoteStore,o),f}async function fA(n,e,t,i,o){n.Ha=(I,P,D)=>async function(M,j,q,Q){let G=j.view.Sa(q);G.ls&&(G=await H_(M.localStore,j.query,!1).then(({documents:x})=>j.view.Sa(x,G)));const ee=Q&&Q.targetChanges.get(j.targetId),U=Q&&Q.targetMismatches.get(j.targetId)!=null,B=j.view.applyChanges(G,M.isPrimaryClient,ee,U);return tw(M,j.targetId,B.Ma),B.snapshot}(n,I,P,D);const a=await H_(n.localStore,e,!0),u=new oA(e,a.gs),f=u.Sa(a.documents),h=Ql.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),p=u.applyChanges(f,n.isPrimaryClient,h);tw(n,t,p.Ma);const v=new aA(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function hA(n,e,t){const i=je(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!Ud(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Rm(i.remoteStore,o.targetId),Up(i,o.targetId)}).catch(va)):(Up(i,o.targetId),await Vp(i.localStore,o.targetId,!0))}async function pA(n,e){const t=je(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Rm(t.remoteStore,i.targetId))}async function mA(n,e,t){const i=TA(n);try{const o=await function(u,f){const h=je(u),p=At.now(),v=f.reduce((D,V)=>D.add(V.key),We());let I,P;return h.persistence.runTransaction("Locally write mutations","readwrite",D=>{let V=vi(),M=We();return h.ds.getEntries(D,v).next(j=>{V=j,V.forEach((q,Q)=>{Q.isValidDocument()||(M=M.add(q))})}).next(()=>h.localDocuments.getOverlayedDocuments(D,V)).next(j=>{I=j;const q=[];for(const Q of f){const G=PR(Q,I.get(Q.key).overlayedDocument);G!=null&&q.push(new hs(Q.key,G,tE(G.value.mapValue),vr.exists(!0)))}return h.mutationQueue.addMutationBatch(D,p,q,f)}).next(j=>{P=j;const q=j.applyToLocalDocumentSet(I,M);return h.documentOverlayCache.saveOverlays(D,j.batchId,q)})}).then(()=>({batchId:P.batchId,changes:dE(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let p=u.Wa[u.currentUser.toKey()];p||(p=new Et(Ge)),p=p.insert(f,h),u.Wa[u.currentUser.toKey()]=p}(i,o.batchId,t),await Xl(i,o.changes),await Kd(i.remoteStore)}catch(o){const a=Dm(o,"Failed to persist write");t.reject(a)}}async function GE(n,e){const t=je(n);try{const i=await xP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ka.get(a);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ze(u.Ba):o.removedDocuments.size>0&&(Ze(u.Ba),u.Ba=!1))}),await Xl(t,i,e)}catch(i){await va(i)}}function ew(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=je(u);h.onlineState=f;let p=!1;h.queries.forEach((v,I)=>{for(const P of I.ta)P.sa(f)&&(p=!0)}),p&&Lm(h)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function gA(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),a=o&&o.key;if(a){let u=new Et(xe.comparator);u=u.insert(a,tn.newNoDocument(a,Me.min()));const f=We().add(a),h=new qd(Me.min(),new Map,new Et(Ge),u,f);await GE(i,h),i.$a=i.$a.remove(a),i.Ka.delete(e),Vm(i)}else await Vp(i.localStore,e,!1).then(()=>Up(i,e,t)).catch(va)}async function yA(n,e){const t=je(n),i=e.batch.batchId;try{const o=await CP(t.localStore,e);YE(t,i,null),QE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Xl(t,o)}catch(o){await va(o)}}async function vA(n,e,t){const i=je(n);try{const o=await function(u,f){const h=je(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,f).next(I=>(Ze(I!==null),v=I.keys(),h.mutationQueue.removeMutationBatch(p,I))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(i.localStore,e);YE(i,e,t),QE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Xl(i,o)}catch(o){await va(o)}}function QE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function YE(n,e,t){const i=je(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Up(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||XE(n,i)})}function XE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Rm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Vm(n))}function tw(n,e,t){for(const i of t)i instanceof HE?(n.Ua.addReference(i.key,e),_A(n,i)):i instanceof WE?(Ee(Mm,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||XE(n,i.key)):Oe()}function _A(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Ee(Mm,"New document in limbo: "+t),n.Qa.add(i),Vm(n))}function Vm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new xe(lt.fromString(e)),i=n.za.next();n.Ka.set(i,new lA(t)),n.$a=n.$a.insert(t,i),ME(n.remoteStore,new Ji(Dr(Fd(t.path)),i,"TargetPurposeLimboResolution",Ld.ae))}}async function Xl(n,e,t){const i=je(n),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((f,h)=>{u.push(i.Ha(h,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const I=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,I?"current":"not-current")}if(p){o.push(p);const I=Cm.Yi(h.targetId,p);a.push(I)}}))}),await Promise.all(u),i.La.p_(o),await async function(h,p){const v=je(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ue.forEach(p,P=>ue.forEach(P.Hi,D=>v.persistence.referenceDelegate.addReference(I,P.targetId,D)).next(()=>ue.forEach(P.Ji,D=>v.persistence.referenceDelegate.removeReference(I,P.targetId,D)))))}catch(I){if(!_a(I))throw I;Ee(xm,"Failed to update sequence numbers: "+I)}for(const I of p){const P=I.targetId;if(!I.fromCache){const D=v.Ts.get(P),V=D.snapshotVersion,M=D.withLastLimboFreeSnapshotVersion(V);v.Ts=v.Ts.insert(P,M)}}}(i.localStore,a))}async function wA(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Ee(Mm,"User change. New user:",e.toKey());const i=await NE(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new ve(oe.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xl(t,i.Rs)}}function EA(n,e){const t=je(n),i=t.Ka.get(e);if(i&&i.Ba)return We().add(i.key);{let o=We();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.ba)}return o}}function JE(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gA.bind(null,e),e.La.p_=iA.bind(null,e.eventManager),e.La.Ja=sA.bind(null,e.eventManager),e}function TA(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vA.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return kP(this.persistence,new SP,e.initialUser,this.serializer)}Xa(e){return new AE(km.ri,this.serializer)}Za(e){return new OP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class SA extends hd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof dd);const i=this.persistence.referenceDelegate.garbageCollector;return new lP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new AE(i=>dd.ri(i,t),this.serializer)}}class zp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ew(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wA.bind(null,this.syncEngine),await tA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rA}()}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),i=function(a){return new jP(a)}(e.databaseInfo);return function(a,u,f,h){return new $P(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,f){return new qP(i,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>ew(this.syncEngine,t,0),function(){return G_.D()?new G_:new DP}())}createSyncEngine(e,t){return function(o,a,u,f,h,p,v){const I=new uA(o,a,u,f,h,p);return v&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=je(o);Ee(Qs,"RemoteStore shutting down."),a.W_.add(5),await Yl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class IA{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=H0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Ee(cs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ee(cs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Dm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function fp(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(cs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await NE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bA(n);Ee(cs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Y_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Y_(e.remoteStore,o)),n._onlineComponents=e}async function bA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(cs,"Using user provided OfflineComponentProvider");try{await fp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;oa("Error using user provided cache. Falling back to memory cache: "+t),await fp(n,new hd)}}else Ee(cs,"Using default OfflineComponentProvider"),await fp(n,new SA(void 0));return n._offlineComponents}async function eT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(cs,"Using user provided OnlineComponentProvider"),await nw(n,n._uninitializedComponentsProvider._online)):(Ee(cs,"Using default OnlineComponentProvider"),await nw(n,new zp))),n._onlineComponents}function kA(n){return eT(n).then(e=>e.syncEngine)}async function $p(n){const e=await eT(n),t=e.eventManager;return t.onListen=cA.bind(null,e.syncEngine),t.onUnlisten=hA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pA.bind(null,e.syncEngine),t}function CA(n,e,t={}){const i=new ns;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,p){const v=new ZE({next:P=>{v.su(),u.enqueueAndForget(()=>BE(a,I));const D=P.docs.has(f);!D&&P.fromCache?p.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&P.fromCache&&h&&h.source==="server"?p.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(P)},error:P=>p.reject(P)}),I=new qE(Fd(f.path),v,{includeMetadataChanges:!0,Ta:!0});return $E(a,I)}(await $p(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xA(n,e,t,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iw(n){if(!xe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sw(n){if(xe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe()}function Mr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gd(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RA(n,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firestore.googleapis.com",ow=!0;class aw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=ow}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ow;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oP)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Vx;switch(i.type){case"firstParty":return new zx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=rw.get(t);i&&(Ee("ComponentProvider","Removing Datastore"),rw.delete(t),i.terminate())}(this),Promise.resolve()}}function PA(n,e,t,i={}){var o;const a=(n=Mr(n,Qd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==rT&&a.host!==f&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:i});if(!is(h,u)&&(n._setSettings(h),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=en.MOCK_USER;else{p=x0(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const I=i.mockUserToken.sub||i.mockUserToken.user_id;if(!I)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(I)}n._authCredentials=new jx(new q0(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class fn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class rs extends Hr{constructor(e,t,i){super(e,t,Fd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new xe(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Zn(n,e,...t){if(n=ut(n),nT("collection","path",e),n instanceof Qd){const i=lt.fromString(e,...t);return sw(i),new rs(n,null,i)}{if(!(n instanceof fn||n instanceof rs))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return sw(i),new rs(n.firestore,null,i)}}function pd(n,e,...t){if(n=ut(n),arguments.length===1&&(e=H0.newId()),nT("doc","path",e),n instanceof Qd){const i=lt.fromString(e,...t);return iw(i),new fn(n,null,new xe(i))}{if(!(n instanceof fn||n instanceof rs))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return iw(i),new fn(n.firestore,n instanceof rs?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="AsyncQueue";class uw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new DE(this,"async_queue_retry"),this.bu=()=>{const i=dp();i&&Ee(lw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=dp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=dp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ns;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_a(e))throw e;Ee(lw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw yi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Om.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Oe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function cw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ys extends Qd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new uw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function AA(n,e){const t=typeof n=="object"?n:Kl(),i=typeof n=="string"?n:id,o=Ti(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=fm("firestore");a&&PA(o,...a)}return o}function jm(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NA(n),n._firestoreClient}function NA(n){var e,t,i;const o=n._freezeSettings(),a=function(f,h,p,v){return new tR(f,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,tT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new IA(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(Gt.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ha(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=/^__.*__$/;class DA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class iT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new hs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class $m{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return md(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sT(this.Lu)&&OA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class LA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hd(e)}ju(e,t,i,o=!1){return new $m({Lu:e,methodName:t,zu:i,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(n){const e=n._freezeSettings(),t=Hd(n._databaseId);return new LA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MA(n,e,t,i,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Bm("Data must be an object, but it was:",u,i);const f=aT(i,u);let h,p;if(a.merge)h=new Mn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const I of a.mergeFields){const P=Bp(e,I,t);if(!u.contains(P))throw new ve(oe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);uT(v,P)||v.push(P)}h=new Mn(v),p=u.fieldTransforms.filter(I=>h.covers(I.field))}else h=null,p=u.fieldTransforms;return new DA(new In(f),h,p)}class Jd extends Fm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function VA(n,e,t,i){const o=n.ju(1,e,t);Bm("Data must be an object, but it was:",o,i);const a=[],u=In.empty();ds(i,(h,p)=>{const v=qm(e,h,t);p=ut(p);const I=o.Ku(v);if(p instanceof Jd)a.push(v);else{const P=Jl(p,I);P!=null&&(a.push(v),u.set(v,P))}});const f=new Mn(a);return new iT(u,f,o.fieldTransforms)}function jA(n,e,t,i,o,a){const u=n.ju(1,e,t),f=[Bp(e,i,t)],h=[o];if(a.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(Bp(e,a[P])),h.push(a[P+1]);const p=[],v=In.empty();for(let P=f.length-1;P>=0;--P)if(!uT(p,f[P])){const D=f[P];let V=h[P];V=ut(V);const M=u.Ku(D);if(V instanceof Jd)p.push(D);else{const j=Jl(V,M);j!=null&&(p.push(D),v.set(D,j))}}const I=new Mn(p);return new iT(v,I,u.fieldTransforms)}function oT(n,e,t,i=!1){return Jl(t,n.ju(i?4:3,e))}function Jl(n,e){if(lT(n=ut(n)))return Bm("Unsupported field value:",e,n),aT(n,e);if(n instanceof Fm)return function(i,o){if(!sT(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const f of i){let h=Jl(f,o.Uu(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return IR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=At.fromDate(i);return{timestampValue:cd(o.serializer,a)}}if(i instanceof At){const a=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cd(o.serializer,a)}}if(i instanceof Um)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ha)return{bytesValue:SE(o.serializer,i._byteString)};if(i instanceof fn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Im(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof zm)return function(u,f){return{mapValue:{fields:{[Z0]:{stringValue:eE},[sd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return wm(f.serializer,p)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Gd(i)}`)}(n,e)}function aT(n,e){const t={};return K0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(n,(i,o)=>{const a=Jl(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function lT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Um||n instanceof ha||n instanceof fn||n instanceof Fm||n instanceof zm)}function Bm(n,e,t){if(!lT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Gd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Bp(n,e,t){if((e=ut(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return qm(n,e);throw md("Field path arguments must be of type string or ",n,!1,void 0,t)}const FA=new RegExp("[~\\*/\\[\\]]");function qm(n,e,t){if(e.search(FA)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yd(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function md(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${i}`),u&&(h+=` in document ${o}`),h+=")"),new ve(oe.INVALID_ARGUMENT,f+n+h)}function uT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UA extends Hm{data(){return super.data()}}function Zd(n,e){return typeof e=="string"?qm(n,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class Zl extends Wm{}function Ea(n,e,...t){let i=[];e instanceof Wm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(h=>h instanceof Gm).length,f=a.filter(h=>h instanceof ef).length;if(u>1||u>0&&f>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class ef extends Zl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ef(e,t,i)}_apply(e){const t=this._parse(e);return dT(e._query,t),new Hr(e.firestore,e.converter,Np(e._query,t))}_parse(e){const t=Xd(e.firestore);return function(a,u,f,h,p,v,I){let P;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){fw(I,v);const V=[];for(const M of I)V.push(dw(h,a,M));P={arrayValue:{values:V}}}else P=dw(h,a,I)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||fw(I,v),P=oT(f,u,I,v==="in"||v==="not-in");return Pt.create(p,v,P)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Km(n,e,t){const i=e,o=Zd("where",n);return ef._create(o,i,t)}class Gm extends Wm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const f=a.getFlattenedFilters();for(const h of f)dT(u,h),u=Np(u,h)}(e._query,t),new Hr(e.firestore,e.converter,Np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qm extends Zl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qm(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ml(a,u)}(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new fs(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ym(n,e="asc"){const t=e,i=Zd("orderBy",n);return Qm._create(i,t)}class Xm extends Zl{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Xm(e,t,i)}_apply(e){return new Hr(e.firestore,e.converter,ad(e._query,this._limit,this._limitType))}}function Jm(n){return RA("limit",n),Xm._create("limit",n,"F")}class Zm extends Zl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Zm(e,t,i)}_apply(e){const t=cT(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,function(o,a){return new fs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function $A(...n){return Zm._create("startAt",n,!0)}class eg extends Zl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new eg(e,t,i)}_apply(e){const t=cT(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,function(o,a){return new fs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,t))}}function BA(...n){return eg._create("endAt",n,!0)}function cT(n,e,t,i){if(t[0]=ut(t[0]),t[0]instanceof Hm)return function(a,u,f,h,p){if(!h)throw new ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const v=[];for(const I of ea(a))if(I.field.isKeyField())v.push(od(u,h.key));else{const P=h.data.field(I.field);if(Vd(P))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(P===null){const D=I.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}v.push(P)}return new ca(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=Xd(n.firestore);return function(u,f,h,p,v,I){const P=u.explicitOrderBy;if(v.length>P.length)throw new ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let V=0;V<v.length;V++){const M=v[V];if(P[V].field.isKeyField()){if(typeof M!="string")throw new ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof M}`);if(!_m(u)&&M.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${M}' contains a slash.`);const j=u.path.child(lt.fromString(M));if(!xe.isDocumentKey(j))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const q=new xe(j);D.push(od(f,q))}else{const j=oT(h,p,M);D.push(j)}}return new ca(D,I)}(n._query,n.firestore._databaseId,o,e,t,i)}}function dw(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_m(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!xe.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return od(n,new xe(i))}if(t instanceof fn)return od(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gd(t)}.`)}function fw(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dT(n,e){const t=function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qA{convertValue(e,t="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ds(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[sd].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>kt(u.doubleValue));return new zm(a)}convertGeoPoint(e){return new Um(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=os(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Ze(RE(i));const o=new Dl(i.get(1),i.get(3)),a=new xe(i.popFirst(5));return o.isEqual(t)||yi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fT extends Hm{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Zd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jc extends fT{data(e={}){return super.data(e)}}class WA{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jc(this._firestore,this._userDataWriter,i.key,i,new Il(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new jc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Il(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new jc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Il(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:KA(f.type),doc:h,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){n=Mr(n,fn);const e=Mr(n.firestore,Ys);return CA(jm(e),n._key).then(t=>mT(e,n,t))}class hT extends qA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function QA(n,e,t,...i){n=Mr(n,fn);const o=Mr(n.firestore,Ys),a=Xd(o);let u;return u=typeof(e=ut(e))=="string"||e instanceof Yd?jA(a,"updateDoc",n._key,e,t,i):VA(a,"updateDoc",n._key,e),tg(o,[u.toMutation(n._key,vr.exists(!0))])}function YA(n){return tg(Mr(n.firestore,Ys),[new Em(n._key,vr.none())])}function pT(n,e){const t=Mr(n.firestore,Ys),i=pd(n),o=HA(n.converter,e);return tg(t,[MA(Xd(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function Wr(n,...e){var t,i,o;n=ut(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||cw(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(cw(e[u])){const I=e[u];e[u]=(t=I.next)===null||t===void 0?void 0:t.bind(I),e[u+1]=(i=I.error)===null||i===void 0?void 0:i.bind(I),e[u+2]=(o=I.complete)===null||o===void 0?void 0:o.bind(I)}let h,p,v;if(n instanceof fn)p=Mr(n.firestore,Ys),v=Fd(n._key.path),h={next:I=>{e[u]&&e[u](mT(p,n,I))},error:e[u+1],complete:e[u+2]};else{const I=Mr(n,Hr);p=Mr(I.firestore,Ys),v=I._query;const P=new hT(p);h={next:D=>{e[u]&&e[u](new WA(p,P,I,D))},error:e[u+1],complete:e[u+2]},zA(n._query)}return function(P,D,V,M){const j=new ZE(M),q=new qE(D,j,V);return P.asyncQueue.enqueueAndForget(async()=>$E(await $p(P),q)),()=>{j.su(),P.asyncQueue.enqueueAndForget(async()=>BE(await $p(P),q))}}(jm(p),v,f,h)}function tg(n,e){return function(i,o){const a=new ns;return i.asyncQueue.enqueueAndForget(async()=>mA(await kA(i),o,a)),a.promise}(jm(n),e)}function mT(n,e,t){const i=t.docs.get(e._key),o=new hT(n);return new fT(n,o,e._key,i,new Il(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ya=o})(ro),Jn(new Fn("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new Ys(new Fx(i.getProvider("auth-internal")),new $x(u,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(p.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),nn(g_,y_,e),nn(g_,y_,"esm2017")})();var XA="firebase",JA="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(XA,JA,"app");function ng(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZA=gT,yT=new no("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Dd("@firebase/auth");function e1(n,...e){gd.logLevel<=He.WARN&&gd.warn(`Auth (${ro}): ${n}`,...e)}function Fc(n,...e){gd.logLevel<=He.ERROR&&gd.error(`Auth (${ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw rg(n,...e)}function Vr(n,...e){return rg(n,...e)}function vT(n,e,t){const i=Object.assign(Object.assign({},ZA()),{[e]:t});return new no("auth","Firebase",i).create(e,{appName:n.name})}function pi(n){return vT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return yT.create(n,...e)}function Ne(n,e,...t){if(!n)throw rg(e,...t)}function ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function _i(n,e){n||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function t1(){return hw()==="http:"||hw()==="https:"}function hw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t1()||R0()||"connection"in navigator)?navigator.onLine:!0}function r1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,_i(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||mC()}get(){return n1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n,e){_i(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new eu(3e4,6e4);function ps(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ms(n,e,t,i,o={}){return wT(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const f=Wl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return pC()||(p.referrerPolicy="no-referrer"),_T.fetch()(ET(n,n.config.apiHost,t,f),p)})}async function wT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},i1),e);try{const o=new a1(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw xc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw xc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw xc(n,"user-disabled",u);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vT(n,v,p);wr(n,v)}}catch(o){if(o instanceof Un)throw o;wr(n,"network-request-failed",{message:String(o)})}}async function tu(n,e,t,i,o={}){const a=await ms(n,e,t,i,o);return"mfaPendingCredential"in a&&wr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function ET(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?ig(n.config,o):`${n.config.apiScheme}://${o}`}function o1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vr(this.auth,"network-request-failed")),s1.get())})}}function xc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Vr(n,e,i);return o.customData._tokenResponse=t,o}function pw(n){return n!==void 0&&n.enterprise!==void 0}class l1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return o1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u1(n,e){return ms(n,"GET","/v2/recaptchaConfig",ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(n,e){return ms(n,"POST","/v1/accounts:delete",e)}async function TT(n,e){return ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d1(n,e=!1){const t=ut(n),i=await t.getIdToken(e),o=sg(i);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:xl(hp(o.auth_time)),issuedAtTime:xl(hp(o.iat)),expirationTime:xl(hp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hp(n){return Number(n)*1e3}function sg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=I0(t);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function mw(n){const e=sg(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Un&&f1(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function f1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Fl(n,TT(t,{idToken:i}));Ne(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ST(a.providerUserInfo):[],f=m1(n.providerData,u),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?p:!1,I={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Hp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,I)}async function p1(n){const e=ut(n);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m1(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function ST(n){return n.map(e=>{var{providerId:t}=e,i=ng(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(n,e){const t=await wT(n,{},async()=>{const i=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=ET(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",_T.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function y1(n,e){return ms(n,"POST","/v2/accounts:revokeToken",ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=mw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await g1(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new na;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return d1(this,e)}reload(){return p1(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Fl(this,c1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,f,h,p,v;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,P=(o=t.email)!==null&&o!==void 0?o:void 0,D=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,V=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,q=(p=t.createdAt)!==null&&p!==void 0?p:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:ee,isAnonymous:U,providerData:B,stsTokenManager:x}=t;Ne(G&&x,e,"internal-error");const R=na.fromJSON(this.name,x);Ne(typeof G=="string",e,"internal-error"),Ki(I,e.name),Ki(P,e.name),Ne(typeof ee=="boolean",e,"internal-error"),Ne(typeof U=="boolean",e,"internal-error"),Ki(D,e.name),Ki(V,e.name),Ki(M,e.name),Ki(j,e.name),Ki(q,e.name),Ki(Q,e.name);const S=new di({uid:G,auth:e,email:P,emailVerified:ee,displayName:I,isAnonymous:U,photoURL:V,phoneNumber:D,tenantId:M,stsTokenManager:R,createdAt:q,lastLoginAt:Q});return B&&Array.isArray(B)&&(S.providerData=B.map(_=>Object.assign({},_))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,t,i=!1){const o=new na;o.updateFromServerResponse(t);const a=new di({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await yd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ST(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new na;f.updateFromIdToken(i);const h=new di({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;function fi(n){_i(n instanceof Function,"Expected a class definition");let e=gw.get(n);return e?(_i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IT.type="NONE";const yw=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Uc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ra(fi(yw),e,i);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||fi(yw);const u=Uc(i,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(u);if(v){const I=di._fromJSON(e,v);p!==a&&(f=I),a=p;break}}catch{}const h=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ra(a,e,i):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ra(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(AT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bT(n=rn()){return/firefox\//i.test(n)}function kT(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(n=rn()){return/crios\//i.test(n)}function xT(n=rn()){return/iemobile/i.test(n)}function RT(n=rn()){return/android/i.test(n)}function PT(n=rn()){return/blackberry/i.test(n)}function AT(n=rn()){return/webos/i.test(n)}function og(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function v1(n=rn()){var e;return og(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _1(){return gC()&&document.documentMode===10}function NT(n=rn()){return og(n)||RT(n)||AT(n)||PT(n)||/windows phone/i.test(n)||xT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n,e=[]){let t;switch(n){case"Browser":t=vw(rn());break;case"Worker":t=`${vw(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(n,e={}){return ms(n,"GET","/v2/passwordPolicy",ps(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=6;class S1{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:T1,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _w(this),this.idTokenSubscription=new _w(this),this.beforeStateQueue=new w1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await TT(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(pi(this));const t=e?ut(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E1(this),t=new S1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new no("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await y1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&e1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oo(n){return ut(n)}class _w{constructor(e){this.auth=e,this.observer=null,this.addObserver=SC(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b1(n){tf=n}function DT(n){return tf.loadJS(n)}function k1(){return tf.recaptchaEnterpriseScript}function C1(){return tf.gapiScript}function x1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class R1{constructor(){this.enterprise=new P1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class P1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const A1="recaptcha-enterprise",LT="NO_RECAPTCHA";class N1{constructor(e){this.type=A1,this.auth=oo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{u1(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new l1(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(h=>{f(h)})})}function o(a,u,f){const h=window.grecaptcha;pw(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(LT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R1().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(f=>{if(!t&&pw(window.grecaptcha))o(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=k1();h.length!==0&&(h+=f),DT(h).then(()=>{o(f,a,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function ww(n,e,t,i=!1,o=!1){const a=new N1(n);let u;if(o)u=LT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Wp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ww(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ww(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n,e){const t=Ti(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(is(a,e??{}))return o;wr(o,"already-initialized")}return t.initialize({options:e})}function D1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function L1(n,e,t){const i=oo(n);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=MT(e),{host:u,port:f}=M1(e),h=f===null?"":`:${f}`,p={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(is(p,i.config.emulator)&&is(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,V1()}function MT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function M1(n){const e=MT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Ew(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:Ew(u)}}}function Ew(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function V1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function j1(n,e){return ms(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(n,e){return tu(n,"POST","/v1/accounts:signInWithPassword",ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",ps(n,e))}async function z1(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends ag{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ul(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,t,"signInWithPassword",F1);case"emailLink":return U1(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,i,"signUpPassword",j1);case"emailLink":return z1(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e){return tu(n,"POST","/v1/accounts:signInWithIdp",ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="http://localhost";class Xs extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=ng(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Xs(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q1(n){const e=_l(wl(n)).link,t=e?_l(wl(e)).deep_link_id:null,i=_l(wl(n)).deep_link_id;return(i?_l(wl(i)).link:null)||i||t||e||n}class lg{constructor(e){var t,i,o,a,u,f;const h=_l(wl(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,v=(i=h.oobCode)!==null&&i!==void 0?i:null,I=B1((o=h.mode)!==null&&o!==void 0?o:null);Ne(p&&v&&I,"argument-error"),this.apiKey=p,this.operation=I,this.code=v,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=q1(e);try{return new lg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=lg.parseLink(t);return Ne(i,"argument-error"),Ul._fromEmailAndCode(e,i.code,i.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends nu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Qi.credential(t,i)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends nu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends nu{constructor(){super("twitter.com")}static credential(e,t){return Xs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Xi.credential(t,i)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(n,e){return tu(n,"POST","/v1/accounts:signUp",ps(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await di._fromIdTokenResponse(e,i,o),u=Tw(i);return new Js({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Tw(i);return new Js({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Tw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Un{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new vd(e,t,i,o)}}function jT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(n,a,e,i):a})}async function W1(n,e,t=!1){const i=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Js._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(n,e,t=!1){const{auth:i}=n;if(Sn(i.app))return Promise.reject(pi(i));const o="reauthenticate";try{const a=await Fl(n,jT(i,o,e,n),t);Ne(a.idToken,i,"internal-error");const u=sg(a.idToken);Ne(u,i,"internal-error");const{sub:f}=u;return Ne(n.uid===f,i,"user-mismatch"),Js._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&wr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(n,e,t=!1){if(Sn(n.app))return Promise.reject(pi(n));const i="signIn",o=await jT(n,i,e),a=await Js._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function G1(n,e){return FT(oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(n){const e=oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q1(n,e,t){if(Sn(n.app))return Promise.reject(pi(n));const i=oo(n),u=await Wp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H1).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&UT(n),h}),f=await Js._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function Y1(n,e,t){return Sn(n.app)?Promise.reject(pi(n)):G1(ut(n),Ta.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UT(n),i})}function X1(n,e,t,i){return ut(n).onIdTokenChanged(e,t,i)}function J1(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function Z1(n,e,t,i){return ut(n).onAuthStateChanged(e,t,i)}function eN(n){return ut(n).signOut()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=1e3,nN=10;class $T extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);_1()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},tN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$T.type="LOCAL";const rN=$T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BT.type="SESSION";const qT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new nf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async p=>p(t.origin,a)),h=await iN(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const p=ug("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(I){const P=I;if(P.data.eventId===p)switch(P.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(P.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function oN(n){jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function aN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function uN(){return HT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",cN=1,wd="firebaseLocalStorage",KT="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(n,e){return n.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function dN(){const n=indexedDB.deleteDatabase(WT);return new ru(n).toPromise()}function Kp(){const n=indexedDB.open(WT,cN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wd,{keyPath:KT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wd)?e(i):(i.close(),await dN(),e(await Kp()))})})}async function Sw(n,e,t){const i=rf(n,!0).put({[KT]:e,value:t});return new ru(i).toPromise()}async function fN(n,e){const t=rf(n,!1).get(e),i=await new ru(t).toPromise();return i===void 0?null:i.value}function Iw(n,e){const t=rf(n,!0).delete(e);return new ru(t).toPromise()}const hN=800,pN=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>pN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(uN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aN(),!this.activeServiceWorker)return;this.sender=new sN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await Sw(e,_d,"1"),await Iw(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>fN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=rf(o,!1).getAll();return new ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const mN=GT;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n,e){return e?fi(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yN(n){return FT(n.auth,new cg(n),n.bypassAuthState)}function vN(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),K1(t,new cg(n),n.bypassAuthState)}async function _N(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),W1(t,new cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yN;case"linkViaPopup":case"linkViaRedirect":return _N;case"reauthViaPopup":case"reauthViaRedirect":return vN;default:wr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new eu(2e3,1e4);class Zo extends QT{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wN.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="pendingRedirect",zc=new Map;class TN extends QT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const i=await SN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SN(n,e){const t=kN(e),i=bN(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function IN(n,e){zc.set(n._key(),e)}function bN(n){return fi(n._redirectPersistence)}function kN(n){return Uc(EN,n.config.apiKey,n.name)}async function CN(n,e,t=!1){if(Sn(n.app))return Promise.reject(pi(n));const i=oo(n),o=gN(i,e),u=await new TN(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=10*60*1e3;class RN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!YT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Vr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xN&&this.cachedEventUids.clear(),this.cachedEventUids.has(bw(e))}saveEventToCache(e){this.cachedEventUids.add(bw(e)),this.lastProcessedEventTime=Date.now()}}function bw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function YT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(n,e={}){return ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ON=/^https?/;async function DN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AN(n);for(const t of e)try{if(LN(t))return}catch{}wr(n,"unauthorized-domain")}function LN(n){const e=qp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!ON.test(t))return!1;if(NN.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new eu(3e4,6e4);function kw(){const n=jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function VN(n){return new Promise((e,t)=>{var i,o,a;function u(){kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kw(),t(Vr(n,"network-request-failed"))},timeout:MN.get()})}if(!((o=(i=jr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=jr().gapi)===null||a===void 0)&&a.load)u();else{const f=x1("iframefcb");return jr()[f]=()=>{gapi.load?u():t(Vr(n,"network-request-failed"))},DT(`${C1()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw $c=null,e})}let $c=null;function jN(n){return $c=$c||VN(n),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new eu(5e3,15e3),UN="__/auth/iframe",zN="emulator/auth/iframe",$N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qN(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ig(e,zN):`https://${n.config.authDomain}/${UN}`,i={apiKey:e.apiKey,appName:n.name,v:ro},o=BN.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Wl(i).slice(1)}`}async function HN(n){const e=await jN(n),t=jr().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:qN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$N,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Vr(n,"network-request-failed"),f=jr().setTimeout(()=>{a(u)},FN.get());function h(){jr().clearTimeout(f),o(i)}i.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KN=500,GN=600,QN="_blank",YN="http://localhost";class Cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XN(n,e,t,i=KN,o=GN){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},WN),{width:i.toString(),height:o.toString(),top:a,left:u}),p=rn().toLowerCase();t&&(f=CT(p)?QN:t),bT(p)&&(e=e||YN,h.scrollbars="yes");const v=Object.entries(h).reduce((P,[D,V])=>`${P}${D}=${V},`,"");if(v1(p)&&f!=="_self")return JN(e||"",f),new Cw(null);const I=window.open(e||"",f,v);Ne(I,n,"popup-blocked");try{I.focus()}catch{}return new Cw(I)}function JN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function xw(n,e,t,i,o,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ro,eventId:o};if(e instanceof VT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",TC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,I]of Object.entries({}))u[v]=I}if(e instanceof nu){const v=e.getScopes().filter(I=>I!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),p=h?`#${tO}=${encodeURIComponent(h)}`:"";return`${nO(n)}?${Wl(f).slice(1)}${p}`}function nO({config:n}){return n.emulator?ig(n,eO):`https://${n.authDomain}/${ZN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class rO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=CN,this._overrideRedirectResult=IN}async _openPopup(e,t,i,o){var a;_i((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await xw(e,t,i,qp(),o);return XN(e,u,ug())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await xw(e,t,i,qp(),o);return oN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(_i(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await HN(e),i=new RN(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pp,{type:pp},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[pp];u!==void 0&&t(!!u),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NT()||kT()||og()}}const iO=rO;var Rw="@firebase/auth",Pw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aO(n){Jn(new Fn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(n)},p=new I1(i,o,a,h);return D1(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jn(new Fn("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(i=>new sO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(Rw,Pw,oO(n)),nn(Rw,Pw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=5*60,uO=C0("authIdTokenMaxAge")||lO;let Aw=null;const cO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uO)return;const o=t==null?void 0:t.token;Aw!==o&&(Aw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dO(n=Kl()){const e=Ti(n,"auth");if(e.isInitialized())return e.getImmediate();const t=O1(n,{popupRedirectResolver:iO,persistence:[mN,rN,qT]}),i=C0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=cO(a.toString());J1(t,u,()=>u(t.currentUser)),X1(t,f=>u(f))}}const o=b0("auth");return o&&L1(t,`http://${o}`),t}function fO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}b1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Vr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",fO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebasestorage.googleapis.com",hO="storageBucket",pO=2*60*1e3,mO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Un{constructor(e,t,i=0){super(mp(e),`Firebase Storage: ${t} (${mp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zr||(zr={}));function mp(n){return"storage/"+n}function gO(){const n="An unknown error occurred, please check the error payload for server response.";return new Kr(zr.UNKNOWN,n)}function yO(){return new Kr(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vO(){return new Kr(zr.CANCELED,"User canceled the upload/download.")}function _O(n){return new Kr(zr.INVALID_URL,"Invalid URL '"+n+"'.")}function wO(n){return new Kr(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Nw(n){return new Kr(zr.INVALID_ARGUMENT,n)}function JT(){return new Kr(zr.APP_DELETED,"The Firebase app was deleted.")}function EO(n){return new Kr(zr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=yr.makeFromUrl(e,t)}catch{return new yr(e,"")}if(i.path==="")return i;throw wO(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function p(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",I=t.replace(/[.]/g,"\\."),P="(/([^?#]*).*)?$",D=new RegExp(`^https?://${I}/${v}/b/${o}/o${P}`,"i"),V={bucket:1,path:3},M=t===XT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",q=new RegExp(`^https?://${M}/${o}/${j}`,"i"),G=[{regex:f,indices:h,postModify:a},{regex:D,indices:V,postModify:p},{regex:q,indices:{bucket:1,path:2},postModify:p}];for(let ee=0;ee<G.length;ee++){const U=G[ee],B=U.regex.exec(e);if(B){const x=B[U.indices.bucket];let R=B[U.indices.path];R||(R=""),i=new yr(x,R),U.postModify(i);break}}if(i==null)throw _O(e);return i}}class TO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n,e,t){let i=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let p=!1;function v(...j){p||(p=!0,e.apply(null,j))}function I(j){o=setTimeout(()=>{o=null,n(D,h())},j)}function P(){a&&clearTimeout(a)}function D(j,...q){if(p){P();return}if(j){P(),v.call(null,j,...q);return}if(h()||u){P(),v.call(null,j,...q);return}i<64&&(i*=2);let G;f===1?(f=2,G=0):G=(i+Math.random())*1e3,I(G)}let V=!1;function M(j){V||(V=!0,P(),!p&&(o!==null?(j||(f=2),clearTimeout(o),I(0)):j||(f=1)))}return I(0),a=setTimeout(()=>{u=!0,M(!0)},t),M}function IO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){return n!==void 0}function Ow(n,e,t,i){if(i<e)throw Nw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Nw(`Invalid value for '${n}'. Expected ${t} or less.`)}function kO(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ed;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ed||(Ed={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,i,o,a,u,f,h,p,v,I,P=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=I,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,V)=>{this.resolve_=D,this.reject_=V,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Rc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Ed.NO_ERROR,h=a.getStatus();if(!f||CO(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Ed.ABORT;i(!1,new Rc(!1,null,v));return}const p=this.successCodes_.indexOf(h)!==-1;i(!0,new Rc(p,a))})},t=(i,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());bO(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=gO();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?JT():vO();u(h)}else{const h=yO();u(h)}};this.canceled_?t(!1,new Rc(!1,null,!0)):this.backoffId_=SO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function RO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function PO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function NO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function OO(n,e,t,i,o,a,u=!0){const f=kO(n.urlParams),h=n.url+f,p=Object.assign({},n.headers);return AO(p,e),RO(p,t),PO(p,a),NO(p,i),new xO(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function LO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this._service=e,t instanceof yr?this._location=t:this._location=yr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Td(e,t)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LO(this._location.path)}get storage(){return this._service}get parent(){const e=DO(this._location.path);if(e===null)return null;const t=new yr(this._location.bucket,e);return new Td(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw EO(e)}}function Dw(n,e){const t=e==null?void 0:e[hO];return t==null?null:yr.makeFromBucketSpec(t,n)}function MO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:x0(o,n.app.options.projectId))}class VO{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=XT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pO,this._maxUploadRetryTime=mO,this._requests=new Set,o!=null?this._bucket=yr.makeFromBucketSpec(o,this._host):this._bucket=Dw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=Dw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Td(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new TO(JT());{const u=OO(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Lw="@firebase/storage",Mw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="storage";function jO(n=Kl(),e){n=ut(n);const i=Ti(n,ZT).getImmediate({identifier:e}),o=fm("storage");return o&&FO(i,...o),i}function FO(n,e,t,i={}){MO(n,e,t,i)}function UO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new VO(t,i,o,e,ro)}function zO(){Jn(new Fn(ZT,UO,"PUBLIC").setMultipleInstances(!0)),nn(Lw,Mw,""),nn(Lw,Mw,"esm2017")}zO();const eS="@firebase/installations",dg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1e4,nS=`w:${dg}`,rS="FIS_v2",$O="https://firebaseinstallations.googleapis.com/v1",BO=60*60*1e3,qO="installations",HO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zs=new no(qO,HO,WO);function iS(n){return n instanceof Un&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS({projectId:n}){return`${$O}/projects/${n}/installations`}function oS(n){return{token:n.token,requestStatus:2,expiresIn:GO(n.expiresIn),creationTime:Date.now()}}async function aS(n,e){const i=(await e.json()).error;return Zs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function lS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function KO(n,{refreshToken:e}){const t=lS(n);return t.append("Authorization",QO(e)),t}async function uS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function GO(n){return Number(n.replace("s","000"))}function QO(n){return`${rS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=sS(n),o=lS(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={fid:t,authVersion:rS,appId:n.appId,sdkVersion:nS},f={method:"POST",headers:o,body:JSON.stringify(u)},h=await uS(()=>fetch(i,f));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:oS(p.authToken)}}else throw await aS("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^[cdef][\w-]{21}$/,Gp="";function ZO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=eD(n);return JO.test(t)?t:Gp}catch{return Gp}}function eD(n){return XO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function fS(n,e){const t=sf(n);hS(t,e),tD(t,e)}function hS(n,e){const t=dS.get(n);if(t)for(const i of t)i(e)}function tD(n,e){const t=nD();t&&t.postMessage({key:n,fid:e}),rD()}let Ws=null;function nD(){return!Ws&&"BroadcastChannel"in self&&(Ws=new BroadcastChannel("[Firebase] FID Change"),Ws.onmessage=n=>{hS(n.data.key,n.data.fid)}),Ws}function rD(){dS.size===0&&Ws&&(Ws.close(),Ws=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="firebase-installations-database",sD=1,eo="firebase-installations-store";let gp=null;function fg(){return gp||(gp=D0(iD,sD,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(eo)}}})),gp}async function Sd(n,e){const t=sf(n),o=(await fg()).transaction(eo,"readwrite"),a=o.objectStore(eo),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&fS(n,e.fid),e}async function pS(n){const e=sf(n),i=(await fg()).transaction(eo,"readwrite");await i.objectStore(eo).delete(e),await i.done}async function of(n,e){const t=sf(n),o=(await fg()).transaction(eo,"readwrite"),a=o.objectStore(eo),u=await a.get(t),f=e(u);return f===void 0?await a.delete(t):await a.put(f,t),await o.done,f&&(!u||u.fid!==f.fid)&&fS(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(n){let e;const t=await of(n.appConfig,i=>{const o=oD(i),a=aD(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Gp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function oD(n){const e=n||{fid:ZO(),registrationStatus:0};return mS(e)}function aD(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Zs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=lD(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uD(n)}:{installationEntry:e}}async function lD(n,e){try{const t=await YO(n,e);return Sd(n.appConfig,t)}catch(t){throw iS(t)&&t.customData.serverCode===409?await pS(n.appConfig):await Sd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function uD(n){let e=await Vw(n.appConfig);for(;e.registrationStatus===1;)await cS(100),e=await Vw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await hg(n);return i||t}return e}function Vw(n){return of(n,e=>{if(!e)throw Zs.create("installation-not-found");return mS(e)})}function mS(n){return cD(n)?{fid:n.fid,registrationStatus:0}:n}function cD(n){return n.registrationStatus===1&&n.registrationTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD({appConfig:n,heartbeatServiceProvider:e},t){const i=fD(n,t),o=KO(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={installation:{sdkVersion:nS,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(u)},h=await uS(()=>fetch(i,f));if(h.ok){const p=await h.json();return oS(p)}else throw await aS("Generate Auth Token",h)}function fD(n,{fid:e}){return`${sS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(n,e=!1){let t;const i=await of(n.appConfig,a=>{if(!gS(a))throw Zs.create("not-registered");const u=a.authToken;if(!e&&mD(u))return a;if(u.requestStatus===1)return t=hD(n,e),a;{if(!navigator.onLine)throw Zs.create("app-offline");const f=yD(a);return t=pD(n,f),f}});return t?await t:i.authToken}async function hD(n,e){let t=await jw(n.appConfig);for(;t.authToken.requestStatus===1;)await cS(100),t=await jw(n.appConfig);const i=t.authToken;return i.requestStatus===0?pg(n,e):i}function jw(n){return of(n,e=>{if(!gS(e))throw Zs.create("not-registered");const t=e.authToken;return vD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pD(n,e){try{const t=await dD(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Sd(n.appConfig,i),t}catch(t){if(iS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await pS(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sd(n.appConfig,i)}throw t}}function gS(n){return n!==void 0&&n.registrationStatus===2}function mD(n){return n.requestStatus===2&&!gD(n)}function gD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+BO}function yD(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function vD(n){return n.requestStatus===1&&n.requestTime+tS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n){const e=n,{installationEntry:t,registrationPromise:i}=await hg(e);return i?i.catch(console.error):pg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e=!1){const t=n;return await ED(t),(await pg(t,e)).token}async function ED(n){const{registrationPromise:e}=await hg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){if(!n||!n.options)throw yp("App Configuration");if(!n.name)throw yp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw yp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function yp(n){return Zs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="installations",SD="installations-internal",ID=n=>{const e=n.getProvider("app").getImmediate(),t=TD(e),i=Ti(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},bD=n=>{const e=n.getProvider("app").getImmediate(),t=Ti(e,yS).getImmediate();return{getId:()=>_D(t),getToken:o=>wD(t,o)}};function kD(){Jn(new Fn(yS,ID,"PUBLIC")),Jn(new Fn(SD,bD,"PRIVATE"))}kD();nn(eS,dg);nn(eS,dg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="analytics",CD="firebase_id",xD="origin",RD=60*1e3,PD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Dd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new no("analytics","Analytics",AD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n){if(!n.startsWith(mg)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return kn.warn(e.message),""}return n}function vS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function OD(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function DD(n,e){const t=OD("firebase-js-sdk-policy",{createScriptURL:ND}),i=document.createElement("script"),o=`${mg}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function LD(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function MD(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const h=(await vS(t)).find(p=>p.measurementId===o);h&&await e[h.appId]}}catch(f){kn.error(f)}n("config",o,a)}async function VD(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const f=await vS(t);for(const h of u){const p=f.find(I=>I.measurementId===h),v=p&&e[p.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){kn.error(a)}}function jD(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[f,h]=u;await VD(n,e,t,f,h)}else if(a==="config"){const[f,h]=u;await MD(n,e,t,i,f,h)}else if(a==="consent"){const[f,h]=u;n("consent",f,h)}else if(a==="get"){const[f,h,p]=u;n("get",f,h,p)}else if(a==="set"){const[f]=u;n("set",f)}else n(a,...u)}catch(f){kn.error(f)}}return o}function FD(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=jD(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function UD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(mg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=30,$D=1e3;class BD{constructor(e={},t=$D){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _S=new BD;function qD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function HD(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:qD(i)},a=PD.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let f="";try{const h=await u.json();!((e=h.error)===null||e===void 0)&&e.message&&(f=h.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function WD(n,e=_S,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw Vn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Vn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new QD;return setTimeout(async()=>{f.abort()},RD),wS({appId:i,apiKey:o,measurementId:a},u,f,e)}async function wS(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=_S){var a;const{appId:u,measurementId:f}=n;try{await KD(i,e)}catch(h){if(f)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:u,measurementId:f};throw h}try{const h=await HD(n);return o.deleteThrottleMetadata(u),h}catch(h){const p=h;if(!GD(p)){if(o.deleteThrottleMetadata(u),f)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw h}const v=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?o_(t,o.intervalMillis,zD):o_(t,o.intervalMillis),I={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(u,I),kn.debug(`Calling attemptFetch again in ${v} millis`),wS(n,I,i,o)}}function KD(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GD(n){if(!(n instanceof Un)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class QD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function YD(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(){if(P0())try{await A0()}catch(n){return kn.warn(Vn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return kn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JD(n,e,t,i,o,a,u){var f;const h=WD(n);h.then(D=>{t[D.measurementId]=D.appId,n.options.measurementId&&D.measurementId!==n.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>kn.error(D)),e.push(h);const p=XD().then(D=>{if(D)return i.getId()}),[v,I]=await Promise.all([h,p]);UD(a)||DD(a,v.measurementId),o("js",new Date);const P=(f=u==null?void 0:u.config)!==null&&f!==void 0?f:{};return P[xD]="firebase",P.update=!0,I!=null&&(P[CD]=I),o("config",v.measurementId,P),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.app=e}_delete(){return delete Rl[this.app.options.appId],Promise.resolve()}}let Rl={},Fw=[];const Uw={};let vp="dataLayer",eL="gtag",zw,ES,$w=!1;function tL(){const n=[];if(R0()&&n.push("This is a browser extension environment."),vC()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});kn.warn(t.message)}}function nL(n,e,t){tL();const i=n.options.appId;if(!i)throw Vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(Rl[i]!=null)throw Vn.create("already-exists",{id:i});if(!$w){LD(vp);const{wrappedGtag:a,gtagCore:u}=FD(Rl,Fw,Uw,vp,eL);ES=a,zw=u,$w=!0}return Rl[i]=JD(n,Fw,Uw,e,zw,vp,t),new ZD(n)}function rL(n=Kl()){n=ut(n);const e=Ti(n,Id);return e.isInitialized()?e.getImmediate():iL(n)}function iL(n,e={}){const t=Ti(n,Id);if(t.isInitialized()){const o=t.getImmediate();if(is(e,t.getOptions()))return o;throw Vn.create("already-initialized")}return t.initialize({options:e})}function sL(n,e,t,i){n=ut(n),YD(ES,Rl[n.app.options.appId],e,t,i).catch(o=>kn.error(o))}const Bw="@firebase/analytics",qw="0.10.12";function oL(){Jn(new Fn(Id,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return nL(i,o,t)},"PUBLIC")),Jn(new Fn("analytics-internal",n,"PRIVATE")),nn(Bw,qw),nn(Bw,qw,"esm2017");function n(e){try{const t=e.getProvider(Id).getImmediate();return{logEvent:(i,o,a)=>sL(t,i,o,a)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}oL();const aL={apiKey:"AIzaSyCG_qXbdnlbUIa1QYkzkzto1L8SXFdLLN8",authDomain:"ecommerce-pc-parts.firebaseapp.com",projectId:"ecommerce-pc-parts",storageBucket:"ecommerce-pc-parts.firebasestorage.app",messagingSenderId:"153204523621",appId:"1:153204523621:web:4b1e4bde73cf058b6dfc8c",measurementId:"G-QJTMEYB4PD"},af=L0(aL),cn=AA(af),Pc=dO(af);jO(af);rL(af);function TS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=TS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ks(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=TS(n))&&(i&&(i+=" "),i+=e);return i}function lL(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}lL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var iu=n=>typeof n=="number"&&!isNaN(n),to=n=>typeof n=="string",wi=n=>typeof n=="function",uL=n=>to(n)||iu(n),Qp=n=>to(n)||wi(n)?n:null,cL=(n,e)=>n===!1||iu(n)&&n>0?n:e,Yp=n=>W.isValidElement(n)||to(n)||wi(n)||iu(n);function dL(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function fL({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:f,done:h,nodeRef:p,isIn:v,playToast:I}){let P=t?`${n}--${u}`:n,D=t?`${e}--${u}`:e,V=W.useRef(0);return W.useLayoutEffect(()=>{let M=p.current,j=P.split(" "),q=Q=>{Q.target===p.current&&(I(),M.removeEventListener("animationend",q),M.removeEventListener("animationcancel",q),V.current===0&&Q.type!=="animationcancel"&&M.classList.remove(...j))};M.classList.add(...j),M.addEventListener("animationend",q),M.addEventListener("animationcancel",q)},[]),W.useEffect(()=>{let M=p.current,j=()=>{M.removeEventListener("animationend",j),i?dL(M,h,o):h()};v||(f?j():(V.current=1,M.className+=` ${D}`,M.addEventListener("animationend",j)))},[v]),st.createElement(st.Fragment,null,a)}}function Hw(n,e){return{content:SS(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function SS(n,e,t=!1){return W.isValidElement(n)&&!to(n.type)?W.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):wi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function hL({closeToast:n,theme:e,ariaLabel:t="close"}){return st.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},st.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},st.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pL({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:f,rtl:h,isIn:p,theme:v}){let I=o||u&&f===0,P={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(P.transform=`scaleX(${f})`);let D=Ks("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),V=wi(a)?a({rtl:h,type:i,defaultClassName:D}):Ks(D,a),M={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{p&&t()}};return st.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},st.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),st.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:V,style:P,...M}))}var mL=1,IS=()=>`${mL++}`;function gL(n,e,t){let i=1,o=0,a=[],u=[],f=e,h=new Map,p=new Set,v=Q=>(p.add(Q),()=>p.delete(Q)),I=()=>{u=Array.from(h.values()),p.forEach(Q=>Q())},P=({containerId:Q,toastId:G,updateId:ee})=>{let U=Q?Q!==n:n!==1,B=h.has(G)&&ee==null;return U||B},D=(Q,G)=>{h.forEach(ee=>{var U;(G==null||G===ee.props.toastId)&&((U=ee.toggle)==null||U.call(ee,Q))})},V=Q=>{var G,ee;(ee=(G=Q.props)==null?void 0:G.onClose)==null||ee.call(G,Q.removalReason),Q.isActive=!1},M=Q=>{if(Q==null)h.forEach(V);else{let G=h.get(Q);G&&V(G)}I()},j=()=>{o-=a.length,a=[]},q=Q=>{var G,ee;let{toastId:U,updateId:B}=Q.props,x=B==null;Q.staleId&&h.delete(Q.staleId),Q.isActive=!0,h.set(U,Q),I(),t(Hw(Q,x?"added":"updated")),x&&((ee=(G=Q.props).onOpen)==null||ee.call(G))};return{id:n,props:f,observe:v,toggle:D,removeToast:M,toasts:h,clearQueue:j,buildToast:(Q,G)=>{if(P(G))return;let{toastId:ee,updateId:U,data:B,staleId:x,delay:R}=G,S=U==null;S&&o++;let _={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(G).filter(([L,k])=>k!=null)),toastId:ee,updateId:U,data:B,isIn:!1,className:Qp(G.className||f.toastClassName),progressClassName:Qp(G.progressClassName||f.progressClassName),autoClose:G.isLoading?!1:cL(G.autoClose,f.autoClose),closeToast(L){h.get(ee).removalReason=L,M(ee)},deleteToast(){let L=h.get(ee);if(L!=null){if(t(Hw(L,"removed")),h.delete(ee),o--,o<0&&(o=0),a.length>0){q(a.shift());return}I()}}};_.closeButton=f.closeButton,G.closeButton===!1||Yp(G.closeButton)?_.closeButton=G.closeButton:G.closeButton===!0&&(_.closeButton=Yp(f.closeButton)?f.closeButton:!0);let O={content:Q,props:_,staleId:x};f.limit&&f.limit>0&&o>f.limit&&S?a.push(O):iu(R)?setTimeout(()=>{q(O)},R):q(O)},setProps(Q){f=Q},setToggle:(Q,G)=>{let ee=h.get(Q);ee&&(ee.toggle=G)},isToastActive:Q=>{var G;return(G=h.get(Q))==null?void 0:G.isActive},getSnapshot:()=>u}}var dn=new Map,zl=[],Xp=new Set,yL=n=>Xp.forEach(e=>e(n)),bS=()=>dn.size>0;function vL(){zl.forEach(n=>CS(n.content,n.options)),zl=[]}var _L=(n,{containerId:e})=>{var t;return(t=dn.get(e||1))==null?void 0:t.toasts.get(n)};function kS(n,e){var t;if(e)return!!((t=dn.get(e))!=null&&t.isToastActive(n));let i=!1;return dn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function wL(n){if(!bS()){zl=zl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||uL(n))dn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=dn.get(n.containerId);e?e.removeToast(n.id):dn.forEach(t=>{t.removeToast(n.id)})}}var EL=(n={})=>{dn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function CS(n,e){Yp(n)&&(bS()||zl.push({content:n,options:e}),dn.forEach(t=>{t.buildToast(n,e)}))}function TL(n){var e;(e=dn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function xS(n,e){dn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function SL(n){let e=n.containerId||1;return{subscribe(t){let i=gL(e,n,yL);dn.set(e,i);let o=i.observe(t);return vL(),()=>{o(),dn.delete(e)}},setProps(t){var i;(i=dn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=dn.get(e))==null?void 0:t.getSnapshot()}}}function IL(n){return Xp.add(n),()=>{Xp.delete(n)}}function bL(n){return n&&(to(n.toastId)||iu(n.toastId))?n.toastId:IS()}function su(n,e){return CS(n,e),e.toastId}function lf(n,e){return{...e,type:e&&e.type||n,toastId:bL(e)}}function uf(n){return(e,t)=>su(e,lf(n,t))}function Le(n,e){return su(n,lf("default",e))}Le.loading=(n,e)=>su(n,lf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function kL(n,{pending:e,error:t,success:i},o){let a;e&&(a=to(e)?Le.loading(e,o):Le.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,v,I)=>{if(v==null){Le.dismiss(a);return}let P={type:p,...u,...o,data:I},D=to(v)?{render:v}:v;return a?Le.update(a,{...P,...D}):Le(D.render,{...P,...D}),I},h=wi(n)?n():n;return h.then(p=>f("success",i,p)).catch(p=>f("error",t,p)),h}Le.promise=kL;Le.success=uf("success");Le.info=uf("info");Le.error=uf("error");Le.warning=uf("warning");Le.warn=Le.warning;Le.dark=(n,e)=>su(n,lf("default",{theme:"dark",...e}));function CL(n){wL(n)}Le.dismiss=CL;Le.clearWaitingQueue=EL;Le.isActive=kS;Le.update=(n,e={})=>{let t=_L(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:IS()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,su(u,a)}};Le.done=n=>{Le.update(n,{progress:1})};Le.onChange=IL;Le.play=n=>xS(!0,n);Le.pause=n=>xS(!1,n);function xL(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=W.useRef(SL(n)).current;o(n);let a=(e=W.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(f){if(!a)return[];let h=new Map;return n.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:v}=p.props;h.has(v)||h.set(v,[]),h.get(v).push(p)}),Array.from(h,p=>f(p[0],p[1]))}return{getToastToRender:u,isToastActive:kS,count:a==null?void 0:a.length}}function RL(n){let[e,t]=W.useState(!1),[i,o]=W.useState(!1),a=W.useRef(null),u=W.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:p,onClick:v,closeOnClick:I}=n;TL({id:n.toastId,containerId:n.containerId,fn:t}),W.useEffect(()=>{if(n.pauseOnFocusLoss)return P(),()=>{D()}},[n.pauseOnFocusLoss]);function P(){document.hasFocus()||q(),window.addEventListener("focus",j),window.addEventListener("blur",q)}function D(){window.removeEventListener("focus",j),window.removeEventListener("blur",q)}function V(x){if(n.draggable===!0||n.draggable===x.pointerType){Q();let R=a.current;u.canCloseOnClick=!0,u.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(u.start=x.clientX,u.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(u.start=x.clientY,u.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function M(x){let{top:R,bottom:S,left:_,right:O}=a.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&n.pauseOnHover&&x.clientX>=_&&x.clientX<=O&&x.clientY>=R&&x.clientY<=S?q():j()}function j(){t(!0)}function q(){t(!1)}function Q(){u.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",U)}function G(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",U)}function ee(x){let R=a.current;if(u.canDrag&&R){u.didMove=!0,e&&q(),n.draggableDirection==="x"?u.delta=x.clientX-u.start:u.delta=x.clientY-u.start,u.start!==x.clientX&&(u.canCloseOnClick=!1);let S=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;R.style.transform=`translate3d(${S},0)`,R.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function U(){G();let x=a.current;if(u.canDrag&&u.didMove&&x){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let B={onPointerDown:V,onPointerUp:M};return f&&h&&(B.onMouseEnter=q,n.stacked||(B.onMouseLeave=j)),I&&(B.onClick=x=>{v&&v(x),u.canCloseOnClick&&p(!0)}),{playToast:j,pauseToast:q,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:B}}var PL=typeof window<"u"?W.useLayoutEffect:W.useEffect,cf=({theme:n,type:e,isLoading:t,...i})=>st.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function AL(n){return st.createElement(cf,{...n},st.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function NL(n){return st.createElement(cf,{...n},st.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function OL(n){return st.createElement(cf,{...n},st.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function DL(n){return st.createElement(cf,{...n},st.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function LL(){return st.createElement("div",{className:"Toastify__spinner"})}var Jp={info:NL,warning:AL,success:OL,error:DL,spinner:LL},ML=n=>n in Jp;function VL({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(wi(i)?o=i({...a,isLoading:t}):W.isValidElement(i)?o=W.cloneElement(i,a):t?o=Jp.spinner():ML(e)&&(o=Jp[e](a))),o}var jL=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=RL(n),{closeButton:u,children:f,autoClose:h,onClick:p,type:v,hideProgressBar:I,closeToast:P,transition:D,position:V,className:M,style:j,progressClassName:q,updateId:Q,role:G,progress:ee,rtl:U,toastId:B,deleteToast:x,isIn:R,isLoading:S,closeOnClick:_,theme:O,ariaLabel:L}=n,k=Ks("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":U},{"Toastify__toast--close-on-click":_}),J=wi(M)?M({rtl:U,position:V,type:v,defaultClassName:k}):Ks(k,M),pe=VL(n),fe=!!ee||!h,T={closeToast:P,type:v,theme:O},se=null;return u===!1||(wi(u)?se=u(T):W.isValidElement(u)?se=W.cloneElement(u,T):se=hL(T)),st.createElement(D,{isIn:R,done:x,position:V,preventExitTransition:t,nodeRef:i,playToast:a},st.createElement("div",{id:B,tabIndex:0,onClick:p,"data-in":R,className:J,...o,style:j,ref:i,...R&&{role:G,"aria-label":L}},pe!=null&&st.createElement("div",{className:Ks("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},pe),SS(f,n,!e),se,!n.customProgressBar&&st.createElement(pL,{...Q&&!fe?{key:`p-${Q}`}:{},rtl:U,theme:O,delay:h,isRunning:e,isIn:R,closeToast:P,hide:I,type:v,className:q,controlledProgress:fe,progress:ee||0})))},FL=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),UL=fL(FL("bounce",!0)),zL={position:"top-right",transition:UL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function $L(n){let e={...zL,...n},t=n.stacked,[i,o]=W.useState(!0),a=W.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=xL(e),{className:p,style:v,rtl:I,containerId:P,hotKeys:D}=e;function V(j){let q=Ks("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":I});return wi(p)?p({position:j,rtl:I,defaultClassName:q}):Ks(q,Qp(p))}function M(){t&&(o(!0),Le.play())}return PL(()=>{var j;if(t){let q=a.current.querySelectorAll('[data-in="true"]'),Q=12,G=(j=e.position)==null?void 0:j.includes("top"),ee=0,U=0;Array.from(q).reverse().forEach((B,x)=>{let R=B;R.classList.add("Toastify__toast--stacked"),x>0&&(R.dataset.collapsed=`${i}`),R.dataset.pos||(R.dataset.pos=G?"top":"bot");let S=ee*(i?.2:1)+(i?0:Q*x);R.style.setProperty("--y",`${G?S:S*-1}px`),R.style.setProperty("--g",`${Q}`),R.style.setProperty("--s",`${1-(i?U:0)}`),ee+=R.offsetHeight,U+=.025})}},[i,h,t]),W.useEffect(()=>{function j(q){var Q;let G=a.current;D(q)&&((Q=G.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),Le.pause()),q.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),Le.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[D]),st.createElement("section",{ref:a,className:"Toastify",id:P,onMouseEnter:()=>{t&&(o(!1),Le.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((j,q)=>{let Q=q.length?{...v}:{...v,pointerEvents:"none"};return st.createElement("div",{tabIndex:-1,className:V(j),"data-stacked":t,style:Q,key:`c-${j}`},q.map(({content:G,props:ee})=>st.createElement(jL,{...ee,stacked:t,collapseAll:M,isIn:f(ee.toastId,ee.containerId),key:`t-${ee.key}`},G)))}))}const RS=W.createContext(void 0),BL=({children:n})=>{const[e,t]=W.useState([]),[i,o]=W.useState(null),a=v=>{const I=e.find(D=>D.id===v.id),P=I?I.quantity:0;if(v.stock!==void 0&&P>=v.stock){Le.error(`No hay más stock disponible para ${v.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}o(v),t(D=>I?D.map(V=>V.id===v.id?{...V,quantity:V.quantity+1}:V):[...D,{...v,quantity:1}])},u=v=>{const I=e.find(P=>P.id===v);if(I){if(I.stock!==void 0&&I.quantity>=I.stock){Le.error(`No hay más stock disponible para ${I.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}t(P=>P.map(D=>D.id===v?{...D,quantity:D.quantity+1}:D))}},f=v=>{t(I=>{const P=I.find(D=>D.id===v);return P&&P.quantity>1?I.map(D=>D.id===v?{...D,quantity:D.quantity-1}:D):I.filter(D=>D.id!==v)})},h=v=>{t(I=>{const P=I.find(D=>D.id===v);return P&&P.quantity>1?I.map(D=>D.id===v?{...D,quantity:D.quantity-1}:D):I.filter(D=>D.id!==v)})},p=()=>{t([])};return W.useEffect(()=>{if(i){const v=e.find(I=>I.id===i.id);v?Le.success(`${i.name} añadido al carrito (x${v.quantity})`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):Le.success(`${i.name} añadido al carrito`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),o(null)}},[e,i]),A.jsx(RS.Provider,{value:{cartItems:e,addToCart:a,removeFromCart:h,clearCart:p,increaseQuantity:u,decreaseQuantity:f},children:n})},Gr=()=>{const n=W.useContext(RS);if(!n)throw new Error("useCart must be used within a CartProvider");return n},jn=n=>n.toLocaleString("es-CO",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),qL=()=>{const[n,e]=W.useState([]),t=hn(),{addToCart:i}=Gr();W.useEffect(()=>{const u=Ea(Zn(cn,"products"),Ym("sales","desc"),Jm(4)),f=Wr(u,h=>{const p=h.docs.map(v=>({id:v.id,...v.data()}));e(p)},h=>{console.error("Error fetching recently viewed products:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a=u=>{i(u)};return A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Recientemente visto"}),n.length>0?A.jsx(Nd,{dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}],children:n.map(u=>A.jsx("div",{className:"p-4",children:A.jsxs("div",{className:" p-4 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow",children:[A.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-2 cursor-pointer",onClick:()=>o(u.id)}),A.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:u.name}),A.jsxs("p",{className:"text-md text-button",children:[jn(u.price)," COP"]}),A.jsx("button",{onClick:()=>a(u),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})},u.id))}):A.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos recientes."})]})})},HL=()=>{const[n,e]=W.useState([]),[t,i]=W.useState("all"),o=hn(),{addToCart:a}=Gr();W.useEffect(()=>{const p=Wr(Zn(cn,"products"),v=>{const I=v.docs.map(P=>({id:P.id,...P.data()}));I.forEach(P=>{console.log(`Producto: ${P.name}, Categoría: ${P.category}`)}),e(I)});return()=>p()},[]);const u=["all","Placas Base","tarjetas gráficas","procesadores","memoria ram"],f=p=>{o(`/product/${p}`)},h=(p,v)=>p-p*v/100;return A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Productos"}),A.jsxs("div",{className:"mb-6 flex items-center",children:[A.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categoría:"}),A.jsx("select",{value:t,onChange:p=>i(p.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button",style:{color:"var(--text-color)"},children:u.map(p=>A.jsx("option",{value:p,className:"",children:p},p))})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(p=>{if(t==="all")return!0;const v=p.category?p.category.toLowerCase():"",I=t.toLowerCase();return v===I}).map(p=>A.jsxs("div",{className:"p-4 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow",children:[A.jsx("img",{src:p.image||"/placeholder.jpg",alt:p.name,className:"w-full h-48 object-cover rounded-md mb-3 cursor-pointer",onClick:()=>f(p.id)}),A.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:p.name}),p.discount&&p.discount>0?A.jsxs("div",{children:[A.jsxs("p",{className:"text-md text-gray-500 line-through",children:[jn(p.price)," COP"]}),A.jsxs("p",{className:"text-md text-button",children:[jn(h(p.price,p.discount))," COP"," ",A.jsxs("span",{className:"text-red-500",children:["(-",p.discount,"%)"]})]})]}):A.jsxs("p",{className:"text-md text-button",children:[jn(p.price)," COP"]}),A.jsx("button",{onClick:()=>a(p),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]},p.id))})]})})},WL=()=>{const[n,e]=W.useState([]),t=hn(),{addToCart:i}=Gr();W.useEffect(()=>{const u=Ea(Zn(cn,"products"),Km("discount",">",0)),f=Wr(u,h=>{const p=h.docs.map(v=>({id:v.id,...v.data()}));e(p)},h=>{console.error("Error fetching offers:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas Especiales"}),n.length>0?A.jsx(Nd,{...a,children:n.map(u=>A.jsx("div",{className:"p-4",children:A.jsxs("div",{className:" p-4 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow",children:[A.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-2 cursor-pointer",onClick:()=>o(u.id)}),A.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:u.name}),A.jsxs("p",{className:"text-md text-button",children:[jn(u.price)," COP ",A.jsxs("span",{className:"text-red-500",children:["(-",u.discount,"%)"]})]}),A.jsx("button",{onClick:()=>i(u),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})},u.id))}):A.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},KL=()=>{const[n,e]=W.useState([]),t=hn(),{addToCart:i}=Gr();W.useEffect(()=>{const u=Ea(Zn(cn,"products"),Ym("sales","desc"),Jm(4)),f=Wr(u,h=>{const p=h.docs.map(v=>({id:v.id,...v.data()}));e(p)},h=>{console.error("Error fetching top selling products:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Más Vendidos"}),n.length>0?A.jsx(Nd,{...a,children:n.map(u=>A.jsx("div",{className:"p-4",children:A.jsxs("div",{className:"p-4 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow",children:[A.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-2 cursor-pointer",onClick:()=>o(u.id)}),A.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:u.name}),A.jsxs("p",{className:"text-md text-button",children:[jn(u.price)," COP"]}),A.jsx("button",{onClick:()=>i(u),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})},u.id))}):A.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos más vendidos."})]})})},GL=()=>A.jsxs("div",{className:"container mx-auto",children:[A.jsx(eC,{}),A.jsx(qL,{}),A.jsx(WL,{}),A.jsx(KL,{}),A.jsx(HL,{})]}),QL=()=>{const[n,e]=W.useState([]),t=hn(),{addToCart:i}=Gr();W.useEffect(()=>{const a=Ea(Zn(cn,"products"),Km("discount",">",0)),u=Wr(a,f=>{const h=f.docs.map(p=>({id:p.id,...p.data()}));e(h)},f=>{console.error("Error fetching offers:",f)});return()=>u()},[]);const o=a=>{t(`/product/${a}`)};return A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas"}),n.length>0?A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.map(a=>A.jsxs("div",{className:" p-4 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow",children:[A.jsx("img",{src:a.image||"/placeholder.jpg",alt:a.name,className:"w-full h-48 object-cover rounded-md mb-3 cursor-pointer",onClick:()=>o(a.id)}),A.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:a.name}),A.jsxs("p",{className:"text-md text-button",children:[jn(a.price)," COP ",A.jsxs("span",{className:"text-red-500",children:["(-",a.discount,"%)"]})]}),A.jsx("button",{onClick:()=>i(a),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]},a.id))}):A.jsx("p",{style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},YL=()=>{const[n,e]=W.useState([]),[t,i]=W.useState("all"),o=hn(),{addToCart:a}=Gr();W.useEffect(()=>{const h=Wr(Zn(cn,"products"),p=>{const v=p.docs.map(I=>({id:I.id,...I.data()}));e(v)});return()=>h()},[]);const u=["all","Placas Base","tarjetas gráficas","procesadores","memoria ram"],f=h=>{o(`/product/${h}`)};return A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Categorías"}),A.jsxs("div",{className:"mb-6 flex items-center",children:[A.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categoría:"}),A.jsx("select",{value:t,onChange:h=>i(h.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button",style:{color:"var(--text-color)"},children:u.map(h=>A.jsx("option",{value:h,className:"text-black",children:h},h))})]}),n.length>0?A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(h=>t==="all"||h.category===t).map(h=>A.jsxs("div",{className:"p-4 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow",children:[A.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-full h-48 object-cover rounded-md mb-3 cursor-pointer",onClick:()=>f(h.id)}),A.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:h.name}),A.jsxs("p",{className:"text-md text-button",children:[jn(h.price)," COP"]}),A.jsx("button",{onClick:()=>a(h),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]},h.id))}):A.jsx("p",{style:{color:"var(--text-color)"},children:"No hay productos disponibles."})]})})},PS=W.createContext(void 0),XL=({children:n})=>{const[e,t]=W.useState(null),[i,o]=W.useState(!0),a=async(p,v)=>{await Q1(Pc,p,v)},u=async(p,v)=>{await Y1(Pc,p,v)},f=async()=>{await eN(Pc)};W.useEffect(()=>Z1(Pc,v=>{t(v),o(!1)}),[]);const h={currentUser:e,signUp:a,signIn:u,signOutUser:f};return A.jsx(PS.Provider,{value:h,children:!i&&n})},df=()=>{const n=W.useContext(PS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},JL=()=>{const{id:n}=bb(),[e,t]=W.useState(null),[i,o]=W.useState([]),[a,u]=W.useState(""),[f,h]=W.useState(!0),{addToCart:p}=Gr(),{currentUser:v}=df(),I=hn();W.useEffect(()=>{const D=async()=>{if(n)try{const M=await GA(pd(cn,"products",n));M.exists()?t({id:M.id,...M.data()}):console.log("Producto no encontrado:",n)}catch(M){console.error("Error al obtener el producto:",M)}finally{h(!1)}},V=()=>{if(!n)return;const M=Zn(cn,"products",n,"reviews");return Wr(M,q=>{const Q=q.docs.map(G=>({id:G.id,...G.data()}));o(Q)},q=>{console.error("Error al obtener reviews:",q)})};return D(),V()},[n]);const P=async D=>{if(D.preventDefault(),!v){I("/auth");return}if(!(!n||!a.trim()))try{await pT(Zn(cn,"products",n,"reviews"),{userId:v.uid,userEmail:v.email,comment:a.trim(),createdAt:At.fromDate(new Date)}),u("")}catch(V){console.error("Error al enviar la reseña:",V)}};return f?A.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):e?A.jsxs("div",{className:"container mx-auto p-6",children:[A.jsx("button",{onClick:()=>I(-1),className:"mb-4 text-[#f90] hover:underline",children:"← Volver"}),A.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:e.name}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsx("div",{children:A.jsx("img",{src:e.image||"/placeholder.jpg",alt:e.name,className:"w-full h-96 object-cover rounded-lg"})}),A.jsxs("div",{className:"flex flex-col justify-between",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"text-2xl text-[#f90] mb-4",children:[jn(e.price)," COP"]}),e.discount&&e.discount>0&&A.jsxs("p",{className:"text-md text-red-500 mb-4",children:["Descuento: ",e.discount,"%"]}),A.jsx("p",{className:"mb-4",style:{color:"var(--text-color)"},children:e.description}),A.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[A.jsx("strong",{children:"Categoría:"})," ",e.category]}),A.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[A.jsx("strong",{children:"Stock:"})," ",e.stock]}),e.coupon&&A.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[A.jsx("strong",{children:"Cupón:"})," ",e.coupon]})]}),A.jsx("button",{onClick:()=>p(e),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]}),A.jsxs("div",{className:"mt-8",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Reseñas"}),i.length>0?A.jsx("div",{className:"space-y-4",children:i.map(D=>A.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[A.jsx("p",{style:{color:"var(--text-color)"},children:A.jsx("strong",{children:D.userEmail})}),A.jsx("p",{style:{color:"var(--text-color)"},children:D.comment}),A.jsx("p",{className:"text-gray-400 text-sm",children:D.createdAt.toDate().toLocaleDateString()})]},D.id))}):A.jsx("p",{style:{color:"var(--text-color)"},children:"No hay reseñas todavía."}),v&&A.jsxs("form",{onSubmit:P,className:"mt-6 space-y-4",children:[A.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--text-color)"},children:"Deja tu reseña"}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Comentario"}),A.jsx("textarea",{value:a,onChange:D=>u(D.target.value),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4,required:!0})]}),A.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Enviar Reseña"})]})]})]}):A.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Producto no encontrado"})},ZL=()=>{const{cartItems:n,removeFromCart:e,clearCart:t,increaseQuantity:i,decreaseQuantity:o}=Gr(),a=hn(),u=n.reduce((h,p)=>h+p.price*p.quantity,0),f=()=>{if(n.length===0){alert("El carrito está vacío. Agrega productos antes de pagar.");return}a("/payment",{state:{total:u,cartItems:n}})};return A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Carrito de Compras"}),n.length>0?A.jsxs("div",{children:[A.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(h=>A.jsxs("div",{className:"flex items-center bg-menu p-4 rounded-lg border border-gray-700",children:[A.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:h.name}),A.jsxs("p",{className:"text-md text-button",children:[jn(h.price)," COP x ",h.quantity]}),A.jsxs("p",{className:"text-md",style:{color:"var(--text-color)"},children:["Subtotal: ",jn(h.price*h.quantity)," COP"]}),A.jsxs("div",{className:"flex items-center mt-2",children:[A.jsx("button",{onClick:()=>o(h.id),className:"bg-gray-500 text-white px-3 py-1 rounded-md hover:bg-gray-600",children:"−"}),A.jsx("span",{className:"mx-3",style:{color:"var(--text-color)"},children:h.quantity}),A.jsx("button",{onClick:()=>i(h.id),className:"bg-gray-500 text-white px-3 py-1 rounded-md hover:bg-gray-600",children:"+"})]})]}),A.jsx("button",{onClick:()=>e(h.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Eliminar"})]},h.id))}),A.jsxs("div",{className:"mt-6 text-right",children:[A.jsxs("p",{className:"text-xl font-semibold",style:{color:"var(--text-color)"},children:["Total: ",jn(u)," COP"]}),A.jsx("button",{onClick:t,className:"mt-4 bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600 mr-4",children:"Limpiar carrito"}),A.jsx("button",{onClick:f,className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Proceder al pago"})]})]}):A.jsx("p",{style:{color:"var(--text-color)"},children:"Tu carrito está vacío."})]})})},e2=()=>{const[n,e]=W.useState(""),[t,i]=W.useState(""),[o,a]=W.useState(""),{signIn:u}=df(),f=hn(),h=async p=>{p.preventDefault(),a("");try{await u(n,t),f("/")}catch(v){a(v.message)}};return A.jsx("div",{className:"bg-body text-white p-6",children:A.jsxs("div",{className:"container mx-auto max-w-md",children:[A.jsx("h1",{className:"text-3xl font-semibold mb-4 ",style:{color:"var(--text-color)"},children:"Iniciar Sesión"}),o&&A.jsx("p",{className:"text-red-500 mb-4",children:o}),A.jsxs("form",{onSubmit:h,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 ",style:{color:"var(--text-color)"},children:"Correo Electrónico"}),A.jsx("input",{type:"email",value:n,onChange:p=>e(p.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Contraseña"}),A.jsx("input",{type:"password",value:t,onChange:p=>i(p.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),A.jsx("button",{type:"submit",className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Iniciar Sesión"})]}),A.jsxs("p",{className:"mt-4 text-center",children:["¿No tienes una cuenta?"," ",A.jsx(Or,{to:"/auth/register",className:"text-[#f90] hover:underline",children:"Regístrate"})]})]})})},t2=()=>{const{currentUser:n}=df(),e=hn(),[t,i]=W.useState([]),[o,a]=W.useState({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""});W.useEffect(()=>{if(!n||n.email!=="admin@example.com"){e("/");return}const p=Wr(Zn(cn,"products"),v=>{const I=v.docs.map(P=>({id:P.id,...P.data()}));i(I)});return()=>p()},[n,e]);const u=async p=>{p.preventDefault();try{await pT(Zn(cn,"products"),o),a({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""})}catch(v){console.error("Error al añadir producto:",v)}},f=async p=>{try{await YA(pd(cn,"products",p))}catch(v){console.error("Error al eliminar producto:",v)}},h=async(p,v)=>{try{await QA(pd(cn,"products",p),{stock:v})}catch(I){console.error("Error al actualizar stock:",I)}};return!n||n.email!=="admin@example.com"?null:A.jsx("div",{className:"p-6",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Panel Administrativo"}),A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Añadir Producto"}),A.jsxs("form",{onSubmit:u,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Nombre"}),A.jsx("input",{type:"text",value:o.name,onChange:p=>a({...o,name:p.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Precio"}),A.jsx("input",{type:"number",value:o.price,onChange:p=>a({...o,price:Number(p.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Imagen (URL)"}),A.jsx("input",{type:"text",value:o.image,onChange:p=>a({...o,image:p.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Categoría"}),A.jsx("input",{type:"text",value:o.category,onChange:p=>a({...o,category:p.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descripción"}),A.jsx("textarea",{value:o.description,onChange:p=>a({...o,description:p.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descuento (%)"}),A.jsx("input",{type:"number",value:o.discount,onChange:p=>a({...o,discount:Number(p.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Ventas"}),A.jsx("input",{type:"number",value:o.sales,onChange:p=>a({...o,sales:Number(p.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Stock"}),A.jsx("input",{type:"number",value:o.stock,onChange:p=>a({...o,stock:Number(p.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Cupón"}),A.jsx("input",{type:"text",value:o.coupon,onChange:p=>a({...o,coupon:p.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),A.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir Producto"})]})]}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Gestionar Productos"}),A.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(p=>A.jsxs("div",{className:"flex items-center bg-menu p-4 rounded-lg border border-gray-700",children:[A.jsx("img",{src:p.image||"/placeholder.jpg",alt:p.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:p.name}),A.jsxs("p",{className:"text-md text-[#f90]",children:["$",p.price]}),A.jsxs("p",{style:{color:"var(--text-color)"},children:["Stock: ",p.stock]}),A.jsxs("div",{className:"flex items-center mt-2",children:[A.jsx("input",{type:"number",defaultValue:p.stock,onBlur:v=>h(p.id,Number(v.target.value)),className:"w-20 p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90] mr-2",style:{color:"var(--text-color)"}}),A.jsx("button",{onClick:()=>f(p.id),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Eliminar"})]})]})]},p.id))})]})]})})},n2=()=>{const{search:n}=Ei(),e=hn(),[t,i]=W.useState([]),[o,a]=W.useState(!0),f=new URLSearchParams(n).get("q");return W.useEffect(()=>{if(!f){e("/");return}a(!0);const h=f.toLowerCase().trim(),p=Ea(Zn(cn,"products"),Km("searchKeywords","array-contains",h)),v=Wr(p,I=>{const P=I.docs.map(D=>({id:D.id,...D.data()}));i(P),a(!1)},I=>{console.error("Error fetching search results:",I),a(!1)});return()=>v()},[f,e]),o?A.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):f?A.jsxs("div",{className:"container mx-auto p-6",children:[A.jsxs("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:["Resultados de búsqueda para: ",f]}),t.length>0?A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(h=>A.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[A.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-full h-40 object-cover rounded-md mb-2"}),A.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:h.name}),A.jsxs("p",{className:"text-md text-button",children:[jn(h.price)," COP"]}),A.jsx("button",{onClick:()=>e(`/product/${h.id}`),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Ver detalles"})]},h.id))}):A.jsxs("p",{style:{color:"var(--text-color)"},children:['No se encontraron productos para "',f,'".']})]}):A.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"No se proporcionó término de búsqueda"})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zp=function(){return Zp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},Zp.apply(this,arguments)},em,r2=function(n){var e;n?function(t){if(t)for(;t.lastChild;)t.lastChild.remove()}(typeof n=="string"?document.getElementById(n):n):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},i2=function(n,e){r2(e),window.___grecaptcha_cfg=void 0;var t=document.querySelector("#"+n);t&&t.remove(),function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()}()},s2=function(n){var e=n.render,t=n.onLoadCallbackName,i=n.language,o=n.onLoad,a=n.useRecaptchaNet,u=n.useEnterprise,f=n.scriptProps,h=f===void 0?{}:f,p=h.nonce,v=p===void 0?"":p,I=h.defer,P=I!==void 0&&I,D=h.async,V=D!==void 0&&D,M=h.id,j=M===void 0?"":M,q=h.appendTo,Q=j||"google-recaptcha-v3";if(function(U){return!!document.querySelector("#"+U)}(Q))o();else{var G=function(U){return"https://www."+(U.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(U.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:u,useRecaptchaNet:a}),ee=document.createElement("script");ee.id=Q,ee.src=G+"?render="+e+(e==="explicit"?"&onload="+t:"")+(i?"&hl="+i:""),v&&(ee.nonce=v),ee.defer=!!P,ee.async=!!V,ee.onload=o,(q==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(ee)}},Ww=function(n){console.warn(n)};(function(n){n.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(em||(em={}));var gg=W.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});gg.Consumer;function o2(n){var e=n.reCaptchaKey,t=n.useEnterprise,i=t!==void 0&&t,o=n.useRecaptchaNet,a=o!==void 0&&o,u=n.scriptProps,f=n.language,h=n.container,p=n.children,v=W.useState(null),I=v[0],P=v[1],D=W.useRef(e),V=JSON.stringify(u),M=JSON.stringify(h==null?void 0:h.parameters);W.useEffect(function(){if(e){var Q=(u==null?void 0:u.id)||"google-recaptcha-v3",G=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[G]=function(){var ee=i?window.grecaptcha.enterprise:window.grecaptcha,U=Zp({badge:"inline",size:"invisible",sitekey:e},(h==null?void 0:h.parameters)||{});D.current=ee.render(h==null?void 0:h.element,U)},s2({render:h!=null&&h.element?"explicit":e,onLoadCallbackName:G,useEnterprise:i,useRecaptchaNet:a,scriptProps:u,language:f,onLoad:function(){if(window&&window.grecaptcha){var ee=i?window.grecaptcha.enterprise:window.grecaptcha;ee.ready(function(){P(ee)})}else Ww("<GoogleRecaptchaProvider /> "+em.SCRIPT_NOT_AVAILABLE)}}),function(){i2(Q,h==null?void 0:h.element)}}Ww("<GoogleReCaptchaProvider /> recaptcha key not provided")},[i,a,V,M,f,e,h==null?void 0:h.element]);var j=W.useCallback(function(Q){if(!I||!I.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return I.execute(D.current,{action:Q})},[I,D]),q=W.useMemo(function(){return{executeRecaptcha:I?j:void 0,container:h==null?void 0:h.element}},[j,I,h==null?void 0:h.element]);return st.createElement(gg.Provider,{value:q},p)}var a2=function(){return W.useContext(gg)};function AS(n,e){return n(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var zt=typeof Symbol=="function"&&Symbol.for,tm=zt?Symbol.for("react.element"):60103,nm=zt?Symbol.for("react.portal"):60106,Bc=zt?Symbol.for("react.fragment"):60107,qc=zt?Symbol.for("react.strict_mode"):60108,Hc=zt?Symbol.for("react.profiler"):60114,Wc=zt?Symbol.for("react.provider"):60109,Kc=zt?Symbol.for("react.context"):60110,rm=zt?Symbol.for("react.async_mode"):60111,bd=zt?Symbol.for("react.concurrent_mode"):60111,Gc=zt?Symbol.for("react.forward_ref"):60112,Qc=zt?Symbol.for("react.suspense"):60113,l2=zt?Symbol.for("react.suspense_list"):60120,Yc=zt?Symbol.for("react.memo"):60115,Xc=zt?Symbol.for("react.lazy"):60116,u2=zt?Symbol.for("react.block"):60121,c2=zt?Symbol.for("react.fundamental"):60117,d2=zt?Symbol.for("react.responder"):60118,f2=zt?Symbol.for("react.scope"):60119;function Ln(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case tm:switch(n=n.type){case rm:case bd:case Bc:case Hc:case qc:case Qc:return n;default:switch(n=n&&n.$$typeof){case Kc:case Gc:case Xc:case Yc:case Wc:return n;default:return e}}case nm:return e}}}function Kw(n){return Ln(n)===bd}var h2={AsyncMode:rm,ConcurrentMode:bd,ContextConsumer:Kc,ContextProvider:Wc,Element:tm,ForwardRef:Gc,Fragment:Bc,Lazy:Xc,Memo:Yc,Portal:nm,Profiler:Hc,StrictMode:qc,Suspense:Qc,isAsyncMode:function(n){return Kw(n)||Ln(n)===rm},isConcurrentMode:Kw,isContextConsumer:function(n){return Ln(n)===Kc},isContextProvider:function(n){return Ln(n)===Wc},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===tm},isForwardRef:function(n){return Ln(n)===Gc},isFragment:function(n){return Ln(n)===Bc},isLazy:function(n){return Ln(n)===Xc},isMemo:function(n){return Ln(n)===Yc},isPortal:function(n){return Ln(n)===nm},isProfiler:function(n){return Ln(n)===Hc},isStrictMode:function(n){return Ln(n)===qc},isSuspense:function(n){return Ln(n)===Qc},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===Bc||n===bd||n===Hc||n===qc||n===Qc||n===l2||typeof n=="object"&&n!==null&&(n.$$typeof===Xc||n.$$typeof===Yc||n.$$typeof===Wc||n.$$typeof===Kc||n.$$typeof===Gc||n.$$typeof===c2||n.$$typeof===d2||n.$$typeof===f2||n.$$typeof===u2)},typeOf:Ln},nt=AS(function(n,e){}),Gw=(nt.AsyncMode,nt.ConcurrentMode,nt.ContextConsumer,nt.ContextProvider,nt.Element,nt.ForwardRef,nt.Fragment,nt.Lazy,nt.Memo,nt.Portal,nt.Profiler,nt.StrictMode,nt.Suspense,nt.isAsyncMode,nt.isConcurrentMode,nt.isContextConsumer,nt.isContextProvider,nt.isElement,nt.isForwardRef,nt.isFragment,nt.isLazy,nt.isMemo,nt.isPortal,nt.isProfiler,nt.isStrictMode,nt.isSuspense,nt.isValidElementType,nt.typeOf,AS(function(n){n.exports=h2})),p2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qw={};Qw[Gw.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qw[Gw.Memo]=p2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="type.googleapis.com/google.protobuf.Int64Value",g2="type.googleapis.com/google.protobuf.UInt64Value";function NS(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function kd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>kd(e));if(typeof n=="function"||typeof n=="object")return NS(n,e=>kd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function pa(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case m2:case g2:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>pa(e)):typeof n=="function"||typeof n=="object"?NS(n,e=>pa(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bn extends Un{constructor(e,t,i){super(`${yg}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,bn.prototype)}}function y2(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Cd(n,e){let t=y2(n),i=t,o;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!Yw[u])return new bn("internal","internal");t=Yw[u],i=u}const f=a.message;typeof f=="string"&&(i=f),o=a.details,o!==void 0&&(o=pa(o))}}catch{}return t==="ok"?null:new bn(t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Sn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o==null||o.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="us-central1",_2=/^data: (.*?)(?:\n|$)/;function w2(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new bn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class E2{constructor(e,t,i,o,a=im,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new v2(e,t,i,o),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(a);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=im}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function T2(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function S2(n,e,t){const i=o=>b2(n,e,o,{});return i.stream=(o,a)=>C2(n,e,o,a),i}async function I2(n,e,t,i){t["Content-Type"]="application/json";let o;try{o=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function OS(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function b2(n,e,t,i){const o=n._url(e);return k2(n,o,t,i)}async function k2(n,e,t,i){t=kd(t);const o={data:t},a=await OS(n,i),u=i.timeout||7e4,f=w2(u),h=await Promise.race([I2(e,o,a,n.fetchImpl),f.promise,n.cancelAllRequests]);if(f.cancel(),!h)throw new bn("cancelled","Firebase Functions instance was deleted.");const p=Cd(h.status,h.json);if(p)throw p;if(!h.json)throw new bn("internal","Response is not valid JSON object.");let v=h.json.data;if(typeof v>"u"&&(v=h.json.result),typeof v>"u")throw new bn("internal","Response is missing data field.");return{data:pa(v)}}function C2(n,e,t,i){const o=n._url(e);return x2(n,o,t,i||{})}async function x2(n,e,t,i){var o;t=kd(t);const a={data:t},u=await OS(n,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:i==null?void 0:i.signal})}catch(D){if(D instanceof Error&&D.name==="AbortError"){const M=new bn("cancelled","Request was cancelled.");return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}const V=Cd(0,null);return{data:Promise.reject(V),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(V)}}}}}}let h,p;const v=new Promise((D,V)=>{h=D,p=V});(o=i==null?void 0:i.signal)===null||o===void 0||o.addEventListener("abort",()=>{const D=new bn("cancelled","Request was cancelled.");p(D)});const I=f.body.getReader(),P=R2(I,h,p,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const D=P.getReader();return{async next(){const{value:V,done:M}=await D.read();return{value:V,done:M}},async return(){return await D.cancel(),{done:!0,value:void 0}}}}},data:v}}function R2(n,e,t,i){const o=(u,f)=>{const h=u.match(_2);if(!h)return;const p=h[1];try{const v=JSON.parse(p);if("result"in v){e(pa(v.result));return}if("message"in v){f.enqueue(pa(v.message));return}if("error"in v){const I=Cd(0,v);f.error(I),t(I);return}}catch(v){if(v instanceof bn){f.error(v),t(v);return}}},a=new TextDecoder;return new ReadableStream({start(u){let f="";return h();async function h(){if(i!=null&&i.aborted){const p=new bn("cancelled","Request was cancelled");return u.error(p),t(p),Promise.resolve()}try{const{value:p,done:v}=await n.read();if(v){f.trim()&&o(f.trim(),u),u.close();return}if(i!=null&&i.aborted){const P=new bn("cancelled","Request was cancelled");u.error(P),t(P),await n.cancel();return}f+=a.decode(p,{stream:!0});const I=f.split(`
`);f=I.pop()||"";for(const P of I)P.trim()&&o(P.trim(),u);return h()}catch(p){const v=p instanceof bn?p:Cd(0,null);u.error(v),t(v)}}},cancel(){return n.cancel()}})}const Xw="@firebase/functions",Jw="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="auth-internal",A2="app-check-internal",N2="messaging-internal";function O2(n){const e=(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider(P2),u=t.getProvider(N2),f=t.getProvider(A2);return new E2(o,a,u,f,i)};Jn(new Fn(yg,e,"PUBLIC").setMultipleInstances(!0)),nn(Xw,Jw,n),nn(Xw,Jw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n=Kl(),e=im){const i=Ti(ut(n),yg).getImmediate({identifier:e}),o=fm("functions");return o&&D2(i,...o),i}function D2(n,e,t){T2(ut(n),e,t)}function sm(n,e,t){return S2(ut(n),e)}O2();const L2="6Lc3S_EqAAAAABF9QFg3fHL1mZu2XOR41QqWVQYY",M2=()=>{const{executeRecaptcha:n}=a2(),e=hn(),[t,i]=W.useState(""),[o,a]=W.useState(""),[u,f]=W.useState(""),[h,p]=W.useState(!1),v=async I=>{if(I.preventDefault(),!n){Le.error("Error al cargar reCaptcha. Intenta de nuevo.");return}p(!0);try{const P=await n("register");console.log("reCaptcha Token:",P);const D=DS(),M=await sm(D,"registerUserWithRecaptcha")({email:t,password:o,recaptchaToken:P});if(M.data.success){Le.success("Registro exitoso. ¡Bienvenido!");const q=await sm(D,"sendWelcomeEmail")({email:t,fullName:u});q.data.success?(console.log("Correo de bienvenida enviado:",q.data.message),Le.info("Se ha enviado un correo de bienvenida."),e("/auth")):(console.error("Error al enviar correo:",q.data.message),Le.error("Registro exitoso, pero falló el envío del correo."))}else Le.error(M.data.message||"Error al registrarse.")}catch(P){console.error("Error en el registro:",P),Le.error("Error al registrarse. Intenta de nuevo.")}finally{p(!1)}};return A.jsxs("form",{onSubmit:v,className:"space-y-4 max-w-md mx-auto p-6  rounded-lg shadow-lg",children:[A.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"var(--text-color)"},children:"Registro"}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Nombre Completo"}),A.jsx("input",{type:"text",id:"fullName",value:u,onChange:I=>f(I.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Email"}),A.jsx("input",{type:"email",id:"email",value:t,onChange:I=>i(I.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Contraseña"}),A.jsx("input",{type:"password",id:"password",value:o,onChange:I=>a(I.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),A.jsx("button",{type:"submit",disabled:h,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] py-2 px-4 rounded-md hover:bg-[var(--button-bg-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f90] disabled:bg-gray-400 dark:disabled:bg-gray-600",children:h?"Registrando...":"Registrarse"}),A.jsxs("p",{className:"text-center text-sm",style:{color:"var(--text-color)"},children:["¿Ya tienes cuenta?"," ",A.jsx("a",{href:"/auth",className:"text-[var(--button-bg)] hover:underline",children:"Inicia sesión"})]})]})},V2=()=>A.jsx(o2,{reCaptchaKey:L2,children:A.jsx("div",{className:"min-h-screen bg-[var(--background-color)] flex items-center justify-center",children:A.jsx(M2,{})})}),LS=W.createContext(void 0),j2=({children:n})=>{const[e,t]=W.useState("dark");W.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;t(o?"dark":"light")},[]),W.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return A.jsx(LS.Provider,{value:{theme:e,toggleTheme:i},children:n})},F2=()=>{const n=W.useContext(LS);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},U2=()=>{const[n,e]=W.useState(""),[t,i]=W.useState([]),{cartItems:o}=Gr(),{currentUser:a,signOutUser:u}=df(),f=hn(),[h,p]=W.useState(!1),{theme:v,toggleTheme:I}=F2(),P=o.reduce((j,q)=>j+q.quantity,0),D=j=>{const q=j.target.value.toLowerCase().trim();if(e(q),q.length>0){console.log("Buscando término:",q);const Q=Ea(Zn(cn,"products"),Ym("nameLowercase"),$A(q),BA(q+""),Jm(5)),G=Wr(Q,ee=>{console.log("Snapshot recibido:",ee.docs.length);const U=ee.docs.map(B=>({id:B.id,...B.data()}));console.log("Resultados encontrados:",U),i(U)},ee=>{console.error("Error en la búsqueda:",ee)});return()=>G()}else i([])},V=j=>{if(j.key==="Enter"){const q=n.toLowerCase().trim();q.length>0&&(console.log("Redirigiendo a /search con término:",q),f(`/search?q=${q}`),e(""),i([]))}},M=async()=>{try{await u(),f("/"),p(!1)}catch(j){console.error("Error al cerrar sesión:",j.message)}};return A.jsx("header",{className:"bg-menu p-4 shadow-lg",style:{position:"sticky",top:0,zIndex:1e3,width:"100%"},children:A.jsxs("div",{className:"container mx-auto flex flex-wrap gap-5 items-center",children:[A.jsx("div",{className:"basis-3/24",children:A.jsx(Or,{to:"/",className:"flex-shrink-0",children:A.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-10 md:h-12"})})}),A.jsxs("div",{className:"basis-14/24",children:[A.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:D,onKeyDown:V,className:"w-full p-3 rounded-full bg-gray-800 dark:bg-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f90] text-base md:text-lg",style:{color:"white"}}),t.length>0&&A.jsx("ul",{className:"absolute w-full bg-gray-900 dark:bg-gray-100 border border-gray-700 dark:border-gray-300 mt-2 rounded-lg shadow-lg z-10",style:{color:"white"},children:t.map(j=>A.jsxs("li",{className:"p-3 hover:bg-gray-700 dark:hover:bg-gray-200 cursor-pointer",style:{color:"white"},onClick:()=>{f(`/product/${j.id}`),e(""),i([])},children:[j.name," - $",j.price]},j.id))})]}),A.jsx("div",{className:"basis-1/24",children:A.jsx("button",{onClick:I,className:"w-full bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:v==="light"?"🌙":"☀️"})}),A.jsx("div",{className:"basis-1/24",children:a?A.jsx("button",{onClick:M,className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Cerrar Sesión"}):A.jsx(Or,{to:"/auth",children:A.jsx("span",{className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Iniciar Sesión"})})}),A.jsx("div",{className:"basis-1/24 text-white",children:A.jsx(Or,{to:"/auth/register",children:"Registrarse"})}),A.jsx("div",{className:"basis-1/24",children:A.jsx(Or,{to:"/cart",className:"flex items-center justify-center",children:A.jsxs("span",{className:"bg-orange relative flex items-center justify-center bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:["🛒",P>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:P})]})})}),h&&A.jsxs("div",{className:"md:hidden mt-2 w-full bg-menu p-2 rounded-lg shadow-lg",children:[a&&A.jsx("div",{className:"mb-2",children:A.jsx("span",{style:{color:"white"},children:`Bienvenido, ${a.email}`})}),a&&a.email==="admin@example.com"&&A.jsx(Or,{to:"/admin",className:"block w-full text-center mb-2",children:A.jsx("span",{className:"bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:"Panel Admin"})})]})]})})},z2=()=>{const[n,e]=W.useState(null),[t,i]=W.useState(!1),[o,a]=W.useState(""),[u,f]=W.useState(!1);W.useEffect(()=>{const v=localStorage.getItem("userLocation");if(v){const[I,P]=v.split(", ");e({city:I,country:P})}},[]);const h=()=>{if(!navigator.geolocation){a("La geolocalización no es compatible con este navegador.");return}navigator.geolocation.getCurrentPosition(async v=>{const{latitude:I,longitude:P}=v.coords;try{const D=await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${I}&lon=${P}`);if(!D.ok)throw new Error(`Error en Nominatim: ${D.status} ${D.statusText}`);const V=await D.json(),M=`${V.address.city||V.address.town||V.address.village||""}, ${V.address.country||""}`.trim();if(M){const[j,q]=M.split(", ");e({city:j,country:q}),localStorage.setItem("userLocation",M),a("")}else throw new Error("No se encontraron datos de dirección.")}catch(D){console.error("Error al obtener la dirección:",D),a("No se pudo obtener la dirección. Ingresa tu ubicación manualmente."),i(!0)}},v=>{console.error("Error al obtener la ubicación:",v),v.code===v.PERMISSION_DENIED?a("Permiso denegado. Ingresa tu ubicación manualmente."):a("Error al obtener la ubicación. Ingresa tu ubicación manualmente."),i(!0)})},p=v=>{const[I,P]=v.split(", ");I&&P?(e({city:I,country:P}),localStorage.setItem("userLocation",v),i(!1),a(""),Le.success("Ubicación guardada exitosamente.",{position:"top-right",autoClose:3e3})):Le.error("Por favor, usa el formato 'Ciudad, País' (e.g., Bogotá, Colombia).",{position:"top-right",autoClose:3e3})};return A.jsx("nav",{className:"bg-menu text-white p-4",children:A.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:[A.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[!n&&A.jsx("button",{onClick:h,className:"bg-button text-white px-3 py-1 rounded-md hover:bg-opacity-80 text-sm md:text-base",children:"Obtener Ubicación"}),A.jsx("button",{onClick:()=>i(!0),className:"bg-button text-white px-3 py-1 rounded-md hover:bg-opacity-80 text-sm md:text-base w-full md:w-auto",children:n?`Ubicación: ${n.city}, ${n.country}`:"Agregar Ubicación"}),o&&A.jsx("p",{className:"text-red-500 text-xs md:text-sm",children:o}),t&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-[#0e0e0e] p-6 rounded-lg shadow-lg",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-[#fff]",children:"Ingresa tu ubicación"}),A.jsx("input",{type:"text",placeholder:"Ej: Bogotá, Colombia",className:"w-full p-2 mb-4 rounded bg-[#fff] text-[#000] focus:outline-none",onChange:v=>{const I=v.target.value;p(I)},onKeyDown:v=>{v.key==="Enter"&&p(v.currentTarget.value)}}),A.jsxs("div",{className:"flex justify-end space-x-4",children:[A.jsx("button",{onClick:()=>{i(!1),a("")},className:"bg-gray-500 text-[#fff] px-4 py-2 rounded hover:bg-gray-600 cursor-pointer",children:"Cancelar"}),A.jsx("button",{onClick:()=>{var v;return p(((v=document.querySelector("input"))==null?void 0:v.value)||"")},className:"bg-[#f90] text-[#fff] px-4 py-2 rounded hover:bg-[#e68a00] cursor-pointer",children:"Guardar"})]})]})})]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("button",{className:"md:hidden text-white focus:outline-none mr-2",onClick:()=>f(!u),"aria-label":"Toggle menu",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:u?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),A.jsxs("div",{className:`md:flex space-x-6 ${u?"block":"hidden"} md:block`,children:[A.jsx(Or,{to:"/offers",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>f(!1),children:"Ofertas"}),A.jsx(Or,{to:"/categories",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>f(!1),children:"Categorías"})]})]})]})})},$2=()=>A.jsx("footer",{className:"bg-menu text-white p-8 mt-8",children:A.jsxs("div",{className:"container mx-auto",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ecommerce PC Parts"}),A.jsx("p",{children:"Tu tienda favorita para componentes de PC y más."})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces"}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx("a",{href:"#",className:"hover:text-button",children:"Inicio"})}),A.jsx("li",{children:A.jsx("a",{href:"#",className:"hover:text-button",children:"Ofertas"})}),A.jsx("li",{children:A.jsx("a",{href:"#",className:"hover:text-button",children:"Categorías"})})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx("a",{href:"#",className:"hover:text-button",children:"Facebook"})}),A.jsx("li",{children:A.jsx("a",{href:"#",className:"hover:text-button",children:"Twitter"})}),A.jsx("li",{children:A.jsx("a",{href:"#",className:"hover:text-button",children:"Instagram"})})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),A.jsx("p",{children:"Email: support@ecommercepcparts.com"}),A.jsx("p",{children:"Teléfono: +123 456 7890"})]})]}),A.jsx("p",{className:"text-center mt-8",children:"© 2025 Ecommerce PC Parts. Todos los derechos reservados."})]})}),B2="pub_test_dl5weFJ67b9vBvRDqv3TRK5NRpJrQy01",q2=()=>{const{cartItems:n}=Gr(),{state:e}=Ei(),{total:t=0}=e||{},[i,o]=W.useState(null),[a,u]=W.useState(null),f=hn(),h=Math.round(t*100),p=async()=>{if(n.length===0){Le.error("El carrito está vacío. Agrega productos antes de pagar.");return}const v=DS(),I=sm(v,"createWompiTransaction");try{const P=await I({amountInCents:h,customerEmail:"cliente@example.com",customerData:{full_name:"Cliente Ejemplo",email:"cliente@example.com",phone_number:"1234567890",legal_id:"123456789",legal_id_type:"CC"}}),{success:D,transactionId:V,reference:M,error:j}=P.data;D&&V&&M?(o(V),u(M),Le.success("Transacción creada. Redirigiendo al widget de pago...")):(console.error("Error al crear transacción:",j),Le.error("Error al procesar el pago. Intenta de nuevo."))}catch(P){console.error("Error al crear transacción:",P),Le.error("Error al procesar el pago. Intenta de nuevo.")}};return W.useEffect(()=>{if(i&&a){const v=document.createElement("script");return v.src="https://checkout.wompi.co/widget.js",v.async=!0,v.onload=()=>{window.WompiWidget?new window.WompiWidget({render:"button",publicKey:B2,currency:"COP",amountInCents:h,reference:a,onSuccess:P=>{console.log("Pago exitoso:",P),Le.success("Pago aprobado. ¡Gracias por tu compra!"),f("/order-confirmation")},onError:P=>{console.error("Error en el pago:",P),Le.error("Error al procesar el pago.")},onClose:()=>{console.log("Widget cerrado"),o(null),u(null)}}).open():(console.error("Wompi widget no cargado"),Le.error("Error al cargar el widget de pago."))},v.onerror=()=>{console.error("Error al cargar el script de Wompi"),Le.error("Error al cargar el widget de pago.")},document.body.appendChild(v),()=>{document.body.removeChild(v)}}},[i,a,h,f]),A.jsxs("div",{className:"container mx-auto p-6 min-h-screen",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-color)"},children:"Pago con Wompi"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("p",{className:"text-lg",style:{color:"var(--text-color)"},children:["Total a pagar: $",(t/100).toFixed(2)," COP"]}),A.jsx("button",{onClick:p,className:"bg-[#f90] text-white px-4 py-2 rounded hover:bg-[#e68a00]",children:"Pagar con Wompi"})]})]})},H2=()=>A.jsx(XL,{children:A.jsx(BL,{children:A.jsxs(uk,{children:[A.jsx(U2,{}),A.jsx(z2,{}),A.jsxs(Ub,{children:[A.jsx(Xn,{path:"/",element:A.jsx(GL,{})}),A.jsx(Xn,{path:"/payment",element:A.jsx(q2,{})}),A.jsx(Xn,{path:"/offers",element:A.jsx(QL,{})}),A.jsx(Xn,{path:"/categories",element:A.jsx(YL,{})}),A.jsx(Xn,{path:"/product/:id",element:A.jsx(JL,{})}),A.jsx(Xn,{path:"/cart",element:A.jsx(ZL,{})}),A.jsx(Xn,{path:"/admin",element:A.jsx(t2,{})}),A.jsx(Xn,{path:"/search",element:A.jsx(n2,{})}),A.jsxs(Xn,{path:"/auth",children:[A.jsx(Xn,{index:!0,element:A.jsx(e2,{})})," ",A.jsx(Xn,{path:"register",element:A.jsx(V2,{})})," "]})]}),A.jsx($2,{}),A.jsx($L,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})})});QI.createRoot(document.getElementById("root")).render(A.jsx(st.StrictMode,{children:A.jsx(j2,{children:A.jsx(H2,{})})}));
