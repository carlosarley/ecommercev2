(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function _0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ff={exports:{}},hl={},pf={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function HI(){if(Hy)return ze;Hy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,V={};function P(z,Z,ve){this.props=z,this.context=Z,this.refs=V,this.updater=ve||R}P.prototype.isReactComponent={},P.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},P.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function $(){}$.prototype=P.prototype;function H(z,Z,ve){this.props=z,this.context=Z,this.refs=V,this.updater=ve||R}var K=H.prototype=new $;K.constructor=H,b(K,P.prototype),K.isPureReactComponent=!0;var X=Array.isArray,L=Object.prototype.hasOwnProperty,se={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(z,Z,ve){var Le,Oe={},Be=null,tt=null;if(Z!=null)for(Le in Z.ref!==void 0&&(tt=Z.ref),Z.key!==void 0&&(Be=""+Z.key),Z)L.call(Z,Le)&&!A.hasOwnProperty(Le)&&(Oe[Le]=Z[Le]);var nt=arguments.length-2;if(nt===1)Oe.children=ve;else if(1<nt){for(var Fe=Array(nt),vt=0;vt<nt;vt++)Fe[vt]=arguments[vt+2];Oe.children=Fe}if(z&&z.defaultProps)for(Le in nt=z.defaultProps,nt)Oe[Le]===void 0&&(Oe[Le]=nt[Le]);return{$$typeof:n,type:z,key:Be,ref:tt,props:Oe,_owner:se.current}}function C(z,Z){return{$$typeof:n,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ve){return Z[ve]})}var j=/\/+/g;function x(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Z.toString(36)}function ut(z,Z,ve,Le,Oe){var Be=typeof z;(Be==="undefined"||Be==="boolean")&&(z=null);var tt=!1;if(z===null)tt=!0;else switch(Be){case"string":case"number":tt=!0;break;case"object":switch(z.$$typeof){case n:case e:tt=!0}}if(tt)return tt=z,Oe=Oe(tt),z=Le===""?"."+x(tt,0):Le,X(Oe)?(ve="",z!=null&&(ve=z.replace(j,"$&/")+"/"),ut(Oe,Z,ve,"",function(vt){return vt})):Oe!=null&&(N(Oe)&&(Oe=C(Oe,ve+(!Oe.key||tt&&tt.key===Oe.key?"":(""+Oe.key).replace(j,"$&/")+"/")+z)),Z.push(Oe)),1;if(tt=0,Le=Le===""?".":Le+":",X(z))for(var nt=0;nt<z.length;nt++){Be=z[nt];var Fe=Le+x(Be,nt);tt+=ut(Be,Z,ve,Fe,Oe)}else if(Fe=T(z),typeof Fe=="function")for(z=Fe.call(z),nt=0;!(Be=z.next()).done;)Be=Be.value,Fe=Le+x(Be,nt++),tt+=ut(Be,Z,ve,Fe,Oe);else if(Be==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return tt}function je(z,Z,ve){if(z==null)return z;var Le=[],Oe=0;return ut(z,Le,"","",function(Be){return Z.call(ve,Be,Oe++)}),Le}function Et(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(ve){(z._status===0||z._status===-1)&&(z._status=1,z._result=ve)},function(ve){(z._status===0||z._status===-1)&&(z._status=2,z._result=ve)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var $e={current:null},le={transition:null},Ee={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:le,ReactCurrentOwner:se};function fe(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:je,forEach:function(z,Z,ve){je(z,function(){Z.apply(this,arguments)},ve)},count:function(z){var Z=0;return je(z,function(){Z++}),Z},toArray:function(z){return je(z,function(Z){return Z})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ze.Component=P,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=H,ze.StrictMode=i,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,ze.act=fe,ze.cloneElement=function(z,Z,ve){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Le=b({},z.props),Oe=z.key,Be=z.ref,tt=z._owner;if(Z!=null){if(Z.ref!==void 0&&(Be=Z.ref,tt=se.current),Z.key!==void 0&&(Oe=""+Z.key),z.type&&z.type.defaultProps)var nt=z.type.defaultProps;for(Fe in Z)L.call(Z,Fe)&&!A.hasOwnProperty(Fe)&&(Le[Fe]=Z[Fe]===void 0&&nt!==void 0?nt[Fe]:Z[Fe])}var Fe=arguments.length-2;if(Fe===1)Le.children=ve;else if(1<Fe){nt=Array(Fe);for(var vt=0;vt<Fe;vt++)nt[vt]=arguments[vt+2];Le.children=nt}return{$$typeof:n,type:z.type,key:Oe,ref:Be,props:Le,_owner:tt}},ze.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},ze.createElement=S,ze.createFactory=function(z){var Z=S.bind(null,z);return Z.type=z,Z},ze.createRef=function(){return{current:null}},ze.forwardRef=function(z){return{$$typeof:h,render:z}},ze.isValidElement=N,ze.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:Et}},ze.memo=function(z,Z){return{$$typeof:m,type:z,compare:Z===void 0?null:Z}},ze.startTransition=function(z){var Z=le.transition;le.transition={};try{z()}finally{le.transition=Z}},ze.unstable_act=fe,ze.useCallback=function(z,Z){return $e.current.useCallback(z,Z)},ze.useContext=function(z){return $e.current.useContext(z)},ze.useDebugValue=function(){},ze.useDeferredValue=function(z){return $e.current.useDeferredValue(z)},ze.useEffect=function(z,Z){return $e.current.useEffect(z,Z)},ze.useId=function(){return $e.current.useId()},ze.useImperativeHandle=function(z,Z,ve){return $e.current.useImperativeHandle(z,Z,ve)},ze.useInsertionEffect=function(z,Z){return $e.current.useInsertionEffect(z,Z)},ze.useLayoutEffect=function(z,Z){return $e.current.useLayoutEffect(z,Z)},ze.useMemo=function(z,Z){return $e.current.useMemo(z,Z)},ze.useReducer=function(z,Z,ve){return $e.current.useReducer(z,Z,ve)},ze.useRef=function(z){return $e.current.useRef(z)},ze.useState=function(z){return $e.current.useState(z)},ze.useSyncExternalStore=function(z,Z,ve){return $e.current.useSyncExternalStore(z,Z,ve)},ze.useTransition=function(){return $e.current.useTransition()},ze.version="18.3.1",ze}var qy;function Ap(){return qy||(qy=1,pf.exports=HI()),pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function qI(){if(Wy)return hl;Wy=1;var n=Ap(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,w={},T=null,R=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(R=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:R,props:w,_owner:o.current}}return hl.Fragment=t,hl.jsx=u,hl.jsxs=u,hl}var Ky;function WI(){return Ky||(Ky=1,ff.exports=qI()),ff.exports}var te=WI(),U=Ap();const gt=_0(U);var cc={},mf={exports:{}},Ln={},gf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function KI(){return Gy||(Gy=1,function(n){function e(le,Ee){var fe=le.length;le.push(Ee);e:for(;0<fe;){var z=fe-1>>>1,Z=le[z];if(0<o(Z,Ee))le[z]=Ee,le[fe]=Z,fe=z;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Ee=le[0],fe=le.pop();if(fe!==Ee){le[0]=fe;e:for(var z=0,Z=le.length,ve=Z>>>1;z<ve;){var Le=2*(z+1)-1,Oe=le[Le],Be=Le+1,tt=le[Be];if(0>o(Oe,fe))Be<Z&&0>o(tt,Oe)?(le[z]=tt,le[Be]=fe,z=Be):(le[z]=Oe,le[Le]=fe,z=Le);else if(Be<Z&&0>o(tt,fe))le[z]=tt,le[Be]=fe,z=Be;else break e}}return Ee}function o(le,Ee){var fe=le.sortIndex-Ee.sortIndex;return fe!==0?fe:le.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,w=null,T=3,R=!1,b=!1,V=!1,P=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(le){for(var Ee=t(m);Ee!==null;){if(Ee.callback===null)i(m);else if(Ee.startTime<=le)i(m),Ee.sortIndex=Ee.expirationTime,e(f,Ee);else break;Ee=t(m)}}function X(le){if(V=!1,K(le),!b)if(t(f)!==null)b=!0,Et(L);else{var Ee=t(m);Ee!==null&&$e(X,Ee.startTime-le)}}function L(le,Ee){b=!1,V&&(V=!1,$(S),S=-1),R=!0;var fe=T;try{for(K(Ee),w=t(f);w!==null&&(!(w.expirationTime>Ee)||le&&!M());){var z=w.callback;if(typeof z=="function"){w.callback=null,T=w.priorityLevel;var Z=z(w.expirationTime<=Ee);Ee=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(f)&&i(f),K(Ee)}else i(f);w=t(f)}if(w!==null)var ve=!0;else{var Le=t(m);Le!==null&&$e(X,Le.startTime-Ee),ve=!1}return ve}finally{w=null,T=fe,R=!1}}var se=!1,A=null,S=-1,C=5,N=-1;function M(){return!(n.unstable_now()-N<C)}function j(){if(A!==null){var le=n.unstable_now();N=le;var Ee=!0;try{Ee=A(!0,le)}finally{Ee?x():(se=!1,A=null)}}else se=!1}var x;if(typeof H=="function")x=function(){H(j)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,je=ut.port2;ut.port1.onmessage=j,x=function(){je.postMessage(null)}}else x=function(){P(j,0)};function Et(le){A=le,se||(se=!0,x())}function $e(le,Ee){S=P(function(){le(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){b||R||(b=!0,Et(L))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(le){switch(T){case 1:case 2:case 3:var Ee=3;break;default:Ee=T}var fe=T;T=Ee;try{return le()}finally{T=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Ee){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var fe=T;T=le;try{return Ee()}finally{T=fe}},n.unstable_scheduleCallback=function(le,Ee,fe){var z=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?z+fe:z):fe=z,le){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=fe+Z,le={id:v++,callback:Ee,priorityLevel:le,startTime:fe,expirationTime:Z,sortIndex:-1},fe>z?(le.sortIndex=fe,e(m,le),t(f)===null&&le===t(m)&&(V?($(S),S=-1):V=!0,$e(X,fe-z))):(le.sortIndex=Z,e(f,le),b||R||(b=!0,Et(L))),le},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(le){var Ee=T;return function(){var fe=T;T=Ee;try{return le.apply(this,arguments)}finally{T=fe}}}}(yf)),yf}var Qy;function GI(){return Qy||(Qy=1,gf.exports=KI()),gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function QI(){if(Yy)return Ln;Yy=1;var n=Ap(),e=GI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(r){return f.call(w,r)?!0:f.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function R(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,l,d){if(s===null||typeof s>"u"||R(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function V(r,s,l,d,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){P[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];P[s]=new V(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){P[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){P[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){P[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){P[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){P[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){P[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){P[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace($,H);P[s]=new V(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace($,H);P[s]=new V(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace($,H);P[s]=new V(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){P[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),P.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){P[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function K(r,s,l,d){var p=P.hasOwnProperty(s)?P[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),se=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),le=Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var fe=Object.assign,z;function Z(r){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+r}var ve=!1;function Le(r,s){if(!r||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var d=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){d=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var p=Q.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,k=y.length-1;1<=E&&0<=k&&p[E]!==y[k];)k--;for(;1<=E&&0<=k;E--,k--)if(p[E]!==y[k]){if(E!==1||k!==1)do if(E--,k--,0>k||p[E]!==y[k]){var O=`
`+p[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function Oe(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Le(r.type,!1),r;case 11:return r=Le(r.type.render,!1),r;case 1:return r=Le(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case se:return"Portal";case C:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case ut:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case je:return s=r.displayName||null,s!==null?s:Be(r.type)||"Memo";case Et:s=r._payload,r=r._init;try{return Be(r(s))}catch{}}return null}function tt(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function nt(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(r){var s=Fe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Zn(r){r._valueTracker||(r._valueTracker=vt(r))}function Mi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Fe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function ln(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function li(r,s){var l=s.checked;return fe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Vi(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=nt(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fi(r,s){s=s.checked,s!=null&&K(r,"checked",s,!1)}function Vs(r,s){Fi(r,s);var l=nt(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ui(r,s.type,l):s.hasOwnProperty("defaultValue")&&Ui(r,s.type,nt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Co(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ui(r,s,l){(s!=="number"||ln(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var pr=Array.isArray;function Xt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+nt(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function mr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ui(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:nt(l)}}function Dr(r,s){var l=nt(s.value),d=nt(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Cn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ot(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ot(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var jn,Fs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(jn=jn||document.createElement("div"),jn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=jn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lr=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(r){Lr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Or[s]=Or[r]})});function ji(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Or.hasOwnProperty(r)&&Or[r]?(""+s).trim():s+"px"}function Us(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=ji(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var $i=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mr(r,s){if(s){if($i[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function Bi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ci=null,An=null,$n=null;function yr(r){if(r=Xa(r)){if(typeof ci!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ru(s),ci(r.stateNode,r.type,s))}}function En(r){An?$n?$n.push(r):$n=[r]:An=r}function js(){if(An){var r=An,s=$n;if($n=An=null,yr(r),s)for(r=0;r<s.length;r++)yr(s[r])}}function di(r,s){return r(s)}function D(){}var B=!1;function Y(r,s,l){if(B)return r(s,l);B=!0;try{return di(r,s,l)}finally{B=!1,(An!==null||$n!==null)&&(D(),js())}}function ee(r,s){var l=r.stateNode;if(l===null)return null;var d=Ru(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var de=!1;if(h)try{var Ce={};Object.defineProperty(Ce,"passive",{get:function(){de=!0}}),window.addEventListener("test",Ce,Ce),window.removeEventListener("test",Ce,Ce)}catch{de=!1}function Ae(r,s,l,d,p,y,E,k,O){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(ie){this.onError(ie)}}var _e=!1,Ie=null,he=!1,Se=null,be={onError:function(r){_e=!0,Ie=r}};function Ue(r,s,l,d,p,y,E,k,O){_e=!1,Ie=null,Ae.apply(be,arguments)}function pt(r,s,l,d,p,y,E,k,O){if(Ue.apply(this,arguments),_e){if(_e){var Q=Ie;_e=!1,Ie=null}else throw Error(t(198));he||(he=!0,Se=Q)}}function ct(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function dt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Qe(r){if(ct(r)!==r)throw Error(t(188))}function Tt(r){var s=r.alternate;if(!s){if(s=ct(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Qe(p),r;if(y===d)return Qe(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,k=p.child;k;){if(k===l){E=!0,l=p,d=y;break}if(k===d){E=!0,d=p,l=y;break}k=k.sibling}if(!E){for(k=y.child;k;){if(k===l){E=!0,l=y,d=p;break}if(k===d){E=!0,d=y,l=p;break}k=k.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function er(r){return r=Tt(r),r!==null?tr(r):null}function tr(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=tr(r);if(s!==null)return s;r=r.sibling}return null}var un=e.unstable_scheduleCallback,cn=e.unstable_cancelCallback,Hi=e.unstable_shouldYield,hi=e.unstable_requestPaint,Ye=e.unstable_now,fi=e.unstable_getCurrentPriorityLevel,nr=e.unstable_ImmediatePriority,We=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,Vr=e.unstable_LowPriority,Fr=e.unstable_IdlePriority,ht=null,Lt=null;function $s(r){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:ru,La=Math.log,nu=Math.LN2;function ru(r){return r>>>=0,r===0?32:31-(La(r)/nu|0)|0}var Ao=64,ko=4194304;function qi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zs(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var k=E&~p;k!==0?d=qi(k):(y&=E,y!==0&&(d=qi(y)))}else E=l&~p,E!==0?d=qi(E):y!==0&&(d=qi(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Zt(s),p=1<<l,d|=r[l],s&=~p;return d}function zd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Zt(y),k=1<<E,O=p[E];O===-1?((k&l)===0||(k&d)!==0)&&(p[E]=zd(k,s)):O<=s&&(r.expiredLanes|=k),y&=~k}}function zn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bs(){var r=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),r}function Wi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ki(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Zt(s),r[s]=l}function mt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Zt(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Gi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Zt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ke=0;function Qi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var iu,Po,su,ou,au,Ma=!1,Ur=[],en=null,vr=null,_r=null,Yi=new Map,rr=new Map,jr=[],Bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(r,s){switch(r){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Yi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(s.pointerId)}}function kn(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Xa(s),s!==null&&Po(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Hd(r,s,l,d,p){switch(s){case"focusin":return en=kn(en,r,s,l,d,p),!0;case"dragenter":return vr=kn(vr,r,s,l,d,p),!0;case"mouseover":return _r=kn(_r,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Yi.set(y,kn(Yi.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,rr.set(y,kn(rr.get(y)||null,r,s,l,d,p)),!0}return!1}function uu(r){var s=Gs(r.target);if(s!==null){var l=ct(s);if(l!==null){if(s=l.tag,s===13){if(s=dt(l),s!==null){r.blockedOn=s,au(r.priority,function(){su(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=xo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);gr=d,l.target.dispatchEvent(d),gr=null}else return s=Xa(l),s!==null&&Po(s),r.blockedOn=l,!1;s.shift()}return!0}function Hs(r,s,l){mi(r)&&l.delete(s)}function cu(){Ma=!1,en!==null&&mi(en)&&(en=null),vr!==null&&mi(vr)&&(vr=null),_r!==null&&mi(_r)&&(_r=null),Yi.forEach(Hs),rr.forEach(Hs)}function wr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ma||(Ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cu)))}function Er(r){function s(p){return wr(p,r)}if(0<Ur.length){wr(Ur[0],r);for(var l=1;l<Ur.length;l++){var d=Ur[l];d.blockedOn===r&&(d.blockedOn=null)}}for(en!==null&&wr(en,r),vr!==null&&wr(vr,r),_r!==null&&wr(_r,r),Yi.forEach(s),rr.forEach(s),l=0;l<jr.length;l++)d=jr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<jr.length&&(l=jr[0],l.blockedOn===null);)uu(l),l.blockedOn===null&&jr.shift()}var gi=X.ReactCurrentBatchConfig,Xi=!0;function It(r,s,l,d){var p=Ke,y=gi.transition;gi.transition=null;try{Ke=1,Va(r,s,l,d)}finally{Ke=p,gi.transition=y}}function qd(r,s,l,d){var p=Ke,y=gi.transition;gi.transition=null;try{Ke=4,Va(r,s,l,d)}finally{Ke=p,gi.transition=y}}function Va(r,s,l,d){if(Xi){var p=xo(r,s,l,d);if(p===null)nh(r,s,d,qs,l),lu(r,d);else if(Hd(p,r,s,l,d))d.stopPropagation();else if(lu(r,d),s&4&&-1<Bd.indexOf(r)){for(;p!==null;){var y=Xa(p);if(y!==null&&iu(y),y=xo(r,s,l,d),y===null&&nh(r,s,d,qs,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else nh(r,s,d,null,l)}}var qs=null;function xo(r,s,l,d){if(qs=null,r=Bi(d),r=Gs(r),r!==null)if(s=ct(r),s===null)r=null;else if(l=s.tag,l===13){if(r=dt(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return qs=r,null}function Fa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fi()){case nr:return 1;case We:return 4;case at:case Vr:return 16;case Fr:return 536870912;default:return 16}default:return 16}}var Bn=null,bo=null,Pn=null;function Ua(){if(Pn)return Pn;var r,s=bo,l=s.length,d,p="value"in Bn?Bn.value:Bn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[y-d];d++);return Pn=p.slice(r,1<d?1-d:void 0)}function No(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function ja(){return!1}function tn(r){function s(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$r:ja,this.isPropagationStopped=ja,this}return fe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),s}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=tn(Tr),zr=fe({},Tr,{view:0,detail:0}),Wd=tn(zr),Oo,yi,Ji,Ws=fe({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ji&&(Ji&&r.type==="mousemove"?(Oo=r.screenX-Ji.screenX,yi=r.screenY-Ji.screenY):yi=Oo=0,Ji=r),Oo)},movementY:function(r){return"movementY"in r?r.movementY:yi}}),Lo=tn(Ws),$a=fe({},Ws,{dataTransfer:0}),du=tn($a),Mo=fe({},zr,{relatedTarget:0}),Vo=tn(Mo),hu=fe({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=tn(hu),fu=fe({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pu=tn(fu),mu=fe({},Tr,{data:0}),za=tn(mu),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=gu[r])?!!s[r]:!1}function Br(){return yu}var c=fe({},zr,{key:function(r){if(r.key){var s=Fo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=No(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Tn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(r){return r.type==="keypress"?No(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?No(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=tn(c),_=fe({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=tn(_),q=fe({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),J=tn(q),ce=fe({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=tn(ce),jt=fe({},Ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=tn(jt),Ht=[9,13,27,32],Mt=h&&"CompositionEvent"in window,ir=null;h&&"documentMode"in document&&(ir=document.documentMode);var Hn=h&&"TextEvent"in window&&!ir,Ks=h&&(!Mt||ir&&8<ir&&11>=ir),Uo=" ",Fm=!1;function Um(r,s){switch(r){case"keyup":return Ht.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jo=!1;function $T(r,s){switch(r){case"compositionend":return jm(s);case"keypress":return s.which!==32?null:(Fm=!0,Uo);case"textInput":return r=s.data,r===Uo&&Fm?null:r;default:return null}}function zT(r,s){if(jo)return r==="compositionend"||!Mt&&Um(r,s)?(r=Ua(),Pn=bo=Bn=null,jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ks&&s.locale!=="ko"?null:s.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!BT[r.type]:s==="textarea"}function zm(r,s,l,d){En(d),s=Tu(s,"onChange"),0<s.length&&(l=new Do("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ba=null,Ha=null;function HT(r){og(r,0)}function vu(r){var s=qo(r);if(Mi(s))return r}function qT(r,s){if(r==="change")return s}var Bm=!1;if(h){var Kd;if(h){var Gd="oninput"in document;if(!Gd){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),Gd=typeof Hm.oninput=="function"}Kd=Gd}else Kd=!1;Bm=Kd&&(!document.documentMode||9<document.documentMode)}function qm(){Ba&&(Ba.detachEvent("onpropertychange",Wm),Ha=Ba=null)}function Wm(r){if(r.propertyName==="value"&&vu(Ha)){var s=[];zm(s,Ha,r,Bi(r)),Y(HT,s)}}function WT(r,s,l){r==="focusin"?(qm(),Ba=s,Ha=l,Ba.attachEvent("onpropertychange",Wm)):r==="focusout"&&qm()}function KT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vu(Ha)}function GT(r,s){if(r==="click")return vu(s)}function QT(r,s){if(r==="input"||r==="change")return vu(s)}function YT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ir=typeof Object.is=="function"?Object.is:YT;function qa(r,s){if(Ir(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Ir(r[p],s[p]))return!1}return!0}function Km(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gm(r,s){var l=Km(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Km(l)}}function Qm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Qm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ym(){for(var r=window,s=ln();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ln(r.document)}return s}function Qd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function XT(r){var s=Ym(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Qm(l.ownerDocument.documentElement,l)){if(d!==null&&Qd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Gm(l,y);var E=Gm(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var JT=h&&"documentMode"in document&&11>=document.documentMode,$o=null,Yd=null,Wa=null,Xd=!1;function Xm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xd||$o==null||$o!==ln(d)||(d=$o,"selectionStart"in d&&Qd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wa&&qa(Wa,d)||(Wa=d,d=Tu(Yd,"onSelect"),0<d.length&&(s=new Do("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=$o)))}function _u(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var zo={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Jd={},Jm={};h&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function wu(r){if(Jd[r])return Jd[r];if(!zo[r])return r;var s=zo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Jm)return Jd[r]=s[l];return r}var Zm=wu("animationend"),eg=wu("animationiteration"),tg=wu("animationstart"),ng=wu("transitionend"),rg=new Map,ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(r,s){rg.set(r,s),a(s,[r])}for(var Zd=0;Zd<ig.length;Zd++){var eh=ig[Zd],ZT=eh.toLowerCase(),eI=eh[0].toUpperCase()+eh.slice(1);Zi(ZT,"on"+eI)}Zi(Zm,"onAnimationEnd"),Zi(eg,"onAnimationIteration"),Zi(tg,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(ng,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function sg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,pt(d,s,void 0,r),r.currentTarget=null}function og(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var k=d[E],O=k.instance,Q=k.currentTarget;if(k=k.listener,O!==y&&p.isPropagationStopped())break e;sg(p,k,Q),y=O}else for(E=0;E<d.length;E++){if(k=d[E],O=k.instance,Q=k.currentTarget,k=k.listener,O!==y&&p.isPropagationStopped())break e;sg(p,k,Q),y=O}}}if(he)throw r=Se,he=!1,Se=null,r}function _t(r,s){var l=s[lh];l===void 0&&(l=s[lh]=new Set);var d=r+"__bubble";l.has(d)||(ag(s,r,2,!1),l.add(d))}function th(r,s,l){var d=0;s&&(d|=4),ag(l,r,d,s)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Ga(r){if(!r[Eu]){r[Eu]=!0,i.forEach(function(l){l!=="selectionchange"&&(tI.has(l)||th(l,!1,r),th(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Eu]||(s[Eu]=!0,th("selectionchange",!1,s))}}function ag(r,s,l,d){switch(Fa(s)){case 1:var p=It;break;case 4:p=qd;break;default:p=Va}l=p.bind(null,s,l,r),p=void 0,!de||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function nh(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var k=d.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;E=E.return}for(;k!==null;){if(E=Gs(k),E===null)return;if(O=E.tag,O===5||O===6){d=y=E;continue e}k=k.parentNode}}d=d.return}Y(function(){var Q=y,ie=Bi(l),oe=[];e:{var re=rg.get(r);if(re!==void 0){var pe=Do,we=r;switch(r){case"keypress":if(No(l)===0)break e;case"keydown":case"keyup":pe=g;break;case"focusin":we="focus",pe=Vo;break;case"focusout":we="blur",pe=Vo;break;case"beforeblur":case"afterblur":pe=Vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=J;break;case Zm:case eg:case tg:pe=vi;break;case ng:pe=lt;break;case"scroll":pe=Wd;break;case"wheel":pe=Xe;break;case"copy":case"cut":case"paste":pe=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=I}var Te=(s&4)!==0,bt=!Te&&r==="scroll",W=Te?re!==null?re+"Capture":null:re;Te=[];for(var F=Q,G;F!==null;){G=F;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,W!==null&&(ue=ee(F,W),ue!=null&&Te.push(Qa(F,ue,G)))),bt)break;F=F.return}0<Te.length&&(re=new pe(re,we,null,l,ie),oe.push({event:re,listeners:Te}))}}if((s&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",re&&l!==gr&&(we=l.relatedTarget||l.fromElement)&&(Gs(we)||we[_i]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(we=l.relatedTarget||l.toElement,pe=Q,we=we?Gs(we):null,we!==null&&(bt=ct(we),we!==bt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=Q),pe!==we)){if(Te=Lo,ue="onMouseLeave",W="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Te=I,ue="onPointerLeave",W="onPointerEnter",F="pointer"),bt=pe==null?re:qo(pe),G=we==null?re:qo(we),re=new Te(ue,F+"leave",pe,l,ie),re.target=bt,re.relatedTarget=G,ue=null,Gs(ie)===Q&&(Te=new Te(W,F+"enter",we,l,ie),Te.target=G,Te.relatedTarget=bt,ue=Te),bt=ue,pe&&we)t:{for(Te=pe,W=we,F=0,G=Te;G;G=Bo(G))F++;for(G=0,ue=W;ue;ue=Bo(ue))G++;for(;0<F-G;)Te=Bo(Te),F--;for(;0<G-F;)W=Bo(W),G--;for(;F--;){if(Te===W||W!==null&&Te===W.alternate)break t;Te=Bo(Te),W=Bo(W)}Te=null}else Te=null;pe!==null&&lg(oe,re,pe,Te,!1),we!==null&&bt!==null&&lg(oe,bt,we,Te,!0)}}e:{if(re=Q?qo(Q):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Re=qT;else if($m(re))if(Bm)Re=QT;else{Re=KT;var ke=WT}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Re=GT);if(Re&&(Re=Re(r,Q))){zm(oe,Re,l,ie);break e}ke&&ke(r,re,Q),r==="focusout"&&(ke=re._wrapperState)&&ke.controlled&&re.type==="number"&&Ui(re,"number",re.value)}switch(ke=Q?qo(Q):window,r){case"focusin":($m(ke)||ke.contentEditable==="true")&&($o=ke,Yd=Q,Wa=null);break;case"focusout":Wa=Yd=$o=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,Xm(oe,l,ie);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":Xm(oe,l,ie)}var Pe;if(Mt)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else jo?Um(r,l)&&(De="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Ks&&l.locale!=="ko"&&(jo||De!=="onCompositionStart"?De==="onCompositionEnd"&&jo&&(Pe=Ua()):(Bn=ie,bo="value"in Bn?Bn.value:Bn.textContent,jo=!0)),ke=Tu(Q,De),0<ke.length&&(De=new za(De,r,null,l,ie),oe.push({event:De,listeners:ke}),Pe?De.data=Pe:(Pe=jm(l),Pe!==null&&(De.data=Pe)))),(Pe=Hn?$T(r,l):zT(r,l))&&(Q=Tu(Q,"onBeforeInput"),0<Q.length&&(ie=new za("onBeforeInput","beforeinput",null,l,ie),oe.push({event:ie,listeners:Q}),ie.data=Pe))}og(oe,s)})}function Qa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Tu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ee(r,l),y!=null&&d.unshift(Qa(r,y,p)),y=ee(r,s),y!=null&&d.push(Qa(r,y,p))),r=r.return}return d}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function lg(r,s,l,d,p){for(var y=s._reactName,E=[];l!==null&&l!==d;){var k=l,O=k.alternate,Q=k.stateNode;if(O!==null&&O===d)break;k.tag===5&&Q!==null&&(k=Q,p?(O=ee(l,y),O!=null&&E.unshift(Qa(l,O,k))):p||(O=ee(l,y),O!=null&&E.push(Qa(l,O,k)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var nI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function ug(r){return(typeof r=="string"?r:""+r).replace(nI,`
`).replace(rI,"")}function Iu(r,s,l){if(s=ug(s),ug(r)!==s&&l)throw Error(t(425))}function Su(){}var rh=null,ih=null;function sh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(r){return cg.resolve(null).then(r).catch(oI)}:oh;function oI(r){setTimeout(function(){throw r})}function ah(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Er(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Er(s)}function es(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function dg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Ho,Ya="__reactProps$"+Ho,_i="__reactContainer$"+Ho,lh="__reactEvents$"+Ho,aI="__reactListeners$"+Ho,lI="__reactHandles$"+Ho;function Gs(r){var s=r[Hr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[_i]||l[Hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=dg(r);r!==null;){if(l=r[Hr])return l;r=dg(r)}return s}r=l,l=r.parentNode}return null}function Xa(r){return r=r[Hr]||r[_i],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function qo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ru(r){return r[Ya]||null}var uh=[],Wo=-1;function ts(r){return{current:r}}function wt(r){0>Wo||(r.current=uh[Wo],uh[Wo]=null,Wo--)}function yt(r,s){Wo++,uh[Wo]=r.current,r.current=s}var ns={},dn=ts(ns),xn=ts(!1),Qs=ns;function Ko(r,s){var l=r.type.contextTypes;if(!l)return ns;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function bn(r){return r=r.childContextTypes,r!=null}function Cu(){wt(xn),wt(dn)}function hg(r,s,l){if(dn.current!==ns)throw Error(t(168));yt(dn,s),yt(xn,l)}function fg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,tt(r)||"Unknown",p));return fe({},l,d)}function Au(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ns,Qs=dn.current,yt(dn,r),yt(xn,xn.current),!0}function pg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=fg(r,s,Qs),d.__reactInternalMemoizedMergedChildContext=r,wt(xn),wt(dn),yt(dn,r)):wt(xn),yt(xn,l)}var wi=null,ku=!1,ch=!1;function mg(r){wi===null?wi=[r]:wi.push(r)}function uI(r){ku=!0,mg(r)}function rs(){if(!ch&&wi!==null){ch=!0;var r=0,s=Ke;try{var l=wi;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}wi=null,ku=!1}catch(p){throw wi!==null&&(wi=wi.slice(r+1)),un(nr,rs),p}finally{Ke=s,ch=!1}}return null}var Go=[],Qo=0,Pu=null,xu=0,sr=[],or=0,Ys=null,Ei=1,Ti="";function Xs(r,s){Go[Qo++]=xu,Go[Qo++]=Pu,Pu=r,xu=s}function gg(r,s,l){sr[or++]=Ei,sr[or++]=Ti,sr[or++]=Ys,Ys=r;var d=Ei;r=Ti;var p=32-Zt(d)-1;d&=~(1<<p),l+=1;var y=32-Zt(s)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Ei=1<<32-Zt(s)+p|l<<p|d,Ti=y+r}else Ei=1<<y|l<<p|d,Ti=r}function dh(r){r.return!==null&&(Xs(r,1),gg(r,1,0))}function hh(r){for(;r===Pu;)Pu=Go[--Qo],Go[Qo]=null,xu=Go[--Qo],Go[Qo]=null;for(;r===Ys;)Ys=sr[--or],sr[or]=null,Ti=sr[--or],sr[or]=null,Ei=sr[--or],sr[or]=null}var qn=null,Wn=null,St=!1,Sr=null;function yg(r,s){var l=cr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function vg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,qn=r,Wn=es(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,qn=r,Wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ys!==null?{id:Ei,overflow:Ti}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=cr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,qn=r,Wn=null,!0):!1;default:return!1}}function fh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ph(r){if(St){var s=Wn;if(s){var l=s;if(!vg(r,s)){if(fh(r))throw Error(t(418));s=es(l.nextSibling);var d=qn;s&&vg(r,s)?yg(d,l):(r.flags=r.flags&-4097|2,St=!1,qn=r)}}else{if(fh(r))throw Error(t(418));r.flags=r.flags&-4097|2,St=!1,qn=r}}}function _g(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;qn=r}function bu(r){if(r!==qn)return!1;if(!St)return _g(r),St=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sh(r.type,r.memoizedProps)),s&&(s=Wn)){if(fh(r))throw wg(),Error(t(418));for(;s;)yg(r,s),s=es(s.nextSibling)}if(_g(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Wn=es(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Wn=null}}else Wn=qn?es(r.stateNode.nextSibling):null;return!0}function wg(){for(var r=Wn;r;)r=es(r.nextSibling)}function Yo(){Wn=qn=null,St=!1}function mh(r){Sr===null?Sr=[r]:Sr.push(r)}var cI=X.ReactCurrentBatchConfig;function Ja(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var k=p.refs;E===null?delete k[y]:k[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Nu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Eg(r){var s=r._init;return s(r._payload)}function Tg(r){function s(W,F){if(r){var G=W.deletions;G===null?(W.deletions=[F],W.flags|=16):G.push(F)}}function l(W,F){if(!r)return null;for(;F!==null;)s(W,F),F=F.sibling;return null}function d(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function p(W,F){return W=ds(W,F),W.index=0,W.sibling=null,W}function y(W,F,G){return W.index=G,r?(G=W.alternate,G!==null?(G=G.index,G<F?(W.flags|=2,F):G):(W.flags|=2,F)):(W.flags|=1048576,F)}function E(W){return r&&W.alternate===null&&(W.flags|=2),W}function k(W,F,G,ue){return F===null||F.tag!==6?(F=af(G,W.mode,ue),F.return=W,F):(F=p(F,G),F.return=W,F)}function O(W,F,G,ue){var Re=G.type;return Re===A?ie(W,F,G.props.children,ue,G.key):F!==null&&(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Et&&Eg(Re)===F.type)?(ue=p(F,G.props),ue.ref=Ja(W,F,G),ue.return=W,ue):(ue=nc(G.type,G.key,G.props,null,W.mode,ue),ue.ref=Ja(W,F,G),ue.return=W,ue)}function Q(W,F,G,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?(F=lf(G,W.mode,ue),F.return=W,F):(F=p(F,G.children||[]),F.return=W,F)}function ie(W,F,G,ue,Re){return F===null||F.tag!==7?(F=so(G,W.mode,ue,Re),F.return=W,F):(F=p(F,G),F.return=W,F)}function oe(W,F,G){if(typeof F=="string"&&F!==""||typeof F=="number")return F=af(""+F,W.mode,G),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case L:return G=nc(F.type,F.key,F.props,null,W.mode,G),G.ref=Ja(W,null,F),G.return=W,G;case se:return F=lf(F,W.mode,G),F.return=W,F;case Et:var ue=F._init;return oe(W,ue(F._payload),G)}if(pr(F)||Ee(F))return F=so(F,W.mode,G,null),F.return=W,F;Nu(W,F)}return null}function re(W,F,G,ue){var Re=F!==null?F.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Re!==null?null:k(W,F,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case L:return G.key===Re?O(W,F,G,ue):null;case se:return G.key===Re?Q(W,F,G,ue):null;case Et:return Re=G._init,re(W,F,Re(G._payload),ue)}if(pr(G)||Ee(G))return Re!==null?null:ie(W,F,G,ue,null);Nu(W,G)}return null}function pe(W,F,G,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return W=W.get(G)||null,k(F,W,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return W=W.get(ue.key===null?G:ue.key)||null,O(F,W,ue,Re);case se:return W=W.get(ue.key===null?G:ue.key)||null,Q(F,W,ue,Re);case Et:var ke=ue._init;return pe(W,F,G,ke(ue._payload),Re)}if(pr(ue)||Ee(ue))return W=W.get(G)||null,ie(F,W,ue,Re,null);Nu(F,ue)}return null}function we(W,F,G,ue){for(var Re=null,ke=null,Pe=F,De=F=0,Kt=null;Pe!==null&&De<G.length;De++){Pe.index>De?(Kt=Pe,Pe=null):Kt=Pe.sibling;var st=re(W,Pe,G[De],ue);if(st===null){Pe===null&&(Pe=Kt);break}r&&Pe&&st.alternate===null&&s(W,Pe),F=y(st,F,De),ke===null?Re=st:ke.sibling=st,ke=st,Pe=Kt}if(De===G.length)return l(W,Pe),St&&Xs(W,De),Re;if(Pe===null){for(;De<G.length;De++)Pe=oe(W,G[De],ue),Pe!==null&&(F=y(Pe,F,De),ke===null?Re=Pe:ke.sibling=Pe,ke=Pe);return St&&Xs(W,De),Re}for(Pe=d(W,Pe);De<G.length;De++)Kt=pe(Pe,W,De,G[De],ue),Kt!==null&&(r&&Kt.alternate!==null&&Pe.delete(Kt.key===null?De:Kt.key),F=y(Kt,F,De),ke===null?Re=Kt:ke.sibling=Kt,ke=Kt);return r&&Pe.forEach(function(hs){return s(W,hs)}),St&&Xs(W,De),Re}function Te(W,F,G,ue){var Re=Ee(G);if(typeof Re!="function")throw Error(t(150));if(G=Re.call(G),G==null)throw Error(t(151));for(var ke=Re=null,Pe=F,De=F=0,Kt=null,st=G.next();Pe!==null&&!st.done;De++,st=G.next()){Pe.index>De?(Kt=Pe,Pe=null):Kt=Pe.sibling;var hs=re(W,Pe,st.value,ue);if(hs===null){Pe===null&&(Pe=Kt);break}r&&Pe&&hs.alternate===null&&s(W,Pe),F=y(hs,F,De),ke===null?Re=hs:ke.sibling=hs,ke=hs,Pe=Kt}if(st.done)return l(W,Pe),St&&Xs(W,De),Re;if(Pe===null){for(;!st.done;De++,st=G.next())st=oe(W,st.value,ue),st!==null&&(F=y(st,F,De),ke===null?Re=st:ke.sibling=st,ke=st);return St&&Xs(W,De),Re}for(Pe=d(W,Pe);!st.done;De++,st=G.next())st=pe(Pe,W,De,st.value,ue),st!==null&&(r&&st.alternate!==null&&Pe.delete(st.key===null?De:st.key),F=y(st,F,De),ke===null?Re=st:ke.sibling=st,ke=st);return r&&Pe.forEach(function(BI){return s(W,BI)}),St&&Xs(W,De),Re}function bt(W,F,G,ue){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case L:e:{for(var Re=G.key,ke=F;ke!==null;){if(ke.key===Re){if(Re=G.type,Re===A){if(ke.tag===7){l(W,ke.sibling),F=p(ke,G.props.children),F.return=W,W=F;break e}}else if(ke.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Et&&Eg(Re)===ke.type){l(W,ke.sibling),F=p(ke,G.props),F.ref=Ja(W,ke,G),F.return=W,W=F;break e}l(W,ke);break}else s(W,ke);ke=ke.sibling}G.type===A?(F=so(G.props.children,W.mode,ue,G.key),F.return=W,W=F):(ue=nc(G.type,G.key,G.props,null,W.mode,ue),ue.ref=Ja(W,F,G),ue.return=W,W=ue)}return E(W);case se:e:{for(ke=G.key;F!==null;){if(F.key===ke)if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){l(W,F.sibling),F=p(F,G.children||[]),F.return=W,W=F;break e}else{l(W,F);break}else s(W,F);F=F.sibling}F=lf(G,W.mode,ue),F.return=W,W=F}return E(W);case Et:return ke=G._init,bt(W,F,ke(G._payload),ue)}if(pr(G))return we(W,F,G,ue);if(Ee(G))return Te(W,F,G,ue);Nu(W,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,F!==null&&F.tag===6?(l(W,F.sibling),F=p(F,G),F.return=W,W=F):(l(W,F),F=af(G,W.mode,ue),F.return=W,W=F),E(W)):l(W,F)}return bt}var Xo=Tg(!0),Ig=Tg(!1),Du=ts(null),Ou=null,Jo=null,gh=null;function yh(){gh=Jo=Ou=null}function vh(r){var s=Du.current;wt(Du),r._currentValue=s}function _h(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Zo(r,s){Ou=r,gh=Jo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Nn=!0),r.firstContext=null)}function ar(r){var s=r._currentValue;if(gh!==r)if(r={context:r,memoizedValue:s,next:null},Jo===null){if(Ou===null)throw Error(t(308));Jo=r,Ou.dependencies={lanes:0,firstContext:r}}else Jo=Jo.next=r;return s}var Js=null;function wh(r){Js===null?Js=[r]:Js.push(r)}function Sg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,wh(s)):(l.next=p.next,p.next=l),s.interleaved=l,Ii(r,d)}function Ii(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var is=!1;function Eh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Si(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ss(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(rt&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Ii(r,l)}return p=d.interleaved,p===null?(s.next=s,wh(d)):(s.next=p.next,p.next=s),d.interleaved=s,Ii(r,l)}function Lu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Gi(r,l)}}function Cg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Mu(r,s,l,d){var p=r.updateQueue;is=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var O=k,Q=O.next;O.next=null,E===null?y=Q:E.next=Q,E=O;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,k=ie.lastBaseUpdate,k!==E&&(k===null?ie.firstBaseUpdate=Q:k.next=Q,ie.lastBaseUpdate=O))}if(y!==null){var oe=p.baseState;E=0,ie=Q=O=null,k=y;do{var re=k.lane,pe=k.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var we=r,Te=k;switch(re=s,pe=l,Te.tag){case 1:if(we=Te.payload,typeof we=="function"){oe=we.call(pe,oe,re);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,re=typeof we=="function"?we.call(pe,oe,re):we,re==null)break e;oe=fe({},oe,re);break e;case 2:is=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,re=p.effects,re===null?p.effects=[k]:re.push(k))}else pe={eventTime:pe,lane:re,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ie===null?(Q=ie=pe,O=oe):ie=ie.next=pe,E|=re;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;re=k,k=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(ie===null&&(O=oe),p.baseState=O,p.firstBaseUpdate=Q,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);to|=E,r.lanes=E,r.memoizedState=oe}}function Ag(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Za={},qr=ts(Za),el=ts(Za),tl=ts(Za);function Zs(r){if(r===Za)throw Error(t(174));return r}function Th(r,s){switch(yt(tl,s),yt(el,r),yt(qr,Za),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Pt(s,r)}wt(qr),yt(qr,s)}function ea(){wt(qr),wt(el),wt(tl)}function kg(r){Zs(tl.current);var s=Zs(qr.current),l=Pt(s,r.type);s!==l&&(yt(el,r),yt(qr,l))}function Ih(r){el.current===r&&(wt(qr),wt(el))}var Ct=ts(0);function Vu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sh=[];function Rh(){for(var r=0;r<Sh.length;r++)Sh[r]._workInProgressVersionPrimary=null;Sh.length=0}var Fu=X.ReactCurrentDispatcher,Ch=X.ReactCurrentBatchConfig,eo=0,At=null,$t=null,qt=null,Uu=!1,nl=!1,rl=0,dI=0;function hn(){throw Error(t(321))}function Ah(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Ir(r[l],s[l]))return!1;return!0}function kh(r,s,l,d,p,y){if(eo=y,At=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fu.current=r===null||r.memoizedState===null?mI:gI,r=l(d,p),nl){y=0;do{if(nl=!1,rl=0,25<=y)throw Error(t(301));y+=1,qt=$t=null,s.updateQueue=null,Fu.current=yI,r=l(d,p)}while(nl)}if(Fu.current=zu,s=$t!==null&&$t.next!==null,eo=0,qt=$t=At=null,Uu=!1,s)throw Error(t(300));return r}function Ph(){var r=rl!==0;return rl=0,r}function Wr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?At.memoizedState=qt=r:qt=qt.next=r,qt}function lr(){if($t===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=$t.next;var s=qt===null?At.memoizedState:qt.next;if(s!==null)qt=s,$t=r;else{if(r===null)throw Error(t(310));$t=r,r={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},qt===null?At.memoizedState=qt=r:qt=qt.next=r}return qt}function il(r,s){return typeof s=="function"?s(r):s}function xh(r){var s=lr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=$t,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var k=E=null,O=null,Q=y;do{var ie=Q.lane;if((eo&ie)===ie)O!==null&&(O=O.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var oe={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};O===null?(k=O=oe,E=d):O=O.next=oe,At.lanes|=ie,to|=ie}Q=Q.next}while(Q!==null&&Q!==y);O===null?E=d:O.next=k,Ir(d,s.memoizedState)||(Nn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=O,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,At.lanes|=y,to|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function bh(r){var s=lr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);Ir(y,s.memoizedState)||(Nn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Pg(){}function xg(r,s){var l=At,d=lr(),p=s(),y=!Ir(d.memoizedState,p);if(y&&(d.memoizedState=p,Nn=!0),d=d.queue,Nh(Dg.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,sl(9,Ng.bind(null,l,d,p,s),void 0,null),Wt===null)throw Error(t(349));(eo&30)!==0||bg(l,s,p)}return p}function bg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=At.updateQueue,s===null?(s={lastEffect:null,stores:null},At.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Ng(r,s,l,d){s.value=l,s.getSnapshot=d,Og(s)&&Lg(r)}function Dg(r,s,l){return l(function(){Og(s)&&Lg(r)})}function Og(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Ir(r,l)}catch{return!0}}function Lg(r){var s=Ii(r,1);s!==null&&kr(s,r,1,-1)}function Mg(r){var s=Wr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:r},s.queue=r,r=r.dispatch=pI.bind(null,At,r),[s.memoizedState,r]}function sl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=At.updateQueue,s===null?(s={lastEffect:null,stores:null},At.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Vg(){return lr().memoizedState}function ju(r,s,l,d){var p=Wr();At.flags|=r,p.memoizedState=sl(1|s,l,void 0,d===void 0?null:d)}function $u(r,s,l,d){var p=lr();d=d===void 0?null:d;var y=void 0;if($t!==null){var E=$t.memoizedState;if(y=E.destroy,d!==null&&Ah(d,E.deps)){p.memoizedState=sl(s,l,y,d);return}}At.flags|=r,p.memoizedState=sl(1|s,l,y,d)}function Fg(r,s){return ju(8390656,8,r,s)}function Nh(r,s){return $u(2048,8,r,s)}function Ug(r,s){return $u(4,2,r,s)}function jg(r,s){return $u(4,4,r,s)}function $g(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function zg(r,s,l){return l=l!=null?l.concat([r]):null,$u(4,4,$g.bind(null,s,r),l)}function Dh(){}function Bg(r,s){var l=lr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Ah(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Hg(r,s){var l=lr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Ah(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function qg(r,s,l){return(eo&21)===0?(r.baseState&&(r.baseState=!1,Nn=!0),r.memoizedState=l):(Ir(l,s)||(l=Bs(),At.lanes|=l,to|=l,r.baseState=!0),s)}function hI(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=Ch.transition;Ch.transition={};try{r(!1),s()}finally{Ke=l,Ch.transition=d}}function Wg(){return lr().memoizedState}function fI(r,s,l){var d=us(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Kg(r))Gg(s,l);else if(l=Sg(r,s,l,d),l!==null){var p=Sn();kr(l,r,d,p),Qg(l,s,d)}}function pI(r,s,l){var d=us(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kg(r))Gg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,k=y(E,l);if(p.hasEagerState=!0,p.eagerState=k,Ir(k,E)){var O=s.interleaved;O===null?(p.next=p,wh(s)):(p.next=O.next,O.next=p),s.interleaved=p;return}}catch{}finally{}l=Sg(r,s,p,d),l!==null&&(p=Sn(),kr(l,r,d,p),Qg(l,s,d))}}function Kg(r){var s=r.alternate;return r===At||s!==null&&s===At}function Gg(r,s){nl=Uu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Qg(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Gi(r,l)}}var zu={readContext:ar,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},mI={readContext:ar,useCallback:function(r,s){return Wr().memoizedState=[r,s===void 0?null:s],r},useContext:ar,useEffect:Fg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,ju(4194308,4,$g.bind(null,s,r),l)},useLayoutEffect:function(r,s){return ju(4194308,4,r,s)},useInsertionEffect:function(r,s){return ju(4,2,r,s)},useMemo:function(r,s){var l=Wr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Wr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=fI.bind(null,At,r),[d.memoizedState,r]},useRef:function(r){var s=Wr();return r={current:r},s.memoizedState=r},useState:Mg,useDebugValue:Dh,useDeferredValue:function(r){return Wr().memoizedState=r},useTransition:function(){var r=Mg(!1),s=r[0];return r=hI.bind(null,r[1]),Wr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=At,p=Wr();if(St){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Wt===null)throw Error(t(349));(eo&30)!==0||bg(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Fg(Dg.bind(null,d,y,r),[r]),d.flags|=2048,sl(9,Ng.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Wr(),s=Wt.identifierPrefix;if(St){var l=Ti,d=Ei;l=(d&~(1<<32-Zt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=rl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=dI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},gI={readContext:ar,useCallback:Bg,useContext:ar,useEffect:Nh,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:jg,useMemo:Hg,useReducer:xh,useRef:Vg,useState:function(){return xh(il)},useDebugValue:Dh,useDeferredValue:function(r){var s=lr();return qg(s,$t.memoizedState,r)},useTransition:function(){var r=xh(il)[0],s=lr().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:xg,useId:Wg,unstable_isNewReconciler:!1},yI={readContext:ar,useCallback:Bg,useContext:ar,useEffect:Nh,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:jg,useMemo:Hg,useReducer:bh,useRef:Vg,useState:function(){return bh(il)},useDebugValue:Dh,useDeferredValue:function(r){var s=lr();return $t===null?s.memoizedState=r:qg(s,$t.memoizedState,r)},useTransition:function(){var r=bh(il)[0],s=lr().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:xg,useId:Wg,unstable_isNewReconciler:!1};function Rr(r,s){if(r&&r.defaultProps){s=fe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Oh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:fe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Bu={isMounted:function(r){return(r=r._reactInternals)?ct(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Sn(),p=us(r),y=Si(d,p);y.payload=s,l!=null&&(y.callback=l),s=ss(r,y,p),s!==null&&(kr(s,r,p,d),Lu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Sn(),p=us(r),y=Si(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ss(r,y,p),s!==null&&(kr(s,r,p,d),Lu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Sn(),d=us(r),p=Si(l,d);p.tag=2,s!=null&&(p.callback=s),s=ss(r,p,d),s!==null&&(kr(s,r,d,l),Lu(s,r,d))}};function Yg(r,s,l,d,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!qa(l,d)||!qa(p,y):!0}function Xg(r,s,l){var d=!1,p=ns,y=s.contextType;return typeof y=="object"&&y!==null?y=ar(y):(p=bn(s)?Qs:dn.current,d=s.contextTypes,y=(d=d!=null)?Ko(r,p):ns),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Jg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Bu.enqueueReplaceState(s,s.state,null)}function Lh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Eh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=ar(y):(y=bn(s)?Qs:dn.current,p.context=Ko(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Oh(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Bu.enqueueReplaceState(p,p.state,null),Mu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function ta(r,s){try{var l="",d=s;do l+=Oe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Mh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Vh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var vI=typeof WeakMap=="function"?WeakMap:Map;function Zg(r,s,l){l=Si(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Yu||(Yu=!0,Jh=d),Vh(r,s)},l}function ey(r,s,l){l=Si(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Vh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Vh(r,s),typeof d!="function"&&(as===null?as=new Set([this]):as.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function ty(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new vI;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=NI.bind(null,r,s,l),s.then(r,r))}function ny(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ry(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Si(-1,1),s.tag=2,ss(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var _I=X.ReactCurrentOwner,Nn=!1;function In(r,s,l,d){s.child=r===null?Ig(s,null,l,d):Xo(s,r.child,l,d)}function iy(r,s,l,d,p){l=l.render;var y=s.ref;return Zo(s,p),d=kh(r,s,l,d,y,p),l=Ph(),r!==null&&!Nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Ri(r,s,p)):(St&&l&&dh(s),s.flags|=1,In(r,s,d,p),s.child)}function sy(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!of(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,oy(r,s,y,d,p)):(r=nc(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(E,d)&&r.ref===s.ref)return Ri(r,s,p)}return s.flags|=1,r=ds(y,d),r.ref=s.ref,r.return=s,s.child=r}function oy(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(qa(y,d)&&r.ref===s.ref)if(Nn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Nn=!0);else return s.lanes=r.lanes,Ri(r,s,p)}return Fh(r,s,l,d,p)}function ay(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(ra,Kn),Kn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,yt(ra,Kn),Kn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,yt(ra,Kn),Kn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,yt(ra,Kn),Kn|=d;return In(r,s,p,l),s.child}function ly(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Fh(r,s,l,d,p){var y=bn(l)?Qs:dn.current;return y=Ko(s,y),Zo(s,p),l=kh(r,s,l,d,y,p),d=Ph(),r!==null&&!Nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Ri(r,s,p)):(St&&d&&dh(s),s.flags|=1,In(r,s,l,p),s.child)}function uy(r,s,l,d,p){if(bn(l)){var y=!0;Au(s)}else y=!1;if(Zo(s,p),s.stateNode===null)qu(r,s),Xg(s,l,d),Lh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,k=s.memoizedProps;E.props=k;var O=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=ar(Q):(Q=bn(l)?Qs:dn.current,Q=Ko(s,Q));var ie=l.getDerivedStateFromProps,oe=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==d||O!==Q)&&Jg(s,E,d,Q),is=!1;var re=s.memoizedState;E.state=re,Mu(s,d,E,p),O=s.memoizedState,k!==d||re!==O||xn.current||is?(typeof ie=="function"&&(Oh(s,l,ie,d),O=s.memoizedState),(k=is||Yg(s,l,k,d,re,O,Q))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),E.props=d,E.state=O,E.context=Q,d=k):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Rg(r,s),k=s.memoizedProps,Q=s.type===s.elementType?k:Rr(s.type,k),E.props=Q,oe=s.pendingProps,re=E.context,O=l.contextType,typeof O=="object"&&O!==null?O=ar(O):(O=bn(l)?Qs:dn.current,O=Ko(s,O));var pe=l.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==oe||re!==O)&&Jg(s,E,d,O),is=!1,re=s.memoizedState,E.state=re,Mu(s,d,E,p);var we=s.memoizedState;k!==oe||re!==we||xn.current||is?(typeof pe=="function"&&(Oh(s,l,pe,d),we=s.memoizedState),(Q=is||Yg(s,l,Q,d,re,we,O)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,we,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,we,O)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=we),E.props=d,E.state=we,E.context=O,d=Q):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),d=!1)}return Uh(r,s,l,d,y,p)}function Uh(r,s,l,d,p,y){ly(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&pg(s,l,!1),Ri(r,s,y);d=s.stateNode,_I.current=s;var k=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=Xo(s,r.child,null,y),s.child=Xo(s,null,k,y)):In(r,s,k,y),s.memoizedState=d.state,p&&pg(s,l,!0),s.child}function cy(r){var s=r.stateNode;s.pendingContext?hg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&hg(r,s.context,!1),Th(r,s.containerInfo)}function dy(r,s,l,d,p){return Yo(),mh(p),s.flags|=256,In(r,s,l,d),s.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function $h(r){return{baseLanes:r,cachePool:null,transitions:null}}function hy(r,s,l){var d=s.pendingProps,p=Ct.current,y=!1,E=(s.flags&128)!==0,k;if((k=E)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),yt(Ct,p&1),r===null)return ph(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,y?(d=s.mode,y=s.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=rc(E,d,0,null),r=so(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=$h(l),s.memoizedState=jh,r):zh(s,E));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return wI(r,s,E,d,k,p,l);if(y){y=d.fallback,E=s.mode,p=r.child,k=p.sibling;var O={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=ds(p,O),d.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=ds(k,y):(y=so(y,E,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,E=r.child.memoizedState,E=E===null?$h(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=jh,d}return y=r.child,r=y.sibling,d=ds(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function zh(r,s){return s=rc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Hu(r,s,l,d){return d!==null&&mh(d),Xo(s,r.child,null,l),r=zh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function wI(r,s,l,d,p,y,E){if(l)return s.flags&256?(s.flags&=-257,d=Mh(Error(t(422))),Hu(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=rc({mode:"visible",children:d.children},p,0,null),y=so(y,p,E,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&Xo(s,r.child,null,E),s.child.memoizedState=$h(E),s.memoizedState=jh,y);if((s.mode&1)===0)return Hu(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var k=d.dgst;return d=k,y=Error(t(419)),d=Mh(y,d,void 0),Hu(r,s,E,d)}if(k=(E&r.childLanes)!==0,Nn||k){if(d=Wt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Ii(r,p),kr(d,r,p,-1))}return sf(),d=Mh(Error(t(421))),Hu(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=DI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Wn=es(p.nextSibling),qn=s,St=!0,Sr=null,r!==null&&(sr[or++]=Ei,sr[or++]=Ti,sr[or++]=Ys,Ei=r.id,Ti=r.overflow,Ys=s),s=zh(s,d.children),s.flags|=4096,s)}function fy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),_h(r.return,s,l)}function Bh(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function py(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(In(r,s,d.children,l),d=Ct.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fy(r,l,s);else if(r.tag===19)fy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(yt(Ct,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Vu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Bh(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Vu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Bh(s,!0,l,null,y);break;case"together":Bh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ri(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),to|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=ds(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ds(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function EI(r,s,l){switch(s.tag){case 3:cy(s),Yo();break;case 5:kg(s);break;case 1:bn(s.type)&&Au(s);break;case 4:Th(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;yt(Du,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(yt(Ct,Ct.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?hy(r,s,l):(yt(Ct,Ct.current&1),r=Ri(r,s,l),r!==null?r.sibling:null);yt(Ct,Ct.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return py(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),yt(Ct,Ct.current),d)break;return null;case 22:case 23:return s.lanes=0,ay(r,s,l)}return Ri(r,s,l)}var my,Hh,gy,yy;my=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hh=function(){},gy=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Zs(qr.current);var y=null;switch(l){case"input":p=li(r,p),d=li(r,d),y=[];break;case"select":p=fe({},p,{value:void 0}),d=fe({},d,{value:void 0}),y=[];break;case"textarea":p=mr(r,p),d=mr(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Su)}Mr(l,d);var E;l=null;for(Q in p)if(!d.hasOwnProperty(Q)&&p.hasOwnProperty(Q)&&p[Q]!=null)if(Q==="style"){var k=p[Q];for(E in k)k.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in d){var O=d[Q];if(k=p!=null?p[Q]:void 0,d.hasOwnProperty(Q)&&O!==k&&(O!=null||k!=null))if(Q==="style")if(k){for(E in k)!k.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in O)O.hasOwnProperty(E)&&k[E]!==O[E]&&(l||(l={}),l[E]=O[E])}else l||(y||(y=[]),y.push(Q,l)),l=O;else Q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(y=y||[]).push(Q,O)):Q==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(Q,""+O):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(O!=null&&Q==="onScroll"&&_t("scroll",r),y||k===O||(y=[])):(y=y||[]).push(Q,O))}l&&(y=y||[]).push("style",l);var Q=y;(s.updateQueue=Q)&&(s.flags|=4)}},yy=function(r,s,l,d){l!==d&&(s.flags|=4)};function ol(r,s){if(!St)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function fn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function TI(r,s,l){var d=s.pendingProps;switch(hh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(s),null;case 1:return bn(s.type)&&Cu(),fn(s),null;case 3:return d=s.stateNode,ea(),wt(xn),wt(dn),Rh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(bu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sr!==null&&(tf(Sr),Sr=null))),Hh(r,s),fn(s),null;case 5:Ih(s);var p=Zs(tl.current);if(l=s.type,r!==null&&s.stateNode!=null)gy(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return fn(s),null}if(r=Zs(qr.current),bu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Hr]=s,d[Ya]=y,r=(s.mode&1)!==0,l){case"dialog":_t("cancel",d),_t("close",d);break;case"iframe":case"object":case"embed":_t("load",d);break;case"video":case"audio":for(p=0;p<Ka.length;p++)_t(Ka[p],d);break;case"source":_t("error",d);break;case"img":case"image":case"link":_t("error",d),_t("load",d);break;case"details":_t("toggle",d);break;case"input":Vi(d,y),_t("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},_t("invalid",d);break;case"textarea":ui(d,y),_t("invalid",d)}Mr(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var k=y[E];E==="children"?typeof k=="string"?d.textContent!==k&&(y.suppressHydrationWarning!==!0&&Iu(d.textContent,k,r),p=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Iu(d.textContent,k,r),p=["children",""+k]):o.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&_t("scroll",d)}switch(l){case"input":Zn(d),Co(d,y,!0);break;case"textarea":Zn(d),Cn(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Su)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ot(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Hr]=s,r[Ya]=d,my(r,s,!1,!1),s.stateNode=r;e:{switch(E=zi(l,d),l){case"dialog":_t("cancel",r),_t("close",r),p=d;break;case"iframe":case"object":case"embed":_t("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ka.length;p++)_t(Ka[p],r);p=d;break;case"source":_t("error",r),p=d;break;case"img":case"image":case"link":_t("error",r),_t("load",r),p=d;break;case"details":_t("toggle",r),p=d;break;case"input":Vi(r,d),p=li(r,d),_t("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=fe({},d,{value:void 0}),_t("invalid",r);break;case"textarea":ui(r,d),p=mr(r,d),_t("invalid",r);break;default:p=d}Mr(l,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var O=k[y];y==="style"?Us(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Fs(r,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Jt(r,O):typeof O=="number"&&Jt(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?O!=null&&y==="onScroll"&&_t("scroll",r):O!=null&&K(r,y,O,E))}switch(l){case"input":Zn(r),Co(r,d,!1);break;case"textarea":Zn(r),Cn(r);break;case"option":d.value!=null&&r.setAttribute("value",""+nt(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Xt(r,!!d.multiple,y,!1):d.defaultValue!=null&&Xt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Su)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return fn(s),null;case 6:if(r&&s.stateNode!=null)yy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Zs(tl.current),Zs(qr.current),bu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Hr]=s,(y=d.nodeValue!==l)&&(r=qn,r!==null))switch(r.tag){case 3:Iu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Iu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Hr]=s,s.stateNode=d}return fn(s),null;case 13:if(wt(Ct),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(St&&Wn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)wg(),Yo(),s.flags|=98560,y=!1;else if(y=bu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Hr]=s}else Yo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fn(s),y=!1}else Sr!==null&&(tf(Sr),Sr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ct.current&1)!==0?zt===0&&(zt=3):sf())),s.updateQueue!==null&&(s.flags|=4),fn(s),null);case 4:return ea(),Hh(r,s),r===null&&Ga(s.stateNode.containerInfo),fn(s),null;case 10:return vh(s.type._context),fn(s),null;case 17:return bn(s.type)&&Cu(),fn(s),null;case 19:if(wt(Ct),y=s.memoizedState,y===null)return fn(s),null;if(d=(s.flags&128)!==0,E=y.rendering,E===null)if(d)ol(y,!1);else{if(zt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Vu(r),E!==null){for(s.flags|=128,ol(y,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return yt(Ct,Ct.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ye()>ia&&(s.flags|=128,d=!0,ol(y,!1),s.lanes=4194304)}else{if(!d)if(r=Vu(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ol(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!St)return fn(s),null}else 2*Ye()-y.renderingStartTime>ia&&l!==1073741824&&(s.flags|=128,d=!0,ol(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ye(),s.sibling=null,l=Ct.current,yt(Ct,d?l&1|2:l&1),s):(fn(s),null);case 22:case 23:return rf(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Kn&1073741824)!==0&&(fn(s),s.subtreeFlags&6&&(s.flags|=8192)):fn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function II(r,s){switch(hh(s),s.tag){case 1:return bn(s.type)&&Cu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ea(),wt(xn),wt(dn),Rh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ih(s),null;case 13:if(wt(Ct),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Yo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return wt(Ct),null;case 4:return ea(),null;case 10:return vh(s.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var Wu=!1,pn=!1,SI=typeof WeakSet=="function"?WeakSet:Set,ye=null;function na(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){xt(r,s,d)}else l.current=null}function qh(r,s,l){try{l()}catch(d){xt(r,s,d)}}var vy=!1;function RI(r,s){if(rh=Xi,r=Ym(),Qd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,k=-1,O=-1,Q=0,ie=0,oe=r,re=null;t:for(;;){for(var pe;oe!==l||p!==0&&oe.nodeType!==3||(k=E+p),oe!==y||d!==0&&oe.nodeType!==3||(O=E+d),oe.nodeType===3&&(E+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)re=oe,oe=pe;for(;;){if(oe===r)break t;if(re===l&&++Q===p&&(k=E),re===y&&++ie===d&&(O=E),(pe=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=pe}l=k===-1||O===-1?null:{start:k,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(ih={focusedElem:r,selectionRange:l},Xi=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var we=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Te=we.memoizedProps,bt=we.memoizedState,W=s.stateNode,F=W.getSnapshotBeforeUpdate(s.elementType===s.type?Te:Rr(s.type,Te),bt);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){xt(s,s.return,ue)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return we=vy,vy=!1,we}function al(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&qh(s,l,y)}p=p.next}while(p!==d)}}function Ku(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Wh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function _y(r){var s=r.alternate;s!==null&&(r.alternate=null,_y(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Hr],delete s[Ya],delete s[lh],delete s[aI],delete s[lI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function wy(r){return r.tag===5||r.tag===3||r.tag===4}function Ey(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Kh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Su));else if(d!==4&&(r=r.child,r!==null))for(Kh(r,s,l),r=r.sibling;r!==null;)Kh(r,s,l),r=r.sibling}function Gh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Gh(r,s,l),r=r.sibling;r!==null;)Gh(r,s,l),r=r.sibling}var nn=null,Cr=!1;function os(r,s,l){for(l=l.child;l!==null;)Ty(r,s,l),l=l.sibling}function Ty(r,s,l){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(ht,l)}catch{}switch(l.tag){case 5:pn||na(l,s);case 6:var d=nn,p=Cr;nn=null,os(r,s,l),nn=d,Cr=p,nn!==null&&(Cr?(r=nn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):nn.removeChild(l.stateNode));break;case 18:nn!==null&&(Cr?(r=nn,l=l.stateNode,r.nodeType===8?ah(r.parentNode,l):r.nodeType===1&&ah(r,l),Er(r)):ah(nn,l.stateNode));break;case 4:d=nn,p=Cr,nn=l.stateNode.containerInfo,Cr=!0,os(r,s,l),nn=d,Cr=p;break;case 0:case 11:case 14:case 15:if(!pn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&qh(l,s,E),p=p.next}while(p!==d)}os(r,s,l);break;case 1:if(!pn&&(na(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(k){xt(l,s,k)}os(r,s,l);break;case 21:os(r,s,l);break;case 22:l.mode&1?(pn=(d=pn)||l.memoizedState!==null,os(r,s,l),pn=d):os(r,s,l);break;default:os(r,s,l)}}function Iy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new SI),s.forEach(function(d){var p=OI.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Ar(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,E=s,k=E;e:for(;k!==null;){switch(k.tag){case 5:nn=k.stateNode,Cr=!1;break e;case 3:nn=k.stateNode.containerInfo,Cr=!0;break e;case 4:nn=k.stateNode.containerInfo,Cr=!0;break e}k=k.return}if(nn===null)throw Error(t(160));Ty(y,E,p),nn=null,Cr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(Q){xt(p,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sy(s,r),s=s.sibling}function Sy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ar(s,r),Kr(r),d&4){try{al(3,r,r.return),Ku(3,r)}catch(Te){xt(r,r.return,Te)}try{al(5,r,r.return)}catch(Te){xt(r,r.return,Te)}}break;case 1:Ar(s,r),Kr(r),d&512&&l!==null&&na(l,l.return);break;case 5:if(Ar(s,r),Kr(r),d&512&&l!==null&&na(l,l.return),r.flags&32){var p=r.stateNode;try{Jt(p,"")}catch(Te){xt(r,r.return,Te)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,k=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Fi(p,y),zi(k,E);var Q=zi(k,y);for(E=0;E<O.length;E+=2){var ie=O[E],oe=O[E+1];ie==="style"?Us(p,oe):ie==="dangerouslySetInnerHTML"?Fs(p,oe):ie==="children"?Jt(p,oe):K(p,ie,oe,Q)}switch(k){case"input":Vs(p,y);break;case"textarea":Dr(p,y);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?Xt(p,!!y.multiple,pe,!1):re!==!!y.multiple&&(y.defaultValue!=null?Xt(p,!!y.multiple,y.defaultValue,!0):Xt(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ya]=y}catch(Te){xt(r,r.return,Te)}}break;case 6:if(Ar(s,r),Kr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(Te){xt(r,r.return,Te)}}break;case 3:if(Ar(s,r),Kr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Er(s.containerInfo)}catch(Te){xt(r,r.return,Te)}break;case 4:Ar(s,r),Kr(r);break;case 13:Ar(s,r),Kr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Xh=Ye())),d&4&&Iy(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(pn=(Q=pn)||ie,Ar(s,r),pn=Q):Ar(s,r),Kr(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ie&&(r.mode&1)!==0)for(ye=r,ie=r.child;ie!==null;){for(oe=ye=ie;ye!==null;){switch(re=ye,pe=re.child,re.tag){case 0:case 11:case 14:case 15:al(4,re,re.return);break;case 1:na(re,re.return);var we=re.stateNode;if(typeof we.componentWillUnmount=="function"){d=re,l=re.return;try{s=d,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(Te){xt(d,l,Te)}}break;case 5:na(re,re.return);break;case 22:if(re.memoizedState!==null){Ay(oe);continue}}pe!==null?(pe.return=re,ye=pe):Ay(oe)}ie=ie.sibling}e:for(ie=null,oe=r;;){if(oe.tag===5){if(ie===null){ie=oe;try{p=oe.stateNode,Q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=oe.stateNode,O=oe.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=ji("display",E))}catch(Te){xt(r,r.return,Te)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(Te){xt(r,r.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Ar(s,r),Kr(r),d&4&&Iy(r);break;case 21:break;default:Ar(s,r),Kr(r)}}function Kr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(wy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Jt(p,""),d.flags&=-33);var y=Ey(r);Gh(r,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,k=Ey(r);Kh(r,k,E);break;default:throw Error(t(161))}}catch(O){xt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function CI(r,s,l){ye=r,Ry(r)}function Ry(r,s,l){for(var d=(r.mode&1)!==0;ye!==null;){var p=ye,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Wu;if(!E){var k=p.alternate,O=k!==null&&k.memoizedState!==null||pn;k=Wu;var Q=pn;if(Wu=E,(pn=O)&&!Q)for(ye=p;ye!==null;)E=ye,O=E.child,E.tag===22&&E.memoizedState!==null?ky(p):O!==null?(O.return=E,ye=O):ky(p);for(;y!==null;)ye=y,Ry(y),y=y.sibling;ye=p,Wu=k,pn=Q}Cy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ye=y):Cy(r)}}function Cy(r){for(;ye!==null;){var s=ye;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:pn||Ku(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!pn)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Rr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ag(s,y,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ag(s,E,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&Er(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}pn||s.flags&512&&Wh(s)}catch(re){xt(s,s.return,re)}}if(s===r){ye=null;break}if(l=s.sibling,l!==null){l.return=s.return,ye=l;break}ye=s.return}}function Ay(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ye=l;break}ye=s.return}}function ky(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ku(4,s)}catch(O){xt(s,l,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(O){xt(s,p,O)}}var y=s.return;try{Wh(s)}catch(O){xt(s,y,O)}break;case 5:var E=s.return;try{Wh(s)}catch(O){xt(s,E,O)}}}catch(O){xt(s,s.return,O)}if(s===r){ye=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ye=k;break}ye=s.return}}var AI=Math.ceil,Gu=X.ReactCurrentDispatcher,Qh=X.ReactCurrentOwner,ur=X.ReactCurrentBatchConfig,rt=0,Wt=null,Vt=null,rn=0,Kn=0,ra=ts(0),zt=0,ll=null,to=0,Qu=0,Yh=0,ul=null,Dn=null,Xh=0,ia=1/0,Ci=null,Yu=!1,Jh=null,as=null,Xu=!1,ls=null,Ju=0,cl=0,Zh=null,Zu=-1,ec=0;function Sn(){return(rt&6)!==0?Ye():Zu!==-1?Zu:Zu=Ye()}function us(r){return(r.mode&1)===0?1:(rt&2)!==0&&rn!==0?rn&-rn:cI.transition!==null?(ec===0&&(ec=Bs()),ec):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Fa(r.type)),r)}function kr(r,s,l,d){if(50<cl)throw cl=0,Zh=null,Error(t(185));Ki(r,l,d),((rt&2)===0||r!==Wt)&&(r===Wt&&((rt&2)===0&&(Qu|=l),zt===4&&cs(r,rn)),On(r,d),l===1&&rt===0&&(s.mode&1)===0&&(ia=Ye()+500,ku&&rs()))}function On(r,s){var l=r.callbackNode;pi(r,s);var d=zs(r,r===Wt?rn:0);if(d===0)l!==null&&cn(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&cn(l),s===1)r.tag===0?uI(xy.bind(null,r)):mg(xy.bind(null,r)),sI(function(){(rt&6)===0&&rs()}),l=null;else{switch(Qi(d)){case 1:l=nr;break;case 4:l=We;break;case 16:l=at;break;case 536870912:l=Fr;break;default:l=at}l=Fy(l,Py.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Py(r,s){if(Zu=-1,ec=0,(rt&6)!==0)throw Error(t(327));var l=r.callbackNode;if(sa()&&r.callbackNode!==l)return null;var d=zs(r,r===Wt?rn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=tc(r,d);else{s=d;var p=rt;rt|=2;var y=Ny();(Wt!==r||rn!==s)&&(Ci=null,ia=Ye()+500,ro(r,s));do try{xI();break}catch(k){by(r,k)}while(!0);yh(),Gu.current=y,rt=p,Vt!==null?s=0:(Wt=null,rn=0,s=zt)}if(s!==0){if(s===2&&(p=zn(r),p!==0&&(d=p,s=ef(r,p))),s===1)throw l=ll,ro(r,0),cs(r,d),On(r,Ye()),l;if(s===6)cs(r,d);else{if(p=r.current.alternate,(d&30)===0&&!kI(p)&&(s=tc(r,d),s===2&&(y=zn(r),y!==0&&(d=y,s=ef(r,y))),s===1))throw l=ll,ro(r,0),cs(r,d),On(r,Ye()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:io(r,Dn,Ci);break;case 3:if(cs(r,d),(d&130023424)===d&&(s=Xh+500-Ye(),10<s)){if(zs(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Sn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=oh(io.bind(null,r,Dn,Ci),s);break}io(r,Dn,Ci);break;case 4:if(cs(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Zt(d);y=1<<E,E=s[E],E>p&&(p=E),d&=~y}if(d=p,d=Ye()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*AI(d/1960))-d,10<d){r.timeoutHandle=oh(io.bind(null,r,Dn,Ci),d);break}io(r,Dn,Ci);break;case 5:io(r,Dn,Ci);break;default:throw Error(t(329))}}}return On(r,Ye()),r.callbackNode===l?Py.bind(null,r):null}function ef(r,s){var l=ul;return r.current.memoizedState.isDehydrated&&(ro(r,s).flags|=256),r=tc(r,s),r!==2&&(s=Dn,Dn=l,s!==null&&tf(s)),r}function tf(r){Dn===null?Dn=r:Dn.push.apply(Dn,r)}function kI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Ir(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cs(r,s){for(s&=~Yh,s&=~Qu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Zt(s),d=1<<l;r[l]=-1,s&=~d}}function xy(r){if((rt&6)!==0)throw Error(t(327));sa();var s=zs(r,0);if((s&1)===0)return On(r,Ye()),null;var l=tc(r,s);if(r.tag!==0&&l===2){var d=zn(r);d!==0&&(s=d,l=ef(r,d))}if(l===1)throw l=ll,ro(r,0),cs(r,s),On(r,Ye()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,io(r,Dn,Ci),On(r,Ye()),null}function nf(r,s){var l=rt;rt|=1;try{return r(s)}finally{rt=l,rt===0&&(ia=Ye()+500,ku&&rs())}}function no(r){ls!==null&&ls.tag===0&&(rt&6)===0&&sa();var s=rt;rt|=1;var l=ur.transition,d=Ke;try{if(ur.transition=null,Ke=1,r)return r()}finally{Ke=d,ur.transition=l,rt=s,(rt&6)===0&&rs()}}function rf(){Kn=ra.current,wt(ra)}function ro(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,iI(l)),Vt!==null)for(l=Vt.return;l!==null;){var d=l;switch(hh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Cu();break;case 3:ea(),wt(xn),wt(dn),Rh();break;case 5:Ih(d);break;case 4:ea();break;case 13:wt(Ct);break;case 19:wt(Ct);break;case 10:vh(d.type._context);break;case 22:case 23:rf()}l=l.return}if(Wt=r,Vt=r=ds(r.current,null),rn=Kn=s,zt=0,ll=null,Yh=Qu=to=0,Dn=ul=null,Js!==null){for(s=0;s<Js.length;s++)if(l=Js[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}Js=null}return r}function by(r,s){do{var l=Vt;try{if(yh(),Fu.current=zu,Uu){for(var d=At.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Uu=!1}if(eo=0,qt=$t=At=null,nl=!1,rl=0,Qh.current=null,l===null||l.return===null){zt=1,ll=s,Vt=null;break}e:{var y=r,E=l.return,k=l,O=s;if(s=rn,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=O,ie=k,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=ny(E);if(pe!==null){pe.flags&=-257,ry(pe,E,k,y,s),pe.mode&1&&ty(y,Q,s),s=pe,O=Q;var we=s.updateQueue;if(we===null){var Te=new Set;Te.add(O),s.updateQueue=Te}else we.add(O);break e}else{if((s&1)===0){ty(y,Q,s),sf();break e}O=Error(t(426))}}else if(St&&k.mode&1){var bt=ny(E);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),ry(bt,E,k,y,s),mh(ta(O,k));break e}}y=O=ta(O,k),zt!==4&&(zt=2),ul===null?ul=[y]:ul.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var W=Zg(y,O,s);Cg(y,W);break e;case 1:k=O;var F=y.type,G=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(as===null||!as.has(G)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=ey(y,k,s);Cg(y,ue);break e}}y=y.return}while(y!==null)}Oy(l)}catch(Re){s=Re,Vt===l&&l!==null&&(Vt=l=l.return);continue}break}while(!0)}function Ny(){var r=Gu.current;return Gu.current=zu,r===null?zu:r}function sf(){(zt===0||zt===3||zt===2)&&(zt=4),Wt===null||(to&268435455)===0&&(Qu&268435455)===0||cs(Wt,rn)}function tc(r,s){var l=rt;rt|=2;var d=Ny();(Wt!==r||rn!==s)&&(Ci=null,ro(r,s));do try{PI();break}catch(p){by(r,p)}while(!0);if(yh(),rt=l,Gu.current=d,Vt!==null)throw Error(t(261));return Wt=null,rn=0,zt}function PI(){for(;Vt!==null;)Dy(Vt)}function xI(){for(;Vt!==null&&!Hi();)Dy(Vt)}function Dy(r){var s=Vy(r.alternate,r,Kn);r.memoizedProps=r.pendingProps,s===null?Oy(r):Vt=s,Qh.current=null}function Oy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=TI(l,s,Kn),l!==null){Vt=l;return}}else{if(l=II(l,s),l!==null){l.flags&=32767,Vt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{zt=6,Vt=null;return}}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=r}while(s!==null);zt===0&&(zt=5)}function io(r,s,l){var d=Ke,p=ur.transition;try{ur.transition=null,Ke=1,bI(r,s,l,d)}finally{ur.transition=p,Ke=d}return null}function bI(r,s,l,d){do sa();while(ls!==null);if((rt&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(mt(r,y),r===Wt&&(Vt=Wt=null,rn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xu||(Xu=!0,Fy(at,function(){return sa(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=ur.transition,ur.transition=null;var E=Ke;Ke=1;var k=rt;rt|=4,Qh.current=null,RI(r,l),Sy(l,r),XT(ih),Xi=!!rh,ih=rh=null,r.current=l,CI(l),hi(),rt=k,Ke=E,ur.transition=y}else r.current=l;if(Xu&&(Xu=!1,ls=r,Ju=p),y=r.pendingLanes,y===0&&(as=null),$s(l.stateNode),On(r,Ye()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Yu)throw Yu=!1,r=Jh,Jh=null,r;return(Ju&1)!==0&&r.tag!==0&&sa(),y=r.pendingLanes,(y&1)!==0?r===Zh?cl++:(cl=0,Zh=r):cl=0,rs(),null}function sa(){if(ls!==null){var r=Qi(Ju),s=ur.transition,l=Ke;try{if(ur.transition=null,Ke=16>r?16:r,ls===null)var d=!1;else{if(r=ls,ls=null,Ju=0,(rt&6)!==0)throw Error(t(331));var p=rt;for(rt|=4,ye=r.current;ye!==null;){var y=ye,E=y.child;if((ye.flags&16)!==0){var k=y.deletions;if(k!==null){for(var O=0;O<k.length;O++){var Q=k[O];for(ye=Q;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:al(8,ie,y)}var oe=ie.child;if(oe!==null)oe.return=ie,ye=oe;else for(;ye!==null;){ie=ye;var re=ie.sibling,pe=ie.return;if(_y(ie),ie===Q){ye=null;break}if(re!==null){re.return=pe,ye=re;break}ye=pe}}}var we=y.alternate;if(we!==null){var Te=we.child;if(Te!==null){we.child=null;do{var bt=Te.sibling;Te.sibling=null,Te=bt}while(Te!==null)}}ye=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ye=E;else e:for(;ye!==null;){if(y=ye,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:al(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,ye=W;break e}ye=y.return}}var F=r.current;for(ye=F;ye!==null;){E=ye;var G=E.child;if((E.subtreeFlags&2064)!==0&&G!==null)G.return=E,ye=G;else e:for(E=F;ye!==null;){if(k=ye,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Ku(9,k)}}catch(Re){xt(k,k.return,Re)}if(k===E){ye=null;break e}var ue=k.sibling;if(ue!==null){ue.return=k.return,ye=ue;break e}ye=k.return}}if(rt=p,rs(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(ht,r)}catch{}d=!0}return d}finally{Ke=l,ur.transition=s}}return!1}function Ly(r,s,l){s=ta(l,s),s=Zg(r,s,1),r=ss(r,s,1),s=Sn(),r!==null&&(Ki(r,1,s),On(r,s))}function xt(r,s,l){if(r.tag===3)Ly(r,r,l);else for(;s!==null;){if(s.tag===3){Ly(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(as===null||!as.has(d))){r=ta(l,r),r=ey(s,r,1),s=ss(s,r,1),r=Sn(),s!==null&&(Ki(s,1,r),On(s,r));break}}s=s.return}}function NI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Sn(),r.pingedLanes|=r.suspendedLanes&l,Wt===r&&(rn&l)===l&&(zt===4||zt===3&&(rn&130023424)===rn&&500>Ye()-Xh?ro(r,0):Yh|=l),On(r,s)}function My(r,s){s===0&&((r.mode&1)===0?s=1:(s=ko,ko<<=1,(ko&130023424)===0&&(ko=4194304)));var l=Sn();r=Ii(r,s),r!==null&&(Ki(r,s,l),On(r,l))}function DI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),My(r,l)}function OI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),My(r,l)}var Vy;Vy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||xn.current)Nn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Nn=!1,EI(r,s,l);Nn=(r.flags&131072)!==0}else Nn=!1,St&&(s.flags&1048576)!==0&&gg(s,xu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;qu(r,s),r=s.pendingProps;var p=Ko(s,dn.current);Zo(s,l),p=kh(null,s,d,r,p,l);var y=Ph();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,bn(d)?(y=!0,Au(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Eh(s),p.updater=Bu,s.stateNode=p,p._reactInternals=s,Lh(s,d,r,l),s=Uh(null,s,d,!0,y,l)):(s.tag=0,St&&y&&dh(s),In(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(qu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=MI(d),r=Rr(d,r),p){case 0:s=Fh(null,s,d,r,l);break e;case 1:s=uy(null,s,d,r,l);break e;case 11:s=iy(null,s,d,r,l);break e;case 14:s=sy(null,s,d,Rr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rr(d,p),Fh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rr(d,p),uy(r,s,d,p,l);case 3:e:{if(cy(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Rg(r,s),Mu(s,d,null,l);var E=s.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=ta(Error(t(423)),s),s=dy(r,s,d,l,p);break e}else if(d!==p){p=ta(Error(t(424)),s),s=dy(r,s,d,l,p);break e}else for(Wn=es(s.stateNode.containerInfo.firstChild),qn=s,St=!0,Sr=null,l=Ig(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yo(),d===p){s=Ri(r,s,l);break e}In(r,s,d,l)}s=s.child}return s;case 5:return kg(s),r===null&&ph(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,sh(d,p)?E=null:y!==null&&sh(d,y)&&(s.flags|=32),ly(r,s),In(r,s,E,l),s.child;case 6:return r===null&&ph(s),null;case 13:return hy(r,s,l);case 4:return Th(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Xo(s,null,d,l):In(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rr(d,p),iy(r,s,d,p,l);case 7:return In(r,s,s.pendingProps,l),s.child;case 8:return In(r,s,s.pendingProps.children,l),s.child;case 12:return In(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,yt(Du,d._currentValue),d._currentValue=E,y!==null)if(Ir(y.value,E)){if(y.children===p.children&&!xn.current){s=Ri(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){E=y.child;for(var O=k.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=Si(-1,l&-l),O.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),Q.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),_h(y.return,l,s),k.lanes|=l;break}O=O.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,k=E.alternate,k!==null&&(k.lanes|=l),_h(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}In(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Zo(s,l),p=ar(p),d=d(p),s.flags|=1,In(r,s,d,l),s.child;case 14:return d=s.type,p=Rr(d,s.pendingProps),p=Rr(d.type,p),sy(r,s,d,p,l);case 15:return oy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rr(d,p),qu(r,s),s.tag=1,bn(d)?(r=!0,Au(s)):r=!1,Zo(s,l),Xg(s,d,p),Lh(s,d,p,l),Uh(null,s,d,!0,r,l);case 19:return py(r,s,l);case 22:return ay(r,s,l)}throw Error(t(156,s.tag))};function Fy(r,s){return un(r,s)}function LI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(r,s,l,d){return new LI(r,s,l,d)}function of(r){return r=r.prototype,!(!r||!r.isReactComponent)}function MI(r){if(typeof r=="function")return of(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===je)return 14}return 2}function ds(r,s){var l=r.alternate;return l===null?(l=cr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function nc(r,s,l,d,p,y){var E=2;if(d=r,typeof r=="function")of(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case A:return so(l.children,p,y,s);case S:E=8,p|=8;break;case C:return r=cr(12,l,s,p|2),r.elementType=C,r.lanes=y,r;case x:return r=cr(13,l,s,p),r.elementType=x,r.lanes=y,r;case ut:return r=cr(19,l,s,p),r.elementType=ut,r.lanes=y,r;case $e:return rc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:E=10;break e;case M:E=9;break e;case j:E=11;break e;case je:E=14;break e;case Et:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=cr(E,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function so(r,s,l,d){return r=cr(7,r,d,s),r.lanes=l,r}function rc(r,s,l,d){return r=cr(22,r,d,s),r.elementType=$e,r.lanes=l,r.stateNode={isHidden:!1},r}function af(r,s,l){return r=cr(6,r,null,s),r.lanes=l,r}function lf(r,s,l){return s=cr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function VI(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function uf(r,s,l,d,p,y,E,k,O){return r=new VI(r,s,l,k,O),s===1?(s=1,y===!0&&(s|=8)):s=0,y=cr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(y),r}function FI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Uy(r){if(!r)return ns;r=r._reactInternals;e:{if(ct(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(bn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(bn(l))return fg(r,l,s)}return s}function jy(r,s,l,d,p,y,E,k,O){return r=uf(l,d,!0,r,p,y,E,k,O),r.context=Uy(null),l=r.current,d=Sn(),p=us(l),y=Si(d,p),y.callback=s??null,ss(l,y,p),r.current.lanes=p,Ki(r,p,d),On(r,d),r}function ic(r,s,l,d){var p=s.current,y=Sn(),E=us(p);return l=Uy(l),s.context===null?s.context=l:s.pendingContext=l,s=Si(y,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ss(p,s,E),r!==null&&(kr(r,p,E,y),Lu(r,p,E)),E}function sc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $y(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function cf(r,s){$y(r,s),(r=r.alternate)&&$y(r,s)}function UI(){return null}var zy=typeof reportError=="function"?reportError:function(r){console.error(r)};function df(r){this._internalRoot=r}oc.prototype.render=df.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ic(r,s,null,null)},oc.prototype.unmount=df.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;no(function(){ic(null,r,null,null)}),s[_i]=null}};function oc(r){this._internalRoot=r}oc.prototype.unstable_scheduleHydration=function(r){if(r){var s=ou();r={blockedOn:null,target:r,priority:s};for(var l=0;l<jr.length&&s!==0&&s<jr[l].priority;l++);jr.splice(l,0,r),l===0&&uu(r)}};function hf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ac(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function By(){}function jI(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Q=sc(E);y.call(Q)}}var E=jy(s,d,r,0,null,!1,!1,"",By);return r._reactRootContainer=E,r[_i]=E.current,Ga(r.nodeType===8?r.parentNode:r),no(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var k=d;d=function(){var Q=sc(O);k.call(Q)}}var O=uf(r,0,!1,null,null,!1,!1,"",By);return r._reactRootContainer=O,r[_i]=O.current,Ga(r.nodeType===8?r.parentNode:r),no(function(){ic(s,O,l,d)}),O}function lc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var k=p;p=function(){var O=sc(E);k.call(O)}}ic(s,E,r,p)}else E=jI(l,s,r,p,d);return sc(E)}iu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=qi(s.pendingLanes);l!==0&&(Gi(s,l|1),On(s,Ye()),(rt&6)===0&&(ia=Ye()+500,rs()))}break;case 13:no(function(){var d=Ii(r,1);if(d!==null){var p=Sn();kr(d,r,1,p)}}),cf(r,1)}},Po=function(r){if(r.tag===13){var s=Ii(r,134217728);if(s!==null){var l=Sn();kr(s,r,134217728,l)}cf(r,134217728)}},su=function(r){if(r.tag===13){var s=us(r),l=Ii(r,s);if(l!==null){var d=Sn();kr(l,r,s,d)}cf(r,s)}},ou=function(){return Ke},au=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},ci=function(r,s,l){switch(s){case"input":if(Vs(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=Ru(d);if(!p)throw Error(t(90));Mi(d),Vs(d,p)}}}break;case"textarea":Dr(r,l);break;case"select":s=l.value,s!=null&&Xt(r,!!l.multiple,s,!1)}},di=nf,D=no;var $I={usingClientEntryPoint:!1,Events:[Xa,qo,Ru,En,js,nf]},dl={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zI={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=er(r),r===null?null:r.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{ht=uc.inject(zI),Lt=uc}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$I,Ln.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(s))throw Error(t(200));return FI(r,s,null,l)},Ln.createRoot=function(r,s){if(!hf(r))throw Error(t(299));var l=!1,d="",p=zy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=uf(r,1,!1,null,null,l,!1,d,p),r[_i]=s.current,Ga(r.nodeType===8?r.parentNode:r),new df(s)},Ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=er(s),r=r===null?null:r.stateNode,r},Ln.flushSync=function(r){return no(r)},Ln.hydrate=function(r,s,l){if(!ac(s))throw Error(t(200));return lc(null,r,s,!0,l)},Ln.hydrateRoot=function(r,s,l){if(!hf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=zy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=jy(s,null,r,1,l??null,p,!1,y,E),r[_i]=s.current,Ga(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new oc(s)},Ln.render=function(r,s,l){if(!ac(s))throw Error(t(200));return lc(null,r,s,!1,l)},Ln.unmountComponentAtNode=function(r){if(!ac(r))throw Error(t(40));return r._reactRootContainer?(no(function(){lc(null,null,r,!1,function(){r._reactRootContainer=null,r[_i]=null})}),!0):!1},Ln.unstable_batchedUpdates=nf,Ln.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!ac(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return lc(r,s,l,!1,d)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var Xy;function w0(){if(Xy)return mf.exports;Xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mf.exports=QI(),mf.exports}var Jy;function YI(){if(Jy)return cc;Jy=1;var n=w0();return cc.createRoot=n.createRoot,cc.hydrateRoot=n.hydrateRoot,cc}var XI=YI();const JI=_0(XI);var fl={},Zy;function ZI(){if(Zy)return fl;Zy=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.parse=u,fl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,R){const b=new a,V=T.length;if(V<2)return b;const P=(R==null?void 0:R.decode)||v;let $=0;do{const H=T.indexOf("=",$);if(H===-1)break;const K=T.indexOf(";",$),X=K===-1?V:K;if(H>X){$=T.lastIndexOf(";",H-1)+1;continue}const L=h(T,$,H),se=f(T,H,L),A=T.slice(L,se);if(b[A]===void 0){let S=h(T,H+1,X),C=f(T,X,S);const N=P(T.slice(S,C));b[A]=N}$=X+1}while($<V);return b}function h(T,R,b){do{const V=T.charCodeAt(R);if(V!==32&&V!==9)return R}while(++R<b);return b}function f(T,R,b){for(;R>b;){const V=T.charCodeAt(--R);if(V!==32&&V!==9)return R+1}return b}function m(T,R,b){const V=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const P=V(R);if(!e.test(P))throw new TypeError(`argument val is invalid: ${R}`);let $=T+"="+P;if(!b)return $;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);$+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);$+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);$+="; Path="+b.path}if(b.expires){if(!w(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);$+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&($+="; HttpOnly"),b.secure&&($+="; Secure"),b.partitioned&&($+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return $}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return fl}ZI();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E0=n=>{throw TypeError(n)},eS=(n,e,t)=>e.has(n)||E0("Cannot "+t),vf=(n,e,t)=>(eS(n,e,"read from private field"),t?t.call(n):e.get(n)),tS=(n,e,t)=>e.has(n)?E0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ev="popstate";function nS(n={}){function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return xl("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Rs(o)}return iS(e,t,null,n)}function Ge(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function on(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substring(2,10)}function tv(n,e){return{usr:n.state,key:n.key,idx:e}}function xl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ds(e):e,state:t,key:e&&e.key||i||rS()}}function Rs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ds(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function iS(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let P=v(),$=P==null?null:P-m;m=P,f&&f({action:h,location:V.location,delta:$})}function T(P,$){h="PUSH";let H=xl(V.location,P,$);m=v()+1;let K=tv(H,m),X=V.createHref(H);try{u.pushState(K,"",X)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(X)}a&&f&&f({action:h,location:V.location,delta:1})}function R(P,$){h="REPLACE";let H=xl(V.location,P,$);m=v();let K=tv(H,m),X=V.createHref(H);u.replaceState(K,"",X),a&&f&&f({action:h,location:V.location,delta:0})}function b(P){let $=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof P=="string"?P:Rs(P);return H=H.replace(/ $/,"%20"),Ge($,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,$)}let V={get action(){return h},get location(){return n(o,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ev,w),f=P,()=>{o.removeEventListener(ev,w),f=null}},createHref(P){return e(o,P)},createURL:b,encodeLocation(P){let $=b(P);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:R,go(P){return u.go(P)}};return V}var yl,nv=class{constructor(n){if(tS(this,yl,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(vf(this,yl).has(n))return vf(this,yl).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){vf(this,yl).set(n,e)}};yl=new WeakMap;var sS=new Set(["lazy","caseSensitive","path","id","index","children"]);function oS(n){return n.index===!0}function Bc(n,e,t=[],i={}){return n.map((o,a)=>{let u=[...t,String(a)],h=typeof o.id=="string"?o.id:u.join("-");if(Ge(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ge(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),oS(o)){let f={...o,...e(o),id:h};return i[h]=f,f}else{let f={...o,...e(o),id:h,children:void 0};return i[h]=f,o.children&&(f.children=Bc(o.children,e,u,i)),f}})}function ms(n,e,t="/"){return Ec(n,e,t,!1)}function Ec(n,e,t,i){let o=typeof e=="string"?Ds(e):e,a=hr(o.pathname||"/",t);if(a==null)return null;let u=T0(n);lS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=_S(a);h=yS(u[f],m,i)}return h}function aS(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function T0(n,e=[],t=[],i=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Ge(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=Xr([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Ge(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),T0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:mS(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of I0(a.path))o(a,u,f)}),e}function I0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=I0(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function lS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var uS=/^:[\w-]+$/,cS=3,dS=2,hS=1,fS=10,pS=-2,rv=n=>n==="*";function mS(n,e){let t=n.split("/"),i=t.length;return t.some(rv)&&(i+=pS),e&&(i+=dS),t.filter(o=>!rv(o)).reduce((o,a)=>o+(uS.test(a)?cS:a===""?hS:fS),i)}function gS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function yS(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Hc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),T=f.route;if(!w&&m&&t&&!i[i.length-1].route.index&&(w=Hc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Xr([a,w.pathname]),pathnameBase:TS(Xr([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=Xr([a,w.pathnameBase]))}return u}function Hc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=vS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:w},T)=>{if(v==="*"){let b=h[T]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const R=h[T];return w&&!R?m[v]=void 0:m[v]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function vS(n,e=!1,t=!0){on(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function _S(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return on(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function hr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function wS(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ds(n):n;return{pathname:t?t.startsWith("/")?t:ES(t,e):e,search:IS(i),hash:SS(o)}}function ES(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function _f(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kp(n){let e=S0(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Pp(n,e,t,i=!1){let o;typeof n=="string"?o=Ds(n):(o={...n},Ge(!o.pathname||!o.pathname.includes("?"),_f("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),_f("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),_f("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}h=w>=0?e[w]:"/"}let f=wS(o,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Xr=n=>n.join("/").replace(/\/\/+/g,"/"),TS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,qc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function bl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var R0=["POST","PUT","PATCH","DELETE"],RS=new Set(R0),CS=["GET",...R0],AS=new Set(CS),kS=new Set([301,302,303,307,308]),PS=new Set([307,308]),wf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),C0="remix-router-transitions",A0=Symbol("ResetLoaderData");function NS(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ge(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||bS,o={},a=Bc(n.routes,i,void 0,o),u,h=n.basename||"/",f=n.dataStrategy||VS,m={unstable_middleware:!1,...n.future},v=null,w=new Set,T=null,R=null,b=null,V=n.hydrationData!=null,P=ms(a,n.history.location,h),$=!1,H=null;if(P==null&&!n.patchRoutesOnNavigation){let D=dr(404,{pathname:n.history.location.pathname}),{matches:B,route:Y}=mv(a);P=B,H={[Y.id]:D}}P&&!n.hydrationData&&yr(P,a,n.history.location.pathname).active&&(P=null);let K;if(P)if(P.some(D=>D.route.lazy))K=!1;else if(!P.some(D=>D.route.loader))K=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let Y=P.findIndex(ee=>B[ee.route.id]!==void 0);K=P.slice(0,Y+1).every(ee=>!jf(ee.route,D,B))}else K=P.every(Y=>!jf(Y.route,D,B))}else{K=!1,P=[];let D=yr(null,a,n.history.location.pathname);D.active&&D.matches&&($=!0,P=D.matches)}let X,L={historyAction:n.history.action,location:n.history.location,matches:P,initialized:K,navigation:wf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||H,fetchers:new Map,blockers:new Map},se="POP",A=!1,S,C=!1,N=new Map,M=null,j=!1,x=!1,ut=new Set,je=new Map,Et=0,$e=-1,le=new Map,Ee=new Set,fe=new Map,z=new Map,Z=new Set,ve=new Map,Le,Oe=null;function Be(){if(v=n.history.listen(({action:D,location:B,delta:Y})=>{if(Le){Le(),Le=void 0;return}on(ve.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=zi({currentLocation:L.location,nextLocation:B,historyAction:D});if(ee&&Y!=null){let de=new Promise(Ce=>{Le=Ce});n.history.go(Y*-1),Mr(ee,{state:"blocked",location:B,proceed(){Mr(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),de.then(()=>n.history.go(Y))},reset(){let Ce=new Map(L.blockers);Ce.set(ee,pl),Fe({blockers:Ce})}});return}return ln(D,B)}),t){QS(e,N);let D=()=>YS(e,N);e.addEventListener("pagehide",D),M=()=>e.removeEventListener("pagehide",D)}return L.initialized||ln("POP",L.location,{initialHydration:!0}),X}function tt(){v&&v(),M&&M(),w.clear(),S&&S.abort(),L.fetchers.forEach((D,B)=>jn(B)),L.blockers.forEach((D,B)=>$i(B))}function nt(D){return w.add(D),()=>w.delete(D)}function Fe(D,B={}){L={...L,...D};let Y=[],ee=[];L.fetchers.forEach((de,Ce)=>{de.state==="idle"&&(Z.has(Ce)?Y.push(Ce):ee.push(Ce))}),Z.forEach(de=>{!L.fetchers.has(de)&&!je.has(de)&&Y.push(de)}),[...w].forEach(de=>de(L,{deletedFetchers:Y,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),Y.forEach(de=>jn(de)),ee.forEach(de=>L.fetchers.delete(de))}function vt(D,B,{flushSync:Y}={}){var he,Se;let ee=L.actionData!=null&&L.navigation.formMethod!=null&&Pr(L.navigation.formMethod)&&L.navigation.state==="loading"&&((he=D.state)==null?void 0:he._isRedirect)!==!0,de;B.actionData?Object.keys(B.actionData).length>0?de=B.actionData:de=null:ee?de=L.actionData:de=null;let Ce=B.loaderData?fv(L.loaderData,B.loaderData,B.matches||[],B.errors):L.loaderData,Ae=L.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((be,Ue)=>Ae.set(Ue,pl)));let _e=A===!0||L.navigation.formMethod!=null&&Pr(L.navigation.formMethod)&&((Se=D.state)==null?void 0:Se._isRedirect)!==!0;u&&(a=u,u=void 0),j||se==="POP"||(se==="PUSH"?n.history.push(D,D.state):se==="REPLACE"&&n.history.replace(D,D.state));let Ie;if(se==="POP"){let be=N.get(L.location.pathname);be&&be.has(D.pathname)?Ie={currentLocation:L.location,nextLocation:D}:N.has(D.pathname)&&(Ie={currentLocation:D,nextLocation:L.location})}else if(C){let be=N.get(L.location.pathname);be?be.add(D.pathname):(be=new Set([D.pathname]),N.set(L.location.pathname,be)),Ie={currentLocation:L.location,nextLocation:D}}Fe({...B,actionData:de,loaderData:Ce,historyAction:se,location:D,initialized:!0,navigation:wf,revalidation:"idle",restoreScrollPosition:$n(D,B.matches||L.matches),preventScrollReset:_e,blockers:Ae},{viewTransitionOpts:Ie,flushSync:Y===!0}),se="POP",A=!1,C=!1,j=!1,x=!1,Oe==null||Oe.resolve(),Oe=null}async function Zn(D,B){if(typeof D=="number"){n.history.go(D);return}let Y=Uf(L.location,L.matches,h,D,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ee,submission:de,error:Ce}=iv(!1,Y,B),Ae=L.location,_e=xl(L.location,ee,B&&B.state);_e={..._e,...n.history.encodeLocation(_e)};let Ie=B&&B.replace!=null?B.replace:void 0,he="PUSH";Ie===!0?he="REPLACE":Ie===!1||de!=null&&Pr(de.formMethod)&&de.formAction===L.location.pathname+L.location.search&&(he="REPLACE");let Se=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,be=(B&&B.flushSync)===!0,Ue=zi({currentLocation:Ae,nextLocation:_e,historyAction:he});if(Ue){Mr(Ue,{state:"blocked",location:_e,proceed(){Mr(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Zn(D,B)},reset(){let pt=new Map(L.blockers);pt.set(Ue,pl),Fe({blockers:pt})}});return}await ln(he,_e,{submission:de,pendingError:Ce,preventScrollReset:Se,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:be})}function Mi(){Oe||(Oe=XS()),Dr(),Fe({revalidation:"loading"});let D=Oe.promise;return L.navigation.state==="submitting"?D:L.navigation.state==="idle"?(ln(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),D):(ln(se||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:C===!0}),D)}async function ln(D,B,Y){S&&S.abort(),S=null,se=D,j=(Y&&Y.startUninterruptedRevalidation)===!0,An(L.location,L.matches),A=(Y&&Y.preventScrollReset)===!0,C=(Y&&Y.enableViewTransition)===!0;let ee=u||a,de=Y&&Y.overrideNavigation,Ce=Y!=null&&Y.initialHydration&&L.matches&&L.matches.length>0&&!$?L.matches:ms(ee,B,h),Ae=(Y&&Y.flushSync)===!0;if(Ce&&L.initialized&&!x&&HS(L.location,B)&&!(Y&&Y.submission&&Pr(Y.submission.formMethod))){vt(B,{matches:Ce},{flushSync:Ae});return}let _e=yr(Ce,ee,B.pathname);if(_e.active&&_e.matches&&(Ce=_e.matches),!Ce){let{error:dt,notFoundMatches:Qe,route:Tt}=gr(B.pathname);vt(B,{matches:Qe,loaderData:{},errors:{[Tt.id]:dt}},{flushSync:Ae});return}S=new AbortController;let Ie=oa(n.history,B,S.signal,Y&&Y.submission),he=new nv(n.unstable_getContext?await n.unstable_getContext():void 0),Se;if(Y&&Y.pendingError)Se=[ao(Ce).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Pr(Y.submission.formMethod)){let dt=await li(Ie,B,Y.submission,Ce,he,_e.active,{replace:Y.replace,flushSync:Ae});if(dt.shortCircuited)return;if(dt.pendingActionResult){let[Qe,Tt]=dt.pendingActionResult;if(Qn(Tt)&&bl(Tt.error)&&Tt.error.status===404){S=null,vt(B,{matches:dt.matches,loaderData:{},errors:{[Qe]:Tt.error}});return}}Ce=dt.matches||Ce,Se=dt.pendingActionResult,de=Ef(B,Y.submission),Ae=!1,_e.active=!1,Ie=oa(n.history,Ie.url,Ie.signal)}let{shortCircuited:be,matches:Ue,loaderData:pt,errors:ct}=await Vi(Ie,B,Ce,he,_e.active,de,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ae,Se);be||(S=null,vt(B,{matches:Ue||Ce,...pv(Se),loaderData:pt,errors:ct}))}async function li(D,B,Y,ee,de,Ce,Ae={}){Dr();let _e=KS(B,Y);if(Fe({navigation:_e},{flushSync:Ae.flushSync===!0}),Ce){let Se=await En(ee,B.pathname,D.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let be=ao(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[be,{type:"error",error:Se.error}]}}else if(Se.matches)ee=Se.matches;else{let{notFoundMatches:be,error:Ue,route:pt}=gr(B.pathname);return{matches:be,pendingActionResult:[pt.id,{type:"error",error:Ue}]}}}let Ie,he=vl(ee,B);if(!he.route.action&&!he.route.lazy)Ie={type:"error",error:dr(405,{method:D.method,pathname:B.pathname,routeId:he.route.id})};else{let Se=await mr("action",D,[he],ee,de,null);if(Ie=Se[he.route.id],!Ie){for(let be of ee)if(Se[be.route.id]){Ie=Se[be.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(lo(Ie)){let Se;return Ae&&Ae.replace!=null?Se=Ae.replace:Se=cv(Ie.response.headers.get("Location"),new URL(D.url),h)===L.location.pathname+L.location.search,await Xt(D,Ie,!0,{submission:Y,replace:Se}),{shortCircuited:!0}}if(Qn(Ie)){let Se=ao(ee,he.route.id);return(Ae&&Ae.replace)!==!0&&(se="PUSH"),{matches:ee,pendingActionResult:[Se.route.id,Ie]}}return{matches:ee,pendingActionResult:[he.route.id,Ie]}}async function Vi(D,B,Y,ee,de,Ce,Ae,_e,Ie,he,Se,be){let Ue=Ce||Ef(B,Ae),pt=Ae||_e||yv(Ue),ct=!j&&!he;if(de){if(ct){let at=Fi(be);Fe({navigation:Ue,...at!==void 0?{actionData:at}:{}},{flushSync:Se})}let We=await En(Y,B.pathname,D.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let at=ao(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[at]:We.error}}}else if(We.matches)Y=We.matches;else{let{error:at,notFoundMatches:Vr,route:Fr}=gr(B.pathname);return{matches:Vr,loaderData:{},errors:{[Fr.id]:at}}}}let dt=u||a,[Qe,Tt]=ov(n.history,L,Y,pt,B,he===!0,x,ut,Z,fe,Ee,dt,h,be);if($e=++Et,Qe.length===0&&Tt.length===0){let We=Lr();return vt(B,{matches:Y,loaderData:{},errors:be&&Qn(be[1])?{[be[0]]:be[1].error}:null,...pv(be),...We?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Se}),{shortCircuited:!0}}if(ct){let We={};if(!de){We.navigation=Ue;let at=Fi(be);at!==void 0&&(We.actionData=at)}Tt.length>0&&(We.fetchers=Vs(Tt)),Fe(We,{flushSync:Se})}Tt.forEach(We=>{Jt(We.key),We.controller&&je.set(We.key,We.controller)});let er=()=>Tt.forEach(We=>Jt(We.key));S&&S.signal.addEventListener("abort",er);let{loaderResults:tr,fetcherResults:un}=await ui(Y,Qe,Tt,D,ee);if(D.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",er),Tt.forEach(We=>je.delete(We.key));let cn=dc(tr);if(cn)return await Xt(D,cn.result,!0,{replace:Ie}),{shortCircuited:!0};if(cn=dc(un),cn)return Ee.add(cn.key),await Xt(D,cn.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Hi,errors:hi}=hv(L,Y,tr,be,Tt,un);he&&L.errors&&(hi={...L.errors,...hi});let Ye=Lr(),fi=ji($e),nr=Ye||fi||Tt.length>0;return{matches:Y,loaderData:Hi,errors:hi,...nr?{fetchers:new Map(L.fetchers)}:{}}}function Fi(D){if(D&&!Qn(D[1]))return{[D[0]]:D[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Vs(D){return D.forEach(B=>{let Y=L.fetchers.get(B.key),ee=ml(void 0,Y?Y.data:void 0);L.fetchers.set(B.key,ee)}),new Map(L.fetchers)}async function Co(D,B,Y,ee){Jt(D);let de=(ee&&ee.flushSync)===!0,Ce=u||a,Ae=Uf(L.location,L.matches,h,Y,B,ee==null?void 0:ee.relative),_e=ms(Ce,Ae,h),Ie=yr(_e,Ce,Ae);if(Ie.active&&Ie.matches&&(_e=Ie.matches),!_e){ot(D,B,dr(404,{pathname:Ae}),{flushSync:de});return}let{path:he,submission:Se,error:be}=iv(!0,Ae,ee);if(be){ot(D,B,be,{flushSync:de});return}let Ue=vl(_e,he),pt=new nv(n.unstable_getContext?await n.unstable_getContext():void 0),ct=(ee&&ee.preventScrollReset)===!0;if(Se&&Pr(Se.formMethod)){await Ui(D,B,he,Ue,_e,pt,Ie.active,de,ct,Se);return}fe.set(D,{routeId:B,path:he}),await pr(D,B,he,Ue,_e,pt,Ie.active,de,ct,Se)}async function Ui(D,B,Y,ee,de,Ce,Ae,_e,Ie,he){Dr(),fe.delete(D);function Se(ht){if(!ht.route.action&&!ht.route.lazy){let Lt=dr(405,{method:he.formMethod,pathname:Y,routeId:B});return ot(D,B,Lt,{flushSync:_e}),!0}return!1}if(!Ae&&Se(ee))return;let be=L.fetchers.get(D);Cn(D,GS(he,be),{flushSync:_e});let Ue=new AbortController,pt=oa(n.history,Y,Ue.signal,he);if(Ae){let ht=await En(de,Y,pt.signal,D);if(ht.type==="aborted")return;if(ht.type==="error"){ot(D,B,ht.error,{flushSync:_e});return}else if(ht.matches){if(de=ht.matches,ee=vl(de,Y),Se(ee))return}else{ot(D,B,dr(404,{pathname:Y}),{flushSync:_e});return}}je.set(D,Ue);let ct=Et,Qe=(await mr("action",pt,[ee],de,Ce,D))[ee.route.id];if(pt.signal.aborted){je.get(D)===Ue&&je.delete(D);return}if(Z.has(D)){if(lo(Qe)||Qn(Qe)){Cn(D,ps(void 0));return}}else{if(lo(Qe))if(je.delete(D),$e>ct){Cn(D,ps(void 0));return}else return Ee.add(D),Cn(D,ml(he)),Xt(pt,Qe,!1,{fetcherSubmission:he,preventScrollReset:Ie});if(Qn(Qe)){ot(D,B,Qe.error);return}}let Tt=L.navigation.location||L.location,er=oa(n.history,Tt,Ue.signal),tr=u||a,un=L.navigation.state!=="idle"?ms(tr,L.navigation.location,h):L.matches;Ge(un,"Didn't find any matches after fetcher action");let cn=++Et;le.set(D,cn);let Hi=ml(he,Qe.data);L.fetchers.set(D,Hi);let[hi,Ye]=ov(n.history,L,un,he,Tt,!1,x,ut,Z,fe,Ee,tr,h,[ee.route.id,Qe]);Ye.filter(ht=>ht.key!==D).forEach(ht=>{let Lt=ht.key,$s=L.fetchers.get(Lt),Zt=ml(void 0,$s?$s.data:void 0);L.fetchers.set(Lt,Zt),Jt(Lt),ht.controller&&je.set(Lt,ht.controller)}),Fe({fetchers:new Map(L.fetchers)});let fi=()=>Ye.forEach(ht=>Jt(ht.key));Ue.signal.addEventListener("abort",fi);let{loaderResults:nr,fetcherResults:We}=await ui(un,hi,Ye,er,Ce);if(Ue.signal.aborted)return;Ue.signal.removeEventListener("abort",fi),le.delete(D),je.delete(D),Ye.forEach(ht=>je.delete(ht.key));let at=dc(nr);if(at)return Xt(er,at.result,!1,{preventScrollReset:Ie});if(at=dc(We),at)return Ee.add(at.key),Xt(er,at.result,!1,{preventScrollReset:Ie});let{loaderData:Vr,errors:Fr}=hv(L,un,nr,void 0,Ye,We);if(L.fetchers.has(D)){let ht=ps(Qe.data);L.fetchers.set(D,ht)}ji(cn),L.navigation.state==="loading"&&cn>$e?(Ge(se,"Expected pending action"),S&&S.abort(),vt(L.navigation.location,{matches:un,loaderData:Vr,errors:Fr,fetchers:new Map(L.fetchers)})):(Fe({errors:Fr,loaderData:fv(L.loaderData,Vr,un,Fr),fetchers:new Map(L.fetchers)}),x=!1)}async function pr(D,B,Y,ee,de,Ce,Ae,_e,Ie,he){let Se=L.fetchers.get(D);Cn(D,ml(he,Se?Se.data:void 0),{flushSync:_e});let be=new AbortController,Ue=oa(n.history,Y,be.signal);if(Ae){let Qe=await En(de,Y,Ue.signal,D);if(Qe.type==="aborted")return;if(Qe.type==="error"){ot(D,B,Qe.error,{flushSync:_e});return}else if(Qe.matches)de=Qe.matches,ee=vl(de,Y);else{ot(D,B,dr(404,{pathname:Y}),{flushSync:_e});return}}je.set(D,be);let pt=Et,dt=(await mr("loader",Ue,[ee],de,Ce,D))[ee.route.id];if(je.get(D)===be&&je.delete(D),!Ue.signal.aborted){if(Z.has(D)){Cn(D,ps(void 0));return}if(lo(dt))if($e>pt){Cn(D,ps(void 0));return}else{Ee.add(D),await Xt(Ue,dt,!1,{preventScrollReset:Ie});return}if(Qn(dt)){ot(D,B,dt.error);return}Cn(D,ps(dt.data))}}async function Xt(D,B,Y,{submission:ee,fetcherSubmission:de,preventScrollReset:Ce,replace:Ae}={}){B.response.headers.has("X-Remix-Revalidate")&&(x=!0);let _e=B.response.headers.get("Location");Ge(_e,"Expected a Location header on the redirect Response"),_e=cv(_e,new URL(D.url),h);let Ie=xl(L.location,_e,{_isRedirect:!0});if(t){let ct=!1;if(B.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(xp.test(_e)){const dt=n.history.createURL(_e);ct=dt.origin!==e.location.origin||hr(dt.pathname,h)==null}if(ct){Ae?e.location.replace(_e):e.location.assign(_e);return}}S=null;let he=Ae===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Se,formAction:be,formEncType:Ue}=L.navigation;!ee&&!de&&Se&&be&&Ue&&(ee=yv(L.navigation));let pt=ee||de;if(PS.has(B.response.status)&&pt&&Pr(pt.formMethod))await ln(he,Ie,{submission:{...pt,formAction:_e},preventScrollReset:Ce||A,enableViewTransition:Y?C:void 0});else{let ct=Ef(Ie,ee);await ln(he,Ie,{overrideNavigation:ct,fetcherSubmission:de,preventScrollReset:Ce||A,enableViewTransition:Y?C:void 0})}}async function mr(D,B,Y,ee,de,Ce){let Ae,_e={};try{Ae=await US(f,D,B,Y,ee,Ce,o,i,de,m.unstable_middleware)}catch(Ie){return Y.forEach(he=>{_e[he.route.id]={type:"error",error:Ie}}),_e}for(let[Ie,he]of Object.entries(Ae))if(qS(he)){let Se=he.result;_e[Ie]={type:"redirect",response:zS(Se,B,Ie,ee,h)}}else _e[Ie]=await $S(he);return _e}async function ui(D,B,Y,ee,de){let Ce=mr("loader",ee,B,D,de,null),Ae=Promise.all(Y.map(async he=>{if(he.matches&&he.match&&he.controller){let be=(await mr("loader",oa(n.history,he.path,he.controller.signal),[he.match],he.matches,de,he.key))[he.match.route.id];return{[he.key]:be}}else return Promise.resolve({[he.key]:{type:"error",error:dr(404,{pathname:he.path})}})})),_e=await Ce,Ie=(await Ae).reduce((he,Se)=>Object.assign(he,Se),{});return{loaderResults:_e,fetcherResults:Ie}}function Dr(){x=!0,fe.forEach((D,B)=>{je.has(B)&&ut.add(B),Jt(B)})}function Cn(D,B,Y={}){L.fetchers.set(D,B),Fe({fetchers:new Map(L.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function ot(D,B,Y,ee={}){let de=ao(L.matches,B);jn(D),Fe({errors:{[de.route.id]:Y},fetchers:new Map(L.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Pt(D){return z.set(D,(z.get(D)||0)+1),Z.has(D)&&Z.delete(D),L.fetchers.get(D)||xS}function jn(D){let B=L.fetchers.get(D);je.has(D)&&!(B&&B.state==="loading"&&le.has(D))&&Jt(D),fe.delete(D),le.delete(D),Ee.delete(D),Z.delete(D),ut.delete(D),L.fetchers.delete(D)}function Fs(D){let B=(z.get(D)||0)-1;B<=0?(z.delete(D),Z.add(D)):z.set(D,B),Fe({fetchers:new Map(L.fetchers)})}function Jt(D){let B=je.get(D);B&&(B.abort(),je.delete(D))}function Or(D){for(let B of D){let Y=Pt(B),ee=ps(Y.data);L.fetchers.set(B,ee)}}function Lr(){let D=[],B=!1;for(let Y of Ee){let ee=L.fetchers.get(Y);Ge(ee,`Expected fetcher: ${Y}`),ee.state==="loading"&&(Ee.delete(Y),D.push(Y),B=!0)}return Or(D),B}function ji(D){let B=[];for(let[Y,ee]of le)if(ee<D){let de=L.fetchers.get(Y);Ge(de,`Expected fetcher: ${Y}`),de.state==="loading"&&(Jt(Y),le.delete(Y),B.push(Y))}return Or(B),B.length>0}function Us(D,B){let Y=L.blockers.get(D)||pl;return ve.get(D)!==B&&ve.set(D,B),Y}function $i(D){L.blockers.delete(D),ve.delete(D)}function Mr(D,B){let Y=L.blockers.get(D)||pl;Ge(Y.state==="unblocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="proceeding"||Y.state==="blocked"&&B.state==="unblocked"||Y.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${B.state}`);let ee=new Map(L.blockers);ee.set(D,B),Fe({blockers:ee})}function zi({currentLocation:D,nextLocation:B,historyAction:Y}){if(ve.size===0)return;ve.size>1&&on(!1,"A router only supports one blocker at a time");let ee=Array.from(ve.entries()),[de,Ce]=ee[ee.length-1],Ae=L.blockers.get(de);if(!(Ae&&Ae.state==="proceeding")&&Ce({currentLocation:D,nextLocation:B,historyAction:Y}))return de}function gr(D){let B=dr(404,{pathname:D}),Y=u||a,{matches:ee,route:de}=mv(Y);return{notFoundMatches:ee,route:de,error:B}}function Bi(D,B,Y){if(T=D,b=B,R=Y||null,!V&&L.navigation===wf){V=!0;let ee=$n(L.location,L.matches);ee!=null&&Fe({restoreScrollPosition:ee})}return()=>{T=null,b=null,R=null}}function ci(D,B){return R&&R(D,B.map(ee=>aS(ee,L.loaderData)))||D.key}function An(D,B){if(T&&b){let Y=ci(D,B);T[Y]=b()}}function $n(D,B){if(T){let Y=ci(D,B),ee=T[Y];if(typeof ee=="number")return ee}return null}function yr(D,B,Y){if(n.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Ec(B,Y,h,!0)}}else return{active:!0,matches:Ec(B,Y,h,!0)||[]};return{active:!1,matches:null}}async function En(D,B,Y,ee){if(!n.patchRoutesOnNavigation)return{type:"success",matches:D};let de=D;for(;;){let Ce=u==null,Ae=u||a,_e=o;try{await n.patchRoutesOnNavigation({signal:Y,path:B,matches:de,fetcherKey:ee,patch:(Se,be)=>{Y.aborted||lv(Se,be,Ae,_e,i)}})}catch(Se){return{type:"error",error:Se,partialMatches:de}}finally{Ce&&!Y.aborted&&(a=[...a])}if(Y.aborted)return{type:"aborted"};let Ie=ms(Ae,B,h);if(Ie)return{type:"success",matches:Ie};let he=Ec(Ae,B,h,!0);if(!he||de.length===he.length&&de.every((Se,be)=>Se.route.id===he[be].route.id))return{type:"success",matches:null};de=he}}function js(D){o={},u=Bc(D,i,void 0,o)}function di(D,B){let Y=u==null;lv(D,B,u||a,o,i),Y&&(a=[...a],Fe({}))}return X={get basename(){return h},get future(){return m},get state(){return L},get routes(){return a},get window(){return e},initialize:Be,subscribe:nt,enableScrollRestoration:Bi,navigate:Zn,fetch:Co,revalidate:Mi,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:Pt,deleteFetcher:Fs,dispose:tt,getBlocker:Us,deleteBlocker:$i,patchRoutes:di,_internalFetchControllers:je,_internalSetRoutes:js},X}function DS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Uf(n,e,t,i,o,a){let u,h;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){h=m;break}}else u=e,h=e[e.length-1];let f=Pp(i||".",kp(u),hr(n.pathname,t)||n.pathname,a==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&h){let m=bp(f.search);if(h.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let v=new URLSearchParams(f.search),w=v.getAll("index");v.delete("index"),w.filter(R=>R).forEach(R=>v.append("index",R));let T=v.toString();f.search=T?`?${T}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Xr([t,f.pathname])),Rs(f)}function iv(n,e,t){if(!t||!DS(t))return{path:e};if(t.formMethod&&!WS(t.formMethod))return{path:e,error:dr(405,{method:t.formMethod})};let i=()=>({path:e,error:dr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=x0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Pr(a))return i();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[R,b])=>`${T}${R}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Pr(a))return i();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=zf(t.formData),f=t.formData;else if(t.body instanceof FormData)h=zf(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=dv(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=dv(h)}catch{return i()}let m={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Pr(m.formMethod))return{path:e,submission:m};let v=Ds(e);return n&&v.search&&bp(v.search)&&h.append("index",""),v.search=`?${h}`,{path:Rs(v),submission:m}}function sv(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function ov(n,e,t,i,o,a,u,h,f,m,v,w,T,R){let b=R?Qn(R[1])?R[1].error:R[1].data:void 0,V=n.createURL(e.location),P=n.createURL(o),$=t;a&&e.errors?$=sv(t,Object.keys(e.errors)[0],!0):R&&Qn(R[1])&&($=sv(t,R[0]));let H=R?R[1].statusCode:void 0,K=H&&H>=400,X=$.filter((se,A)=>{let{route:S}=se;if(S.lazy)return!0;if(S.loader==null)return!1;if(a)return jf(S,e.loaderData,e.errors);if(OS(e.loaderData,e.matches[A],se))return!0;let C=e.matches[A],N=se;return av(se,{currentUrl:V,currentParams:C.params,nextUrl:P,nextParams:N.params,...i,actionResult:b,actionStatus:H,defaultShouldRevalidate:K?!1:u||V.pathname+V.search===P.pathname+P.search||V.search!==P.search||LS(C,N)})}),L=[];return m.forEach((se,A)=>{if(a||!t.some(j=>j.route.id===se.routeId)||f.has(A))return;let S=ms(w,se.path,T);if(!S){L.push({key:A,routeId:se.routeId,path:se.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(A),N=vl(S,se.path),M=!1;v.has(A)?M=!1:h.has(A)?(h.delete(A),M=!0):C&&C.state!=="idle"&&C.data===void 0?M=u:M=av(N,{currentUrl:V,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:t[t.length-1].params,...i,actionResult:b,actionStatus:H,defaultShouldRevalidate:K?!1:u}),M&&L.push({key:A,routeId:se.routeId,path:se.path,matches:S,match:N,controller:new AbortController})}),[X,L]}function jf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function OS(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function LS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function av(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function lv(n,e,t,i,o){let a;if(n){let f=i[n];Ge(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),a=f.children}else a=t;let u=e.filter(f=>!a.some(m=>k0(f,m))),h=Bc(u,o,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...h)}function k0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>k0(t,a))}):!1}async function MS(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Ge(o,"No route found in manifest");let a={};for(let u in i){let f=o[u]!==void 0&&u!=="hasErrorBoundary";on(!f,`Route "${o.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!sS.has(u)&&(a[u]=i[u])}Object.assign(o,a),Object.assign(o,{...e(o),lazy:void 0})}async function uv(n){let e=n.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,a)=>{t[e[a].route.id]=o}),t}async function VS(n){return n.matches.some(e=>e.route.unstable_middleware)?FS(n,!1,()=>uv(n),e=>({[e.routeId]:{type:"error",result:e.error}})):uv(n)}async function FS(n,e,t,i){let{matches:o,request:a,params:u,context:h}=n,f={handlerResult:void 0,propagateResult:e};try{let m=o.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(T=>[w.route.id,T]):[]),v=await P0({request:a,params:u,context:h},m,f,t);return f.propagateResult?v:f.handlerResult}catch(m){if(!(m instanceof $f))throw m;let v=await i(m);return f.handlerResult?Object.assign(f.handlerResult,v):v}}var $f=class{constructor(n,e){this.routeId=n,this.error=e}};async function P0(n,e,t,i,o=0){let{request:a}=n;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let u=e[o];if(!u)return t.handlerResult=await i(),t.handlerResult;let[h,f]=u,m=!1,v,w=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");m=!0;let T=await P0(n,e,t,i,o+1);if(t.propagateResult)return v=T,v};try{let T=await f({request:n.request,params:n.params,context:n.context},w);return m?T===void 0?v:T:w()}catch(T){throw T instanceof $f?T:new $f(h,T)}}async function US(n,e,t,i,o,a,u,h,f,m){let v=o.map(R=>R.route.lazy?MS(R.route,h,u):void 0);m&&await Promise.all(v);let w=o.map((R,b)=>{let V=v[b],P=i.some(H=>H.route.id===R.route.id);return{...R,shouldLoad:P,resolve:async H=>(H&&t.method==="GET"&&(R.route.lazy||R.route.loader)&&(P=!0),P?jS(e,t,R,V,H,f):Promise.resolve({type:"data",result:void 0}))}}),T=await n({matches:w,request:t,params:o[0].params,fetcherKey:a,context:f});try{await Promise.all(v)}catch{}return T}async function jS(n,e,t,i,o,a){let u,h,f=m=>{let v,w=new Promise((b,V)=>v=V);h=()=>v(),e.signal.addEventListener("abort",h);let T=b=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):m({request:e,params:t.params,context:a},...b!==void 0?[b]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(V=>T(V)):T())}}catch(b){return{type:"error",result:b}}})();return Promise.race([R,w])};try{let m=t.route[n];if(i)if(m){let v,[w]=await Promise.all([f(m).catch(T=>{v=T}),i]);if(v!==void 0)throw v;u=w}else if(await i,m=t.route[n],m)u=await f(m);else if(n==="action"){let v=new URL(e.url),w=v.pathname+v.search;throw dr(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0};else if(m)u=await f(m);else{let v=new URL(e.url),w=v.pathname+v.search;throw dr(404,{pathname:w})}}catch(m){return{type:"error",result:m}}finally{h&&e.signal.removeEventListener("abort",h)}return u}async function $S(n){var i,o,a,u,h,f;let{result:e,type:t}=n;if(b0(e)){let m;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new qc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return t==="error"?gv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qc(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:bl(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:bl(e)?e.status:void 0}:gv(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zS(n,e,t,i,o){let a=n.headers.get("Location");if(Ge(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!xp.test(a)){let u=i.slice(0,i.findIndex(h=>h.route.id===t)+1);a=Uf(new URL(e.url),u,o,a),n.headers.set("Location",a)}return n}function cv(n,e,t){if(xp.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=hr(o.pathname,t)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return n}function oa(n,e,t,i){let o=n.createURL(x0(e)).toString(),a={signal:t};if(i&&Pr(i.formMethod)){let{formMethod:u,formEncType:h}=i;a.method=u.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=zf(i.formData):a.body=i.formData}return new Request(o,a)}function zf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function dv(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function BS(n,e,t,i=!1,o=!1){let a={},u=null,h,f=!1,m={},v=t&&Qn(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,R=e[T];if(Ge(!lo(R),"Cannot handle redirect results in processLoaderData"),Qn(R)){let b=R.error;if(v!==void 0&&(b=v,v=void 0),u=u||{},o)u[T]=b;else{let V=ao(n,T);u[V.route.id]==null&&(u[V.route.id]=b)}i||(a[T]=A0),f||(f=!0,h=bl(R.error)?R.error.status:500),R.headers&&(m[T]=R.headers)}else a[T]=R.data,R.statusCode&&R.statusCode!==200&&!f&&(h=R.statusCode),R.headers&&(m[T]=R.headers)}),v!==void 0&&t&&(u={[t[0]]:v},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:h||200,loaderHeaders:m}}function hv(n,e,t,i,o,a){let{loaderData:u,errors:h}=BS(e,t,i);return o.forEach(f=>{let{key:m,match:v,controller:w}=f,T=a[m];if(Ge(T,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Qn(T)){let R=ao(n.matches,v==null?void 0:v.route.id);h&&h[R.route.id]||(h={...h,[R.route.id]:T.error}),n.fetchers.delete(m)}else if(lo(T))Ge(!1,"Unhandled fetcher revalidation redirect");else{let R=ps(T.data);n.fetchers.set(m,R)}}),{loaderData:u,errors:h}}function fv(n,e,t,i){let o=Object.entries(e).filter(([,a])=>a!==A0).reduce((a,[u,h])=>(a[u]=h,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(o[u]=n[u]),i&&i.hasOwnProperty(u))break}return o}function pv(n){return n?Qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ao(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function mv(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function dr(n,{pathname:e,routeId:t,method:i,type:o,message:a}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new qc(n||500,u,new Error(h),!0)}function dc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(lo(o))return{key:i,result:o}}}function x0(n){let e=typeof n=="string"?Ds(n):n;return Rs({...e,hash:""})}function HS(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function qS(n){return b0(n.result)&&kS.has(n.result.status)}function Qn(n){return n.type==="error"}function lo(n){return(n&&n.type)==="redirect"}function gv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function b0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function WS(n){return AS.has(n.toUpperCase())}function Pr(n){return RS.has(n.toUpperCase())}function bp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function vl(n,e){let t=typeof e=="string"?Ds(e).search:e.search;if(n[n.length-1].route.index&&bp(t||""))return n[n.length-1];let i=S0(n);return i[i.length-1]}function yv(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:a,json:u}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:u,text:void 0}}}function Ef(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function KS(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ml(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GS(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ps(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function QS(n,e){try{let t=n.sessionStorage.getItem(C0);if(t){let i=JSON.parse(t);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function YS(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(C0,JSON.stringify(t))}catch(i){on(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function XS(){let n,e,t=new Promise((i,o)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{o(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var wo=U.createContext(null);wo.displayName="DataRouter";var $l=U.createContext(null);$l.displayName="DataRouterState";var Np=U.createContext({isTransitioning:!1});Np.displayName="ViewTransition";var N0=U.createContext(new Map);N0.displayName="Fetchers";var JS=U.createContext(null);JS.displayName="Await";var ri=U.createContext(null);ri.displayName="Navigation";var md=U.createContext(null);md.displayName="Location";var ii=U.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Dp=U.createContext(null);Dp.displayName="RouteError";function ZS(n,{relative:e}={}){Ge(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(ri),{hash:o,pathname:a,search:u}=Bl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Xr([t,a])),i.createHref({pathname:h,search:u,hash:o})}function zl(){return U.useContext(md)!=null}function Eo(){return Ge(zl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(md).location}var D0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O0(n){U.useContext(ri).static||U.useLayoutEffect(n)}function gd(){let{isDataRoute:n}=U.useContext(ii);return n?pR():eR()}function eR(){Ge(zl(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(wo),{basename:e,navigator:t}=U.useContext(ri),{matches:i}=U.useContext(ii),{pathname:o}=Eo(),a=JSON.stringify(kp(i)),u=U.useRef(!1);return O0(()=>{u.current=!0}),U.useCallback((f,m={})=>{if(on(u.current,D0),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=Pp(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xr([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}var tR=U.createContext(null);function nR(n){let e=U.useContext(ii).outlet;return e&&U.createElement(tR.Provider,{value:n},e)}function Bl(n,{relative:e}={}){let{matches:t}=U.useContext(ii),{pathname:i}=Eo(),o=JSON.stringify(kp(t));return U.useMemo(()=>Pp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function rR(n,e,t,i){Ge(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=U.useContext(ri),{matches:u}=U.useContext(ii),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let H=w&&w.path||"";L0(m,!w||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=Eo(),R;R=T;let b=R.pathname||"/",V=b;if(v!=="/"){let H=v.replace(/^\//,"").split("/");V="/"+b.replace(/^\//,"").split("/").slice(H.length).join("/")}let P=!a&&t&&t.matches&&t.matches.length>0?t.matches:ms(n,{pathname:V});return on(w||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),on(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lR(P&&P.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Xr([v,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:Xr([v,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,t,i)}function iR(){let n=fR(),e=bl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,u)}var sR=U.createElement(iR,null),oR=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(ii.Provider,{value:this.props.routeContext},U.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aR({routeContext:n,match:e,children:t}){let i=U.useContext(wo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ii.Provider,{value:n},t)}function lR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ge(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:v,errors:w}=t,T=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,v)=>{let w,T=!1,R=null,b=null;t&&(w=a&&m.route.id?a[m.route.id]:void 0,R=m.route.errorElement||sR,u&&(h<0&&v===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,b=null):h===v&&(T=!0,b=m.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,v+1)),P=()=>{let $;return w?$=R:T?$=b:m.route.Component?$=U.createElement(m.route.Component,null):m.route.element?$=m.route.element:$=f,U.createElement(aR,{match:m,routeContext:{outlet:f,matches:V,isDataRoute:t!=null},children:$})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?U.createElement(oR,{location:t.location,revalidation:t.revalidation,component:R,error:w,children:P(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):P()},null)}function Op(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uR(n){let e=U.useContext(wo);return Ge(e,Op(n)),e}function cR(n){let e=U.useContext($l);return Ge(e,Op(n)),e}function dR(n){let e=U.useContext(ii);return Ge(e,Op(n)),e}function Lp(n){let e=dR(n),t=e.matches[e.matches.length-1];return Ge(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hR(){return Lp("useRouteId")}function fR(){var i;let n=U.useContext(Dp),e=cR("useRouteError"),t=Lp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function pR(){let{router:n}=uR("useNavigate"),e=Lp("useNavigate"),t=U.useRef(!1);return O0(()=>{t.current=!0}),U.useCallback(async(o,a={})=>{on(t.current,D0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var vv={};function L0(n,e,t){!e&&!vv[n]&&(vv[n]=!0,on(!1,t))}var _v={};function wv(n,e){!n&&!_v[e]&&(_v[e]=!0,console.warn(e))}function mR(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&on(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:U.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&on(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:U.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&on(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:U.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var gR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function yR({router:n,flushSync:e}){let[t,i]=U.useState(n.state),[o,a]=U.useState(),[u,h]=U.useState({isTransitioning:!1}),[f,m]=U.useState(),[v,w]=U.useState(),[T,R]=U.useState(),b=U.useRef(new Map),V=U.useCallback((K,{deletedFetchers:X,flushSync:L,viewTransitionOpts:se})=>{K.fetchers.forEach((S,C)=>{S.data!==void 0&&b.current.set(C,S.data)}),X.forEach(S=>b.current.delete(S)),wv(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(wv(se==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!se||!A){e&&L?e(()=>i(K)):U.startTransition(()=>i(K));return}if(e&&L){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:se.currentLocation,nextLocation:se.nextLocation})});let S=n.window.document.startViewTransition(()=>{e(()=>i(K))});S.finished.finally(()=>{e(()=>{m(void 0),w(void 0),a(void 0),h({isTransitioning:!1})})}),e(()=>w(S));return}v?(f&&f.resolve(),v.skipTransition(),R({state:K,currentLocation:se.currentLocation,nextLocation:se.nextLocation})):(a(K),h({isTransitioning:!0,flushSync:!1,currentLocation:se.currentLocation,nextLocation:se.nextLocation}))},[n.window,e,v,f]);U.useLayoutEffect(()=>n.subscribe(V),[n,V]),U.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new gR)},[u]),U.useEffect(()=>{if(f&&o&&n.window){let K=o,X=f.promise,L=n.window.document.startViewTransition(async()=>{U.startTransition(()=>i(K)),await X});L.finished.finally(()=>{m(void 0),w(void 0),a(void 0),h({isTransitioning:!1})}),w(L)}},[o,f,n.window]),U.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,v,t.location,o]),U.useEffect(()=>{!u.isTransitioning&&T&&(a(T.state),h({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),R(void 0))},[u.isTransitioning,T]);let P=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:K=>n.navigate(K),push:(K,X,L)=>n.navigate(K,{state:X,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(K,X,L)=>n.navigate(K,{replace:!0,state:X,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),$=n.basename||"/",H=U.useMemo(()=>({router:n,navigator:P,static:!1,basename:$}),[n,P,$]);return U.createElement(U.Fragment,null,U.createElement(wo.Provider,{value:H},U.createElement($l.Provider,{value:t},U.createElement(N0.Provider,{value:b.current},U.createElement(Np.Provider,{value:u},U.createElement(wR,{basename:$,location:t.location,navigationType:t.historyAction,navigator:P},U.createElement(vR,{routes:n.routes,future:n.future,state:t})))))),null)}var vR=U.memo(_R);function _R({routes:n,future:e,state:t}){return rR(n,void 0,t,e)}function Ev(n){return nR(n.context)}function wR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Ge(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Ds(t));let{pathname:f="/",search:m="",hash:v="",state:w=null,key:T="default"}=t,R=U.useMemo(()=>{let b=hr(f,u);return b==null?null:{location:{pathname:b,search:m,hash:v,state:w,key:T},navigationType:i}},[u,f,m,v,w,T,i]);return on(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:U.createElement(ri.Provider,{value:h},U.createElement(md.Provider,{children:e,value:R}))}var Tc="get",Ic="application/x-www-form-urlencoded";function yd(n){return n!=null&&typeof n.tagName=="string"}function ER(n){return yd(n)&&n.tagName.toLowerCase()==="button"}function TR(n){return yd(n)&&n.tagName.toLowerCase()==="form"}function IR(n){return yd(n)&&n.tagName.toLowerCase()==="input"}function SR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RR(n,e){return n.button===0&&(!e||e==="_self")&&!SR(n)}var hc=null;function CR(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var AR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(n){return n!=null&&!AR.has(n)?(on(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):n}function kR(n,e){let t,i,o,a,u;if(TR(n)){let h=n.getAttribute("action");i=h?hr(h,e):null,t=n.getAttribute("method")||Tc,o=Tf(n.getAttribute("enctype"))||Ic,a=new FormData(n)}else if(ER(n)||IR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?hr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Tc,o=Tf(n.getAttribute("formenctype"))||Tf(h.getAttribute("enctype"))||Ic,a=new FormData(h,n),!CR()){let{name:m,type:v,value:w}=n;if(v==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,w)}}else{if(yd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,i=null,o=Ic,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Mp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function PR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bR(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await PR(a,t);return u.links?u.links():[]}return[]}));return LR(i.flat(1).filter(xR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tv(n,e,t,i,o,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{var w;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function NR(n,e,{includeHydrateFallback:t}={}){return DR(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function DR(n){return[...new Set(n)]}function OR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function LR(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(OR(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function MR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&hr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function M0(){let n=U.useContext(wo);return Mp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function VR(){let n=U.useContext($l);return Mp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vp=U.createContext(void 0);Vp.displayName="FrameworkContext";function V0(){let n=U.useContext(Vp);return Mp(n,"You must render this element inside a <HydratedRouter> element"),n}function FR(n,e){let t=U.useContext(Vp),[i,o]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=e,T=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=$=>{$.forEach(H=>{u(H.isIntersecting)})},P=new IntersectionObserver(V,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[n]),U.useEffect(()=>{if(i){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[i]);let R=()=>{o(!0)},b=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:gl(h,R),onBlur:gl(f,b),onMouseEnter:gl(m,R),onMouseLeave:gl(v,b),onTouchStart:gl(w,R)}]:[!1,T,{}]}function gl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function UR({page:n,...e}){let{router:t}=M0(),i=U.useMemo(()=>ms(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement($R,{page:n,matches:i,...e}):null}function jR(n){let{manifest:e,routeModules:t}=V0(),[i,o]=U.useState([]);return U.useEffect(()=>{let a=!1;return bR(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function $R({page:n,matches:e,...t}){let i=Eo(),{manifest:o,routeModules:a}=V0(),{basename:u}=M0(),{loaderData:h,matches:f}=VR(),m=U.useMemo(()=>Tv(n,e,f,o,i,"data"),[n,e,f,o,i]),v=U.useMemo(()=>Tv(n,e,f,o,i,"assets"),[n,e,f,o,i]),w=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,V=!1;if(e.forEach($=>{var K;let H=o.routes[$.route.id];!H||!H.hasLoader||(!m.some(X=>X.route.id===$.route.id)&&$.route.id in h&&((K=a[$.route.id])!=null&&K.shouldRevalidate)||H.hasClientLoader?V=!0:b.add($.route.id))}),b.size===0)return[];let P=MR(n,u);return V&&b.size>0&&P.searchParams.set("_routes",e.filter($=>b.has($.route.id)).map($=>$.route.id).join(",")),[P.pathname+P.search]},[u,h,i,o,m,e,n,a]),T=U.useMemo(()=>NR(v,o),[v,o]),R=jR(v);return U.createElement(U.Fragment,null,w.map(b=>U.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),T.map(b=>U.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),R.map(({key:b,link:V})=>U.createElement("link",{key:b,...V})))}function zR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F0&&(window.__reactRouterVersion="7.3.0")}catch{}function BR(n,e){return NS({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:nS({window:e==null?void 0:e.window}),hydrationData:HR(),routes:n,mapRouteProperties:mR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function HR(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:qR(n.errors)}),n}function qR(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new qc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let u=new a(o.message);u.stack="",t[i]=u}catch{}}if(t[i]==null){let a=new Error(o.message);a.stack="",t[i]=a}}else t[i]=o;return t}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:w,...T},R){let{basename:b}=U.useContext(ri),V=typeof m=="string"&&U0.test(m),P,$=!1;if(typeof m=="string"&&V&&(P=m,F0))try{let C=new URL(window.location.href),N=m.startsWith("//")?new URL(C.protocol+m):new URL(m),M=hr(N.pathname,b);N.origin===C.origin&&M!=null?m=M+N.search+N.hash:$=!0}catch{on(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=ZS(m,{relative:o}),[K,X,L]=FR(i,T),se=QR(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:w});function A(C){e&&e(C),C.defaultPrevented||se(C)}let S=U.createElement("a",{...T,...L,href:P||H,onClick:$||a?e:A,ref:zR(R,X),target:f,"data-discover":!V&&t==="render"?"true":void 0});return K&&!V?U.createElement(U.Fragment,null,S,U.createElement(UR,{page:H})):S});Qr.displayName="Link";var WR=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...m},v){let w=Bl(u,{relative:m.relative}),T=Eo(),R=U.useContext($l),{navigator:b,basename:V}=U.useContext(ri),P=R!=null&&eC(w)&&h===!0,$=b.encodeLocation?b.encodeLocation(w).pathname:w.pathname,H=T.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(H=H.toLowerCase(),K=K?K.toLowerCase():null,$=$.toLowerCase()),K&&V&&(K=hr(K,V)||K);const X=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let L=H===$||!o&&H.startsWith($)&&H.charAt(X)==="/",se=K!=null&&(K===$||!o&&K.startsWith($)&&K.charAt($.length)==="/"),A={isActive:L,isPending:se,isTransitioning:P},S=L?e:void 0,C;typeof i=="function"?C=i(A):C=[i,L?"active":null,se?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(A):a;return U.createElement(Qr,{...m,"aria-current":S,className:C,ref:v,style:N,to:u,viewTransition:h},typeof f=="function"?f(A):f)});WR.displayName="NavLink";var KR=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=Tc,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:w,...T},R)=>{let b=JR(),V=ZR(h,{relative:m}),P=u.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&U0.test(h),H=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let X=K.nativeEvent.submitter,L=(X==null?void 0:X.getAttribute("formmethod"))||u;b(X||K.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:w})};return U.createElement("form",{ref:R,method:P,action:V,onSubmit:i?f:H,...T,"data-discover":!$&&n==="render"?"true":void 0})});KR.displayName="Form";function GR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(n){let e=U.useContext(wo);return Ge(e,GR(n)),e}function QR(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=gd(),f=Eo(),m=Bl(n,{relative:a});return U.useCallback(v=>{if(RR(v,e)){v.preventDefault();let w=t!==void 0?t:Rs(f)===Rs(m);h(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,t,i,e,n,o,a,u])}var YR=0,XR=()=>`__${String(++YR)}__`;function JR(){let{router:n}=j0("useSubmit"),{basename:e}=U.useContext(ri),t=hR();return U.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=kR(i,e);if(o.navigate===!1){let v=o.fetcherKey||XR();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function ZR(n,{relative:e}={}){let{basename:t}=U.useContext(ri),i=U.useContext(ii);Ge(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Bl(n||".",{relative:e})},u=Eo();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Xr([t,a.pathname])),Rs(a)}function eC(n,e={}){let t=U.useContext(Np);Ge(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=j0("useViewTransitionState"),o=Bl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=hr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=hr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Hc(o.pathname,u)!=null||Hc(o.pathname,a)!=null}new TextEncoder;var tC=w0();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nC(n){return U.createElement(yR,{flushSync:tC.flushSync,...n})}const $0=U.createContext(void 0),rC=({children:n})=>{const[e,t]=U.useState("dark");U.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;t(o?"dark":"light")},[]),U.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return te.jsx($0.Provider,{value:{theme:e,toggleTheme:i},children:n})},iC=()=>{const n=U.useContext($0);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},sC=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},oC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},B0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|m>>6,R=m&63;f||(R=64,u||(T=64)),i.push(t[v],t[w],t[T],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||w==null)throw new aC;const T=a<<2|h>>4;if(i.push(T),m!==64){const R=h<<4&240|m>>2;if(i.push(R),w!==64){const b=m<<6&192|w;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(n){const e=z0(n);return B0.encodeByteArray(e,!0)},Wc=function(n){return lC(n).replace(/\./g,"")},H0=function(n){try{return B0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof Iv>"u")return;const n=Iv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&H0(n[1]);return e&&JSON.parse(e)},vd=()=>{try{return sC()||cC()||dC()||hC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},q0=n=>{var e,t;return(t=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Fp=n=>{const e=q0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},W0=()=>{var n;return(n=vd())===null||n===void 0?void 0:n.config},K0=n=>{var e;return(e=vd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wc(JSON.stringify(t)),Wc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function mC(){var n;const e=(n=vd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _C(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y0(){try{return typeof indexedDB=="object"}catch{return!1}}function X0(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function wC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class Jn extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=EC,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?TC(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Jn(o,h,i)}}function TC(n,e){return n.replace(IC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const IC=/\{\$([^}]+)}/g;function SC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(Sv(a)&&Sv(u)){if(!Cs(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Sv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _l(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function wl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RC(n,e){const t=new CC(n,e);return t.subscribe.bind(t)}class CC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");AC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1e3,PC=2,xC=4*60*60*1e3,bC=.5;function Rv(n,e=kC,t=PC){const i=e*Math.pow(t,n),o=Math.round(bC*i*(Math.random()-.5)*2);return Math.min(xC,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class Xn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OC(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(n){return n===oo?void 0:n}function OC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const MC={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},VC=He.INFO,FC={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},UC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=FC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _d{constructor(e){this.name=e,this._logLevel=VC,this._logHandler=UC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const jC=(n,e)=>e.some(t=>n instanceof t);let Cv,Av;function $C(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zC(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J0=new WeakMap,Bf=new WeakMap,Z0=new WeakMap,Sf=new WeakMap,Up=new WeakMap;function BC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ts(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&J0.set(t,n)}).catch(()=>{}),Up.set(e,n),e}function HC(n){if(Bf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Bf.set(n,e)}let Hf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Z0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qC(n){Hf=n(Hf)}function WC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Rf(this),e,...t);return Z0.set(i,e.sort?e.sort():[e]),Ts(i)}:zC().includes(n)?function(...e){return n.apply(Rf(this),e),Ts(J0.get(this))}:function(...e){return Ts(n.apply(Rf(this),e))}}function KC(n){return typeof n=="function"?WC(n):(n instanceof IDBTransaction&&HC(n),jC(n,$C())?new Proxy(n,Hf):n)}function Ts(n){if(n instanceof IDBRequest)return BC(n);if(Sf.has(n))return Sf.get(n);const e=KC(n);return e!==n&&(Sf.set(n,e),Up.set(e,n)),e}const Rf=n=>Up.get(n);function ew(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Ts(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ts(u.result),f.oldVersion,f.newVersion,Ts(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const GC=["get","getKey","getAll","getAllKeys","count"],QC=["put","add","delete","clear"],Cf=new Map;function kv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=QC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||GC.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return Cf.set(e,a),a}qC(n=>({...n,get:(e,t,i)=>kv(e,t)||n.get(e,t,i),has:(e,t)=>!!kv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function XC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",Pv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new _d("@firebase/app"),JC="@firebase/app-compat",ZC="@firebase/analytics-compat",eA="@firebase/analytics",tA="@firebase/app-check-compat",nA="@firebase/app-check",rA="@firebase/auth",iA="@firebase/auth-compat",sA="@firebase/database",oA="@firebase/data-connect",aA="@firebase/database-compat",lA="@firebase/functions",uA="@firebase/functions-compat",cA="@firebase/installations",dA="@firebase/installations-compat",hA="@firebase/messaging",fA="@firebase/messaging-compat",pA="@firebase/performance",mA="@firebase/performance-compat",gA="@firebase/remote-config",yA="@firebase/remote-config-compat",vA="@firebase/storage",_A="@firebase/storage-compat",wA="@firebase/firestore",EA="@firebase/vertexai",TA="@firebase/firestore-compat",IA="firebase",SA="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",RA={[qf]:"fire-core",[JC]:"fire-core-compat",[eA]:"fire-analytics",[ZC]:"fire-analytics-compat",[nA]:"fire-app-check",[tA]:"fire-app-check-compat",[rA]:"fire-auth",[iA]:"fire-auth-compat",[sA]:"fire-rtdb",[oA]:"fire-data-connect",[aA]:"fire-rtdb-compat",[lA]:"fire-fn",[uA]:"fire-fn-compat",[cA]:"fire-iid",[dA]:"fire-iid-compat",[hA]:"fire-fcm",[fA]:"fire-fcm-compat",[pA]:"fire-perf",[mA]:"fire-perf-compat",[gA]:"fire-rc",[yA]:"fire-rc-compat",[vA]:"fire-gcs",[_A]:"fire-gcs-compat",[wA]:"fire-fst",[TA]:"fire-fst-compat",[EA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,CA=new Map,Kf=new Map;function xv(n,e){try{n.container.addComponent(e)}catch(t){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fr(n){const e=n.name;if(Kf.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,n);for(const t of Kc.values())xv(t,n);for(const t of CA.values())xv(t,n);return!0}function Li(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new To("app","Firebase",AA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=SA;function tw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Is.create("bad-app-name",{appName:String(o)});if(t||(t=W0()),!t)throw Is.create("no-options");const a=Kc.get(o);if(a){if(Cs(t,a.options)&&Cs(i,a.config))return a;throw Is.create("duplicate-app",{appName:o})}const u=new LC(o);for(const f of Kf.values())u.addComponent(f);const h=new kA(t,i,u);return Kc.set(o,h),h}function ql(n=Wf){const e=Kc.get(n);if(!e&&n===Wf&&W0())return tw();if(!e)throw Is.create("no-app",{appName:n});return e}function _n(n,e,t){var i;let o=(i=RA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(h.join(" "));return}fr(new Xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebase-heartbeat-database",xA=1,Nl="firebase-heartbeat-store";let Af=null;function nw(){return Af||(Af=ew(PA,xA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),Af}async function bA(n){try{const t=(await nw()).transaction(Nl),i=await t.objectStore(Nl).get(rw(n));return await t.done,i}catch(e){if(e instanceof Jn)bi.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(t.message)}}}async function bv(n,e){try{const i=(await nw()).transaction(Nl,"readwrite");await i.objectStore(Nl).put(e,rw(n)),await i.done}catch(t){if(t instanceof Jn)bi.warn(t.message);else{const i=Is.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bi.warn(i.message)}}}function rw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=1024,DA=30;class OA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Nv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>DA){const u=VA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Nv(),{heartbeatsToSend:i,unsentEntries:o}=LA(this._heartbeatsCache.heartbeats),a=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return bi.warn(t),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function LA(n,e=NA){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Dv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Dv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y0()?X0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Dv(n){return Wc(JSON.stringify({version:2,heartbeats:n})).length}function VA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){fr(new Xn("platform-logger",e=>new YC(e),"PRIVATE")),fr(new Xn("heartbeat",e=>new OA(e),"PRIVATE")),_n(qf,Pv,n),_n(qf,Pv,"esm2017"),_n("fire-js","")}FA("");var UA="firebase",jA="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(UA,jA,"app");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.D=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(N,M,j){for(var x=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)x[ut-2]=arguments[ut];return S.prototype[M].apply(N,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,C){C||(C=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],M=A.g[2];var j=A.g[3],x=S+(j^C&(M^j))+N[0]+3614090360&4294967295;S=C+(x<<7&4294967295|x>>>25),x=j+(M^S&(C^M))+N[1]+3905402710&4294967295,j=S+(x<<12&4294967295|x>>>20),x=M+(C^j&(S^C))+N[2]+606105819&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(S^M&(j^S))+N[3]+3250441966&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(j^C&(M^j))+N[4]+4118548399&4294967295,S=C+(x<<7&4294967295|x>>>25),x=j+(M^S&(C^M))+N[5]+1200080426&4294967295,j=S+(x<<12&4294967295|x>>>20),x=M+(C^j&(S^C))+N[6]+2821735955&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(S^M&(j^S))+N[7]+4249261313&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(j^C&(M^j))+N[8]+1770035416&4294967295,S=C+(x<<7&4294967295|x>>>25),x=j+(M^S&(C^M))+N[9]+2336552879&4294967295,j=S+(x<<12&4294967295|x>>>20),x=M+(C^j&(S^C))+N[10]+4294925233&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(S^M&(j^S))+N[11]+2304563134&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(j^C&(M^j))+N[12]+1804603682&4294967295,S=C+(x<<7&4294967295|x>>>25),x=j+(M^S&(C^M))+N[13]+4254626195&4294967295,j=S+(x<<12&4294967295|x>>>20),x=M+(C^j&(S^C))+N[14]+2792965006&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(S^M&(j^S))+N[15]+1236535329&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(M^j&(C^M))+N[1]+4129170786&4294967295,S=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(S^C))+N[6]+3225465664&4294967295,j=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(j^S))+N[11]+643717713&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^S&(M^j))+N[0]+3921069994&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(M^j&(C^M))+N[5]+3593408605&4294967295,S=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(S^C))+N[10]+38016083&4294967295,j=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(j^S))+N[15]+3634488961&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^S&(M^j))+N[4]+3889429448&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(M^j&(C^M))+N[9]+568446438&4294967295,S=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(S^C))+N[14]+3275163606&4294967295,j=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(j^S))+N[3]+4107603335&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^S&(M^j))+N[8]+1163531501&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(M^j&(C^M))+N[13]+2850285829&4294967295,S=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(S^C))+N[2]+4243563512&4294967295,j=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(j^S))+N[7]+1735328473&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^S&(M^j))+N[12]+2368359562&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(C^M^j)+N[5]+4294588738&4294967295,S=C+(x<<4&4294967295|x>>>28),x=j+(S^C^M)+N[8]+2272392833&4294967295,j=S+(x<<11&4294967295|x>>>21),x=M+(j^S^C)+N[11]+1839030562&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^S)+N[14]+4259657740&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(C^M^j)+N[1]+2763975236&4294967295,S=C+(x<<4&4294967295|x>>>28),x=j+(S^C^M)+N[4]+1272893353&4294967295,j=S+(x<<11&4294967295|x>>>21),x=M+(j^S^C)+N[7]+4139469664&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^S)+N[10]+3200236656&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(C^M^j)+N[13]+681279174&4294967295,S=C+(x<<4&4294967295|x>>>28),x=j+(S^C^M)+N[0]+3936430074&4294967295,j=S+(x<<11&4294967295|x>>>21),x=M+(j^S^C)+N[3]+3572445317&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^S)+N[6]+76029189&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(C^M^j)+N[9]+3654602809&4294967295,S=C+(x<<4&4294967295|x>>>28),x=j+(S^C^M)+N[12]+3873151461&4294967295,j=S+(x<<11&4294967295|x>>>21),x=M+(j^S^C)+N[15]+530742520&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^S)+N[2]+3299628645&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(M^(C|~j))+N[0]+4096336452&4294967295,S=C+(x<<6&4294967295|x>>>26),x=j+(C^(S|~M))+N[7]+1126891415&4294967295,j=S+(x<<10&4294967295|x>>>22),x=M+(S^(j|~C))+N[14]+2878612391&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~S))+N[5]+4237533241&4294967295,C=M+(x<<21&4294967295|x>>>11),x=S+(M^(C|~j))+N[12]+1700485571&4294967295,S=C+(x<<6&4294967295|x>>>26),x=j+(C^(S|~M))+N[3]+2399980690&4294967295,j=S+(x<<10&4294967295|x>>>22),x=M+(S^(j|~C))+N[10]+4293915773&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~S))+N[1]+2240044497&4294967295,C=M+(x<<21&4294967295|x>>>11),x=S+(M^(C|~j))+N[8]+1873313359&4294967295,S=C+(x<<6&4294967295|x>>>26),x=j+(C^(S|~M))+N[15]+4264355552&4294967295,j=S+(x<<10&4294967295|x>>>22),x=M+(S^(j|~C))+N[6]+2734768916&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~S))+N[13]+1309151649&4294967295,C=M+(x<<21&4294967295|x>>>11),x=S+(M^(C|~j))+N[4]+4149444226&4294967295,S=C+(x<<6&4294967295|x>>>26),x=j+(C^(S|~M))+N[11]+3174756917&4294967295,j=S+(x<<10&4294967295|x>>>22),x=M+(S^(j|~C))+N[2]+718787259&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~S))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+j&4294967295}i.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var C=S-this.blockSize,N=this.B,M=this.h,j=0;j<S;){if(M==0)for(;j<=C;)o(this,A,j),j+=this.blockSize;if(typeof A=="string"){for(;j<S;)if(N[M++]=A.charCodeAt(j++),M==this.blockSize){o(this,N),M=0;break}}else for(;j<S;)if(N[M++]=A[j++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=S},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var C=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=C&255,C/=256;for(this.u(A),A=Array(16),S=C=0;4>S;++S)for(var N=0;32>N;N+=8)A[C++]=this.g[S]>>>N&255;return A};function a(A,S){var C=h;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function u(A,S){this.h=S;for(var C=[],N=!0,M=A.length-1;0<=M;M--){var j=A[M]|0;N&&j==S||(C[M]=j,N=!1)}this.g=C}var h={};function f(A){return-128<=A&&128>A?a(A,function(S){return new u([S|0],0>S?-1:0)}):new u([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return w;if(0>A)return P(m(-A));for(var S=[],C=1,N=0;A>=C;N++)S[N]=A/C|0,C*=4294967296;return new u(S,0)}function v(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return P(v(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(S,8)),N=w,M=0;M<A.length;M+=8){var j=Math.min(8,A.length-M),x=parseInt(A.substring(M,M+j),S);8>j?(j=m(Math.pow(S,j)),N=N.j(j).add(m(x))):(N=N.j(C),N=N.add(m(x)))}return N}var w=f(0),T=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-P(this).m();for(var A=0,S=1,C=0;C<this.g.length;C++){var N=this.i(C);A+=(0<=N?N:4294967296+N)*S,S*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(V(this))return"-"+P(this).toString(A);for(var S=m(Math.pow(A,6)),C=this,N="";;){var M=X(C,S).g;C=$(C,M.j(S));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=M,b(C))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function V(A){return A.h==-1}n.l=function(A){return A=$(this,A),V(A)?-1:b(A)?0:1};function P(A){for(var S=A.g.length,C=[],N=0;N<S;N++)C[N]=~A.g[N];return new u(C,~A.h).add(T)}n.abs=function(){return V(this)?P(this):this},n.add=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],N=0,M=0;M<=S;M++){var j=N+(this.i(M)&65535)+(A.i(M)&65535),x=(j>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);N=x>>>16,j&=65535,x&=65535,C[M]=x<<16|j}return new u(C,C[C.length-1]&-2147483648?-1:0)};function $(A,S){return A.add(P(S))}n.j=function(A){if(b(this)||b(A))return w;if(V(this))return V(A)?P(this).j(P(A)):P(P(this).j(A));if(V(A))return P(this.j(P(A)));if(0>this.l(R)&&0>A.l(R))return m(this.m()*A.m());for(var S=this.g.length+A.g.length,C=[],N=0;N<2*S;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<A.g.length;M++){var j=this.i(N)>>>16,x=this.i(N)&65535,ut=A.i(M)>>>16,je=A.i(M)&65535;C[2*N+2*M]+=x*je,H(C,2*N+2*M),C[2*N+2*M+1]+=j*je,H(C,2*N+2*M+1),C[2*N+2*M+1]+=x*ut,H(C,2*N+2*M+1),C[2*N+2*M+2]+=j*ut,H(C,2*N+2*M+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new u(C,0)};function H(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function K(A,S){this.g=A,this.h=S}function X(A,S){if(b(S))throw Error("division by zero");if(b(A))return new K(w,w);if(V(A))return S=X(P(A),S),new K(P(S.g),P(S.h));if(V(S))return S=X(A,P(S)),new K(P(S.g),S.h);if(30<A.g.length){if(V(A)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var C=T,N=S;0>=N.l(A);)C=L(C),N=L(N);var M=se(C,1),j=se(N,1);for(N=se(N,2),C=se(C,2);!b(N);){var x=j.add(N);0>=x.l(A)&&(M=M.add(C),j=x),N=se(N,1),C=se(C,1)}return S=$(A,M.j(S)),new K(M,S)}for(M=w;0<=A.l(S);){for(C=Math.max(1,Math.floor(A.m()/S.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=m(C),x=j.j(S);V(x)||0<x.l(A);)C-=N,j=m(C),x=j.j(S);b(j)&&(j=T),M=M.add(j),A=$(A,x)}return new K(M,A)}n.A=function(A){return X(this,A).h},n.and=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)&A.i(N);return new u(C,this.h&A.h)},n.or=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)|A.i(N);return new u(C,this.h|A.h)},n.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],N=0;N<S;N++)C[N]=this.i(N)^A.i(N);return new u(C,this.h^A.h)};function L(A){for(var S=A.g.length+1,C=[],N=0;N<S;N++)C[N]=A.i(N)<<1|A.i(N-1)>>>31;return new u(C,A.h)}function se(A,S){var C=S>>5;S%=32;for(var N=A.g.length-C,M=[],j=0;j<N;j++)M[j]=0<S?A.i(j+C)>>>S|A.i(j+C+1)<<32-S:A.i(j+C);return new u(M,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ss=u}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sw,El,ow,Sc,Gf,aw,lw,uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var I=0;I<c.length-1;I++){var q=c[I];if(!(q in _))break e;_=_[q]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,q={next:function(){if(!I&&_<c.length){var J=_++;return{value:g(J,c[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function R(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function b(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,q,J){for(var ce=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ce[lt-2]=arguments[lt];return g.prototype[q].apply(I,ce)}}function V(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function P(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const q=c.length||0,J=I.length||0;c.length=q+J;for(let ce=0;ce<J;ce++)c[q+ce]=I[ce]}else c.push(I)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var L=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function se(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function A(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(_ in I)c[_]=I[_];for(let J=0;J<C.length;J++)_=C[J],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){h.setTimeout(()=>{throw c},0)}function x(){var c=Ee;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ut{constructor(){this.h=this.g=null}add(g,_){const I=je.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var je=new $(()=>new Et,c=>c.reset());class Et{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,le=!1,Ee=new ut,fe=()=>{const c=h.Promise.resolve(void 0);$e=()=>{c.then(z)}};var z=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){j(_)}var g=je;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}le=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function Oe(c,g){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(L){e:{try{X(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}b(Oe,ve);var Be={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function Fe(c,g,_,I,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=q,this.key=++nt,this.da=this.fa=!1}function vt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zn(c){this.src=c,this.g={},this.h=0}Zn.prototype.add=function(c,g,_,I,q){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var ce=ln(c,g,I,q);return-1<ce?(g=c[ce],_||(g.fa=!1)):(g=new Fe(g,this.src,J,!!I,q),g.fa=_,c.push(g)),g};function Mi(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],q=Array.prototype.indexOf.call(I,g,void 0),J;(J=0<=q)&&Array.prototype.splice.call(I,q,1),J&&(vt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ln(c,g,_,I){for(var q=0;q<c.length;++q){var J=c[q];if(!J.da&&J.listener==g&&J.capture==!!_&&J.ha==I)return q}return-1}var li="closure_lm_"+(1e6*Math.random()|0),Vi={};function Fi(c,g,_,I,q){if(Array.isArray(g)){for(var J=0;J<g.length;J++)Fi(c,g[J],_,I,q);return null}return _=Cn(_),c&&c[tt]?c.K(g,_,m(I)?!!I.capture:!1,q):Vs(c,g,_,!1,I,q)}function Vs(c,g,_,I,q,J){if(!g)throw Error("Invalid event type");var ce=m(q)?!!q.capture:!!q,lt=ui(c);if(lt||(c[li]=lt=new Zn(c)),_=lt.add(g,_,I,ce,J),_.proxy)return _;if(I=Co(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Le||(q=ce),q===void 0&&(q=!1),c.addEventListener(g.toString(),I,q);else if(c.attachEvent)c.attachEvent(Xt(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Co(){function c(_){return g.call(c.src,c.listener,_)}const g=mr;return c}function Ui(c,g,_,I,q){if(Array.isArray(g))for(var J=0;J<g.length;J++)Ui(c,g[J],_,I,q);else I=m(I)?!!I.capture:!!I,_=Cn(_),c&&c[tt]?(c=c.i,g=String(g).toString(),g in c.g&&(J=c.g[g],_=ln(J,_,I,q),-1<_&&(vt(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete c.g[g],c.h--)))):c&&(c=ui(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ln(g,_,I,q)),(_=-1<c?g[c]:null)&&pr(_))}function pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[tt])Mi(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Xt(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=ui(g))?(Mi(_,c),_.h==0&&(_.src=null,g[li]=null)):vt(c)}}}function Xt(c){return c in Vi?Vi[c]:Vi[c]="on"+c}function mr(c,g){if(c.da)c=!0;else{g=new Oe(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&pr(c),c=_.call(I,g)}return c}function ui(c){return c=c[li],c instanceof Zn?c:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(c){return typeof c=="function"?c:(c[Dr]||(c[Dr]=function(g){return c.handleEvent(g)}),c[Dr])}function ot(){Z.call(this),this.i=new Zn(this),this.M=this,this.F=null}b(ot,Z),ot.prototype[tt]=!0,ot.prototype.removeEventListener=function(c,g,_,I){Ui(this,c,g,_,I)};function Pt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ve(g,c);else if(g instanceof ve)g.target=g.target||c;else{var q=g;g=new ve(I,c),N(g,q)}if(q=!0,_)for(var J=_.length-1;0<=J;J--){var ce=g.g=_[J];q=jn(ce,I,!0,g)&&q}if(ce=g.g=c,q=jn(ce,I,!0,g)&&q,q=jn(ce,I,!1,g)&&q,_)for(J=0;J<_.length;J++)ce=g.g=_[J],q=jn(ce,I,!1,g)&&q}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)vt(_[I]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},ot.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function jn(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,J=0;J<g.length;++J){var ce=g[J];if(ce&&!ce.da&&ce.capture==_){var lt=ce.listener,jt=ce.ha||ce.src;ce.fa&&Mi(c.i,ce),q=lt.call(jt,I)!==!1&&q}}return q&&!I.defaultPrevented}function Fs(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function Jt(c){c.g=Fs(()=>{c.g=null,c.i&&(c.i=!1,Jt(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Or extends Z{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(c){Z.call(this),this.h=c,this.g={}}b(Lr,Z);var ji=[];function Us(c){se(c.g,function(g,_){this.g.hasOwnProperty(_)&&pr(g)},c),c.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Us(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=h.JSON.stringify,Mr=h.JSON.parse,zi=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function gr(){}gr.prototype.h=null;function Bi(c){return c.h||(c.h=c.i())}function ci(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){ve.call(this,"d")}b($n,ve);function yr(){ve.call(this,"c")}b(yr,ve);var En={},js=null;function di(){return js=js||new ot}En.La="serverreachability";function D(c){ve.call(this,En.La,c)}b(D,ve);function B(c){const g=di();Pt(g,new D(g))}En.STAT_EVENT="statevent";function Y(c,g){ve.call(this,En.STAT_EVENT,c),this.stat=g}b(Y,ve);function ee(c){const g=di();Pt(g,new Y(g,c))}En.Ma="timingevent";function de(c,g){ve.call(this,En.Ma,c),this.size=g}b(de,ve);function Ce(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function _e(c,g,_,I,q,J){c.info(function(){if(c.g)if(J)for(var ce="",lt=J.split("&"),jt=0;jt<lt.length;jt++){var Xe=lt[jt].split("=");if(1<Xe.length){var Ht=Xe[0];Xe=Xe[1];var Mt=Ht.split("_");ce=2<=Mt.length&&Mt[1]=="type"?ce+(Ht+"="+Xe+"&"):ce+(Ht+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+g+`
`+_+`
`+ce})}function Ie(c,g,_,I,q,J,ce){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+g+`
`+_+`
`+J+" "+ce})}function he(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+be(c,_)+(I?" "+I:"")})}function Se(c,g){c.info(function(){return"TIMEOUT: "+g})}Ae.prototype.info=function(){};function be(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return $i(_)}catch{return g}}var Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ct;function dt(){}b(dt,gr),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},ct=new dt;function Qe(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var er={},tr={};function un(c,g,_){c.L=1,c.v=Gi(zn(g)),c.m=_,c.P=!0,cn(c,null)}function cn(c,g){c.F=Date.now(),Ye(c),c.A=zn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Yi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Tt,c.g=mu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Or(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ji[0]=q.toString()),q=ji);for(var J=0;J<q.length;J++){var ce=Fi(_,q[J],I||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),B(),_e(c.i,c.u,c.A,c.l,c.R,c.m)}Qe.prototype.ca=function(c){c=c.target;const g=this.M;g&&Pn(c)==3?g.j():this.Y(c)},Qe.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=Pn(this.g);var g=this.g.Ba();const ir=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Ua(this.g)))){this.J||Mt!=4||g==7||(g==8||0>=ir?B(3):B(2)),nr(this);var _=this.g.Z();this.X=_;t:if(Hi(this)){var I=Ua(this.g);c="";var q=I.length,J=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){at(this),We(this);var ce="";break t}this.h.i=new h.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(J&&g==q-1)});I.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Ie(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,jt=this.g;if((lt=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(lt)){var Xe=lt;break t}}Xe=null}if(_=Xe)he(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vr(this,_);else{this.o=!1,this.s=3,ee(12),at(this),We(this);break e}}if(this.P){_=!0;let Hn;for(;!this.J&&this.C<ce.length;)if(Hn=hi(this,ce),Hn==tr){Mt==4&&(this.s=4,ee(14),_=!1),he(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==er){this.s=4,ee(15),he(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else he(this.i,this.l,Hn,null),Vr(this,Hn);if(Hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ce.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)he(this.i,this.l,ce,"[Invalid Chunked Response]"),at(this),We(this);else if(0<ce.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),$a(Ht),Ht.M=!0,ee(11))}}else he(this.i,this.l,ce,null),Vr(this,ce);Mt==4&&at(this),this.o&&!this.J&&(Mt==4?Vo(this.j,this):(this.o=!1,Ye(this)))}else No(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),at(this),We(this)}}}catch{}finally{}};function Hi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hi(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?tr:(_=Number(g.substring(_,I)),isNaN(_)?er:(I+=1,I+_>g.length?tr:(g=g.slice(I,I+_),c.C=I+_,g)))}Qe.prototype.cancel=function(){this.J=!0,at(this)};function Ye(c){c.S=Date.now()+c.I,fi(c,c.I)}function fi(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ce(T(c.ba,c),g)}function nr(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Qe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Se(this.i,this.A),this.L!=2&&(B(),ee(17)),at(this),this.s=2,We(this)):fi(this,this.S-c)};function We(c){c.j.G==0||c.J||Vo(c.j,c)}function at(c){nr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Us(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Vr(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Zt(_.h,c))){if(!c.K&&Zt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Mo(_),Tr(_);else break e;Lo(_),ee(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ce(T(_.Za,_),6e3));if(1>=$s(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vi(_,11)}else if((c.K||_.g==c)&&Mo(_),!H(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let Xe=q[g];if(_.T=Xe[0],Xe=Xe[1],_.G==2)if(Xe[0]=="c"){_.K=Xe[1],_.ia=Xe[2];const Ht=Xe[3];Ht!=null&&(_.la=Ht,_.j.info("VER="+_.la));const Mt=Xe[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const ir=Xe[5];ir!=null&&typeof ir=="number"&&0<ir&&(I=1.5*ir,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const Hn=c.g;if(Hn){const Ks=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var J=I.h;J.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(La(J,J.h),J.h=null))}if(I.D){const Uo=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(I.ya=Uo,mt(I.I,I.D,Uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ce=c;if(I.qa=pu(I,I.J?I.ia:null,I.W),ce.K){nu(I.h,ce);var lt=ce,jt=I.L;jt&&(lt.I=jt),lt.B&&(nr(lt),Ye(lt)),I.g=ce}else Ws(I);0<_.i.length&&zr(_)}else Xe[0]!="stop"&&Xe[0]!="close"||vi(_,7);else _.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?vi(_,7):tn(_):Xe[0]!="noop"&&_.l&&_.l.ta(Xe),_.v=0)}}B(4)}catch{}}var Fr=class{constructor(c,g){this.g=c,this.map=g}};function ht(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lt(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $s(c){return c.h?1:c.g?c.g.size:0}function Zt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function La(c,g){c.g?c.g.add(g):c.h=g}function nu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ht.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ru(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return V(c.i)}function Ao(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function ko(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function qi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ko(c),I=Ao(c),q=I.length,J=0;J<q;J++)g.call(void 0,I[J],_&&_[J],c)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),q=null;if(0<=I){var J=c[_].substring(0,I);q=c[_].substring(I+1)}else J=c[_];g(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pi){this.h=c.h,Bs(this,c.j),this.o=c.o,this.g=c.g,Wi(this,c.s),this.l=c.l;var g=c.i,_=new Ur;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ki(this,_),this.m=c.m}else c&&(g=String(c).match(zs))?(this.h=!1,Bs(this,g[1]||"",!0),this.o=Ke(g[2]||""),this.g=Ke(g[3]||"",!0),Wi(this,g[4]),this.l=Ke(g[5]||"",!0),Ki(this,g[6]||"",!0),this.m=Ke(g[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}pi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Qi(g,Po,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Qi(g,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Qi(_,_.charAt(0)=="/"?ou:su,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Qi(_,Ma)),c.join("")};function zn(c){return new pi(c)}function Bs(c,g,_){c.j=_?Ke(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ki(c,g,_){g instanceof Ur?(c.i=g,jr(c.i,c.h)):(_||(g=Qi(g,au)),c.i=new Ur(g,c.h))}function mt(c,g,_){c.i.set(g,_)}function Gi(c){return mt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ke(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,su=/[#\?:]/g,ou=/[#\?]/g,au=/[#\?@]/g,Ma=/#/g;function Ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function en(c){c.g||(c.g=new Map,c.h=0,c.i&&zd(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Ur.prototype,n.add=function(c,g){en(this),this.i=null,c=rr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function vr(c,g){en(c),g=rr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function _r(c,g){return en(c),g=rr(c,g),c.g.has(g)}n.forEach=function(c,g){en(this),this.g.forEach(function(_,I){_.forEach(function(q){c.call(g,q,I,this)},this)},this)},n.na=function(){en(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const q=c[I];for(let J=0;J<q.length;J++)_.push(g[I])}return _},n.V=function(c){en(this);let g=[];if(typeof c=="string")_r(this,c)&&(g=g.concat(this.g.get(rr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return en(this),this.i=null,c=rr(this,c),_r(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Yi(c,g,_){vr(c,g),0<_.length&&(c.i=null,c.g.set(rr(c,g),V(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const J=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var q=J;ce[I]!==""&&(q+="="+encodeURIComponent(String(ce[I]))),c.push(q)}}return this.i=c.join("&")};function rr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function jr(c,g){g&&!c.j&&(en(c),c.i=null,c.g.forEach(function(_,I){var q=I.toLowerCase();I!=q&&(vr(this,I),Yi(this,q,_))},c)),c.j=g}function Bd(c,g){const _=new Ae;if(h.Image){const I=new Image;I.onload=R(kn,_,"TestLoadImage: loaded",!0,g,I),I.onerror=R(kn,_,"TestLoadImage: error",!1,g,I),I.onabort=R(kn,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=R(kn,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function lu(c,g){const _=new Ae,I=new AbortController,q=setTimeout(()=>{I.abort(),kn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(J=>{clearTimeout(q),J.ok?kn(_,"TestPingServer: ok",!0,g):kn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),kn(_,"TestPingServer: error",!1,g)})}function kn(c,g,_,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(_)}catch{}}function Hd(){this.g=new zi}function uu(c,g,_){const I=_||"";try{qi(c,function(q,J){let ce=q;m(q)&&(ce=$i(q)),g.push(I+J+"="+encodeURIComponent(ce))})}catch(q){throw g.push(I+"type="+encodeURIComponent("_badmap")),q}}function mi(c){this.l=c.Ub||null,this.j=c.eb||!1}b(mi,gr),mi.prototype.g=function(){return new Hs(this.l,this.j)},mi.prototype.i=function(c){return function(){return c}}({});function Hs(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Hs,ot),n=Hs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Er(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wr(this):Er(this),this.readyState==3&&cu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,wr(this))},n.Qa=function(c){this.g&&(this.response=c,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gi(c){let g="";return se(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Xi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=gi(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):mt(c,g,_))}function It(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(It,ot);var qd=/^https?$/i,Va=["POST","PUT"];n=It.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ct.g(),this.v=this.o?Bi(this.o):Bi(ct),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(J){qs(this,J);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)_.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())_.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Va,g,void 0))||I||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of _)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){qs(this,J)}};function qs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,xo(c),Bn(c)}function xo(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),It.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Fs(c.Ea,0,c);else if(Pt(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=ce===0){var q=String(c.D).match(zs)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),I=!qd.test(q?q.toLowerCase():"")}_=I}if(_)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var J=2<Pn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",xo(c)}}finally{Bn(c)}}}}function Bn(c,g){if(c.g){bo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Pt(c,"ready");try{_.onreadystatechange=I}catch{}}}function bo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Mr(g)}};function Ua(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function No(c){const g={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(H(c[I]))continue;var _=M(c[I]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=g[q]||[];g[q]=J,J.push(_)}A(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ja(c){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,c),this.cb=$r("retryDelaySeedMs",1e4,c),this.Wa=$r("forwardChannelMaxRetries",2,c),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ht(c&&c.concurrentRequestLimit),this.Da=new Hd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ja.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){ee(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=pu(this,null,this.W),zr(this)};function tn(c){if(Do(c),c.G==3){var g=c.U++,_=zn(c.I);if(mt(_,"SID",c.K),mt(_,"RID",g),mt(_,"TYPE","terminate"),yi(c,_),g=new Qe(c,c.j,g),g.L=2,g.v=Gi(zn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ye(g)}fu(c)}function Tr(c){c.g&&($a(c),c.g.cancel(),c.g=null)}function Do(c){Tr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Mo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function zr(c){if(!Lt(c.h)&&!c.s){c.s=!0;var g=c.Ga;$e||fe(),le||($e(),le=!0),Ee.add(g,c),c.B=0}}function Wd(c,g){return $s(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ce(T(c.Ga,c,g),hu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Qe(this,this.j,c);let J=this.o;if(this.S&&(J?(J=S(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ji(this,q,g),_=zn(this.I),mt(_,"RID",c),mt(_,"CVER",22),this.D&&mt(_,"X-HTTP-Session-Id",this.D),yi(this,_),J&&(this.O?g="headers="+encodeURIComponent(String(gi(J)))+"&"+g:this.m&&Xi(_,this.m,J)),La(this.h,q),this.Ua&&mt(_,"TYPE","init"),this.P?(mt(_,"$req",g),mt(_,"SID","null"),q.T=!0,un(q,_,null)):un(q,_,g),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||Lt(this.h)||Oo(this))};function Oo(c,g){var _;g?_=g.l:_=c.U++;const I=zn(c.I);mt(I,"SID",c.K),mt(I,"RID",_),mt(I,"AID",c.T),yi(c,I),c.m&&c.o&&Xi(I,c.m,c.o),_=new Qe(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ji(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),La(c.h,_),un(_,I,g)}function yi(c,g){c.H&&se(c.H,function(_,I){mt(g,I,_)}),c.l&&qi({},function(_,I){mt(g,I,_)})}function Ji(c,g,_){_=Math.min(c.i.length,_);var I=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let J=-1;for(;;){const ce=["count="+_];J==-1?0<_?(J=q[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let lt=!0;for(let jt=0;jt<_;jt++){let Xe=q[jt].g;const Ht=q[jt].map;if(Xe-=J,0>Xe)J=Math.max(0,q[jt].g-100),lt=!1;else try{uu(Ht,ce,"req"+Xe+"_")}catch{I&&I(Ht)}}if(lt){I=ce.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function Ws(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;$e||fe(),le||($e(),le=!0),Ee.add(g,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ce(T(c.Fa,c),hu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ce(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Tr(this),du(this))};function $a(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function du(c){c.g=new Qe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=zn(c.qa);mt(g,"RID","rpc"),mt(g,"SID",c.K),mt(g,"AID",c.T),mt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&mt(g,"TO",c.ja),mt(g,"TYPE","xmlhttp"),yi(c,g),c.m&&c.o&&Xi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Gi(zn(g)),_.m=null,_.P=!0,cn(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),Lo(this),ee(19))};function Mo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Vo(c,g){var _=null;if(c.g==g){Mo(c),$a(c),c.g=null;var I=2}else if(Zt(c.h,g))_=g.D,nu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;I=di(),Pt(I,new de(I,_)),zr(c)}else Ws(c);else if(q=g.s,q==3||q==0&&0<g.X||!(I==1&&Wd(c,g)||I==2&&Lo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function hu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function vi(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),I=c.Xa;const q=!I;I=new pi(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bs(I,"https"),Gi(I),q?Bd(I.toString(),_):lu(I.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(g),fu(c),Do(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function fu(c){if(c.G=0,c.ka=[],c.l){const g=ru(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function pu(c,g,_){var I=_ instanceof pi?zn(_):new pi(_);if(I.g!="")g&&(I.g=g+"."+I.g),Wi(I,I.s);else{var q=h.location;I=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var J=new pi(null);I&&Bs(J,I),g&&(J.g=g),q&&Wi(J,q),_&&(J.l=_),I=J}return _=c.D,g=c.ya,_&&g&&mt(I,_,g),mt(I,"VER",c.la),yi(c,I),I}function mu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new It(new mi({eb:_})):new It(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function za(){}n=za.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(c,g){return new Tn(c,g)};function Tn(c,g){ot.call(this),this.g=new ja(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!H(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!H(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Br(this)}b(Tn,ot),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){tn(this.g)},Tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=$i(c),c=_);g.i.push(new Fr(g.Ya++,c)),g.G==3&&zr(g)},Tn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,Tn.aa.N.call(this)};function gu(c){$n.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(gu,$n);function yu(){yr.call(this),this.status=1}b(yu,yr);function Br(c){this.g=c}b(Br,za),Br.prototype.ua=function(){Pt(this.g,"a")},Br.prototype.ta=function(c){Pt(this.g,new gu(c))},Br.prototype.sa=function(c){Pt(this.g,new yu)},Br.prototype.ra=function(){Pt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,uw=function(){return new Fo},lw=function(){return di()},aw=En,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,Sc=Ue,pt.COMPLETE="complete",ow=pt,ci.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",ot.prototype.listen=ot.prototype.K,El=ci,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,sw=It}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const Lv="@firebase/firestore",Mv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new _d("@firebase/firestore");function aa(){return po.logLevel}function me(n,...e){if(po.logLevel<=He.DEBUG){const t=e.map(jp);po.debug(`Firestore (${xa}): ${n}`,...t)}}function Ni(n,...e){if(po.logLevel<=He.ERROR){const t=e.map(jp);po.error(`Firestore (${xa}): ${n}`,...t)}}function wa(n,...e){if(po.logLevel<=He.WARN){const t=e.map(jp);po.warn(`Firestore (${xa}): ${n}`,...t)}}function jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+n;throw Ni(e),new Error(e)}function kt(n,e){n||Ve()}function et(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class zA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ha,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ha)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt(typeof i.accessToken=="string"),new cw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new gn(e)}}class HA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new HA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0);const i=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Vv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string"),this.R=t.token,new Vv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=KA(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Ze(n,e){return n<e?-1:n>e?1:0}function Ea(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=-62135596800,Uv=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Uv);return new Qt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fv)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Qt(0,0))}static max(){return new Me(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__name__";class Gr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ve(),i===void 0?i=e.length-t:i>e.length-t&&Ve(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Gr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Gr.isNumericId(e),o=Gr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Gr.extractNumericId(e).compare(Gr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class Rt extends Gr{construct(e,t,i){return new Rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Rt(t)}static emptyPath(){return new Rt([])}}const QA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Gr{construct(e,t,i){return new vn(e,t,i)}static isValidIdentifier(e){return QA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new vn([jv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Rt.fromString(e))}static fromName(e){return new xe(Rt.fromString(e).popFirst(5))}static empty(){return new xe(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function YA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(i===1e9?new Qt(t+1,0):new Qt(t,i));return new As(o,xe.empty(),e)}function XA(n){return new As(n.readTime,n.key,Dl)}class As{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new As(Me.min(),xe.empty(),Dl)}static max(){return new As(Me.max(),xe.empty(),Dl)}}function JA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ek{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==ZA)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(o=>o?ne.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++h,h===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new ne((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function tk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ba(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ed.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=-1;function Td(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function rk(n){return typeof n=="number"&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="";function ik(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$v(e)),e=sk(n.get(t),e);return $v(e)}function sk(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case dw:t+="";break;default:t+=a}}return t}function $v(n){return n+dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Na(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??sn.RED,this.left=o??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new sn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,t,i,o,a){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(e){return new Bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class Bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ws([])}unionWith(e){let t=new Bt(vn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fw("Invalid base64 string: "+a):a}}(e);return new an(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(kt(!!n),typeof n=="string"){let e=0;const t=ok.exec(n);if(kt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="server_timestamp",mw="__type__",gw="__previous_value__",yw="__local_write_time__";function Id(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mw])===null||t===void 0?void 0:t.stringValue)===pw}function Sd(n){const e=n.mapValue.fields[gw];return Id(e)?Sd(e):e}function Ol(n){const e=ks(n.mapValue.fields[yw].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,i,o,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const Qc="(default)";class Ll{constructor(e,t){this.projectId=e,this.database=t||Qc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__type__",lk="__max__",mc={mapValue:{}},_w="__vector__",Yc="value";function xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Id(n)?4:ck(n)?9007199254740991:uk(n)?10:11:Ve()}function ti(n,e){if(n===e)return!0;const t=xs(n);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ks(o.timestampValue),h=ks(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ps(o.bytesValue).isEqual(Ps(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Nt(o.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Nt(o.integerValue)===Nt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Nt(o.doubleValue),h=Nt(a.doubleValue);return u===h?Gc(u)===Gc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ea(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(zv(u)!==zv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!ti(u[f],h[f])))return!1;return!0}(n,e);default:return Ve()}}function Ml(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function Ta(n,e){if(n===e)return 0;const t=xs(n),i=xs(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Nt(a.integerValue||a.doubleValue),f=Nt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return Hv(n.timestampValue,e.timestampValue);case 4:return Hv(Ol(n),Ol(e));case 5:return Ze(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Ps(a),f=Ps(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=Ze(h[m],f[m]);if(v!==0)return v}return Ze(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ze(Nt(a.latitude),Nt(u.latitude));return h!==0?h:Ze(Nt(a.longitude),Nt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,v;const w=a.fields||{},T=u.fields||{},R=(h=w[Yc])===null||h===void 0?void 0:h.arrayValue,b=(f=T[Yc])===null||f===void 0?void 0:f.arrayValue,V=Ze(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:qv(R,b)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===mc.mapValue&&u===mc.mapValue)return 0;if(a===mc.mapValue)return 1;if(u===mc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=Ze(f[w],v[w]);if(T!==0)return T;const R=Ta(h[f[w]],m[v[w]]);if(R!==0)return R}return Ze(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ve()}}function Hv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=ks(n),i=ks(e),o=Ze(t.seconds,i.seconds);return o!==0?o:Ze(t.nanos,i.nanos)}function qv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Ta(t[o],i[o]);if(a)return a}return Ze(t.length,i.length)}function Ia(n){return Qf(n)}function Qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ks(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Qf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Qf(t.fields[u])}`;return o+"}"}(n.mapValue):Ve()}function Rc(n){switch(xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(n);return e?16+Rc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Rc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Na(i.fields,(a,u)=>{o+=a.length+Rc(u)}),o}(n.mapValue);default:throw Ve()}}function Xc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yf(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function Wv(n){return!!n&&"nullValue"in n}function Kv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kf(n){return!!n&&"mapValue"in n}function uk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vw])===null||t===void 0?void 0:t.stringValue)===_w}function Rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Na(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ck(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=vn.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=Rl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];kf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Na(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Yr(Rl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,o,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Me.min(),Me.min(),Me.min(),Yr.empty(),0)}static newFoundDocument(e,t,i,o){return new yn(e,1,t,Me.min(),i,o,0)}static newNoDocument(e,t){return new yn(e,2,t,Me.min(),Me.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Me.min(),Me.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.position=e,this.inclusive=t}}function Gv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),t.key):i=Ta(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t="asc"){this.field=e,this.dir=t}}function dk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{}class Ut extends ww{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new fk(e,t,i):t==="array-contains"?new gk(e,i):t==="in"?new yk(e,i):t==="not-in"?new vk(e,i):t==="array-contains-any"?new _k(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pk(e,i):new mk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ta(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(Ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends ww{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new br(e,t)}matches(e){return Ew(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ew(n){return n.op==="and"}function Tw(n){return hk(n)&&Ew(n)}function hk(n){for(const e of n.filters)if(e instanceof br)return!1;return!0}function Xf(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Ia(n.value);if(Tw(n))return n.filters.map(e=>Xf(e)).join(",");{const e=n.filters.map(t=>Xf(t)).join(",");return`${n.op}(${e})`}}function Iw(n,e){return n instanceof Ut?function(i,o){return o instanceof Ut&&i.op===o.op&&i.field.isEqual(o.field)&&ti(i.value,o.value)}(n,e):n instanceof br?function(i,o){return o instanceof br&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&Iw(u,o.filters[h]),!0):!1}(n,e):void Ve()}function Sw(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Ia(t.value)}`}(n):n instanceof br?function(t){return t.op.toString()+" {"+t.getFilters().map(Sw).join(" ,")+"}"}(n):"Filter"}class fk extends Ut{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class pk extends Ut{constructor(e,t){super(e,"in",t),this.keys=Rw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mk extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=Rw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class gk extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&Ml(t.arrayValue,this.value)}}class yk extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ml(this.value.arrayValue,t)}}class vk extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ml(this.value.arrayValue,t)}}class _k extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ml(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function Yv(n,e=null,t=[],i=[],o=null,a=null,u=null){return new wk(n,e,t,i,o,a,u)}function zp(n){const e=et(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Xf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ia(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ia(i)).join(",")),e.le=t}return e.le}function Bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Iw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qv(n.startAt,e.startAt)&&Qv(n.endAt,e.endAt)}function Jf(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ek(n,e,t,i,o,a,u,h){return new Os(n,e,t,i,o,a,u,h)}function Hp(n){return new Os(n)}function Xv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qp(n){return n.collectionGroup!==null}function fa(n){const e=et(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Bt(vn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Vl(a,i))}),t.has(vn.keyField().canonicalString())||e.he.push(new Vl(vn.keyField(),i))}return e.he}function Jr(n){const e=et(n);return e.Pe||(e.Pe=Tk(e,fa(n))),e.Pe}function Tk(n,e){if(n.limitType==="F")return Yv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Vl(o.field,a)});const t=n.endAt?new Sa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Sa(n.startAt.position,n.startAt.inclusive):null;return Yv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zf(n,e){const t=n.filters.concat([e]);return new Os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Jc(n,e,t){return new Os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rd(n,e){return Bp(Jr(n),Jr(e))&&n.limitType===e.limitType}function Cw(n){return`${zp(Jr(n))}|lt:${n.limitType}`}function la(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Sw(o)).join(", ")}]`),Td(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Ia(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Ia(o)).join(",")),`Target(${i})`}(Jr(n))}; limitType=${n.limitType})`}function Cd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):xe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of fa(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const m=Gv(u,h,f);return u.inclusive?m<=0:m<0}(i.startAt,fa(i),o)||i.endAt&&!function(u,h,f){const m=Gv(u,h,f);return u.inclusive?m>=0:m>0}(i.endAt,fa(i),o))}(n,e)}function Ik(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Aw(n){return(e,t)=>{let i=!1;for(const o of fa(n)){const a=Sk(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function Sk(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Ta(f,m):Ve()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Ot(xe.comparator);function bs(){return Rk}const kw=new Ot(xe.comparator);function Tl(...n){let e=kw;for(const t of n)e=e.insert(t.key,t);return e}function Ck(n){let e=kw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function uo(){return Cl()}function Pw(){return Cl()}function Cl(){return new So(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ak=new Bt(xe.comparator);function it(...n){let e=Ak;for(const t of n)e=e.add(t);return e}const kk=new Bt(Ze);function Pk(){return kk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function xw(n){return{integerValue:""+n}}function xk(n,e){return rk(e)?xw(e):Wp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function bk(n,e,t){return n instanceof ep?function(o,a){const u={fields:{[mw]:{stringValue:pw},[yw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Id(a)&&(a=Sd(a)),a&&(u.fields[gw]=a),{mapValue:u}}(t,e):n instanceof Zc?bw(n,e):n instanceof ed?Nw(n,e):function(o,a){const u=Dk(o,a),h=Jv(u)+Jv(o.Ie);return Yf(u)&&Yf(o.Ie)?xw(h):Wp(o.serializer,h)}(n,e)}function Nk(n,e,t){return n instanceof Zc?bw(n,e):n instanceof ed?Nw(n,e):t}function Dk(n,e){return n instanceof tp?function(i){return Yf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class ep extends Ad{}class Zc extends Ad{constructor(e){super(),this.elements=e}}function bw(n,e){const t=Dw(e);for(const i of n.elements)t.some(o=>ti(o,i))||t.push(i);return{arrayValue:{values:t}}}class ed extends Ad{constructor(e){super(),this.elements=e}}function Nw(n,e){let t=Dw(e);for(const i of n.elements)t=t.filter(o=>!ti(o,i));return{arrayValue:{values:t}}}class tp extends Ad{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Jv(n){return Nt(n.integerValue||n.doubleValue)}function Dw(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ok(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Zc&&o instanceof Zc||i instanceof ed&&o instanceof ed?Ea(i.elements,o.elements,ti):i instanceof tp&&o instanceof tp?ti(i.Ie,o.Ie):i instanceof ep&&o instanceof ep}(n.transform,e.transform)}class ho{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ho}static exists(e){return new ho(void 0,e)}static updateTime(e){return new ho(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kp{}function Ow(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mk(n.key,ho.none()):new Gp(n.key,n.data,ho.none());{const t=n.data,i=Yr.empty();let o=new Bt(vn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new kd(n.key,i,new ws(o.toArray()),ho.none())}}function Lk(n,e,t){n instanceof Gp?function(o,a,u){const h=o.value.clone(),f=e_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof kd?function(o,a,u){if(!Cc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=e_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Lw(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Al(n,e,t,i){return n instanceof Gp?function(a,u,h,f){if(!Cc(a.precondition,u))return h;const m=a.value.clone(),v=t_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof kd?function(a,u,h,f){if(!Cc(a.precondition,u))return h;const m=t_(a.fieldTransforms,f,u),v=u.data;return v.setAll(Lw(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,u,h){return Cc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Zv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ea(i,o,(a,u)=>Ok(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gp extends Kp{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class kd extends Kp{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Lw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function e_(n,e,t){const i=new Map;kt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,Nk(u,h,t[o]))}return i}function t_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,bk(a,u,e))}return i}class Mk extends Kp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Lk(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Al(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Al(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Pw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=Ow(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(t,i)=>Zv(t,i))&&Ea(this.baseMutations,e.baseMutations,(t,i)=>Zv(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Je;function Mw(n){if(n===void 0)return Ni("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Ft.OK:return ae.OK;case Ft.CANCELLED:return ae.CANCELLED;case Ft.UNKNOWN:return ae.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ae.INTERNAL;case Ft.UNAVAILABLE:return ae.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ae.NOT_FOUND;case Ft.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ft.ABORTED:return ae.ABORTED;case Ft.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ft.DATA_LOSS:return ae.DATA_LOSS;default:return Ve()}}(Je=Ft||(Ft={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Ss([4294967295,4294967295],0);function n_(n){const e=jk().encode(n),t=new iw;return t.update(e),new Uint8Array(t.digest())}function r_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ss([t,i],0),new Ss([o,a],0)]}class Qp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Il(`Invalid padding: ${t}`);if(i<0)throw new Il(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Il(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ss.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Ss.fromNumber(i)));return o.compare($k)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=n_(e),[i,o]=r_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Qp(a,o,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=n_(e),[i,o]=r_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Pd(Me.min(),o,new Ot(Ze),bs(),it())}}class Wl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Wl(i,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class Vw{constructor(e,t){this.targetId=e,this.ge=t}}class Fw{constructor(e,t,i=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class i_{constructor(){this.pe=0,this.ye=s_(),this.we=an.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=it(),t=it(),i=it();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ve()}}),new Wl(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=s_()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class zk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bs(),this.$e=gc(),this.Ke=gc(),this.Ue=new Ot(Ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(Jf(a))if(i===0){const u=new xe(a.path);this.ze(t,u,yn.newNoDocument(u,Me.min()))}else kt(i===1);else{const u=this.et(t);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Ps(i).toUint8Array()}catch(f){if(f instanceof fw)return wa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Qp(u,o,a)}catch(f){return wa(f instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&Jf(h.target)){const f=new xe(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,yn.newNoDocument(f,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let i=it();this.Ke.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Pd(e,t,this.Ue,this.Qe,i);return this.Qe=bs(),this.$e=gc(),this.Ke=gc(),this.Ue=new Ot(Ze),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new i_,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Bt(Ze),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Bt(Ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new i_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function gc(){return new Ot(xe.comparator)}function s_(){return new Ot(xe.comparator)}const Bk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qk={and:"AND",or:"OR"};class Wk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function rp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pa(n){return kt(!!n),Me.fromTimestamp(function(t){const i=ks(t);return new Qt(i.seconds,i.nanos)}(n))}function jw(n,e){return ip(n,e).canonicalString()}function ip(n,e){const t=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $w(n){const e=Rt.fromString(n);return kt(Ww(e)),e}function Pf(n,e){const t=$w(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(Bw(t))}function zw(n,e){return jw(n.databaseId,e)}function Kk(n){const e=$w(n);return e.length===4?Rt.emptyPath():Bw(e)}function o_(n){return new Rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bw(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Gk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(kt(v===void 0||typeof v=="string"),an.fromBase64String(v||"")):(kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),an.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=m.code===void 0?ae.UNKNOWN:Mw(m.code);return new ge(v,m.message||"")}(u);t=new Fw(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Pf(n,i.document.name),a=pa(i.document.updateTime),u=i.document.createTime?pa(i.document.createTime):Me.min(),h=new Yr({mapValue:{fields:i.document.fields}}),f=yn.newFoundDocument(o,a,u,h),m=i.targetIds||[],v=i.removedTargetIds||[];t=new Ac(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Pf(n,i.document),a=i.readTime?pa(i.readTime):Me.min(),u=yn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Ac([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Pf(n,i.document),a=i.removedTargetIds||[];t=new Ac([],a,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new Uk(o,a),h=i.targetId;t=new Vw(h,u)}}return t}function Qk(n,e){return{documents:[zw(n,e.path)]}}function Yk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=zw(n,o);const a=function(m){if(m.length!==0)return qw(br.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:ua(T.field),direction:Zk(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=np(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function Xk(n){let e=Kk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){kt(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const T=Hw(w);return T instanceof br&&Tw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(b){return new Vl(ca(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(w){let T;return T=typeof w=="object"?w.value:w,Td(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,R=w.values||[];return new Sa(R,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,R=w.values||[];return new Sa(R,T)}(t.endAt)),Ek(e,o,u,a,h,"F",f,m)}function Jk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Hw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ca(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ca(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ca(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ca(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(ca(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return br.create(t.compositeFilter.filters.map(i=>Hw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(t.compositeFilter.op))}(n):Ve()}function Zk(n){return Bk[n]}function e1(n){return Hk[n]}function t1(n){return qk[n]}function ua(n){return{fieldPath:n.canonicalString()}}function ca(n){return vn.fromServerFormat(n.fieldPath)}function qw(n){return n instanceof Ut?function(t){if(t.op==="=="){if(Kv(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NAN"}};if(Wv(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kv(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NAN"}};if(Wv(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(t.field),op:e1(t.op),value:t.value}}}(n):n instanceof br?function(t){const i=t.getFilters().map(o=>qw(o));return i.length===1?i[0]:{compositeFilter:{op:t1(t.op),filters:i}}}(n):Ve()}function Ww(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,i,o,a=Me.min(),u=Me.min(),h=an.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.Tt=e}}function r1(n){const e=Xk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.Tn=new s1}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(As.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class s1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Bt(Rt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Bt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kw=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Kw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ra(0)}static Un(){return new Ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LruGarbageCollector",o1=1048576;function u_([n,e],[t,i]){const o=Ze(n,t);return o===0?Ze(e,i):o}class a1{constructor(e){this.Hn=e,this.buffer=new Bt(u_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();u_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(l_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ba(t)?me(l_,"Ignoring IndexedDB error during garbage collection: ",t):await wd(t)}await this.er(3e5)})}}class u1{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Ed.ae);const i=new a1(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(a_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,h=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),aa()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function c1(n,e){return new u1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.changes=new So(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Al(i.mutation,o,ws.empty(),Qt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,it()).next(()=>i))}getLocalViewOfDocuments(e,t,i=it()){const o=uo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=Tl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=uo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,it()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,o){let a=bs();const u=Cl(),h=function(){return Cl()}();return t.forEach((f,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof kd)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Al(v.mutation,m,v.mutation.getFieldMask(),Qt.now())):u.set(m.key,ws.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var w;return h.set(m,new h1(v,(w=u.get(m))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Cl();let o=new Ot((u,h)=>u-h),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||ws.empty();v=h.applyToLocalView(m,v),i.set(f,v);const w=(o.get(h.batchId)||it()).add(f);o=o.insert(h.batchId,w)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,w=Pw();v.forEach(T=>{if(!a.has(T)){const R=Ow(t.get(T),i.get(T));R!==null&&w.set(T,R),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return ne.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(uo());let h=Dl,f=a;return u.next(m=>ne.forEach(m,(v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{f=f.insert(v,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,it())).next(v=>({batchId:h,changes:Ck(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let o=Tl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=Tl();return this.indexManager.getCollectionParents(e,a).next(h=>ne.forEach(h,f=>{const m=function(w,T){return new Os(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,yn.newInvalidDocument(v)))});let h=Tl();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Al(v.mutation,m,ws.empty(),Qt.now()),Cd(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:pa(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:r1(o.bundledQuery),readTime:pa(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.overlays=new Ot(xe.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=uo();return ne.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=uo(),a=t.length+1,u=new xe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Ot((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=uo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=uo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=o)););return ne.resolve(h)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Fk(t,i));let a=this.Rr.get(t);a===void 0&&(a=it(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.Vr=new Bt(Gt.mr),this.gr=new Bt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Gt(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new xe(new Rt([])),i=new Gt(t,e),o=new Gt(t,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new xe(new Rt([])),i=new Gt(t,e),o=new Gt(t,e+1);let a=it();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Gt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return xe.comparator(e.key,t.key)||Ze(e.Cr,t.Cr)}static pr(e,t){return Ze(e.Cr,t.Cr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Bt(Gt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Vk(a,t,i,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new Gt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?nk:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const h=this.Or(u.Cr);a.push(h)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Ze);return t.forEach(o=>{const a=new Gt(o,0),u=new Gt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{i=i.add(h.Cr)})}),ne.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;xe.isDocumentKey(a)||(a=a.child(""));const u=new Gt(new xe(a),0);let h=new Bt(Ze);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Cr)),!0)},u),ne.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){kt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ne.forEach(t.mutations,o=>{const a=new Gt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Gt(t,0),o=this.Mr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.kr=e,this.docs=function(){return new Ot(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=bs();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():yn.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=bs();const u=t.path,h=new xe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||JA(XA(v),i)<=0||(o.has(v.key)||Cd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ve()}qr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _1(this)}getSize(e){return ne.resolve(this.size)}}class _1 extends d1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.persistence=e,this.Qr=new So(t=>zp(t),Bp),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Yp,this.targetCount=0,this.Ur=Ra.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ra(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ne.waitFor(a).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ed(0),this.zr=!1,this.zr=!0,this.jr=new g1,this.referenceDelegate=e(this),this.Hr=new w1(this),this.indexManager=new i1,this.remoteDocumentCache=function(o){return new v1(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new n1(t),this.Yr=new p1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new y1(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new E1(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ne.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class E1 extends ek{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.ti=new Yp,this.ni=null}static ri(e){return new Xp(e)}get ii(){if(this.ni)return this.ni;throw Ve()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,i=>{const o=xe.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Me.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class td{constructor(e,t){this.persistence=e,this.oi=new So(i=>ik(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=c1(this,t)}static ri(e,t){return new td(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ne.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(h=>{h||(i++,a.removeEntry(u,Me.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rc(e.data.value)),t}ar(e,t,i){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=it(),o=it();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Jp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _C()?8:tk(wn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new T1;return this._s(e,t,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(aa()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",la(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(aa()<=He.DEBUG&&me("QueryEngine","Query:",la(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(aa()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",la(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):ne.resolve())}rs(e,t){if(Xv(t))return ne.resolve(null);let i=Jr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Jc(t,null,"F"),i=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=it(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(t,h);return this.ls(t,m,u,f.readTime)?this.rs(e,Jc(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,i,o){return Xv(t)||o.isEqual(Me.min())?ne.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(t,a);return this.ls(t,u,i,o)?ne.resolve(null):(aa()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),la(t)),this.hs(e,u,t,YA(o,Dl)).next(h=>h))})}cs(e,t){let i=new Bt(Aw(e));return t.forEach((o,a)=>{Cd(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return aa()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",la(t)),this.ns.getDocumentsMatchingQuery(e,t,As.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",S1=3e8;class R1{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ot(Ze),this.Is=new So(a=>zp(a),Bp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function C1(n,e,t,i){return new R1(n,e,t,i)}async function Qw(n,e){const t=et(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=it();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function Yw(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function A1(n,e){const t=et(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;h.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,w)));let R=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(an.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),o=o.insert(w,R),function(V,P,$){return V.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=S1?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(T,R,v)&&h.push(t.Hr.updateTargetData(a,R))});let f=bs(),m=it();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(k1(a,u,e.documentUpdates).next(v=>{f=v.Vs,m=v.fs})),!i.isEqual(Me.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(w=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(v)}return ne.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ts=o,a))}function k1(n,e,t){let i=it(),o=it();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=bs();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me(Zp,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function P1(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,ne.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Es(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function sp(n,e,t){const i=et(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!ba(u))throw u;me(Zp,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function c_(n,e,t){const i=et(n);let o=Me.min(),a=it();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=et(f),T=w.Is.get(v);return T!==void 0?ne.resolve(w.Ts.get(T)):w.Hr.getTargetData(m,v)}(i,u,Jr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:Me.min(),t?a:it())).next(h=>(x1(i,Ik(e),h),{documents:h,gs:a})))}function x1(n,e,t){let i=n.Es.get(e)||Me.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class d_{constructor(){this.activeTargetIds=Pk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b1{constructor(){this.ho=new d_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new d_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="ConnectivityMonitor";class f_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(h_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function op(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",D1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Qc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}bo(e,t,i,o,a){const u=op(),h=this.So(e,t.toUriEncodedString());me(xf,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,h,f,i).then(m=>(me(xf,`Received RPC '${e}' ${u}: `,m),m),m=>{throw wa(xf,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,t,i,o,a,u){return this.bo(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}So(e,t){const i=D1[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class M1 extends O1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=op();return new Promise((u,h)=>{const f=new sw;f.setWithCredentials(!0),f.listenOnce(ow.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Sc.NO_ERROR:const v=f.getResponseJson();me(mn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Sc.TIMEOUT:me(mn,`RPC '${e}' ${a} timed out`),h(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const w=f.getStatus();if(me(mn,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const b=function(P){const $=P.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf($)>=0?$:ae.UNKNOWN}(R.status);h(new ge(b,R.message))}else h(new ge(ae.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{me(mn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);me(mn,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}Wo(e,t,i){const o=op(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=uw(),h=lw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");me(mn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);let T=!1,R=!1;const b=new L1({Fo:P=>{R?me(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(T||(me(mn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),me(mn,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},Mo:()=>w.close()}),V=(P,$,H)=>{P.listen($,K=>{try{H(K)}catch(X){setTimeout(()=>{throw X},0)}})};return V(w,El.EventType.OPEN,()=>{R||(me(mn,`RPC '${e}' stream ${o} transport opened.`),b.Qo())}),V(w,El.EventType.CLOSE,()=>{R||(R=!0,me(mn,`RPC '${e}' stream ${o} transport closed`),b.Ko())}),V(w,El.EventType.ERROR,P=>{R||(R=!0,wa(mn,`RPC '${e}' stream ${o} transport errored:`,P),b.Ko(new ge(ae.UNAVAILABLE,"The operation could not be completed")))}),V(w,El.EventType.MESSAGE,P=>{var $;if(!R){const H=P.data[0];kt(!!H);const K=H,X=(K==null?void 0:K.error)||(($=K[0])===null||$===void 0?void 0:$.error);if(X){me(mn,`RPC '${e}' stream ${o} received error:`,X);const L=X.status;let se=function(C){const N=Ft[C];if(N!==void 0)return Mw(N)}(L),A=X.message;se===void 0&&(se=ae.INTERNAL,A="Unknown error status: "+L+" with message "+X.message),R=!0,b.Ko(new ge(se,A)),w.close()}else me(mn,`RPC '${e}' stream ${o} received:`,H),b.Uo(H)}}),V(h,aw.STAT_EVENT,P=>{P.stat===Gf.PROXY?me(mn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Gf.NOPROXY&&me(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){return new Wk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class V1{constructor(e,t,i,o,a,u,h,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Xw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Ni(t.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ge(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F1 extends V1{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Gk(this.serializer,e),i=function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?pa(u.readTime):Me.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=o_(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Jf(f)?{documents:Qk(a,f)}:{query:Yk(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Uw(a,u.resumeToken);const m=np(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){h.readTime=rp(a,u.snapshotVersion.toTimestamp());const m=np(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=Jk(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=o_(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class j1 extends U1{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.bo(e,ip(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ae.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,ip(t,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ae.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ni(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class z1{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{Gl(this)&&(me(Ca,"Restarting streams for network reachability change."),await async function(f){const m=et(f);m.W_.add(4),await Kl(m),m.j_.set("Unknown"),m.W_.delete(4),await bd(m)}(this))})}),this.j_=new $1(i,o)}}async function bd(n){if(Gl(n))for(const e of n.G_)await e(!0)}async function Kl(n){for(const e of n.G_)await e(!1)}function Jw(n,e){const t=et(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),rm(t)?nm(t):Da(t).c_()&&tm(t,e))}function em(n,e){const t=et(n),i=Da(t);t.U_.delete(e),i.c_()&&Zw(t,e),t.U_.size===0&&(i.c_()?i.P_():Gl(t)&&t.j_.set("Unknown"))}function tm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Da(n).y_(e)}function Zw(n,e){n.H_.Ne(e),Da(n).w_(e)}function nm(n){n.H_=new zk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Da(n).start(),n.j_.B_()}function rm(n){return Gl(n)&&!Da(n).u_()&&n.U_.size>0}function Gl(n){return et(n).W_.size===0}function eE(n){n.H_=void 0}async function B1(n){n.j_.set("Online")}async function H1(n){n.U_.forEach((e,t)=>{tm(n,e)})}async function q1(n,e){eE(n),rm(n)?(n.j_.q_(e),nm(n)):n.j_.set("Unknown")}async function W1(n,e,t){if(n.j_.set("Online"),e instanceof Fw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.U_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.U_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(i){me(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await m_(n,i)}else if(e instanceof Ac?n.H_.We(e):e instanceof Vw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Me.min()))try{const i=await Yw(n.localStore);t.compareTo(i)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.U_.get(m);v&&a.U_.set(m,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const v=a.U_.get(f);if(!v)return;a.U_.set(f,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),Zw(a,f);const w=new Es(v.target,f,m,v.sequenceNumber);tm(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){me(Ca,"Failed to raise snapshot:",i),await m_(n,i)}}async function m_(n,e,t){if(!ba(e))throw e;n.W_.add(1),await Kl(n),n.j_.set("Offline"),t||(t=()=>Yw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(Ca,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await bd(n)})}async function g_(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),me(Ca,"RemoteStore received new credentials");const i=Gl(t);t.W_.add(3),await Kl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await bd(t)}async function K1(n,e){const t=et(n);e?(t.W_.delete(2),await bd(t)):e||(t.W_.add(2),await Kl(t),t.j_.set("Unknown"))}function Da(n){return n.J_||(n.J_=function(t,i,o){const a=et(t);return a.M_(),new F1(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:B1.bind(null,n),No:H1.bind(null,n),Lo:q1.bind(null,n),p_:W1.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),rm(n)?nm(n):n.j_.set("Unknown")):(await n.J_.stop(),eE(n))})),n.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,h=new im(e,t,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tE(n,e){if(Ni("AsyncQueue",`${e}: ${n}`),ba(n))return new ge(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Tl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ma;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.Z_=new Ot(xe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ve():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Aa{constructor(e,t,i,o,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Aa(e,t,ma.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Q1{constructor(){this.queries=v_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=et(t),a=o.queries;o.queries=v_(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function v_(){return new So(n=>Cw(n),Rd)}async function Y1(n,e){const t=et(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new G1,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=tE(u,`Initialization of query '${la(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&sm(t)}async function X1(n,e){const t=et(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function J1(n,e){const t=et(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(i=!0);u.ea=o}}i&&sm(t)}function Z1(n,e,t){const i=et(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function sm(n){n.ia.forEach(e=>{e.next()})}var ap,__;(__=ap||(ap={}))._a="default",__.Cache="cache";class eP{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Aa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.key=e}}class rE{constructor(e){this.key=e}}class tP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=it(),this.mutatedKeys=it(),this.ya=Aw(e),this.wa=new ma(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new y_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),R=Cd(this.query,w)?w:null,b=!!T&&this.mutatedKeys.has(T.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;T&&R?T.data.isEqual(R.data)?b!==V&&(i.track({type:3,doc:R}),P=!0):this.va(T,R)||(i.track({type:2,doc:R}),P=!0,(f&&this.ya(R,f)>0||m&&this.ya(R,m)<0)&&(h=!0)):!T&&R?(i.track({type:0,doc:R}),P=!0):T&&!R&&(i.track({type:1,doc:T}),P=!0,(f||m)&&(h=!0)),P&&(R?(u=u.add(R),a=V?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,w)=>function(R,b){const V=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return V(R)-V(b)}(v.type,w.type)||this.ya(v.doc,w.doc)),this.Ca(i),o=o!=null&&o;const h=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new Aa(this.query,e.wa,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new y_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=it(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new rE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new nE(i))}),t}Oa(e){this.fa=e.gs,this.pa=it();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Aa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const om="SyncEngine";class nP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class rP{constructor(e){this.key=e,this.Ba=!1}}class iP{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new So(h=>Cw(h),Rd),this.qa=new Map,this.Qa=new Set,this.$a=new Ot(xe.comparator),this.Ka=new Map,this.Ua=new Yp,this.Wa={},this.Ga=new Map,this.za=Ra.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sP(n,e,t=!0){const i=lE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await iE(i,e,t,!0),o}async function oP(n,e){const t=lE(n);await iE(t,e,!0,!1)}async function iE(n,e,t,i){const o=await P1(n.localStore,Jr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await aP(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Jw(n.remoteStore,o),h}async function aP(n,e,t,i,o){n.Ha=(w,T,R)=>async function(V,P,$,H){let K=P.view.Sa($);K.ls&&(K=await c_(V.localStore,P.query,!1).then(({documents:A})=>P.view.Sa(A,K)));const X=H&&H.targetChanges.get(P.targetId),L=H&&H.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(K,V.isPrimaryClient,X,L);return E_(V,P.targetId,se.Ma),se.snapshot}(n,w,T,R);const a=await c_(n.localStore,e,!0),u=new tP(e,a.gs),h=u.Sa(a.documents),f=Wl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,f);E_(n,t,m.Ma);const v=new nP(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function lP(n,e,t){const i=et(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!Rd(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&em(i.remoteStore,o.targetId),lp(i,o.targetId)}).catch(wd)):(lp(i,o.targetId),await sp(i.localStore,o.targetId,!0))}async function uP(n,e){const t=et(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),em(t.remoteStore,i.targetId))}async function sE(n,e){const t=et(n);try{const i=await A1(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ka.get(a);u&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?kt(u.Ba):o.removedDocuments.size>0&&(kt(u.Ba),u.Ba=!1))}),await aE(t,i,e)}catch(i){await wd(i)}}function w_(n,e,t){const i=et(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=et(u);f.onlineState=h;let m=!1;f.queries.forEach((v,w)=>{for(const T of w.ta)T.sa(h)&&(m=!0)}),m&&sm(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cP(n,e,t){const i=et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),a=o&&o.key;if(a){let u=new Ot(xe.comparator);u=u.insert(a,yn.newNoDocument(a,Me.min()));const h=it().add(a),f=new Pd(Me.min(),new Map,new Ot(Ze),u,h);await sE(i,f),i.$a=i.$a.remove(a),i.Ka.delete(e),am(i)}else await sp(i.localStore,e,!1).then(()=>lp(i,e,t)).catch(wd)}function lp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||oE(n,i)})}function oE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(em(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),am(n))}function E_(n,e,t){for(const i of t)i instanceof nE?(n.Ua.addReference(i.key,e),dP(n,i)):i instanceof rE?(me(om,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||oE(n,i.key)):Ve()}function dP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(me(om,"New document in limbo: "+t),n.Qa.add(i),am(n))}function am(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new xe(Rt.fromString(e)),i=n.za.next();n.Ka.set(i,new rP(t)),n.$a=n.$a.insert(t,i),Jw(n.remoteStore,new Es(Jr(Hp(t.path)),i,"TargetPurposeLimboResolution",Ed.ae))}}async function aE(n,e,t){const i=et(n),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Jp.Yi(f.targetId,m);a.push(w)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,m){const v=et(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(m,T=>ne.forEach(T.Hi,R=>v.persistence.referenceDelegate.addReference(w,T.targetId,R)).next(()=>ne.forEach(T.Ji,R=>v.persistence.referenceDelegate.removeReference(w,T.targetId,R)))))}catch(w){if(!ba(w))throw w;me(Zp,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const R=v.Ts.get(T),b=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(b);v.Ts=v.Ts.insert(T,V)}}}(i.localStore,a))}async function hP(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){me(om,"User change. New user:",e.toKey());const i=await Qw(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new ge(ae.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await aE(t,i.Rs)}}function fP(n,e){const t=et(n),i=t.Ka.get(e);if(i&&i.Ba)return it().add(i.key);{let o=it();const a=t.qa.get(e);if(!a)return o;for(const u of a){const h=t.ka.get(u);o=o.unionWith(h.view.ba)}return o}}function lE(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cP.bind(null,e),e.La.p_=J1.bind(null,e.eventManager),e.La.Ja=Z1.bind(null,e.eventManager),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return C1(this.persistence,new I1,e.initialUser,this.serializer)}Xa(e){return new Gw(Xp.ri,this.serializer)}Za(e){return new b1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class pP extends nd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kt(this.persistence.referenceDelegate instanceof td);const i=this.persistence.referenceDelegate.garbageCollector;return new l1(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Gw(i=>td.ri(i,t),this.serializer)}}class up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>w_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,this.syncEngine),await K1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q1}()}createDatastore(e){const t=xd(e.databaseInfo.databaseId),i=function(a){return new M1(a)}(e.databaseInfo);return function(a,u,h,f){return new j1(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,h){return new z1(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>w_(this.syncEngine,t,0),function(){return f_.D()?new f_:new N1}())}createSyncEngine(e,t){return function(o,a,u,h,f,m,v){const w=new iP(o,a,u,h,f,m);return v&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=et(o);me(Ca,"RemoteStore shutting down."),a.W_.add(5),await Kl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class gP{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=GA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{me(Ns,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(me(Ns,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=tE(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Nf(n,e){n.asyncQueue.verifyOperationInProgress(),me(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Qw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function T_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await yP(n);me(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>g_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>g_(e.remoteStore,o)),n._onlineComponents=e}async function yP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Ns,"Using user provided OfflineComponentProvider");try{await Nf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;wa("Error using user provided cache. Falling back to memory cache: "+t),await Nf(n,new nd)}}else me(Ns,"Using default OfflineComponentProvider"),await Nf(n,new pP(void 0));return n._offlineComponents}async function vP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Ns,"Using user provided OnlineComponentProvider"),await T_(n,n._uninitializedComponentsProvider._online)):(me(Ns,"Using default OnlineComponentProvider"),await T_(n,new up))),n._onlineComponents}async function I_(n){const e=await vP(n),t=e.eventManager;return t.onListen=sP.bind(null,e.syncEngine),t.onUnlisten=lP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uP.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function _P(n,e,t,i){if(e===!0&&i===!0)throw new ge(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function R_(n){if(xe.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve()}function kc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nd(n);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firestore.googleapis.com",C_=!0;class A_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cE,this.ssl=C_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:C_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o1)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_P("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $A;switch(i.type){case"firstParty":return new qA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=S_.get(t);i&&(me("ComponentProvider","Removing Datastore"),S_.delete(t),i.terminate())}(this),Promise.resolve()}}function wP(n,e,t,i={}){var o;const a=(n=kc(n,lm))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a.host!==cE&&a.host!==h&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:i});if(!Cs(f,u)&&(n._setSettings(f),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=gn.MOCK_USER;else{m=G0(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gn(w)}n._authCredentials=new zA(new cw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class oi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oi(this.firestore,e,this._key)}}class ga extends si{constructor(e,t,i){super(e,t,Hp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oi(this.firestore,null,new xe(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function EP(n,e,...t){if(n=Dt(n),n instanceof lm){const i=Rt.fromString(e,...t);return R_(i),new ga(n,null,i)}{if(!(n instanceof oi||n instanceof ga))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rt.fromString(e,...t));return R_(i),new ga(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class P_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Xw(this,"async_queue_retry"),this.bu=()=>{const i=bf();i&&me(k_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ha;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ba(e))throw e;me(k_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw Ni("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=im.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function x_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class cp extends lm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new P_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function TP(n,e){const t=typeof n=="object"?n:ql(),i=typeof n=="string"?n:Qc,o=Li(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Fp("firestore");a&&wP(o,...a)}return o}function IP(n){if(n._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SP(n),n._firestoreClient}function SP(n){var e,t,i;const o=n._freezeSettings(),a=function(h,f,m,v){return new ak(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,uE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new gP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(an.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ka(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^__.*__$/;function fE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class dm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fE(this.Lu)&&RP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class CP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||xd(e)}ju(e,t,i,o=!1){return new dm({Lu:e,methodName:t,zu:i,path:vn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pE(n){const e=n._freezeSettings(),t=xd(n._databaseId);return new CP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mE(n,e,t,i=!1){return hm(t,n.ju(i?4:3,e))}function hm(n,e){if(gE(n=Dt(n)))return kP("Unsupported field value:",e,n),AP(n,e);if(n instanceof hE)return function(i,o){if(!fE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=hm(h,o.Uu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Dt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xk(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Qt.fromDate(i);return{timestampValue:rp(o.serializer,a)}}if(i instanceof Qt){const a=new Qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rp(o.serializer,a)}}if(i instanceof um)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ka)return{bytesValue:Uw(o.serializer,i._byteString)};if(i instanceof oi){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jw(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof cm)return function(u,h){return{mapValue:{fields:{[vw]:{stringValue:_w},[Yc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return Wp(h.serializer,m)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Nd(i)}`)}(n,e)}function AP(n,e){const t={};return hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(n,(i,o)=>{const a=hm(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function gE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof um||n instanceof ka||n instanceof oi||n instanceof hE||n instanceof cm)}function kP(n,e,t){if(!gE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Nd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}const PP=new RegExp("[~\\*/\\[\\]]");function xP(n,e,t){if(e.search(PP)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dE(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dp(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new ge(ae.INVALID_ARGUMENT,h+n+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bP extends fm{data(){return super.data()}}function pm(n,e){return typeof e=="string"?xP(n,e):e instanceof dE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class Ql extends mm{}function DP(n,e,...t){let i=[];e instanceof mm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(f=>f instanceof ym).length,h=a.filter(f=>f instanceof gm).length;if(u>1||u>0&&h>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class gm extends Ql{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new gm(e,t,i)}_apply(e){const t=this._parse(e);return vE(e._query,t),new si(e.firestore,e.converter,Zf(e._query,t))}_parse(e){const t=pE(e.firestore);return function(a,u,h,f,m,v,w){let T;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){N_(w,v);const b=[];for(const V of w)b.push(b_(f,a,V));T={arrayValue:{values:b}}}else T=b_(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||N_(w,v),T=mE(h,u,w,v==="in"||v==="not-in");return Ut.create(m,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class ym extends mm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ym(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:br.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)vE(u,f),u=Zf(u,f)}(e._query,t),new si(e.firestore,e.converter,Zf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vm extends Ql{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vm(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(a,u)}(e._query,this._field,this._direction);return new si(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Os(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function OP(n,e="asc"){const t=e,i=pm("orderBy",n);return vm._create(i,t)}class _m extends Ql{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new _m(e,t,i)}_apply(e){return new si(e.firestore,e.converter,Jc(e._query,this._limit,this._limitType))}}function LP(n){return _m._create("limit",n,"F")}class wm extends Ql{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new wm(e,t,i)}_apply(e){const t=yE(e,this.type,this._docOrFields,this._inclusive);return new si(e.firestore,e.converter,function(o,a){return new Os(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function MP(...n){return wm._create("startAt",n,!0)}class Em extends Ql{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Em(e,t,i)}_apply(e){const t=yE(e,this.type,this._docOrFields,this._inclusive);return new si(e.firestore,e.converter,function(o,a){return new Os(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,t))}}function VP(...n){return Em._create("endAt",n,!0)}function yE(n,e,t,i){if(t[0]=Dt(t[0]),t[0]instanceof fm)return function(a,u,h,f,m){if(!f)throw new ge(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const w of fa(a))if(w.field.isKeyField())v.push(Xc(u,f.key));else{const T=f.data.field(w.field);if(Id(T))throw new ge(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const R=w.field.canonicalString();throw new ge(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(T)}return new Sa(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=pE(n.firestore);return function(u,h,f,m,v,w){const T=u.explicitOrderBy;if(v.length>T.length)throw new ge(ae.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let b=0;b<v.length;b++){const V=v[b];if(T[b].field.isKeyField()){if(typeof V!="string")throw new ge(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof V}`);if(!qp(u)&&V.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${V}' contains a slash.`);const P=u.path.child(Rt.fromString(V));if(!xe.isDocumentKey(P))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const $=new xe(P);R.push(Xc(h,$))}else{const P=mE(f,m,V);R.push(P)}}return new Sa(R,w)}(n._query,n.firestore._databaseId,o,e,t,i)}}function b_(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qp(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Rt.fromString(t));if(!xe.isDocumentKey(i))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xc(n,new xe(i))}if(t instanceof oi)return Xc(n,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(t)}.`)}function N_(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vE(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FP{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Na(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Yc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Nt(u.doubleValue));return new cm(a)}convertGeoPoint(e){return new um(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Sd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=ks(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Rt.fromString(e);kt(Ww(i));const o=new Ll(i.get(1),i.get(3)),a=new xe(i.popFirst(5));return o.isEqual(t)||Ni(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _E extends fm{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Pc extends _E{data(e={}){return super.data(e)}}class UP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Pc(this._firestore,this._userDataWriter,i.key,i,new Sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Pc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Pc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:jP(h.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class wE extends FP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,t)}}function $P(n,...e){var t,i,o;n=Dt(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||x_(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(x_(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[u+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let f,m,v;if(n instanceof oi)m=kc(n.firestore,cp),v=Hp(n._key.path),f={next:w=>{e[u]&&e[u](zP(m,n,w))},error:e[u+1],complete:e[u+2]};else{const w=kc(n,si);m=kc(w.firestore,cp),v=w._query;const T=new wE(m);f={next:R=>{e[u]&&e[u](new UP(m,T,w,R))},error:e[u+1],complete:e[u+2]},NP(n._query)}return function(T,R,b,V){const P=new mP(V),$=new eP(R,P,b);return T.asyncQueue.enqueueAndForget(async()=>Y1(await I_(T),$)),()=>{P.su(),T.asyncQueue.enqueueAndForget(async()=>X1(await I_(T),$))}}(IP(m),v,h,f)}function zP(n,e,t){const i=t.docs.get(e._key),o=new wE(n);return new _E(n,o,e._key,i,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){xa=o})(Io),fr(new Xn("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new cp(new BA(i.getProvider("auth-internal")),new WA(u,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),_n(Lv,Mv,e),_n(Lv,Mv,"esm2017")})();function Tm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BP=EE,TE=new To("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new _d("@firebase/auth");function HP(n,...e){rd.logLevel<=He.WARN&&rd.warn(`Auth (${Io}): ${n}`,...e)}function xc(n,...e){rd.logLevel<=He.ERROR&&rd.error(`Auth (${Io}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(n,...e){throw Im(n,...e)}function Zr(n,...e){return Im(n,...e)}function IE(n,e,t){const i=Object.assign(Object.assign({},BP()),{[e]:t});return new To("auth","Firebase",i).create(e,{appName:n.name})}function xi(n){return IE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return TE.create(n,...e)}function Ne(n,e,...t){if(!n)throw Im(e,...t)}function Ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xc(e),new Error(e)}function Di(n,e){n||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qP(){return D_()==="http:"||D_()==="https:"}function D_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qP()||Q0()||"connection"in navigator)?navigator.onLine:!0}function KP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=pC()||yC()}get(){return WP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Yl(3e4,6e4);function Ls(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ms(n,e,t,i,o={}){return RE(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=Hl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return gC()||(m.referrerPolicy="no-referrer"),SE.fetch()(CE(n,n.config.apiHost,t,h),m)})}async function RE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},GP),e);try{const o=new XP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw vc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw vc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw vc(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw IE(n,v,m);Nr(n,v)}}catch(o){if(o instanceof Jn)throw o;Nr(n,"network-request-failed",{message:String(o)})}}async function Xl(n,e,t,i,o={}){const a=await Ms(n,e,t,i,o);return"mfaPendingCredential"in a&&Nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function CE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Sm(n.config,o):`${n.config.apiScheme}://${o}`}function YP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Zr(this.auth,"network-request-failed")),QP.get())})}}function vc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Zr(n,e,i);return o.customData._tokenResponse=t,o}function O_(n){return n!==void 0&&n.enterprise!==void 0}class JP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZP(n,e){return Ms(n,"GET","/v2/recaptchaConfig",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,e){return Ms(n,"POST","/v1/accounts:delete",e)}async function AE(n,e){return Ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tx(n,e=!1){const t=Dt(n),i=await t.getIdToken(e),o=Rm(i);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:kl(Df(o.auth_time)),issuedAtTime:kl(Df(o.iat)),expirationTime:kl(Df(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Df(n){return Number(n)*1e3}function Rm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=H0(t);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function L_(n){const e=Rm(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Jn&&nx(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function nx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Fl(n,AE(t,{idToken:i}));Ne(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?kE(a.providerUserInfo):[],h=sx(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new fp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function ix(n){const e=Dt(n);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sx(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function kE(n){return n.map(e=>{var{providerId:t}=e,i=Tm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(n,e){const t=await RE(n,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=CE(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",SE.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ax(n,e){return Ms(n,"POST","/v2/accounts:revokeToken",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=L_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await ox(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new ya;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ya,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Tm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tx(this,e)}reload(){return ix(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await id(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await Fl(this,ex(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,h,f,m,v;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,$=(m=t.createdAt)!==null&&m!==void 0?m:void 0,H=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:X,isAnonymous:L,providerData:se,stsTokenManager:A}=t;Ne(K&&A,e,"internal-error");const S=ya.fromJSON(this.name,A);Ne(typeof K=="string",e,"internal-error"),fs(w,e.name),fs(T,e.name),Ne(typeof X=="boolean",e,"internal-error"),Ne(typeof L=="boolean",e,"internal-error"),fs(R,e.name),fs(b,e.name),fs(V,e.name),fs(P,e.name),fs($,e.name),fs(H,e.name);const C=new ki({uid:K,auth:e,email:T,emailVerified:X,displayName:w,isAnonymous:L,photoURL:b,phoneNumber:R,tenantId:V,stsTokenManager:S,createdAt:$,lastLoginAt:H});return se&&Array.isArray(se)&&(C.providerData=se.map(N=>Object.assign({},N))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new ya;o.updateFromServerResponse(t);const a=new ki({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await id(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?kE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new ya;h.updateFromIdToken(i);const f=new ki({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function Pi(n){Di(n instanceof Function,"Expected a class definition");let e=M_.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PE.type="NONE";const V_=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class va{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new va(Pi(V_),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Pi(V_);const u=bc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){const w=ki._fromJSON(e,v);m!==a&&(h=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new va(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new va(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LE(e))return"Blackberry";if(ME(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||NE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xE(n=wn()){return/firefox\//i.test(n)}function bE(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NE(n=wn()){return/crios\//i.test(n)}function DE(n=wn()){return/iemobile/i.test(n)}function OE(n=wn()){return/android/i.test(n)}function LE(n=wn()){return/blackberry/i.test(n)}function ME(n=wn()){return/webos/i.test(n)}function Cm(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lx(n=wn()){var e;return Cm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ux(){return vC()&&document.documentMode===10}function VE(n=wn()){return Cm(n)||OE(n)||ME(n)||LE(n)||/windows phone/i.test(n)||DE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n,e=[]){let t;switch(n){case"Browser":t=F_(wn());break;case"Worker":t=`${F_(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,e={}){return Ms(n,"GET","/v2/passwordPolicy",Ls(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=6;class fx{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:hx,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new cx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await va.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await AE(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(xi(this));const t=e?Dt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dx(this),t=new fx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await ax(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await va.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ro(n){return Dt(n)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=RC(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mx(n){Dd=n}function UE(n){return Dd.loadJS(n)}function gx(){return Dd.recaptchaEnterpriseScript}function yx(){return Dd.gapiScript}function vx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _x{constructor(){this.enterprise=new wx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ex="recaptcha-enterprise",jE="NO_RECAPTCHA";class Tx{constructor(e){this.type=Ex,this.auth=Ro(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{ZP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new JP(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;O_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(jE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _x().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&O_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=gx();f.length!==0&&(f+=h),UE(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function j_(n,e,t,i=!1,o=!1){const a=new Tx(n);let u;if(o)u=jE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function pp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await j_(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await j_(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n,e){const t=Li(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Cs(a,e??{}))return o;Nr(o,"already-initialized")}return t.initialize({options:e})}function Sx(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Pi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Rx(n,e,t){const i=Ro(n);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=$E(e),{host:u,port:h}=Cx(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Cs(m,i.config.emulator)&&Cs(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ax()}function $E(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Cx(n){const e=$E(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:$_(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:$_(u)}}}function $_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Ax(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function kx(n,e){return Ms(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(n,e){return Xl(n,"POST","/v1/accounts:signInWithPassword",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(n,e){return Xl(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}async function bx(n,e){return Xl(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Am{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ul(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,t,"signInWithPassword",Px);case"emailLink":return xx(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,i,"signUpPassword",kx);case"emailLink":return bx(e,{idToken:t,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(n,e){return Xl(n,"POST","/v1/accounts:signInWithIdp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="http://localhost";class mo extends Am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Tm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new mo(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return _a(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,_a(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_a(e,t)}buildRequest(){const e={requestUri:Nx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ox(n){const e=_l(wl(n)).link,t=e?_l(wl(e)).deep_link_id:null,i=_l(wl(n)).deep_link_id;return(i?_l(wl(i)).link:null)||i||t||e||n}class km{constructor(e){var t,i,o,a,u,h;const f=_l(wl(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,w=Dx((o=f.mode)!==null&&o!==void 0?o:null);Ne(m&&v&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Ox(e);try{return new km(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=km.parseLink(t);return Ne(i,"argument-error"),Ul._fromEmailAndCode(e,i.code,i.tenantId)}}Oa.PROVIDER_ID="password";Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends zE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Jl{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ys.credential(t,i)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Jl{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Jl{constructor(){super("twitter.com")}static credential(e,t){return mo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _s.credential(t,i)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(n,e){return Xl(n,"POST","/v1/accounts:signUp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ki._fromIdTokenResponse(e,i,o),u=z_(i);return new go({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=z_(i);return new go({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function z_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Jn{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new sd(e,t,i,o)}}function BE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(n,a,e,i):a})}async function Mx(n,e,t=!1){const i=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return go._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(n,e,t=!1){const{auth:i}=n;if(Vn(i.app))return Promise.reject(xi(i));const o="reauthenticate";try{const a=await Fl(n,BE(i,o,e,n),t);Ne(a.idToken,i,"internal-error");const u=Rm(a.idToken);Ne(u,i,"internal-error");const{sub:h}=u;return Ne(n.uid===h,i,"user-mismatch"),go._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Nr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(n,e,t=!1){if(Vn(n.app))return Promise.reject(xi(n));const i="signIn",o=await BE(n,i,e),a=await go._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function Fx(n,e){return HE(Ro(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(n){const e=Ro(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ux(n,e,t){if(Vn(n.app))return Promise.reject(xi(n));const i=Ro(n),u=await pp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lx).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&qE(n),f}),h=await go._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function jx(n,e,t){return Vn(n.app)?Promise.reject(xi(n)):Fx(Dt(n),Oa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qE(n),i})}function $x(n,e,t,i){return Dt(n).onIdTokenChanged(e,t,i)}function zx(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function Bx(n,e,t,i){return Dt(n).onAuthStateChanged(e,t,i)}function Hx(n){return Dt(n).signOut()}const od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1e3,Wx=10;class KE extends WE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);ux()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Wx):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const Kx=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends WE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GE.type="SESSION";const QE=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Od(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await Gx(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Pm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function Yx(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function Xx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jx(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Zx(){return YE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebaseLocalStorageDb",eb=1,ad="firebaseLocalStorage",JE="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ld(n,e){return n.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function tb(){const n=indexedDB.deleteDatabase(XE);return new Zl(n).toPromise()}function mp(){const n=indexedDB.open(XE,eb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ad,{keyPath:JE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ad)?e(i):(i.close(),await tb(),e(await mp()))})})}async function B_(n,e,t){const i=Ld(n,!0).put({[JE]:e,value:t});return new Zl(i).toPromise()}async function nb(n,e){const t=Ld(n,!1).get(e),i=await new Zl(t).toPromise();return i===void 0?null:i.value}function H_(n,e){const t=Ld(n,!0).delete(e);return new Zl(t).toPromise()}const rb=800,ib=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ib)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(Zx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Xx(),!this.activeServiceWorker)return;this.sender=new Qx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await B_(e,od,"1"),await H_(e,od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>B_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>nb(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>H_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Ld(o,!1).getAll();return new Zl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const sb=ZE;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n,e){return e?Pi(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Am{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _a(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _a(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _a(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ab(n){return HE(n.auth,new xm(n),n.bypassAuthState)}function lb(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),Vx(t,new xm(n),n.bypassAuthState)}async function ub(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),Mx(t,new xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ab;case"linkViaPopup":case"linkViaRedirect":return ub;case"reauthViaPopup":case"reauthViaRedirect":return lb;default:Nr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Yl(2e3,1e4);class da extends eT{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cb.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="pendingRedirect",Nc=new Map;class hb extends eT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const i=await fb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fb(n,e){const t=gb(e),i=mb(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function pb(n,e){Nc.set(n._key(),e)}function mb(n){return Pi(n._redirectPersistence)}function gb(n){return bc(db,n.config.apiKey,n.name)}async function yb(n,e,t=!1){if(Vn(n.app))return Promise.reject(xi(n));const i=Ro(n),o=ob(i,e),u=await new hb(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=10*60*1e3;class _b{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!tT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Zr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vb&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(n,e={}){return Ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ib=/^https?/;async function Sb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Eb(n);for(const t of e)try{if(Rb(t))return}catch{}Nr(n,"unauthorized-domain")}function Rb(n){const e=hp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Ib.test(t))return!1;if(Tb.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Yl(3e4,6e4);function W_(){const n=ei().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ab(n){return new Promise((e,t)=>{var i,o,a;function u(){W_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W_(),t(Zr(n,"network-request-failed"))},timeout:Cb.get()})}if(!((o=(i=ei().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ei().gapi)===null||a===void 0)&&a.load)u();else{const h=vx("iframefcb");return ei()[h]=()=>{gapi.load?u():t(Zr(n,"network-request-failed"))},UE(`${yx()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function kb(n){return Dc=Dc||Ab(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Yl(5e3,15e3),xb="__/auth/iframe",bb="emulator/auth/iframe",Nb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Db=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ob(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sm(e,bb):`https://${n.config.authDomain}/${xb}`,i={apiKey:e.apiKey,appName:n.name,v:Io},o=Db.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Hl(i).slice(1)}`}async function Lb(n){const e=await kb(n),t=ei().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:Ob(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nb,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Zr(n,"network-request-failed"),h=ei().setTimeout(()=>{a(u)},Pb.get());function f(){ei().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vb=500,Fb=600,Ub="_blank",jb="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $b(n,e,t,i=Vb,o=Fb){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Mb),{width:i.toString(),height:o.toString(),top:a,left:u}),m=wn().toLowerCase();t&&(h=NE(m)?Ub:t),xE(m)&&(e=e||jb,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[R,b])=>`${T}${R}=${b},`,"");if(lx(m)&&h!=="_self")return zb(e||"",h),new K_(null);const w=window.open(e||"",h,v);Ne(w,n,"popup-blocked");try{w.focus()}catch{}return new K_(w)}function zb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__/auth/handler",Hb="emulator/auth/handler",qb=encodeURIComponent("fac");async function G_(n,e,t,i,o,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Io,eventId:o};if(e instanceof zE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",SC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Jl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${qb}=${encodeURIComponent(f)}`:"";return`${Wb(n)}?${Hl(h).slice(1)}${m}`}function Wb({config:n}){return n.emulator?Sm(n,Hb):`https://${n.authDomain}/${Bb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="webStorageSupport";class Kb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=yb,this._overrideRedirectResult=pb}async _openPopup(e,t,i,o){var a;Di((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await G_(e,t,i,hp(),o);return $b(e,u,Pm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await G_(e,t,i,hp(),o);return Yx(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Di(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Lb(e),i=new _b(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Of,{type:Of},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Of];u!==void 0&&t(!!u),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VE()||bE()||Cm()}}const Gb=Kb;var Q_="@firebase/auth",Y_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xb(n){fr(new Xn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FE(n)},m=new px(i,o,a,f);return Sx(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),fr(new Xn("auth-internal",e=>{const t=Ro(e.getProvider("auth").getImmediate());return(i=>new Qb(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(Q_,Y_,Yb(n)),_n(Q_,Y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=5*60,Zb=K0("authIdTokenMaxAge")||Jb;let X_=null;const eN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Zb)return;const o=t==null?void 0:t.token;X_!==o&&(X_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tN(n=ql()){const e=Li(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ix(n,{popupRedirectResolver:Gb,persistence:[sb,Kx,QE]}),i=K0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=eN(a.toString());zx(t,u,()=>u(t.currentUser)),$x(t,h=>u(h))}}const o=q0("auth");return o&&Rx(t,`http://${o}`),t}function nN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}mx({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Zr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",nN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xb("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebasestorage.googleapis.com",rN="storageBucket",iN=2*60*1e3,sN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Jn{constructor(e,t,i=0){super(Lf(e),`Firebase Storage: ${t} (${Lf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ni;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ni||(ni={}));function Lf(n){return"storage/"+n}function oN(){const n="An unknown error occurred, please check the error payload for server response.";return new ai(ni.UNKNOWN,n)}function aN(){return new ai(ni.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lN(){return new ai(ni.CANCELED,"User canceled the upload/download.")}function uN(n){return new ai(ni.INVALID_URL,"Invalid URL '"+n+"'.")}function cN(n){return new ai(ni.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function J_(n){return new ai(ni.INVALID_ARGUMENT,n)}function rT(){return new ai(ni.APP_DELETED,"The Firebase app was deleted.")}function dN(n){return new ai(ni.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=xr.makeFromUrl(e,t)}catch{return new xr(e,"")}if(i.path==="")return i;throw cN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",R=new RegExp(`^https?://${w}/${v}/b/${o}/o${T}`,"i"),b={bucket:1,path:3},V=t===nT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",$=new RegExp(`^https?://${V}/${o}/${P}`,"i"),K=[{regex:h,indices:f,postModify:a},{regex:R,indices:b,postModify:m},{regex:$,indices:{bucket:1,path:2},postModify:m}];for(let X=0;X<K.length;X++){const L=K[X],se=L.regex.exec(e);if(se){const A=se[L.indices.bucket];let S=se[L.indices.path];S||(S=""),i=new xr(A,S),L.postModify(i);break}}if(i==null)throw uN(e);return i}}class hN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,e,t){let i=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function v(...P){m||(m=!0,e.apply(null,P))}function w(P){o=setTimeout(()=>{o=null,n(R,f())},P)}function T(){a&&clearTimeout(a)}function R(P,...$){if(m){T();return}if(P){T(),v.call(null,P,...$);return}if(f()||u){T(),v.call(null,P,...$);return}i<64&&(i*=2);let K;h===1?(h=2,K=0):K=(i+Math.random())*1e3,w(K)}let b=!1;function V(P){b||(b=!0,T(),!m&&(o!==null?(P||(h=2),clearTimeout(o),w(0)):P||(h=1)))}return w(0),a=setTimeout(()=>{u=!0,V(!0)},t),V}function pN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){return n!==void 0}function Z_(n,e,t,i){if(i<e)throw J_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw J_(`Invalid value for '${n}'. Expected ${t} or less.`)}function gN(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var ld;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ld||(ld={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,i,o,a,u,h,f,m,v,w,T=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=w,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,b)=>{this.resolve_=R,this.reject_=b,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new _c(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===ld.NO_ERROR,f=a.getStatus();if(!h||yN(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===ld.ABORT;i(!1,new _c(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new _c(m,a))})},t=(i,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());mN(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=oN();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?rT():lN();u(f)}else{const f=aN();u(f)}};this.canceled_?t(!1,new _c(!1,null,!0)):this.backoffId_=fN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function _N(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function TN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function IN(n,e,t,i,o,a,u=!0){const h=gN(n.urlParams),f=n.url+h,m=Object.assign({},n.headers);return EN(m,e),_N(m,t),wN(m,a),TN(m,i),new vN(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RN(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this._service=e,t instanceof xr?this._location=t:this._location=xr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ud(e,t)}get root(){const e=new xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RN(this._location.path)}get storage(){return this._service}get parent(){const e=SN(this._location.path);if(e===null)return null;const t=new xr(this._location.bucket,e);return new ud(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dN(e)}}function e0(n,e){const t=e==null?void 0:e[rN];return t==null?null:xr.makeFromBucketSpec(t,n)}function CN(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:G0(o,n.app.options.projectId))}class AN{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=nT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iN,this._maxUploadRetryTime=sN,this._requests=new Set,o!=null?this._bucket=xr.makeFromBucketSpec(o,this._host):this._bucket=e0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xr.makeFromBucketSpec(this._url,e):this._bucket=e0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ud(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new hN(rT());{const u=IN(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const t0="@firebase/storage",n0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="storage";function kN(n=ql(),e){n=Dt(n);const i=Li(n,iT).getImmediate({identifier:e}),o=Fp("storage");return o&&PN(i,...o),i}function PN(n,e,t,i={}){CN(n,e,t,i)}function xN(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new AN(t,i,o,e,Io)}function bN(){fr(new Xn(iT,xN,"PUBLIC").setMultipleInstances(!0)),_n(t0,n0,""),_n(t0,n0,"esm2017")}bN();const sT="@firebase/installations",bm="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=1e4,aT=`w:${bm}`,lT="FIS_v2",NN="https://firebaseinstallations.googleapis.com/v1",DN=60*60*1e3,ON="installations",LN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yo=new To(ON,LN,MN);function uT(n){return n instanceof Jn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT({projectId:n}){return`${NN}/projects/${n}/installations`}function dT(n){return{token:n.token,requestStatus:2,expiresIn:FN(n.expiresIn),creationTime:Date.now()}}async function hT(n,e){const i=(await e.json()).error;return yo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function fT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function VN(n,{refreshToken:e}){const t=fT(n);return t.append("Authorization",UN(e)),t}async function pT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function FN(n){return Number(n.replace("s","000"))}function UN(n){return`${lT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=cT(n),o=fT(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:lT,appId:n.appId,sdkVersion:aT},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await pT(()=>fetch(i,h));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:dT(m.authToken)}}else throw await hT("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=/^[cdef][\w-]{21}$/,gp="";function BN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=HN(n);return zN.test(t)?t:gp}catch{return gp}}function HN(n){return $N(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;function yT(n,e){const t=Md(n);vT(t,e),qN(t,e)}function vT(n,e){const t=gT.get(n);if(t)for(const i of t)i(e)}function qN(n,e){const t=WN();t&&t.postMessage({key:n,fid:e}),KN()}let co=null;function WN(){return!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=n=>{vT(n.data.key,n.data.fid)}),co}function KN(){gT.size===0&&co&&(co.close(),co=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="firebase-installations-database",QN=1,vo="firebase-installations-store";let Mf=null;function Nm(){return Mf||(Mf=ew(GN,QN,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(vo)}}})),Mf}async function cd(n,e){const t=Md(n),o=(await Nm()).transaction(vo,"readwrite"),a=o.objectStore(vo),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&yT(n,e.fid),e}async function _T(n){const e=Md(n),i=(await Nm()).transaction(vo,"readwrite");await i.objectStore(vo).delete(e),await i.done}async function Vd(n,e){const t=Md(n),o=(await Nm()).transaction(vo,"readwrite"),a=o.objectStore(vo),u=await a.get(t),h=e(u);return h===void 0?await a.delete(t):await a.put(h,t),await o.done,h&&(!u||u.fid!==h.fid)&&yT(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(n){let e;const t=await Vd(n.appConfig,i=>{const o=YN(i),a=XN(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===gp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function YN(n){const e=n||{fid:BN(),registrationStatus:0};return wT(e)}function XN(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(yo.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=JN(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZN(n)}:{installationEntry:e}}async function JN(n,e){try{const t=await jN(n,e);return cd(n.appConfig,t)}catch(t){throw uT(t)&&t.customData.serverCode===409?await _T(n.appConfig):await cd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ZN(n){let e=await r0(n.appConfig);for(;e.registrationStatus===1;)await mT(100),e=await r0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Dm(n);return i||t}return e}function r0(n){return Vd(n,e=>{if(!e)throw yo.create("installation-not-found");return wT(e)})}function wT(n){return eD(n)?{fid:n.fid,registrationStatus:0}:n}function eD(n){return n.registrationStatus===1&&n.registrationTime+oT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD({appConfig:n,heartbeatServiceProvider:e},t){const i=nD(n,t),o=VN(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:aT,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await pT(()=>fetch(i,h));if(f.ok){const m=await f.json();return dT(m)}else throw await hT("Generate Auth Token",f)}function nD(n,{fid:e}){return`${cT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(n,e=!1){let t;const i=await Vd(n.appConfig,a=>{if(!ET(a))throw yo.create("not-registered");const u=a.authToken;if(!e&&sD(u))return a;if(u.requestStatus===1)return t=rD(n,e),a;{if(!navigator.onLine)throw yo.create("app-offline");const h=aD(a);return t=iD(n,h),h}});return t?await t:i.authToken}async function rD(n,e){let t=await i0(n.appConfig);for(;t.authToken.requestStatus===1;)await mT(100),t=await i0(n.appConfig);const i=t.authToken;return i.requestStatus===0?Om(n,e):i}function i0(n){return Vd(n,e=>{if(!ET(e))throw yo.create("not-registered");const t=e.authToken;return lD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function iD(n,e){try{const t=await tD(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await cd(n.appConfig,i),t}catch(t){if(uT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await _T(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cd(n.appConfig,i)}throw t}}function ET(n){return n!==void 0&&n.registrationStatus===2}function sD(n){return n.requestStatus===2&&!oD(n)}function oD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+DN}function aD(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function lD(n){return n.requestStatus===1&&n.requestTime+oT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n){const e=n,{installationEntry:t,registrationPromise:i}=await Dm(e);return i?i.catch(console.error):Om(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e=!1){const t=n;return await dD(t),(await Om(t,e)).token}async function dD(n){const{registrationPromise:e}=await Dm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){if(!n||!n.options)throw Vf("App Configuration");if(!n.name)throw Vf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Vf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vf(n){return yo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="installations",fD="installations-internal",pD=n=>{const e=n.getProvider("app").getImmediate(),t=hD(e),i=Li(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},mD=n=>{const e=n.getProvider("app").getImmediate(),t=Li(e,TT).getImmediate();return{getId:()=>uD(t),getToken:o=>cD(t,o)}};function gD(){fr(new Xn(TT,pD,"PUBLIC")),fr(new Xn(fD,mD,"PRIVATE"))}gD();_n(sT,bm);_n(sT,bm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="analytics",yD="firebase_id",vD="origin",_D=60*1e3,wD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new _d("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new To("analytics","Analytics",ED);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){if(!n.startsWith(Lm)){const e=Yn.create("invalid-gtag-resource",{gtagURL:n});return Un.warn(e.message),""}return n}function IT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ID(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function SD(n,e){const t=ID("firebase-js-sdk-policy",{createScriptURL:TD}),i=document.createElement("script"),o=`${Lm}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function RD(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function CD(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const f=(await IT(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(h){Un.error(h)}n("config",o,a)}async function AD(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const h=await IT(t);for(const f of u){const m=h.find(w=>w.measurementId===f),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){Un.error(a)}}function kD(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[h,f]=u;await AD(n,e,t,h,f)}else if(a==="config"){const[h,f]=u;await CD(n,e,t,i,h,f)}else if(a==="consent"){const[h,f]=u;n("consent",h,f)}else if(a==="get"){const[h,f,m]=u;n("get",h,f,m)}else if(a==="set"){const[h]=u;n("set",h)}else n(a,...u)}catch(h){Un.error(h)}}return o}function PD(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=kD(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function xD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Lm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=30,ND=1e3;class DD{constructor(e={},t=ND){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ST=new DD;function OD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function LD(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:OD(i)},a=wD.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function MD(n,e=ST,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw Yn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Yn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new UD;return setTimeout(async()=>{h.abort()},_D),RT({appId:i,apiKey:o,measurementId:a},u,h,e)}async function RT(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=ST){var a;const{appId:u,measurementId:h}=n;try{await VD(i,e)}catch(f){if(h)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:h};throw f}try{const f=await LD(n);return o.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!FD(m)){if(o.deleteThrottleMetadata(u),h)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:h};throw f}const v=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?Rv(t,o.intervalMillis,bD):Rv(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(u,w),Un.debug(`Calling attemptFetch again in ${v} millis`),RT(n,w,i,o)}}function VD(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function FD(n){if(!(n instanceof Jn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class UD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jD(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(){if(Y0())try{await X0()}catch(n){return Un.warn(Yn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Un.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zD(n,e,t,i,o,a,u){var h;const f=MD(n);f.then(R=>{t[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Un.error(R)),e.push(f);const m=$D().then(R=>{if(R)return i.getId()}),[v,w]=await Promise.all([f,m]);xD(a)||SD(a,v.measurementId),o("js",new Date);const T=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return T[vD]="firebase",T.update=!0,w!=null&&(T[yD]=w),o("config",v.measurementId,T),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.app=e}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},s0=[];const o0={};let Ff="dataLayer",HD="gtag",a0,CT,l0=!1;function qD(){const n=[];if(Q0()&&n.push("This is a browser extension environment."),wC()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=Yn.create("invalid-analytics-context",{errorInfo:e});Un.warn(t.message)}}function WD(n,e,t){qD();const i=n.options.appId;if(!i)throw Yn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(Pl[i]!=null)throw Yn.create("already-exists",{id:i});if(!l0){RD(Ff);const{wrappedGtag:a,gtagCore:u}=PD(Pl,s0,o0,Ff,HD);CT=a,a0=u,l0=!0}return Pl[i]=zD(n,s0,o0,e,a0,Ff,t),new BD(n)}function KD(n=ql()){n=Dt(n);const e=Li(n,dd);return e.isInitialized()?e.getImmediate():GD(n)}function GD(n,e={}){const t=Li(n,dd);if(t.isInitialized()){const o=t.getImmediate();if(Cs(e,t.getOptions()))return o;throw Yn.create("already-initialized")}return t.initialize({options:e})}function QD(n,e,t,i){n=Dt(n),jD(CT,Pl[n.app.options.appId],e,t,i).catch(o=>Un.error(o))}const u0="@firebase/analytics",c0="0.10.12";function YD(){fr(new Xn(dd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return WD(i,o,t)},"PUBLIC")),fr(new Xn("analytics-internal",n,"PRIVATE")),_n(u0,c0),_n(u0,c0,"esm2017");function n(e){try{const t=e.getProvider(dd).getImmediate();return{logEvent:(i,o,a)=>QD(t,i,o,a)}}catch(t){throw Yn.create("interop-component-reg-failed",{reason:t})}}}YD();const XD={apiKey:"AIzaSyCG_qXbdnlbUIa1QYkzkzto1L8SXFdLLN8",authDomain:"ecommerce-pc-parts.firebaseapp.com",projectId:"ecommerce-pc-parts",storageBucket:"ecommerce-pc-parts.firebasestorage.app",messagingSenderId:"153204523621",appId:"1:153204523621:web:4b1e4bde73cf058b6dfc8c",measurementId:"G-QJTMEYB4PD"},Fd=tw(XD),JD=TP(Fd),wc=tN(Fd);kN(Fd);KD(Fd);const AT=U.createContext(void 0),ZD=({children:n})=>{const[e,t]=U.useState(null),[i,o]=U.useState(!0),a=async(m,v)=>{await Ux(wc,m,v)},u=async(m,v)=>{await jx(wc,m,v)},h=async()=>{await Hx(wc)};U.useEffect(()=>Bx(wc,v=>{t(v),o(!1)}),[]);const f={currentUser:e,signUp:a,signIn:u,signOutUser:h};return te.jsx(AT.Provider,{value:f,children:!i&&n})},kT=()=>{const n=U.useContext(AT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};function PT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=PT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function fo(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=PT(n))&&(i&&(i+=" "),i+=e);return i}function eO(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}eO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var eu=n=>typeof n=="number"&&!isNaN(n),_o=n=>typeof n=="string",Oi=n=>typeof n=="function",tO=n=>_o(n)||eu(n),yp=n=>_o(n)||Oi(n)?n:null,nO=(n,e)=>n===!1||eu(n)&&n>0?n:e,vp=n=>U.isValidElement(n)||_o(n)||Oi(n)||eu(n);function rO(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function iO({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:h,done:f,nodeRef:m,isIn:v,playToast:w}){let T=t?`${n}--${u}`:n,R=t?`${e}--${u}`:e,b=U.useRef(0);return U.useLayoutEffect(()=>{let V=m.current,P=T.split(" "),$=H=>{H.target===m.current&&(w(),V.removeEventListener("animationend",$),V.removeEventListener("animationcancel",$),b.current===0&&H.type!=="animationcancel"&&V.classList.remove(...P))};V.classList.add(...P),V.addEventListener("animationend",$),V.addEventListener("animationcancel",$)},[]),U.useEffect(()=>{let V=m.current,P=()=>{V.removeEventListener("animationend",P),i?rO(V,f,o):f()};v||(h?P():(b.current=1,V.className+=` ${R}`,V.addEventListener("animationend",P)))},[v]),gt.createElement(gt.Fragment,null,a)}}function d0(n,e){return{content:xT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function xT(n,e,t=!1){return U.isValidElement(n)&&!_o(n.type)?U.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Oi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function sO({closeToast:n,theme:e,ariaLabel:t="close"}){return gt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},gt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},gt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function oO({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:h,rtl:f,isIn:m,theme:v}){let w=o||u&&h===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(T.transform=`scaleX(${h})`);let R=fo("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),b=Oi(a)?a({rtl:f,type:i,defaultClassName:R}):fo(R,a),V={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return gt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},gt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),gt.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:b,style:T,...V}))}var aO=1,bT=()=>`${aO++}`;function lO(n,e,t){let i=1,o=0,a=[],u=[],h=e,f=new Map,m=new Set,v=H=>(m.add(H),()=>m.delete(H)),w=()=>{u=Array.from(f.values()),m.forEach(H=>H())},T=({containerId:H,toastId:K,updateId:X})=>{let L=H?H!==n:n!==1,se=f.has(K)&&X==null;return L||se},R=(H,K)=>{f.forEach(X=>{var L;(K==null||K===X.props.toastId)&&((L=X.toggle)==null||L.call(X,H))})},b=H=>{var K,X;(X=(K=H.props)==null?void 0:K.onClose)==null||X.call(K,H.removalReason),H.isActive=!1},V=H=>{if(H==null)f.forEach(b);else{let K=f.get(H);K&&b(K)}w()},P=()=>{o-=a.length,a=[]},$=H=>{var K,X;let{toastId:L,updateId:se}=H.props,A=se==null;H.staleId&&f.delete(H.staleId),H.isActive=!0,f.set(L,H),w(),t(d0(H,A?"added":"updated")),A&&((X=(K=H.props).onOpen)==null||X.call(K))};return{id:n,props:h,observe:v,toggle:R,removeToast:V,toasts:f,clearQueue:P,buildToast:(H,K)=>{if(T(K))return;let{toastId:X,updateId:L,data:se,staleId:A,delay:S}=K,C=L==null;C&&o++;let N={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(K).filter(([j,x])=>x!=null)),toastId:X,updateId:L,data:se,isIn:!1,className:yp(K.className||h.toastClassName),progressClassName:yp(K.progressClassName||h.progressClassName),autoClose:K.isLoading?!1:nO(K.autoClose,h.autoClose),closeToast(j){f.get(X).removalReason=j,V(X)},deleteToast(){let j=f.get(X);if(j!=null){if(t(d0(j,"removed")),f.delete(X),o--,o<0&&(o=0),a.length>0){$(a.shift());return}w()}}};N.closeButton=h.closeButton,K.closeButton===!1||vp(K.closeButton)?N.closeButton=K.closeButton:K.closeButton===!0&&(N.closeButton=vp(h.closeButton)?h.closeButton:!0);let M={content:H,props:N,staleId:A};h.limit&&h.limit>0&&o>h.limit&&C?a.push(M):eu(S)?setTimeout(()=>{$(M)},S):$(M)},setProps(H){h=H},setToggle:(H,K)=>{let X=f.get(H);X&&(X.toggle=K)},isToastActive:H=>{var K;return(K=f.get(H))==null?void 0:K.isActive},getSnapshot:()=>u}}var Rn=new Map,jl=[],_p=new Set,uO=n=>_p.forEach(e=>e(n)),NT=()=>Rn.size>0;function cO(){jl.forEach(n=>OT(n.content,n.options)),jl=[]}var dO=(n,{containerId:e})=>{var t;return(t=Rn.get(e||1))==null?void 0:t.toasts.get(n)};function DT(n,e){var t;if(e)return!!((t=Rn.get(e))!=null&&t.isToastActive(n));let i=!1;return Rn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function hO(n){if(!NT()){jl=jl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||tO(n))Rn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Rn.get(n.containerId);e?e.removeToast(n.id):Rn.forEach(t=>{t.removeToast(n.id)})}}var fO=(n={})=>{Rn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function OT(n,e){vp(n)&&(NT()||jl.push({content:n,options:e}),Rn.forEach(t=>{t.buildToast(n,e)}))}function pO(n){var e;(e=Rn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function LT(n,e){Rn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function mO(n){let e=n.containerId||1;return{subscribe(t){let i=lO(e,n,uO);Rn.set(e,i);let o=i.observe(t);return cO(),()=>{o(),Rn.delete(e)}},setProps(t){var i;(i=Rn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Rn.get(e))==null?void 0:t.getSnapshot()}}}function gO(n){return _p.add(n),()=>{_p.delete(n)}}function yO(n){return n&&(_o(n.toastId)||eu(n.toastId))?n.toastId:bT()}function tu(n,e){return OT(n,e),e.toastId}function Ud(n,e){return{...e,type:e&&e.type||n,toastId:yO(e)}}function jd(n){return(e,t)=>tu(e,Ud(n,t))}function qe(n,e){return tu(n,Ud("default",e))}qe.loading=(n,e)=>tu(n,Ud("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function vO(n,{pending:e,error:t,success:i},o){let a;e&&(a=_o(e)?qe.loading(e,o):qe.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,v,w)=>{if(v==null){qe.dismiss(a);return}let T={type:m,...u,...o,data:w},R=_o(v)?{render:v}:v;return a?qe.update(a,{...T,...R}):qe(R.render,{...T,...R}),w},f=Oi(n)?n():n;return f.then(m=>h("success",i,m)).catch(m=>h("error",t,m)),f}qe.promise=vO;qe.success=jd("success");qe.info=jd("info");qe.error=jd("error");qe.warning=jd("warning");qe.warn=qe.warning;qe.dark=(n,e)=>tu(n,Ud("default",{theme:"dark",...e}));function _O(n){hO(n)}qe.dismiss=_O;qe.clearWaitingQueue=fO;qe.isActive=DT;qe.update=(n,e={})=>{let t=dO(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:bT()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,tu(u,a)}};qe.done=n=>{qe.update(n,{progress:1})};qe.onChange=gO;qe.play=n=>LT(!0,n);qe.pause=n=>LT(!1,n);function wO(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=U.useRef(mO(n)).current;o(n);let a=(e=U.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:v}=m.props;f.has(v)||f.set(v,[]),f.get(v).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:DT,count:a==null?void 0:a.length}}function EO(n){let[e,t]=U.useState(!1),[i,o]=U.useState(!1),a=U.useRef(null),u=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:v,closeOnClick:w}=n;pO({id:n.toastId,containerId:n.containerId,fn:t}),U.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{R()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||$(),window.addEventListener("focus",P),window.addEventListener("blur",$)}function R(){window.removeEventListener("focus",P),window.removeEventListener("blur",$)}function b(A){if(n.draggable===!0||n.draggable===A.pointerType){H();let S=a.current;u.canCloseOnClick=!0,u.canDrag=!0,S.style.transition="none",n.draggableDirection==="x"?(u.start=A.clientX,u.removalDistance=S.offsetWidth*(n.draggablePercent/100)):(u.start=A.clientY,u.removalDistance=S.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function V(A){let{top:S,bottom:C,left:N,right:M}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&n.pauseOnHover&&A.clientX>=N&&A.clientX<=M&&A.clientY>=S&&A.clientY<=C?$():P()}function P(){t(!0)}function $(){t(!1)}function H(){u.didMove=!1,document.addEventListener("pointermove",X),document.addEventListener("pointerup",L)}function K(){document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",L)}function X(A){let S=a.current;if(u.canDrag&&S){u.didMove=!0,e&&$(),n.draggableDirection==="x"?u.delta=A.clientX-u.start:u.delta=A.clientY-u.start,u.start!==A.clientX&&(u.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;S.style.transform=`translate3d(${C},0)`,S.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function L(){K();let A=a.current;if(u.canDrag&&u.didMove&&A){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let se={onPointerDown:b,onPointerUp:V};return h&&f&&(se.onMouseEnter=$,n.stacked||(se.onMouseLeave=P)),w&&(se.onClick=A=>{v&&v(A),u.canCloseOnClick&&m(!0)}),{playToast:P,pauseToast:$,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:se}}var TO=typeof window<"u"?U.useLayoutEffect:U.useEffect,$d=({theme:n,type:e,isLoading:t,...i})=>gt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function IO(n){return gt.createElement($d,{...n},gt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function SO(n){return gt.createElement($d,{...n},gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function RO(n){return gt.createElement($d,{...n},gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function CO(n){return gt.createElement($d,{...n},gt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function AO(){return gt.createElement("div",{className:"Toastify__spinner"})}var wp={info:SO,warning:IO,success:RO,error:CO,spinner:AO},kO=n=>n in wp;function PO({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(Oi(i)?o=i({...a,isLoading:t}):U.isValidElement(i)?o=U.cloneElement(i,a):t?o=wp.spinner():kO(e)&&(o=wp[e](a))),o}var xO=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=EO(n),{closeButton:u,children:h,autoClose:f,onClick:m,type:v,hideProgressBar:w,closeToast:T,transition:R,position:b,className:V,style:P,progressClassName:$,updateId:H,role:K,progress:X,rtl:L,toastId:se,deleteToast:A,isIn:S,isLoading:C,closeOnClick:N,theme:M,ariaLabel:j}=n,x=fo("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":N}),ut=Oi(V)?V({rtl:L,position:b,type:v,defaultClassName:x}):fo(x,V),je=PO(n),Et=!!X||!f,$e={closeToast:T,type:v,theme:M},le=null;return u===!1||(Oi(u)?le=u($e):U.isValidElement(u)?le=U.cloneElement(u,$e):le=sO($e)),gt.createElement(R,{isIn:S,done:A,position:b,preventExitTransition:t,nodeRef:i,playToast:a},gt.createElement("div",{id:se,tabIndex:0,onClick:m,"data-in":S,className:ut,...o,style:P,ref:i,...S&&{role:K,"aria-label":j}},je!=null&&gt.createElement("div",{className:fo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},je),xT(h,n,!e),le,!n.customProgressBar&&gt.createElement(oO,{...H&&!Et?{key:`p-${H}`}:{},rtl:L,theme:M,delay:f,isRunning:e,isIn:S,closeToast:T,hide:w,type:v,className:$,controlledProgress:Et,progress:X||0})))},bO=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),NO=iO(bO("bounce",!0)),DO={position:"top-right",transition:NO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function OO(n){let e={...DO,...n},t=n.stacked,[i,o]=U.useState(!0),a=U.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=wO(e),{className:m,style:v,rtl:w,containerId:T,hotKeys:R}=e;function b(P){let $=fo("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":w});return Oi(m)?m({position:P,rtl:w,defaultClassName:$}):fo($,yp(m))}function V(){t&&(o(!0),qe.play())}return TO(()=>{var P;if(t){let $=a.current.querySelectorAll('[data-in="true"]'),H=12,K=(P=e.position)==null?void 0:P.includes("top"),X=0,L=0;Array.from($).reverse().forEach((se,A)=>{let S=se;S.classList.add("Toastify__toast--stacked"),A>0&&(S.dataset.collapsed=`${i}`),S.dataset.pos||(S.dataset.pos=K?"top":"bot");let C=X*(i?.2:1)+(i?0:H*A);S.style.setProperty("--y",`${K?C:C*-1}px`),S.style.setProperty("--g",`${H}`),S.style.setProperty("--s",`${1-(i?L:0)}`),X+=S.offsetHeight,L+=.025})}},[i,f,t]),U.useEffect(()=>{function P($){var H;let K=a.current;R($)&&((H=K.querySelector('[tabIndex="0"]'))==null||H.focus(),o(!1),qe.pause()),$.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(o(!0),qe.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[R]),gt.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),qe.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((P,$)=>{let H=$.length?{...v}:{...v,pointerEvents:"none"};return gt.createElement("div",{tabIndex:-1,className:b(P),"data-stacked":t,style:H,key:`c-${P}`},$.map(({content:K,props:X})=>gt.createElement(xO,{...X,stacked:t,collapseAll:V,isIn:h(X.toastId,X.containerId),key:`t-${X.key}`},K)))}))}const MT=U.createContext(void 0),LO=({children:n})=>{const[e,t]=U.useState([]),[i,o]=U.useState(null),a=v=>{const w=e.find(R=>R.id===v.id),T=w?w.quantity:0;if(v.stock!==void 0&&T>=v.stock){qe.error(`No hay más stock disponible para ${v.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}o(v),t(R=>w?R.map(b=>b.id===v.id?{...b,quantity:b.quantity+1}:b):[...R,{...v,quantity:1}])},u=v=>{const w=e.find(T=>T.id===v);if(w){if(w.stock!==void 0&&w.quantity>=w.stock){qe.error(`No hay más stock disponible para ${w.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}t(T=>T.map(R=>R.id===v?{...R,quantity:R.quantity+1}:R))}},h=v=>{t(w=>{const T=w.find(R=>R.id===v);return T&&T.quantity>1?w.map(R=>R.id===v?{...R,quantity:R.quantity-1}:R):w.filter(R=>R.id!==v)})},f=v=>{t(w=>{const T=w.find(R=>R.id===v);return T&&T.quantity>1?w.map(R=>R.id===v?{...R,quantity:R.quantity-1}:R):w.filter(R=>R.id!==v)})},m=()=>{t([])};return U.useEffect(()=>{if(i){const v=e.find(w=>w.id===i.id);v?qe.success(`${i.name} añadido al carrito (x${v.quantity})`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):qe.success(`${i.name} añadido al carrito`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),o(null)}},[e,i]),te.jsx(MT.Provider,{value:{cartItems:e,addToCart:a,removeFromCart:f,clearCart:m,increaseQuantity:u,decreaseQuantity:h},children:n})},MO=()=>{const n=U.useContext(MT);if(!n)throw new Error("useCart must be used within a CartProvider");return n},VO=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[o,a]=U.useState(""),{signIn:u}=kT(),h=gd(),f=async m=>{m.preventDefault(),a("");try{await u(n,t),h("/")}catch(v){a(v.message)}};return te.jsx("div",{className:"min-h-screen bg-[var(--background-color)] p-6 flex items-center justify-center",children:te.jsxs("div",{className:"container mx-auto max-w-md p-6  rounded-lg shadow-lg",children:[te.jsx("h1",{className:"text-3xl font-semibold mb-4 text-center",style:{color:"var(--text-color)"},children:"Iniciar Sesión"}),o&&te.jsx("p",{className:"text-[var(--error-color)] mb-4 text-center",style:{color:"var(--error-color)"},children:o}),te.jsxs("form",{onSubmit:f,className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Correo Electrónico"}),te.jsx("input",{type:"email",value:n,onChange:m=>e(m.target.value),className:"w-full p-2 rounded-md bg-[var(--input-bg)] text-[var(--text-color)] border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-[var(--button-bg)]",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Contraseña"}),te.jsx("input",{type:"password",value:t,onChange:m=>i(m.target.value),className:"w-full p-2 rounded-md bg-[var(--input-bg)] text-[var(--text-color)] border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-[var(--button-bg)]",required:!0})]}),te.jsx("button",{type:"submit",className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] px-4 py-2 rounded-md hover:bg-[var(--button-bg-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--button-bg)]",children:"Iniciar Sesión"})]}),te.jsxs("p",{className:"mt-4 text-center",style:{color:"var(--text-color)"},children:["¿No tienes una cuenta?"," ",te.jsx(Qr,{to:"/auth/register",className:"text-[var(--button-bg)] hover:underline",children:"Regístrate"})]})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ep=function(){return Ep=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},Ep.apply(this,arguments)},Tp,FO=function(n){var e;n?function(t){if(t)for(;t.lastChild;)t.lastChild.remove()}(typeof n=="string"?document.getElementById(n):n):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},UO=function(n,e){FO(e),window.___grecaptcha_cfg=void 0;var t=document.querySelector("#"+n);t&&t.remove(),function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()}()},jO=function(n){var e=n.render,t=n.onLoadCallbackName,i=n.language,o=n.onLoad,a=n.useRecaptchaNet,u=n.useEnterprise,h=n.scriptProps,f=h===void 0?{}:h,m=f.nonce,v=m===void 0?"":m,w=f.defer,T=w!==void 0&&w,R=f.async,b=R!==void 0&&R,V=f.id,P=V===void 0?"":V,$=f.appendTo,H=P||"google-recaptcha-v3";if(function(L){return!!document.querySelector("#"+L)}(H))o();else{var K=function(L){return"https://www."+(L.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(L.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:u,useRecaptchaNet:a}),X=document.createElement("script");X.id=H,X.src=K+"?render="+e+(e==="explicit"?"&onload="+t:"")+(i?"&hl="+i:""),v&&(X.nonce=v),X.defer=!!T,X.async=!!b,X.onload=o,($==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(X)}},h0=function(n){console.warn(n)};(function(n){n.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Tp||(Tp={}));var Mm=U.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});Mm.Consumer;function $O(n){var e=n.reCaptchaKey,t=n.useEnterprise,i=t!==void 0&&t,o=n.useRecaptchaNet,a=o!==void 0&&o,u=n.scriptProps,h=n.language,f=n.container,m=n.children,v=U.useState(null),w=v[0],T=v[1],R=U.useRef(e),b=JSON.stringify(u),V=JSON.stringify(f==null?void 0:f.parameters);U.useEffect(function(){if(e){var H=(u==null?void 0:u.id)||"google-recaptcha-v3",K=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[K]=function(){var X=i?window.grecaptcha.enterprise:window.grecaptcha,L=Ep({badge:"inline",size:"invisible",sitekey:e},(f==null?void 0:f.parameters)||{});R.current=X.render(f==null?void 0:f.element,L)},jO({render:f!=null&&f.element?"explicit":e,onLoadCallbackName:K,useEnterprise:i,useRecaptchaNet:a,scriptProps:u,language:h,onLoad:function(){if(window&&window.grecaptcha){var X=i?window.grecaptcha.enterprise:window.grecaptcha;X.ready(function(){T(X)})}else h0("<GoogleRecaptchaProvider /> "+Tp.SCRIPT_NOT_AVAILABLE)}}),function(){UO(H,f==null?void 0:f.element)}}h0("<GoogleReCaptchaProvider /> recaptcha key not provided")},[i,a,b,V,h,e,f==null?void 0:f.element]);var P=U.useCallback(function(H){if(!w||!w.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return w.execute(R.current,{action:H})},[w,R]),$=U.useMemo(function(){return{executeRecaptcha:w?P:void 0,container:f==null?void 0:f.element}},[P,w,f==null?void 0:f.element]);return gt.createElement(Mm.Provider,{value:$},m)}var zO=function(){return U.useContext(Mm)};function VT(n,e){return n(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var Yt=typeof Symbol=="function"&&Symbol.for,Ip=Yt?Symbol.for("react.element"):60103,Sp=Yt?Symbol.for("react.portal"):60106,Oc=Yt?Symbol.for("react.fragment"):60107,Lc=Yt?Symbol.for("react.strict_mode"):60108,Mc=Yt?Symbol.for("react.profiler"):60114,Vc=Yt?Symbol.for("react.provider"):60109,Fc=Yt?Symbol.for("react.context"):60110,Rp=Yt?Symbol.for("react.async_mode"):60111,hd=Yt?Symbol.for("react.concurrent_mode"):60111,Uc=Yt?Symbol.for("react.forward_ref"):60112,jc=Yt?Symbol.for("react.suspense"):60113,BO=Yt?Symbol.for("react.suspense_list"):60120,$c=Yt?Symbol.for("react.memo"):60115,zc=Yt?Symbol.for("react.lazy"):60116,HO=Yt?Symbol.for("react.block"):60121,qO=Yt?Symbol.for("react.fundamental"):60117,WO=Yt?Symbol.for("react.responder"):60118,KO=Yt?Symbol.for("react.scope"):60119;function Gn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Ip:switch(n=n.type){case Rp:case hd:case Oc:case Mc:case Lc:case jc:return n;default:switch(n=n&&n.$$typeof){case Fc:case Uc:case zc:case $c:case Vc:return n;default:return e}}case Sp:return e}}}function f0(n){return Gn(n)===hd}var GO={AsyncMode:Rp,ConcurrentMode:hd,ContextConsumer:Fc,ContextProvider:Vc,Element:Ip,ForwardRef:Uc,Fragment:Oc,Lazy:zc,Memo:$c,Portal:Sp,Profiler:Mc,StrictMode:Lc,Suspense:jc,isAsyncMode:function(n){return f0(n)||Gn(n)===Rp},isConcurrentMode:f0,isContextConsumer:function(n){return Gn(n)===Fc},isContextProvider:function(n){return Gn(n)===Vc},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ip},isForwardRef:function(n){return Gn(n)===Uc},isFragment:function(n){return Gn(n)===Oc},isLazy:function(n){return Gn(n)===zc},isMemo:function(n){return Gn(n)===$c},isPortal:function(n){return Gn(n)===Sp},isProfiler:function(n){return Gn(n)===Mc},isStrictMode:function(n){return Gn(n)===Lc},isSuspense:function(n){return Gn(n)===jc},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===Oc||n===hd||n===Mc||n===Lc||n===jc||n===BO||typeof n=="object"&&n!==null&&(n.$$typeof===zc||n.$$typeof===$c||n.$$typeof===Vc||n.$$typeof===Fc||n.$$typeof===Uc||n.$$typeof===qO||n.$$typeof===WO||n.$$typeof===KO||n.$$typeof===HO)},typeOf:Gn},ft=VT(function(n,e){}),p0=(ft.AsyncMode,ft.ConcurrentMode,ft.ContextConsumer,ft.ContextProvider,ft.Element,ft.ForwardRef,ft.Fragment,ft.Lazy,ft.Memo,ft.Portal,ft.Profiler,ft.StrictMode,ft.Suspense,ft.isAsyncMode,ft.isConcurrentMode,ft.isContextConsumer,ft.isContextProvider,ft.isElement,ft.isForwardRef,ft.isFragment,ft.isLazy,ft.isMemo,ft.isPortal,ft.isProfiler,ft.isStrictMode,ft.isSuspense,ft.isValidElementType,ft.typeOf,VT(function(n){n.exports=GO})),QO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},m0={};m0[p0.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m0[p0.Memo]=QO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="type.googleapis.com/google.protobuf.Int64Value",XO="type.googleapis.com/google.protobuf.UInt64Value";function FT(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function fd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>fd(e));if(typeof n=="function"||typeof n=="object")return FT(n,e=>fd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Pa(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case YO:case XO:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Pa(e)):typeof n=="function"||typeof n=="object"?FT(n,e=>Pa(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fn extends Jn{constructor(e,t,i){super(`${Vm}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,Fn.prototype)}}function JO(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function pd(n,e){let t=JO(n),i=t,o;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!g0[u])return new Fn("internal","internal");t=g0[u],i=u}const h=a.message;typeof h=="string"&&(i=h),o=a.details,o!==void 0&&(o=Pa(o))}}catch{}return t==="ok"?null:new Fn(t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Vn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o==null||o.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="us-central1",eL=/^data: (.*?)(?:\n|$)/;function tL(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new Fn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class nL{constructor(e,t,i,o,a=Cp,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new ZO(e,t,i,o),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Cp}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function rL(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function iL(n,e,t){const i=o=>oL(n,e,o,{});return i.stream=(o,a)=>lL(n,e,o,a),i}async function sL(n,e,t,i){t["Content-Type"]="application/json";let o;try{o=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function UT(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function oL(n,e,t,i){const o=n._url(e);return aL(n,o,t,i)}async function aL(n,e,t,i){t=fd(t);const o={data:t},a=await UT(n,i),u=i.timeout||7e4,h=tL(u),f=await Promise.race([sL(e,o,a,n.fetchImpl),h.promise,n.cancelAllRequests]);if(h.cancel(),!f)throw new Fn("cancelled","Firebase Functions instance was deleted.");const m=pd(f.status,f.json);if(m)throw m;if(!f.json)throw new Fn("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Fn("internal","Response is missing data field.");return{data:Pa(v)}}function lL(n,e,t,i){const o=n._url(e);return uL(n,o,t,i||{})}async function uL(n,e,t,i){var o;t=fd(t);const a={data:t},u=await UT(n,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:i==null?void 0:i.signal})}catch(R){if(R instanceof Error&&R.name==="AbortError"){const V=new Fn("cancelled","Request was cancelled.");return{data:Promise.reject(V),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(V)}}}}}}const b=pd(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let f,m;const v=new Promise((R,b)=>{f=R,m=b});(o=i==null?void 0:i.signal)===null||o===void 0||o.addEventListener("abort",()=>{const R=new Fn("cancelled","Request was cancelled.");m(R)});const w=h.body.getReader(),T=cL(w,f,m,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const R=T.getReader();return{async next(){const{value:b,done:V}=await R.read();return{value:b,done:V}},async return(){return await R.cancel(),{done:!0,value:void 0}}}}},data:v}}function cL(n,e,t,i){const o=(u,h)=>{const f=u.match(eL);if(!f)return;const m=f[1];try{const v=JSON.parse(m);if("result"in v){e(Pa(v.result));return}if("message"in v){h.enqueue(Pa(v.message));return}if("error"in v){const w=pd(0,v);h.error(w),t(w);return}}catch(v){if(v instanceof Fn){h.error(v),t(v);return}}},a=new TextDecoder;return new ReadableStream({start(u){let h="";return f();async function f(){if(i!=null&&i.aborted){const m=new Fn("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:v}=await n.read();if(v){h.trim()&&o(h.trim(),u),u.close();return}if(i!=null&&i.aborted){const T=new Fn("cancelled","Request was cancelled");u.error(T),t(T),await n.cancel();return}h+=a.decode(m,{stream:!0});const w=h.split(`
`);h=w.pop()||"";for(const T of w)T.trim()&&o(T.trim(),u);return f()}catch(m){const v=m instanceof Fn?m:pd(0,null);u.error(v),t(v)}}},cancel(){return n.cancel()}})}const y0="@firebase/functions",v0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="auth-internal",hL="app-check-internal",fL="messaging-internal";function pL(n){const e=(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider(dL),u=t.getProvider(fL),h=t.getProvider(hL);return new nL(o,a,u,h,i)};fr(new Xn(Vm,e,"PUBLIC").setMultipleInstances(!0)),_n(y0,v0,n),_n(y0,v0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n=ql(),e=Cp){const i=Li(Dt(n),Vm).getImmediate({identifier:e}),o=Fp("functions");return o&&gL(i,...o),i}function gL(n,e,t){rL(Dt(n),e,t)}function yL(n,e,t){return iL(Dt(n),e)}pL();const jT="6Lc3S_EqAAAAABF9QFg3fHL1mZu2XOR41QqWVQYY";console.log("RECAPTCHA_SITE_KEY:",jT);const vL=()=>{const{executeRecaptcha:n}=zO(),e=gd(),[t,i]=U.useState(""),[o,a]=U.useState(""),[u,h]=U.useState(""),[f,m]=U.useState(!1),v=async w=>{if(w.preventDefault(),!n){qe.error("Error al cargar reCaptcha. Intenta de nuevo.");return}m(!0);try{const T=await n("register");console.log("reCaptcha Token:",T);const R=await fetch("https://us-central1-ecommerce-pc-parts.cloudfunctions.net/registerUserWithRecaptcha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:o,recaptchaToken:T})}),b=await R.json();if(!R.ok||!b.success)throw new Error(b.message||"Error al registrarse");qe.success("Registro exitoso. ¡Bienvenido!");const V=mL(),$=await yL(V,"sendWelcomeEmail")({email:t,fullName:u});$.data.success?(console.log("Correo de bienvenida enviado:",$.data.message),qe.info("Se ha enviado un correo de bienvenida."),e("/auth")):(console.error("Error al enviar correo:",$.data.message),qe.error(`Registro exitoso, pero falló el envío del correo: ${$.data.message}`))}catch(T){console.error("Error en el registro:",T),qe.error(`Error al registrarse: ${T.message||"Error interno"}`)}finally{m(!1)}};return te.jsxs("form",{onSubmit:v,className:"space-y-4 max-w-md mx-auto p-6  rounded-lg shadow-lg",children:[te.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"var(--text-color)"},children:"Registro"}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Nombre Completo"}),te.jsx("input",{type:"text",id:"fullName",value:u,onChange:w=>h(w.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Email"}),te.jsx("input",{type:"email",id:"email",value:t,onChange:w=>i(w.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Contraseña"}),te.jsx("input",{type:"password",id:"password",value:o,onChange:w=>a(w.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),te.jsx("button",{type:"submit",disabled:f,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] py-2 px-4 rounded-md hover:bg-[var(--button-bg-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f90] disabled:bg-gray-400 dark:disabled:bg-gray-600",children:f?"Registrando...":"Registrarse"}),te.jsxs("p",{className:"text-center text-sm",style:{color:"var(--text-color)"},children:["¿Ya tienes cuenta?"," ",te.jsx("a",{href:"/auth",className:"text-[var(--button-bg)] hover:underline",children:"Inicia sesión"})]})]})},_L=()=>te.jsx($O,{reCaptchaKey:jT,children:te.jsx("div",{className:"min-h-screen bg-[var(--background-color)] flex items-center justify-center",children:te.jsx(vL,{})})}),wL=()=>{const[n,e]=U.useState(""),[t,i]=U.useState([]),{cartItems:o}=MO(),{currentUser:a,signOutUser:u}=kT(),h=gd(),[f,m]=U.useState(!1),{theme:v,toggleTheme:w}=iC(),T=o.reduce((P,$)=>P+$.quantity,0),R=P=>{const $=P.target.value.toLowerCase().trim();if(e($),$.length>0){console.log("Buscando término:",$);const H=DP(EP(JD,"products"),OP("nameLowercase"),MP($),VP($+""),LP(5)),K=$P(H,X=>{console.log("Snapshot recibido:",X.docs.length);const L=X.docs.map(se=>({id:se.id,...se.data()}));console.log("Resultados encontrados:",L),i(L)},X=>{console.error("Error en la búsqueda:",X)});return()=>K()}else i([])},b=P=>{if(P.key==="Enter"){const $=n.toLowerCase().trim();$.length>0&&(console.log("Redirigiendo a /search con término:",$),h(`/search?q=${$}`),e(""),i([]))}},V=async()=>{try{await u(),h("/"),m(!1)}catch(P){console.error("Error al cerrar sesión:",P.message)}};return te.jsx("header",{className:"bg-menu p-4 shadow-lg",style:{position:"sticky",top:0,zIndex:1e3,width:"100%"},children:te.jsxs("div",{className:"container mx-auto flex flex-wrap gap-5 items-center",children:[te.jsx("div",{className:"basis-3/24",children:te.jsx(Qr,{to:"/",className:"flex-shrink-0",children:te.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-10 md:h-12"})})}),te.jsxs("div",{className:"basis-14/24",children:[te.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:R,onKeyDown:b,className:"w-full p-3 rounded-full bg-gray-800 dark:bg-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f90] text-base md:text-lg",style:{color:"white"}}),t.length>0&&te.jsx("ul",{className:"absolute w-full bg-gray-900 dark:bg-gray-100 border border-gray-700 dark:border-gray-300 mt-2 rounded-lg shadow-lg z-10",style:{color:"white"},children:t.map(P=>te.jsxs("li",{className:"p-3 hover:bg-gray-700 dark:hover:bg-gray-200 cursor-pointer",style:{color:"white"},onClick:()=>{h(`/product/${P.id}`),e(""),i([])},children:[P.name," - $",P.price]},P.id))})]}),te.jsx("div",{className:"basis-1/24",children:te.jsx("button",{onClick:w,className:"w-full bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:v==="light"?"🌙":"☀️"})}),te.jsx("div",{className:"basis-1/24",children:a?te.jsx("button",{onClick:V,className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Cerrar Sesión"}):te.jsx(Qr,{to:"/auth",children:te.jsx("span",{className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Iniciar Sesión"})})}),te.jsx("div",{className:"basis-1/24 text-white",children:te.jsx(Qr,{to:"/auth/register",children:"Registrarse"})}),te.jsx("div",{className:"basis-1/24",children:te.jsx(Qr,{to:"/cart",className:"flex items-center justify-center",children:te.jsxs("span",{className:"bg-orange relative flex items-center justify-center bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:["🛒",T>0&&te.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:T})]})})}),f&&te.jsxs("div",{className:"md:hidden mt-2 w-full bg-menu p-2 rounded-lg shadow-lg",children:[a&&te.jsx("div",{className:"mb-2",children:te.jsx("span",{style:{color:"white"},children:`Bienvenido, ${a.email}`})}),a&&a.email==="admin@example.com"&&te.jsx(Qr,{to:"/admin",className:"block w-full text-center mb-2",children:te.jsx("span",{className:"bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:"Panel Admin"})})]})]})})},EL=()=>{const[n,e]=U.useState(null),[t,i]=U.useState(!1),[o,a]=U.useState(""),[u,h]=U.useState(!1);return te.jsx("nav",{className:"bg-menu text-white p-4",children:te.jsx("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:te.jsxs("div",{className:"flex items-center",children:[te.jsx("button",{className:"md:hidden text-white focus:outline-none mr-2",onClick:()=>h(!u),"aria-label":"Toggle menu",children:te.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:u?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),te.jsxs("div",{className:`md:flex space-x-6 ${u?"block":"hidden"} md:block`,children:[te.jsx(Qr,{to:"/offers",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>h(!1),children:"Ofertas"}),te.jsx(Qr,{to:"/categories",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>h(!1),children:"Categorías"})]})]})})})},TL=()=>te.jsx("footer",{className:"bg-menu text-white p-8 mt-8",children:te.jsxs("div",{className:"container mx-auto",children:[te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ecommerce PC Parts"}),te.jsx("p",{children:"Tu tienda favorita para componentes de PC y más."})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces"}),te.jsxs("ul",{children:[te.jsx("li",{children:te.jsx("a",{href:"#",className:"hover:text-button",children:"Inicio"})}),te.jsx("li",{children:te.jsx("a",{href:"#",className:"hover:text-button",children:"Ofertas"})}),te.jsx("li",{children:te.jsx("a",{href:"#",className:"hover:text-button",children:"Categorías"})})]})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),te.jsxs("ul",{children:[te.jsx("li",{children:te.jsx("a",{href:"#",className:"hover:text-button",children:"Facebook"})}),te.jsx("li",{children:te.jsx("a",{href:"#",className:"hover:text-button",children:"Twitter"})}),te.jsx("li",{children:te.jsx("a",{href:"#",className:"hover:text-button",children:"Instagram"})})]})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),te.jsx("p",{children:"Email: support@ecommercepcparts.com"}),te.jsx("p",{children:"Teléfono: +123 456 7890"})]})]}),te.jsx("p",{className:"text-center mt-8",children:"© 2025 Ecommerce PC Parts. Todos los derechos reservados."})]})}),IL=BR([{path:"/",element:te.jsx(ZD,{children:te.jsx(LO,{children:te.jsxs("div",{children:[te.jsx(wL,{}),te.jsx(EL,{}),te.jsx(Ev,{}),te.jsx(TL,{})]})})}),children:[{path:"auth",element:te.jsx(Ev,{}),children:[{index:!0,element:te.jsx(VO,{})},{path:"register",element:te.jsx(_L,{})}]}]}]);JI.createRoot(document.getElementById("root")).render(te.jsx(gt.StrictMode,{children:te.jsxs(rC,{children:[te.jsx(nC,{router:IL}),te.jsx(OO,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})}));
