function kI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function CI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Ph={exports:{}},dl={},Rh={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function xI(){if(fv)return $e;fv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function O(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,V={};function z(b,F,te){this.props=b,this.context=F,this.refs=V,this.updater=te||L}z.prototype.isReactComponent={},z.prototype.setState=function(b,F){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,F,"setState")},z.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=z.prototype;function J(b,F,te){this.props=b,this.context=F,this.refs=V,this.updater=te||L}var X=J.prototype=new W;X.constructor=J,H(X,z.prototype),X.isPureReactComponent=!0;var re=Array.isArray,j=Object.prototype.hasOwnProperty,$={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x(b,F,te){var ie,ae={},le=null,ce=null;if(F!=null)for(ie in F.ref!==void 0&&(ce=F.ref),F.key!==void 0&&(le=""+F.key),F)j.call(F,ie)&&!P.hasOwnProperty(ie)&&(ae[ie]=F[ie]);var Te=arguments.length-2;if(Te===1)ae.children=te;else if(1<Te){for(var be=Array(Te),Pe=0;Pe<Te;Pe++)be[Pe]=arguments[Pe+2];ae.children=be}if(b&&b.defaultProps)for(ie in Te=b.defaultProps,Te)ae[ie]===void 0&&(ae[ie]=Te[ie]);return{$$typeof:n,type:b,key:le,ref:ce,props:ae,_owner:$.current}}function I(b,F){return{$$typeof:n,type:b.type,key:F,ref:b.ref,props:b.props,_owner:b._owner}}function w(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function N(b){var F={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(te){return F[te]})}var D=/\/+/g;function k(b,F){return typeof b=="object"&&b!==null&&b.key!=null?N(""+b.key):F.toString(36)}function Q(b,F,te,ie,ae){var le=typeof b;(le==="undefined"||le==="boolean")&&(b=null);var ce=!1;if(b===null)ce=!0;else switch(le){case"string":case"number":ce=!0;break;case"object":switch(b.$$typeof){case n:case e:ce=!0}}if(ce)return ce=b,ae=ae(ce),b=ie===""?"."+k(ce,0):ie,re(ae)?(te="",b!=null&&(te=b.replace(D,"$&/")+"/"),Q(ae,F,te,"",function(Pe){return Pe})):ae!=null&&(w(ae)&&(ae=I(ae,te+(!ae.key||ce&&ce.key===ae.key?"":(""+ae.key).replace(D,"$&/")+"/")+b)),F.push(ae)),1;if(ce=0,ie=ie===""?".":ie+":",re(b))for(var Te=0;Te<b.length;Te++){le=b[Te];var be=ie+k(le,Te);ce+=Q(le,F,te,be,ae)}else if(be=O(b),typeof be=="function")for(b=be.call(b),Te=0;!(le=b.next()).done;)le=le.value,be=ie+k(le,Te++),ce+=Q(le,F,te,be,ae);else if(le==="object")throw F=String(b),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ce}function pe(b,F,te){if(b==null)return b;var ie=[],ae=0;return Q(b,ie,"","",function(le){return F.call(te,le,ae++)}),ie}function fe(b){if(b._status===-1){var F=b._result;F=F(),F.then(function(te){(b._status===0||b._status===-1)&&(b._status=1,b._result=te)},function(te){(b._status===0||b._status===-1)&&(b._status=2,b._result=te)}),b._status===-1&&(b._status=0,b._result=F)}if(b._status===1)return b._result.default;throw b._result}var T={current:null},se={transition:null},U={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:se,ReactCurrentOwner:$};function E(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:pe,forEach:function(b,F,te){pe(b,function(){F.apply(this,arguments)},te)},count:function(b){var F=0;return pe(b,function(){F++}),F},toArray:function(b){return pe(b,function(F){return F})||[]},only:function(b){if(!w(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},$e.Component=z,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=J,$e.StrictMode=i,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,$e.act=E,$e.cloneElement=function(b,F,te){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ie=H({},b.props),ae=b.key,le=b.ref,ce=b._owner;if(F!=null){if(F.ref!==void 0&&(le=F.ref,ce=$.current),F.key!==void 0&&(ae=""+F.key),b.type&&b.type.defaultProps)var Te=b.type.defaultProps;for(be in F)j.call(F,be)&&!P.hasOwnProperty(be)&&(ie[be]=F[be]===void 0&&Te!==void 0?Te[be]:F[be])}var be=arguments.length-2;if(be===1)ie.children=te;else if(1<be){Te=Array(be);for(var Pe=0;Pe<be;Pe++)Te[Pe]=arguments[Pe+2];ie.children=Te}return{$$typeof:n,type:b.type,key:ae,ref:le,props:ie,_owner:ce}},$e.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:a,_context:b},b.Consumer=b},$e.createElement=x,$e.createFactory=function(b){var F=x.bind(null,b);return F.type=b,F},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:f,render:b}},$e.isValidElement=w,$e.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:fe}},$e.memo=function(b,F){return{$$typeof:m,type:b,compare:F===void 0?null:F}},$e.startTransition=function(b){var F=se.transition;se.transition={};try{b()}finally{se.transition=F}},$e.unstable_act=E,$e.useCallback=function(b,F){return T.current.useCallback(b,F)},$e.useContext=function(b){return T.current.useContext(b)},$e.useDebugValue=function(){},$e.useDeferredValue=function(b){return T.current.useDeferredValue(b)},$e.useEffect=function(b,F){return T.current.useEffect(b,F)},$e.useId=function(){return T.current.useId()},$e.useImperativeHandle=function(b,F,te){return T.current.useImperativeHandle(b,F,te)},$e.useInsertionEffect=function(b,F){return T.current.useInsertionEffect(b,F)},$e.useLayoutEffect=function(b,F){return T.current.useLayoutEffect(b,F)},$e.useMemo=function(b,F){return T.current.useMemo(b,F)},$e.useReducer=function(b,F,te){return T.current.useReducer(b,F,te)},$e.useRef=function(b){return T.current.useRef(b)},$e.useState=function(b){return T.current.useState(b)},$e.useSyncExternalStore=function(b,F,te){return T.current.useSyncExternalStore(b,F,te)},$e.useTransition=function(){return T.current.useTransition()},$e.version="18.3.1",$e}var hv;function Ur(){return hv||(hv=1,Rh.exports=xI()),Rh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function PI(){if(pv)return dl;pv=1;var n=Ur(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,S={},O=null,L=null;m!==void 0&&(O=""+m),h.key!==void 0&&(O=""+h.key),h.ref!==void 0&&(L=h.ref);for(v in h)i.call(h,v)&&!a.hasOwnProperty(v)&&(S[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)S[v]===void 0&&(S[v]=h[v]);return{$$typeof:e,type:f,key:O,ref:L,props:S,_owner:o.current}}return dl.Fragment=t,dl.jsx=u,dl.jsxs=u,dl}var mv;function RI(){return mv||(mv=1,Ph.exports=PI()),Ph.exports}var R=RI(),ee=Ur();const rt=Xp(ee),AI=kI({__proto__:null,default:rt},[ee]);var gc={},Ah={exports:{}},En={},Nh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function NI(){return gv||(gv=1,function(n){function e(se,U){var E=se.length;se.push(U);e:for(;0<E;){var b=E-1>>>1,F=se[b];if(0<o(F,U))se[b]=U,se[E]=F,E=b;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var U=se[0],E=se.pop();if(E!==U){se[0]=E;e:for(var b=0,F=se.length,te=F>>>1;b<te;){var ie=2*(b+1)-1,ae=se[ie],le=ie+1,ce=se[le];if(0>o(ae,E))le<F&&0>o(ce,ae)?(se[b]=ce,se[le]=E,b=le):(se[b]=ae,se[ie]=E,b=ie);else if(le<F&&0>o(ce,E))se[b]=ce,se[le]=E,b=le;else break e}}return U}function o(se,U){var E=se.sortIndex-U.sortIndex;return E!==0?E:se.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,S=null,O=3,L=!1,H=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(se){for(var U=t(m);U!==null;){if(U.callback===null)i(m);else if(U.startTime<=se)i(m),U.sortIndex=U.expirationTime,e(h,U);else break;U=t(m)}}function re(se){if(V=!1,X(se),!H)if(t(h)!==null)H=!0,fe(j);else{var U=t(m);U!==null&&T(re,U.startTime-se)}}function j(se,U){H=!1,V&&(V=!1,W(x),x=-1),L=!0;var E=O;try{for(X(U),S=t(h);S!==null&&(!(S.expirationTime>U)||se&&!N());){var b=S.callback;if(typeof b=="function"){S.callback=null,O=S.priorityLevel;var F=b(S.expirationTime<=U);U=n.unstable_now(),typeof F=="function"?S.callback=F:S===t(h)&&i(h),X(U)}else i(h);S=t(h)}if(S!==null)var te=!0;else{var ie=t(m);ie!==null&&T(re,ie.startTime-U),te=!1}return te}finally{S=null,O=E,L=!1}}var $=!1,P=null,x=-1,I=5,w=-1;function N(){return!(n.unstable_now()-w<I)}function D(){if(P!==null){var se=n.unstable_now();w=se;var U=!0;try{U=P(!0,se)}finally{U?k():($=!1,P=null)}}else $=!1}var k;if(typeof J=="function")k=function(){J(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,pe=Q.port2;Q.port1.onmessage=D,k=function(){pe.postMessage(null)}}else k=function(){z(D,0)};function fe(se){P=se,$||($=!0,k())}function T(se,U){x=z(function(){se(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){H||L||(H=!0,fe(j))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return O},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(se){switch(O){case 1:case 2:case 3:var U=3;break;default:U=O}var E=O;O=U;try{return se()}finally{O=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,U){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var E=O;O=se;try{return U()}finally{O=E}},n.unstable_scheduleCallback=function(se,U,E){var b=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?b+E:b):E=b,se){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=E+F,se={id:v++,callback:U,priorityLevel:se,startTime:E,expirationTime:F,sortIndex:-1},E>b?(se.sortIndex=E,e(m,se),t(h)===null&&se===t(m)&&(V?(W(x),x=-1):V=!0,T(re,E-b))):(se.sortIndex=F,e(h,se),H||L||(H=!0,fe(j))),se},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(se){var U=O;return function(){var E=O;O=U;try{return se.apply(this,arguments)}finally{O=E}}}}(Oh)),Oh}var yv;function OI(){return yv||(yv=1,Nh.exports=NI()),Nh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function DI(){if(vv)return En;vv=1;var n=Ur(),e=OI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function O(r){return h.call(S,r)?!0:h.call(v,r)?!1:m.test(r)?S[r]=!0:(v[r]=!0,!1)}function L(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function H(r,s,l,d){if(s===null||typeof s>"u"||L(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function V(r,s,l,d,p,y,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=C}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){z[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];z[s]=new V(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){z[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){z[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){z[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){z[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){z[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){z[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){z[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function J(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,J);z[s]=new V(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,J);z[s]=new V(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,J);z[s]=new V(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){z[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),z.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){z[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function X(r,s,l,d){var p=z.hasOwnProperty(s)?z[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(H(s,l,p,d)&&(l=null),d||p===null?O(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),$=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),se=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var E=Object.assign,b;function F(r){if(b===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var te=!1;function ie(r,s){if(!r||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Z){var d=Z}Reflect.construct(r,[],s)}else{try{s.call()}catch(Z){d=Z}r.call(s.prototype)}else{try{throw Error()}catch(Z){d=Z}r()}}catch(Z){if(Z&&d&&typeof Z.stack=="string"){for(var p=Z.stack.split(`
`),y=d.stack.split(`
`),C=p.length-1,M=y.length-1;1<=C&&0<=M&&p[C]!==y[M];)M--;for(;1<=C&&0<=M;C--,M--)if(p[C]!==y[M]){if(C!==1||M!==1)do if(C--,M--,0>M||p[C]!==y[M]){var B=`
`+p[C].replace(" at new "," at ");return r.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",r.displayName)),B}while(1<=C&&0<=M);break}}}finally{te=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?F(r):""}function ae(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case $:return"Portal";case I:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case Q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case w:return(r._context.displayName||"Context")+".Provider";case D:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pe:return s=r.displayName||null,s!==null?s:le(r.type)||"Memo";case fe:s=r._payload,r=r._init;try{return le(r(s))}catch{}}return null}function ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pe(r){var s=be(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(C){d=""+C,y.call(this,C)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ze(r){r._valueTracker||(r._valueTracker=Pe(r))}function qe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=be(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ue(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ve(r,s){var l=s.checked;return E({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Be(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Te(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ct(r,s){s=s.checked,s!=null&&X(r,"checked",s,!1)}function Fe(r,s){ct(r,s);var l=Te(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ft(r,s.type,l):s.hasOwnProperty("defaultValue")&&ft(r,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ft(r,s,l){(s!=="number"||Ue(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var it=Array.isArray;function yt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Te(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Cn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function er(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(it(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Te(l)}}function Hr(r,s){var l=Te(s.value),d=Te(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function tr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var sn,Ea=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(sn=sn||document.createElement("div"),sn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=sn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function gi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ps=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(r){ps.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),hs[s]=hs[r]})});function Ta(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||hs.hasOwnProperty(r)&&hs[r]?(""+s).trim():s+"px"}function Sa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ta(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var Ia=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(r,s){if(s){if(Ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ka(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ms=null;function so(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var oo=null,zn=null,Er=null;function ao(r){if(r=Ya(r)){if(typeof oo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ru(s),oo(r.stateNode,r.type,s))}}function Tr(r){zn?Er?Er.push(r):Er=[r]:zn=r}function Ca(){if(zn){var r=zn,s=Er;if(Er=zn=null,ao(r),s)for(r=0;r<s.length;r++)ao(s[r])}}function gs(r,s){return r(s)}function xa(){}var Wr=!1;function Pa(r,s,l){if(Wr)return r(s,l);Wr=!0;try{return gs(r,s,l)}finally{Wr=!1,(zn!==null||Er!==null)&&(xa(),Ca())}}function St(r,s){var l=r.stateNode;if(l===null)return null;var d=Ru(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var lo=!1;if(f)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){lo=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{lo=!1}function ys(r,s,l,d,p,y,C,M,B){var Z=Array.prototype.slice.call(arguments,3);try{s.apply(l,Z)}catch(he){this.onError(he)}}var vs=!1,uo=null,rr=!1,Ra=null,nf={onError:function(r){vs=!0,uo=r}};function co(r,s,l,d,p,y,C,M,B){vs=!1,uo=null,ys.apply(nf,arguments)}function tu(r,s,l,d,p,y,C,M,B){if(co.apply(this,arguments),vs){if(vs){var Z=uo;vs=!1,uo=null}else throw Error(t(198));rr||(rr=!0,Ra=Z)}}function ir(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function _s(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function sr(r){if(ir(r)!==r)throw Error(t(188))}function nu(r){var s=r.alternate;if(!s){if(s=ir(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return sr(p),r;if(y===d)return sr(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var C=!1,M=p.child;M;){if(M===l){C=!0,l=p,d=y;break}if(M===d){C=!0,d=p,l=y;break}M=M.sibling}if(!C){for(M=y.child;M;){if(M===l){C=!0,l=y,d=p;break}if(M===d){C=!0,d=y,l=p;break}M=M.sibling}if(!C)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Aa(r){return r=nu(r),r!==null?fo(r):null}function fo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=fo(r);if(s!==null)return s;r=r.sibling}return null}var ho=e.unstable_scheduleCallback,Na=e.unstable_cancelCallback,ru=e.unstable_shouldYield,rf=e.unstable_requestPaint,ot=e.unstable_now,iu=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,yi=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,su=e.unstable_IdlePriority,Es=null,xn=null;function ou(r){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Es,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:lu,Da=Math.log,au=Math.LN2;function lu(r){return r>>>=0,r===0?32:31-(Da(r)/au|0)|0}var po=64,mo=4194304;function vi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ts(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,C=l&268435455;if(C!==0){var M=C&~p;M!==0?d=vi(M):(y&=C,y!==0&&(d=vi(y)))}else C=l&~p,C!==0?d=vi(C):y!==0&&(d=vi(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-on(s),p=1<<l,d|=r[l],s&=~p;return d}function sf(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var C=31-on(y),M=1<<C,B=p[C];B===-1?((M&l)===0||(M&d)!==0)&&(p[C]=sf(M,s)):B<=s&&(r.expiredLanes|=M),y&=~M}}function Pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ss(){var r=po;return po<<=1,(po&4194240)===0&&(po=64),r}function _i(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function wi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-on(s),r[s]=l}function st(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-on(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Ei(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-on(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ke=0;function Ti(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var uu,go,cu,du,fu,La=!1,Sr=[],$t=null,or=null,ar=null,Si=new Map,Bn=new Map,Ir=[],of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(r,s){switch(r){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(s.pointerId)}}function pn(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ya(s),s!==null&&go(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function af(r,s,l,d,p){switch(s){case"focusin":return $t=pn($t,r,s,l,d,p),!0;case"dragenter":return or=pn(or,r,s,l,d,p),!0;case"mouseover":return ar=pn(ar,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Si.set(y,pn(Si.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Bn.set(y,pn(Bn.get(y)||null,r,s,l,d,p)),!0}return!1}function pu(r){var s=xs(r.target);if(s!==null){var l=ir(s);if(l!==null){if(s=l.tag,s===13){if(s=_s(l),s!==null){r.blockedOn=s,fu(r.priority,function(){cu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=yo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ms=d,l.target.dispatchEvent(d),ms=null}else return s=Ya(l),s!==null&&go(s),r.blockedOn=l,!1;s.shift()}return!0}function Is(r,s,l){Gr(r)&&l.delete(s)}function mu(){La=!1,$t!==null&&Gr($t)&&($t=null),or!==null&&Gr(or)&&(or=null),ar!==null&&Gr(ar)&&(ar=null),Si.forEach(Is),Bn.forEach(Is)}function lr(r,s){r.blockedOn===s&&(r.blockedOn=null,La||(La=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mu)))}function ur(r){function s(p){return lr(p,r)}if(0<Sr.length){lr(Sr[0],r);for(var l=1;l<Sr.length;l++){var d=Sr[l];d.blockedOn===r&&(d.blockedOn=null)}}for($t!==null&&lr($t,r),or!==null&&lr(or,r),ar!==null&&lr(ar,r),Si.forEach(s),Bn.forEach(s),l=0;l<Ir.length;l++)d=Ir[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Ir.length&&(l=Ir[0],l.blockedOn===null);)pu(l),l.blockedOn===null&&Ir.shift()}var Qr=re.ReactCurrentBatchConfig,Ii=!0;function mt(r,s,l,d){var p=Ke,y=Qr.transition;Qr.transition=null;try{Ke=1,Ma(r,s,l,d)}finally{Ke=p,Qr.transition=y}}function lf(r,s,l,d){var p=Ke,y=Qr.transition;Qr.transition=null;try{Ke=4,Ma(r,s,l,d)}finally{Ke=p,Qr.transition=y}}function Ma(r,s,l,d){if(Ii){var p=yo(r,s,l,d);if(p===null)_f(r,s,d,bs,l),hu(r,d);else if(af(p,r,s,l,d))d.stopPropagation();else if(hu(r,d),s&4&&-1<of.indexOf(r)){for(;p!==null;){var y=Ya(p);if(y!==null&&uu(y),y=yo(r,s,l,d),y===null&&_f(r,s,d,bs,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else _f(r,s,d,null,l)}}var bs=null;function yo(r,s,l,d){if(bs=null,r=so(d),r=xs(r),r!==null)if(s=ir(r),s===null)r=null;else if(l=s.tag,l===13){if(r=_s(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return bs=r,null}function Va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iu()){case ws:return 1;case yi:return 4;case $n:case Oa:return 16;case su:return 536870912;default:return 16}default:return 16}}var Rn=null,vo=null,mn=null;function ja(){if(mn)return mn;var r,s=vo,l=s.length,d,p="value"in Rn?Rn.value:Rn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var C=l-r;for(d=1;d<=C&&s[l-d]===p[y-d];d++);return mn=p.slice(r,1<d?1-d:void 0)}function _o(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function Fa(){return!1}function Bt(r){function s(l,d,p,y,C){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(l=r[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?br:Fa,this.isPropagationStopped=Fa,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),s}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Bt(cr),kr=E({},cr,{view:0,detail:0}),uf=Bt(kr),Eo,Yr,bi,ks=E({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==bi&&(bi&&r.type==="mousemove"?(Eo=r.screenX-bi.screenX,Yr=r.screenY-bi.screenY):Yr=Eo=0,bi=r),Eo)},movementY:function(r){return"movementY"in r?r.movementY:Yr}}),To=Bt(ks),Ua=E({},ks,{dataTransfer:0}),gu=Bt(Ua),So=E({},kr,{relatedTarget:0}),Io=Bt(So),yu=E({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xr=Bt(yu),vu=E({},cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_u=Bt(vu),wu=E({},cr,{data:0}),za=Bt(wu),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Eu[r])?!!s[r]:!1}function Cr(){return Tu}var c=E({},kr,{key:function(r){if(r.key){var s=bo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=_o(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?an[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(r){return r.type==="keypress"?_o(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_o(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Bt(c),_=E({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Bt(_),K=E({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),ne=Bt(K),ye=E({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Bt(ye),Nt=E({},ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Bt(Nt),Mt=[9,13,27,32],kt=f&&"CompositionEvent"in window,qn=null;f&&"documentMode"in document&&(qn=document.documentMode);var An=f&&"TextEvent"in window&&!qn,Cs=f&&(!kt||qn&&8<qn&&11>=qn),ko=" ",og=!1;function ag(r,s){switch(r){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Co=!1;function SS(r,s){switch(r){case"compositionend":return lg(s);case"keypress":return s.which!==32?null:(og=!0,ko);case"textInput":return r=s.data,r===ko&&og?null:r;default:return null}}function IS(r,s){if(Co)return r==="compositionend"||!kt&&ag(r,s)?(r=ja(),mn=vo=Rn=null,Co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cs&&s.locale!=="ko"?null:s.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!bS[r.type]:s==="textarea"}function cg(r,s,l,d){Tr(d),s=Cu(s,"onChange"),0<s.length&&(l=new wo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var $a=null,Ba=null;function kS(r){xg(r,0)}function Su(r){var s=No(r);if(qe(s))return r}function CS(r,s){if(r==="change")return s}var dg=!1;if(f){var cf;if(f){var df="oninput"in document;if(!df){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),df=typeof fg.oninput=="function"}cf=df}else cf=!1;dg=cf&&(!document.documentMode||9<document.documentMode)}function hg(){$a&&($a.detachEvent("onpropertychange",pg),Ba=$a=null)}function pg(r){if(r.propertyName==="value"&&Su(Ba)){var s=[];cg(s,Ba,r,so(r)),Pa(kS,s)}}function xS(r,s,l){r==="focusin"?(hg(),$a=s,Ba=l,$a.attachEvent("onpropertychange",pg)):r==="focusout"&&hg()}function PS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Su(Ba)}function RS(r,s){if(r==="click")return Su(s)}function AS(r,s){if(r==="input"||r==="change")return Su(s)}function NS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var dr=typeof Object.is=="function"?Object.is:NS;function qa(r,s){if(dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!h.call(s,p)||!dr(r[p],s[p]))return!1}return!0}function mg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gg(r,s){var l=mg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mg(l)}}function yg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?yg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function vg(){for(var r=window,s=Ue();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ue(r.document)}return s}function ff(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function OS(r){var s=vg(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&yg(l.ownerDocument.documentElement,l)){if(d!==null&&ff(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=gg(l,y);var C=gg(l,d);p&&C&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var DS=f&&"documentMode"in document&&11>=document.documentMode,xo=null,hf=null,Ha=null,pf=!1;function _g(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pf||xo==null||xo!==Ue(d)||(d=xo,"selectionStart"in d&&ff(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ha&&qa(Ha,d)||(Ha=d,d=Cu(hf,"onSelect"),0<d.length&&(s=new wo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=xo)))}function Iu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Po={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionend:Iu("Transition","TransitionEnd")},mf={},wg={};f&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function bu(r){if(mf[r])return mf[r];if(!Po[r])return r;var s=Po[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in wg)return mf[r]=s[l];return r}var Eg=bu("animationend"),Tg=bu("animationiteration"),Sg=bu("animationstart"),Ig=bu("transitionend"),bg=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(r,s){bg.set(r,s),a(s,[r])}for(var gf=0;gf<kg.length;gf++){var yf=kg[gf],LS=yf.toLowerCase(),MS=yf[0].toUpperCase()+yf.slice(1);ki(LS,"on"+MS)}ki(Eg,"onAnimationEnd"),ki(Tg,"onAnimationIteration"),ki(Sg,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Ig,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function Cg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,tu(d,s,void 0,r),r.currentTarget=null}function xg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var C=d.length-1;0<=C;C--){var M=d[C],B=M.instance,Z=M.currentTarget;if(M=M.listener,B!==y&&p.isPropagationStopped())break e;Cg(p,M,Z),y=B}else for(C=0;C<d.length;C++){if(M=d[C],B=M.instance,Z=M.currentTarget,M=M.listener,B!==y&&p.isPropagationStopped())break e;Cg(p,M,Z),y=B}}}if(rr)throw r=Ra,rr=!1,Ra=null,r}function ht(r,s){var l=s[bf];l===void 0&&(l=s[bf]=new Set);var d=r+"__bubble";l.has(d)||(Pg(s,r,2,!1),l.add(d))}function vf(r,s,l){var d=0;s&&(d|=4),Pg(l,r,d,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Ka(r){if(!r[ku]){r[ku]=!0,i.forEach(function(l){l!=="selectionchange"&&(VS.has(l)||vf(l,!1,r),vf(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ku]||(s[ku]=!0,vf("selectionchange",!1,s))}}function Pg(r,s,l,d){switch(Va(s)){case 1:var p=mt;break;case 4:p=lf;break;default:p=Ma}l=p.bind(null,s,l,r),p=void 0,!lo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function _f(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var M=d.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(C===4)for(C=d.return;C!==null;){var B=C.tag;if((B===3||B===4)&&(B=C.stateNode.containerInfo,B===p||B.nodeType===8&&B.parentNode===p))return;C=C.return}for(;M!==null;){if(C=xs(M),C===null)return;if(B=C.tag,B===5||B===6){d=y=C;continue e}M=M.parentNode}}d=d.return}Pa(function(){var Z=y,he=so(l),me=[];e:{var de=bg.get(r);if(de!==void 0){var we=wo,Ie=r;switch(r){case"keypress":if(_o(l)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":Ie="focus",we=Io;break;case"focusout":Ie="blur",we=Io;break;case"beforeblur":case"afterblur":we=Io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case Eg:case Tg:case Sg:we=Xr;break;case Ig:we=et;break;case"scroll":we=uf;break;case"wheel":we=Qe;break;case"copy":case"cut":case"paste":we=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=A}var ke=(s&4)!==0,It=!ke&&r==="scroll",G=ke?de!==null?de+"Capture":null:de;ke=[];for(var q=Z,Y;q!==null;){Y=q;var ge=Y.stateNode;if(Y.tag===5&&ge!==null&&(Y=ge,G!==null&&(ge=St(q,G),ge!=null&&ke.push(Ga(q,ge,Y)))),It)break;q=q.return}0<ke.length&&(de=new we(de,Ie,null,l,he),me.push({event:de,listeners:ke}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",de&&l!==ms&&(Ie=l.relatedTarget||l.fromElement)&&(xs(Ie)||Ie[Jr]))break e;if((we||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,we?(Ie=l.relatedTarget||l.toElement,we=Z,Ie=Ie?xs(Ie):null,Ie!==null&&(It=ir(Ie),Ie!==It||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(we=null,Ie=Z),we!==Ie)){if(ke=To,ge="onMouseLeave",G="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(ke=A,ge="onPointerLeave",G="onPointerEnter",q="pointer"),It=we==null?de:No(we),Y=Ie==null?de:No(Ie),de=new ke(ge,q+"leave",we,l,he),de.target=It,de.relatedTarget=Y,ge=null,xs(he)===Z&&(ke=new ke(G,q+"enter",Ie,l,he),ke.target=Y,ke.relatedTarget=It,ge=ke),It=ge,we&&Ie)t:{for(ke=we,G=Ie,q=0,Y=ke;Y;Y=Ro(Y))q++;for(Y=0,ge=G;ge;ge=Ro(ge))Y++;for(;0<q-Y;)ke=Ro(ke),q--;for(;0<Y-q;)G=Ro(G),Y--;for(;q--;){if(ke===G||G!==null&&ke===G.alternate)break t;ke=Ro(ke),G=Ro(G)}ke=null}else ke=null;we!==null&&Rg(me,de,we,ke,!1),Ie!==null&&It!==null&&Rg(me,It,Ie,ke,!0)}}e:{if(de=Z?No(Z):window,we=de.nodeName&&de.nodeName.toLowerCase(),we==="select"||we==="input"&&de.type==="file")var Ce=CS;else if(ug(de))if(dg)Ce=AS;else{Ce=PS;var Re=xS}else(we=de.nodeName)&&we.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ce=RS);if(Ce&&(Ce=Ce(r,Z))){cg(me,Ce,l,he);break e}Re&&Re(r,de,Z),r==="focusout"&&(Re=de._wrapperState)&&Re.controlled&&de.type==="number"&&ft(de,"number",de.value)}switch(Re=Z?No(Z):window,r){case"focusin":(ug(Re)||Re.contentEditable==="true")&&(xo=Re,hf=Z,Ha=null);break;case"focusout":Ha=hf=xo=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,_g(me,l,he);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":_g(me,l,he)}var Ae;if(kt)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Co?ag(r,l)&&(De="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Cs&&l.locale!=="ko"&&(Co||De!=="onCompositionStart"?De==="onCompositionEnd"&&Co&&(Ae=ja()):(Rn=he,vo="value"in Rn?Rn.value:Rn.textContent,Co=!0)),Re=Cu(Z,De),0<Re.length&&(De=new za(De,r,null,l,he),me.push({event:De,listeners:Re}),Ae?De.data=Ae:(Ae=lg(l),Ae!==null&&(De.data=Ae)))),(Ae=An?SS(r,l):IS(r,l))&&(Z=Cu(Z,"onBeforeInput"),0<Z.length&&(he=new za("onBeforeInput","beforeinput",null,l,he),me.push({event:he,listeners:Z}),he.data=Ae))}xg(me,s)})}function Ga(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Cu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=St(r,l),y!=null&&d.unshift(Ga(r,y,p)),y=St(r,s),y!=null&&d.push(Ga(r,y,p))),r=r.return}return d}function Ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rg(r,s,l,d,p){for(var y=s._reactName,C=[];l!==null&&l!==d;){var M=l,B=M.alternate,Z=M.stateNode;if(B!==null&&B===d)break;M.tag===5&&Z!==null&&(M=Z,p?(B=St(l,y),B!=null&&C.unshift(Ga(l,B,M))):p||(B=St(l,y),B!=null&&C.push(Ga(l,B,M)))),l=l.return}C.length!==0&&r.push({event:s,listeners:C})}var jS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function Ag(r){return(typeof r=="string"?r:""+r).replace(jS,`
`).replace(FS,"")}function xu(r,s,l){if(s=Ag(s),Ag(r)!==s&&l)throw Error(t(425))}function Pu(){}var wf=null,Ef=null;function Tf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sf=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(r){return Ng.resolve(null).then(r).catch($S)}:Sf;function $S(r){setTimeout(function(){throw r})}function If(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),ur(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);ur(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Og(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ao,Qa="__reactProps$"+Ao,Jr="__reactContainer$"+Ao,bf="__reactEvents$"+Ao,BS="__reactListeners$"+Ao,qS="__reactHandles$"+Ao;function xs(r){var s=r[xr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Jr]||l[xr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Og(r);r!==null;){if(l=r[xr])return l;r=Og(r)}return s}r=l,l=r.parentNode}return null}function Ya(r){return r=r[xr]||r[Jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function No(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ru(r){return r[Qa]||null}var kf=[],Oo=-1;function xi(r){return{current:r}}function pt(r){0>Oo||(r.current=kf[Oo],kf[Oo]=null,Oo--)}function at(r,s){Oo++,kf[Oo]=r.current,r.current=s}var Pi={},Qt=xi(Pi),gn=xi(!1),Ps=Pi;function Do(r,s){var l=r.type.contextTypes;if(!l)return Pi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function yn(r){return r=r.childContextTypes,r!=null}function Au(){pt(gn),pt(Qt)}function Dg(r,s,l){if(Qt.current!==Pi)throw Error(t(168));at(Qt,s),at(gn,l)}function Lg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ce(r)||"Unknown",p));return E({},l,d)}function Nu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Pi,Ps=Qt.current,at(Qt,r),at(gn,gn.current),!0}function Mg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Lg(r,s,Ps),d.__reactInternalMemoizedMergedChildContext=r,pt(gn),pt(Qt),at(Qt,r)):pt(gn),at(gn,l)}var Zr=null,Ou=!1,Cf=!1;function Vg(r){Zr===null?Zr=[r]:Zr.push(r)}function HS(r){Ou=!0,Vg(r)}function Ri(){if(!Cf&&Zr!==null){Cf=!0;var r=0,s=Ke;try{var l=Zr;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Zr=null,Ou=!1}catch(p){throw Zr!==null&&(Zr=Zr.slice(r+1)),ho(ws,Ri),p}finally{Ke=s,Cf=!1}}return null}var Lo=[],Mo=0,Du=null,Lu=0,Hn=[],Wn=0,Rs=null,ei=1,ti="";function As(r,s){Lo[Mo++]=Lu,Lo[Mo++]=Du,Du=r,Lu=s}function jg(r,s,l){Hn[Wn++]=ei,Hn[Wn++]=ti,Hn[Wn++]=Rs,Rs=r;var d=ei;r=ti;var p=32-on(d)-1;d&=~(1<<p),l+=1;var y=32-on(s)+p;if(30<y){var C=p-p%5;y=(d&(1<<C)-1).toString(32),d>>=C,p-=C,ei=1<<32-on(s)+p|l<<p|d,ti=y+r}else ei=1<<y|l<<p|d,ti=r}function xf(r){r.return!==null&&(As(r,1),jg(r,1,0))}function Pf(r){for(;r===Du;)Du=Lo[--Mo],Lo[Mo]=null,Lu=Lo[--Mo],Lo[Mo]=null;for(;r===Rs;)Rs=Hn[--Wn],Hn[Wn]=null,ti=Hn[--Wn],Hn[Wn]=null,ei=Hn[--Wn],Hn[Wn]=null}var Nn=null,On=null,gt=!1,fr=null;function Fg(r,s){var l=Yn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Ug(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Nn=r,On=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Nn=r,On=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Rs!==null?{id:ei,overflow:ti}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Yn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Nn=r,On=null,!0):!1;default:return!1}}function Rf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Af(r){if(gt){var s=On;if(s){var l=s;if(!Ug(r,s)){if(Rf(r))throw Error(t(418));s=Ci(l.nextSibling);var d=Nn;s&&Ug(r,s)?Fg(d,l):(r.flags=r.flags&-4097|2,gt=!1,Nn=r)}}else{if(Rf(r))throw Error(t(418));r.flags=r.flags&-4097|2,gt=!1,Nn=r}}}function zg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Nn=r}function Mu(r){if(r!==Nn)return!1;if(!gt)return zg(r),gt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Tf(r.type,r.memoizedProps)),s&&(s=On)){if(Rf(r))throw $g(),Error(t(418));for(;s;)Fg(r,s),s=Ci(s.nextSibling)}if(zg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){On=Ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}On=null}}else On=Nn?Ci(r.stateNode.nextSibling):null;return!0}function $g(){for(var r=On;r;)r=Ci(r.nextSibling)}function Vo(){On=Nn=null,gt=!1}function Nf(r){fr===null?fr=[r]:fr.push(r)}var WS=re.ReactCurrentBatchConfig;function Xa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(C){var M=p.refs;C===null?delete M[y]:M[y]=C},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Bg(r){var s=r._init;return s(r._payload)}function qg(r){function s(G,q){if(r){var Y=G.deletions;Y===null?(G.deletions=[q],G.flags|=16):Y.push(q)}}function l(G,q){if(!r)return null;for(;q!==null;)s(G,q),q=q.sibling;return null}function d(G,q){for(G=new Map;q!==null;)q.key!==null?G.set(q.key,q):G.set(q.index,q),q=q.sibling;return G}function p(G,q){return G=ji(G,q),G.index=0,G.sibling=null,G}function y(G,q,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<q?(G.flags|=2,q):Y):(G.flags|=2,q)):(G.flags|=1048576,q)}function C(G){return r&&G.alternate===null&&(G.flags|=2),G}function M(G,q,Y,ge){return q===null||q.tag!==6?(q=Sh(Y,G.mode,ge),q.return=G,q):(q=p(q,Y),q.return=G,q)}function B(G,q,Y,ge){var Ce=Y.type;return Ce===P?he(G,q,Y.props.children,ge,Y.key):q!==null&&(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===fe&&Bg(Ce)===q.type)?(ge=p(q,Y.props),ge.ref=Xa(G,q,Y),ge.return=G,ge):(ge=ac(Y.type,Y.key,Y.props,null,G.mode,ge),ge.ref=Xa(G,q,Y),ge.return=G,ge)}function Z(G,q,Y,ge){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=Ih(Y,G.mode,ge),q.return=G,q):(q=p(q,Y.children||[]),q.return=G,q)}function he(G,q,Y,ge,Ce){return q===null||q.tag!==7?(q=Fs(Y,G.mode,ge,Ce),q.return=G,q):(q=p(q,Y),q.return=G,q)}function me(G,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Sh(""+q,G.mode,Y),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return Y=ac(q.type,q.key,q.props,null,G.mode,Y),Y.ref=Xa(G,null,q),Y.return=G,Y;case $:return q=Ih(q,G.mode,Y),q.return=G,q;case fe:var ge=q._init;return me(G,ge(q._payload),Y)}if(it(q)||U(q))return q=Fs(q,G.mode,Y,null),q.return=G,q;Vu(G,q)}return null}function de(G,q,Y,ge){var Ce=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ce!==null?null:M(G,q,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===Ce?B(G,q,Y,ge):null;case $:return Y.key===Ce?Z(G,q,Y,ge):null;case fe:return Ce=Y._init,de(G,q,Ce(Y._payload),ge)}if(it(Y)||U(Y))return Ce!==null?null:he(G,q,Y,ge,null);Vu(G,Y)}return null}function we(G,q,Y,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return G=G.get(Y)||null,M(q,G,""+ge,Ce);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case j:return G=G.get(ge.key===null?Y:ge.key)||null,B(q,G,ge,Ce);case $:return G=G.get(ge.key===null?Y:ge.key)||null,Z(q,G,ge,Ce);case fe:var Re=ge._init;return we(G,q,Y,Re(ge._payload),Ce)}if(it(ge)||U(ge))return G=G.get(Y)||null,he(q,G,ge,Ce,null);Vu(q,ge)}return null}function Ie(G,q,Y,ge){for(var Ce=null,Re=null,Ae=q,De=q=0,Ft=null;Ae!==null&&De<Y.length;De++){Ae.index>De?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Je=de(G,Ae,Y[De],ge);if(Je===null){Ae===null&&(Ae=Ft);break}r&&Ae&&Je.alternate===null&&s(G,Ae),q=y(Je,q,De),Re===null?Ce=Je:Re.sibling=Je,Re=Je,Ae=Ft}if(De===Y.length)return l(G,Ae),gt&&As(G,De),Ce;if(Ae===null){for(;De<Y.length;De++)Ae=me(G,Y[De],ge),Ae!==null&&(q=y(Ae,q,De),Re===null?Ce=Ae:Re.sibling=Ae,Re=Ae);return gt&&As(G,De),Ce}for(Ae=d(G,Ae);De<Y.length;De++)Ft=we(Ae,G,De,Y[De],ge),Ft!==null&&(r&&Ft.alternate!==null&&Ae.delete(Ft.key===null?De:Ft.key),q=y(Ft,q,De),Re===null?Ce=Ft:Re.sibling=Ft,Re=Ft);return r&&Ae.forEach(function(Fi){return s(G,Fi)}),gt&&As(G,De),Ce}function ke(G,q,Y,ge){var Ce=U(Y);if(typeof Ce!="function")throw Error(t(150));if(Y=Ce.call(Y),Y==null)throw Error(t(151));for(var Re=Ce=null,Ae=q,De=q=0,Ft=null,Je=Y.next();Ae!==null&&!Je.done;De++,Je=Y.next()){Ae.index>De?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Fi=de(G,Ae,Je.value,ge);if(Fi===null){Ae===null&&(Ae=Ft);break}r&&Ae&&Fi.alternate===null&&s(G,Ae),q=y(Fi,q,De),Re===null?Ce=Fi:Re.sibling=Fi,Re=Fi,Ae=Ft}if(Je.done)return l(G,Ae),gt&&As(G,De),Ce;if(Ae===null){for(;!Je.done;De++,Je=Y.next())Je=me(G,Je.value,ge),Je!==null&&(q=y(Je,q,De),Re===null?Ce=Je:Re.sibling=Je,Re=Je);return gt&&As(G,De),Ce}for(Ae=d(G,Ae);!Je.done;De++,Je=Y.next())Je=we(Ae,G,De,Je.value,ge),Je!==null&&(r&&Je.alternate!==null&&Ae.delete(Je.key===null?De:Je.key),q=y(Je,q,De),Re===null?Ce=Je:Re.sibling=Je,Re=Je);return r&&Ae.forEach(function(bI){return s(G,bI)}),gt&&As(G,De),Ce}function It(G,q,Y,ge){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var Ce=Y.key,Re=q;Re!==null;){if(Re.key===Ce){if(Ce=Y.type,Ce===P){if(Re.tag===7){l(G,Re.sibling),q=p(Re,Y.props.children),q.return=G,G=q;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===fe&&Bg(Ce)===Re.type){l(G,Re.sibling),q=p(Re,Y.props),q.ref=Xa(G,Re,Y),q.return=G,G=q;break e}l(G,Re);break}else s(G,Re);Re=Re.sibling}Y.type===P?(q=Fs(Y.props.children,G.mode,ge,Y.key),q.return=G,G=q):(ge=ac(Y.type,Y.key,Y.props,null,G.mode,ge),ge.ref=Xa(G,q,Y),ge.return=G,G=ge)}return C(G);case $:e:{for(Re=Y.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){l(G,q.sibling),q=p(q,Y.children||[]),q.return=G,G=q;break e}else{l(G,q);break}else s(G,q);q=q.sibling}q=Ih(Y,G.mode,ge),q.return=G,G=q}return C(G);case fe:return Re=Y._init,It(G,q,Re(Y._payload),ge)}if(it(Y))return Ie(G,q,Y,ge);if(U(Y))return ke(G,q,Y,ge);Vu(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,q!==null&&q.tag===6?(l(G,q.sibling),q=p(q,Y),q.return=G,G=q):(l(G,q),q=Sh(Y,G.mode,ge),q.return=G,G=q),C(G)):l(G,q)}return It}var jo=qg(!0),Hg=qg(!1),ju=xi(null),Fu=null,Fo=null,Of=null;function Df(){Of=Fo=Fu=null}function Lf(r){var s=ju.current;pt(ju),r._currentValue=s}function Mf(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Uo(r,s){Fu=r,Of=Fo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(vn=!0),r.firstContext=null)}function Kn(r){var s=r._currentValue;if(Of!==r)if(r={context:r,memoizedValue:s,next:null},Fo===null){if(Fu===null)throw Error(t(308));Fo=r,Fu.dependencies={lanes:0,firstContext:r}}else Fo=Fo.next=r;return s}var Ns=null;function Vf(r){Ns===null?Ns=[r]:Ns.push(r)}function Wg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Vf(s)):(l.next=p.next,p.next=l),s.interleaved=l,ni(r,d)}function ni(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ai=!1;function jf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ri(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ni(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,ni(r,l)}return p=d.interleaved,p===null?(s.next=s,Vf(d)):(s.next=p.next,p.next=s),d.interleaved=s,ni(r,l)}function Uu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ei(r,l)}}function Gg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var C={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=C:y=y.next=C,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function zu(r,s,l,d){var p=r.updateQueue;Ai=!1;var y=p.firstBaseUpdate,C=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var B=M,Z=B.next;B.next=null,C===null?y=Z:C.next=Z,C=B;var he=r.alternate;he!==null&&(he=he.updateQueue,M=he.lastBaseUpdate,M!==C&&(M===null?he.firstBaseUpdate=Z:M.next=Z,he.lastBaseUpdate=B))}if(y!==null){var me=p.baseState;C=0,he=Z=B=null,M=y;do{var de=M.lane,we=M.eventTime;if((d&de)===de){he!==null&&(he=he.next={eventTime:we,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ie=r,ke=M;switch(de=s,we=l,ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){me=Ie.call(we,me,de);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,de=typeof Ie=="function"?Ie.call(we,me,de):Ie,de==null)break e;me=E({},me,de);break e;case 2:Ai=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,de=p.effects,de===null?p.effects=[M]:de.push(M))}else we={eventTime:we,lane:de,tag:M.tag,payload:M.payload,callback:M.callback,next:null},he===null?(Z=he=we,B=me):he=he.next=we,C|=de;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;de=M,M=de.next,de.next=null,p.lastBaseUpdate=de,p.shared.pending=null}}while(!0);if(he===null&&(B=me),p.baseState=B,p.firstBaseUpdate=Z,p.lastBaseUpdate=he,s=p.shared.interleaved,s!==null){p=s;do C|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ls|=C,r.lanes=C,r.memoizedState=me}}function Qg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Ja={},Pr=xi(Ja),Za=xi(Ja),el=xi(Ja);function Os(r){if(r===Ja)throw Error(t(174));return r}function Ff(r,s){switch(at(el,s),at(Za,r),at(Pr,Ja),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=tt(s,r)}pt(Pr),at(Pr,s)}function zo(){pt(Pr),pt(Za),pt(el)}function Yg(r){Os(el.current);var s=Os(Pr.current),l=tt(s,r.type);s!==l&&(at(Za,r),at(Pr,l))}function Uf(r){Za.current===r&&(pt(Pr),pt(Za))}var vt=xi(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var zf=[];function $f(){for(var r=0;r<zf.length;r++)zf[r]._workInProgressVersionPrimary=null;zf.length=0}var Bu=re.ReactCurrentDispatcher,Bf=re.ReactCurrentBatchConfig,Ds=0,_t=null,Ot=null,Vt=null,qu=!1,tl=!1,nl=0,KS=0;function Yt(){throw Error(t(321))}function qf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!dr(r[l],s[l]))return!1;return!0}function Hf(r,s,l,d,p,y){if(Ds=y,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Bu.current=r===null||r.memoizedState===null?XS:JS,r=l(d,p),tl){y=0;do{if(tl=!1,nl=0,25<=y)throw Error(t(301));y+=1,Vt=Ot=null,s.updateQueue=null,Bu.current=ZS,r=l(d,p)}while(tl)}if(Bu.current=Ku,s=Ot!==null&&Ot.next!==null,Ds=0,Vt=Ot=_t=null,qu=!1,s)throw Error(t(300));return r}function Wf(){var r=nl!==0;return nl=0,r}function Rr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Gn(){if(Ot===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Ot.next;var s=Vt===null?_t.memoizedState:Vt.next;if(s!==null)Vt=s,Ot=r;else{if(r===null)throw Error(t(310));Ot=r,r={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function rl(r,s){return typeof s=="function"?s(r):s}function Kf(r){var s=Gn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Ot,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var C=p.next;p.next=y.next,y.next=C}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var M=C=null,B=null,Z=y;do{var he=Z.lane;if((Ds&he)===he)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),d=Z.hasEagerState?Z.eagerState:r(d,Z.action);else{var me={lane:he,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(M=B=me,C=d):B=B.next=me,_t.lanes|=he,Ls|=he}Z=Z.next}while(Z!==null&&Z!==y);B===null?C=d:B.next=M,dr(d,s.memoizedState)||(vn=!0),s.memoizedState=d,s.baseState=C,s.baseQueue=B,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,_t.lanes|=y,Ls|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Gf(r){var s=Gn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var C=p=p.next;do y=r(y,C.action),C=C.next;while(C!==p);dr(y,s.memoizedState)||(vn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Xg(){}function Jg(r,s){var l=_t,d=Gn(),p=s(),y=!dr(d.memoizedState,p);if(y&&(d.memoizedState=p,vn=!0),d=d.queue,Qf(ty.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,il(9,ey.bind(null,l,d,p,s),void 0,null),jt===null)throw Error(t(349));(Ds&30)!==0||Zg(l,s,p)}return p}function Zg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ey(r,s,l,d){s.value=l,s.getSnapshot=d,ny(s)&&ry(r)}function ty(r,s,l){return l(function(){ny(s)&&ry(r)})}function ny(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!dr(r,l)}catch{return!0}}function ry(r){var s=ni(r,1);s!==null&&gr(s,r,1,-1)}function iy(r){var s=Rr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:r},s.queue=r,r=r.dispatch=YS.bind(null,_t,r),[s.memoizedState,r]}function il(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function sy(){return Gn().memoizedState}function Hu(r,s,l,d){var p=Rr();_t.flags|=r,p.memoizedState=il(1|s,l,void 0,d===void 0?null:d)}function Wu(r,s,l,d){var p=Gn();d=d===void 0?null:d;var y=void 0;if(Ot!==null){var C=Ot.memoizedState;if(y=C.destroy,d!==null&&qf(d,C.deps)){p.memoizedState=il(s,l,y,d);return}}_t.flags|=r,p.memoizedState=il(1|s,l,y,d)}function oy(r,s){return Hu(8390656,8,r,s)}function Qf(r,s){return Wu(2048,8,r,s)}function ay(r,s){return Wu(4,2,r,s)}function ly(r,s){return Wu(4,4,r,s)}function uy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function cy(r,s,l){return l=l!=null?l.concat([r]):null,Wu(4,4,uy.bind(null,s,r),l)}function Yf(){}function dy(r,s){var l=Gn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&qf(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function fy(r,s){var l=Gn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&qf(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function hy(r,s,l){return(Ds&21)===0?(r.baseState&&(r.baseState=!1,vn=!0),r.memoizedState=l):(dr(l,s)||(l=Ss(),_t.lanes|=l,Ls|=l,r.baseState=!0),s)}function GS(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=Bf.transition;Bf.transition={};try{r(!1),s()}finally{Ke=l,Bf.transition=d}}function py(){return Gn().memoizedState}function QS(r,s,l){var d=Mi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},my(r))gy(s,l);else if(l=Wg(r,s,l,d),l!==null){var p=un();gr(l,r,d,p),yy(l,s,d)}}function YS(r,s,l){var d=Mi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(my(r))gy(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,M=y(C,l);if(p.hasEagerState=!0,p.eagerState=M,dr(M,C)){var B=s.interleaved;B===null?(p.next=p,Vf(s)):(p.next=B.next,B.next=p),s.interleaved=p;return}}catch{}finally{}l=Wg(r,s,p,d),l!==null&&(p=un(),gr(l,r,d,p),yy(l,s,d))}}function my(r){var s=r.alternate;return r===_t||s!==null&&s===_t}function gy(r,s){tl=qu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function yy(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ei(r,l)}}var Ku={readContext:Kn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},XS={readContext:Kn,useCallback:function(r,s){return Rr().memoizedState=[r,s===void 0?null:s],r},useContext:Kn,useEffect:oy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Hu(4194308,4,uy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Hu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Hu(4,2,r,s)},useMemo:function(r,s){var l=Rr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Rr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=QS.bind(null,_t,r),[d.memoizedState,r]},useRef:function(r){var s=Rr();return r={current:r},s.memoizedState=r},useState:iy,useDebugValue:Yf,useDeferredValue:function(r){return Rr().memoizedState=r},useTransition:function(){var r=iy(!1),s=r[0];return r=GS.bind(null,r[1]),Rr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=_t,p=Rr();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),jt===null)throw Error(t(349));(Ds&30)!==0||Zg(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,oy(ty.bind(null,d,y,r),[r]),d.flags|=2048,il(9,ey.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Rr(),s=jt.identifierPrefix;if(gt){var l=ti,d=ei;l=(d&~(1<<32-on(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=nl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=KS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},JS={readContext:Kn,useCallback:dy,useContext:Kn,useEffect:Qf,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:fy,useReducer:Kf,useRef:sy,useState:function(){return Kf(rl)},useDebugValue:Yf,useDeferredValue:function(r){var s=Gn();return hy(s,Ot.memoizedState,r)},useTransition:function(){var r=Kf(rl)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:Xg,useSyncExternalStore:Jg,useId:py,unstable_isNewReconciler:!1},ZS={readContext:Kn,useCallback:dy,useContext:Kn,useEffect:Qf,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:fy,useReducer:Gf,useRef:sy,useState:function(){return Gf(rl)},useDebugValue:Yf,useDeferredValue:function(r){var s=Gn();return Ot===null?s.memoizedState=r:hy(s,Ot.memoizedState,r)},useTransition:function(){var r=Gf(rl)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:Xg,useSyncExternalStore:Jg,useId:py,unstable_isNewReconciler:!1};function hr(r,s){if(r&&r.defaultProps){s=E({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Xf(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:E({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Gu={isMounted:function(r){return(r=r._reactInternals)?ir(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=un(),p=Mi(r),y=ri(d,p);y.payload=s,l!=null&&(y.callback=l),s=Ni(r,y,p),s!==null&&(gr(s,r,p,d),Uu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=un(),p=Mi(r),y=ri(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Ni(r,y,p),s!==null&&(gr(s,r,p,d),Uu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=un(),d=Mi(r),p=ri(l,d);p.tag=2,s!=null&&(p.callback=s),s=Ni(r,p,d),s!==null&&(gr(s,r,d,l),Uu(s,r,d))}};function vy(r,s,l,d,p,y,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,C):s.prototype&&s.prototype.isPureReactComponent?!qa(l,d)||!qa(p,y):!0}function _y(r,s,l){var d=!1,p=Pi,y=s.contextType;return typeof y=="object"&&y!==null?y=Kn(y):(p=yn(s)?Ps:Qt.current,d=s.contextTypes,y=(d=d!=null)?Do(r,p):Pi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function wy(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Gu.enqueueReplaceState(s,s.state,null)}function Jf(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},jf(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Kn(y):(y=yn(s)?Ps:Qt.current,p.context=Do(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Xf(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Gu.enqueueReplaceState(p,p.state,null),zu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function $o(r,s){try{var l="",d=s;do l+=ae(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Zf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function eh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function Ey(r,s,l){l=ri(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){tc||(tc=!0,mh=d),eh(r,s)},l}function Ty(r,s,l){l=ri(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){eh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){eh(r,s),typeof d!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),l}function Sy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new eI;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=pI.bind(null,r,s,l),s.then(r,r))}function Iy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function by(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ri(-1,1),s.tag=2,Ni(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var tI=re.ReactCurrentOwner,vn=!1;function ln(r,s,l,d){s.child=r===null?Hg(s,null,l,d):jo(s,r.child,l,d)}function ky(r,s,l,d,p){l=l.render;var y=s.ref;return Uo(s,p),d=Hf(r,s,l,d,y,p),l=Wf(),r!==null&&!vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ii(r,s,p)):(gt&&l&&xf(s),s.flags|=1,ln(r,s,d,p),s.child)}function Cy(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!Th(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,xy(r,s,y,d,p)):(r=ac(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var C=y.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(C,d)&&r.ref===s.ref)return ii(r,s,p)}return s.flags|=1,r=ji(y,d),r.ref=s.ref,r.return=s,s.child=r}function xy(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(qa(y,d)&&r.ref===s.ref)if(vn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(vn=!0);else return s.lanes=r.lanes,ii(r,s,p)}return th(r,s,l,d,p)}function Py(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(qo,Dn),Dn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(qo,Dn),Dn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,at(qo,Dn),Dn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,at(qo,Dn),Dn|=d;return ln(r,s,p,l),s.child}function Ry(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function th(r,s,l,d,p){var y=yn(l)?Ps:Qt.current;return y=Do(s,y),Uo(s,p),l=Hf(r,s,l,d,y,p),d=Wf(),r!==null&&!vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,ii(r,s,p)):(gt&&d&&xf(s),s.flags|=1,ln(r,s,l,p),s.child)}function Ay(r,s,l,d,p){if(yn(l)){var y=!0;Nu(s)}else y=!1;if(Uo(s,p),s.stateNode===null)Yu(r,s),_y(s,l,d),Jf(s,l,d,p),d=!0;else if(r===null){var C=s.stateNode,M=s.memoizedProps;C.props=M;var B=C.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=Kn(Z):(Z=yn(l)?Ps:Qt.current,Z=Do(s,Z));var he=l.getDerivedStateFromProps,me=typeof he=="function"||typeof C.getSnapshotBeforeUpdate=="function";me||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==d||B!==Z)&&wy(s,C,d,Z),Ai=!1;var de=s.memoizedState;C.state=de,zu(s,d,C,p),B=s.memoizedState,M!==d||de!==B||gn.current||Ai?(typeof he=="function"&&(Xf(s,l,he,d),B=s.memoizedState),(M=Ai||vy(s,l,M,d,de,B,Z))?(me||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=B),C.props=d,C.state=B,C.context=Z,d=M):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{C=s.stateNode,Kg(r,s),M=s.memoizedProps,Z=s.type===s.elementType?M:hr(s.type,M),C.props=Z,me=s.pendingProps,de=C.context,B=l.contextType,typeof B=="object"&&B!==null?B=Kn(B):(B=yn(l)?Ps:Qt.current,B=Do(s,B));var we=l.getDerivedStateFromProps;(he=typeof we=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==me||de!==B)&&wy(s,C,d,B),Ai=!1,de=s.memoizedState,C.state=de,zu(s,d,C,p);var Ie=s.memoizedState;M!==me||de!==Ie||gn.current||Ai?(typeof we=="function"&&(Xf(s,l,we,d),Ie=s.memoizedState),(Z=Ai||vy(s,l,Z,d,de,Ie,B)||!1)?(he||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(d,Ie,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(d,Ie,B)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||M===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ie),C.props=d,C.state=Ie,C.context=B,d=Z):(typeof C.componentDidUpdate!="function"||M===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),d=!1)}return nh(r,s,l,d,y,p)}function nh(r,s,l,d,p,y){Ry(r,s);var C=(s.flags&128)!==0;if(!d&&!C)return p&&Mg(s,l,!1),ii(r,s,y);d=s.stateNode,tI.current=s;var M=C&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&C?(s.child=jo(s,r.child,null,y),s.child=jo(s,null,M,y)):ln(r,s,M,y),s.memoizedState=d.state,p&&Mg(s,l,!0),s.child}function Ny(r){var s=r.stateNode;s.pendingContext?Dg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Dg(r,s.context,!1),Ff(r,s.containerInfo)}function Oy(r,s,l,d,p){return Vo(),Nf(p),s.flags|=256,ln(r,s,l,d),s.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function ih(r){return{baseLanes:r,cachePool:null,transitions:null}}function Dy(r,s,l){var d=s.pendingProps,p=vt.current,y=!1,C=(s.flags&128)!==0,M;if((M=C)||(M=r!==null&&r.memoizedState===null?!1:(p&2)!==0),M?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),at(vt,p&1),r===null)return Af(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(C=d.children,r=d.fallback,y?(d=s.mode,y=s.child,C={mode:"hidden",children:C},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=C):y=lc(C,d,0,null),r=Fs(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=ih(l),s.memoizedState=rh,r):sh(s,C));if(p=r.memoizedState,p!==null&&(M=p.dehydrated,M!==null))return nI(r,s,C,d,M,p,l);if(y){y=d.fallback,C=s.mode,p=r.child,M=p.sibling;var B={mode:"hidden",children:d.children};return(C&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=B,s.deletions=null):(d=ji(p,B),d.subtreeFlags=p.subtreeFlags&14680064),M!==null?y=ji(M,y):(y=Fs(y,C,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,C=r.child.memoizedState,C=C===null?ih(l):{baseLanes:C.baseLanes|l,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=r.childLanes&~l,s.memoizedState=rh,d}return y=r.child,r=y.sibling,d=ji(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function sh(r,s){return s=lc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Qu(r,s,l,d){return d!==null&&Nf(d),jo(s,r.child,null,l),r=sh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function nI(r,s,l,d,p,y,C){if(l)return s.flags&256?(s.flags&=-257,d=Zf(Error(t(422))),Qu(r,s,C,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=lc({mode:"visible",children:d.children},p,0,null),y=Fs(y,p,C,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&jo(s,r.child,null,C),s.child.memoizedState=ih(C),s.memoizedState=rh,y);if((s.mode&1)===0)return Qu(r,s,C,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var M=d.dgst;return d=M,y=Error(t(419)),d=Zf(y,d,void 0),Qu(r,s,C,d)}if(M=(C&r.childLanes)!==0,vn||M){if(d=jt,d!==null){switch(C&-C){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|C))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ni(r,p),gr(d,r,p,-1))}return Eh(),d=Zf(Error(t(421))),Qu(r,s,C,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=mI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,On=Ci(p.nextSibling),Nn=s,gt=!0,fr=null,r!==null&&(Hn[Wn++]=ei,Hn[Wn++]=ti,Hn[Wn++]=Rs,ei=r.id,ti=r.overflow,Rs=s),s=sh(s,d.children),s.flags|=4096,s)}function Ly(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Mf(r.return,s,l)}function oh(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function My(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(ln(r,s,d.children,l),d=vt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ly(r,l,s);else if(r.tag===19)Ly(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(at(vt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&$u(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),oh(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&$u(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}oh(s,!0,l,null,y);break;case"together":oh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ii(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ls|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=ji(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ji(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function rI(r,s,l){switch(s.tag){case 3:Ny(s),Vo();break;case 5:Yg(s);break;case 1:yn(s.type)&&Nu(s);break;case 4:Ff(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;at(ju,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(vt,vt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Dy(r,s,l):(at(vt,vt.current&1),r=ii(r,s,l),r!==null?r.sibling:null);at(vt,vt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return My(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(vt,vt.current),d)break;return null;case 22:case 23:return s.lanes=0,Py(r,s,l)}return ii(r,s,l)}var Vy,ah,jy,Fy;Vy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ah=function(){},jy=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Os(Pr.current);var y=null;switch(l){case"input":p=Ve(r,p),d=Ve(r,d),y=[];break;case"select":p=E({},p,{value:void 0}),d=E({},d,{value:void 0}),y=[];break;case"textarea":p=Cn(r,p),d=Cn(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Pu)}ba(l,d);var C;l=null;for(Z in p)if(!d.hasOwnProperty(Z)&&p.hasOwnProperty(Z)&&p[Z]!=null)if(Z==="style"){var M=p[Z];for(C in M)M.hasOwnProperty(C)&&(l||(l={}),l[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?y||(y=[]):(y=y||[]).push(Z,null));for(Z in d){var B=d[Z];if(M=p!=null?p[Z]:void 0,d.hasOwnProperty(Z)&&B!==M&&(B!=null||M!=null))if(Z==="style")if(M){for(C in M)!M.hasOwnProperty(C)||B&&B.hasOwnProperty(C)||(l||(l={}),l[C]="");for(C in B)B.hasOwnProperty(C)&&M[C]!==B[C]&&(l||(l={}),l[C]=B[C])}else l||(y||(y=[]),y.push(Z,l)),l=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,M=M?M.__html:void 0,B!=null&&M!==B&&(y=y||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(y=y||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&ht("scroll",r),y||M===B||(y=[])):(y=y||[]).push(Z,B))}l&&(y=y||[]).push("style",l);var Z=y;(s.updateQueue=Z)&&(s.flags|=4)}},Fy=function(r,s,l,d){l!==d&&(s.flags|=4)};function sl(r,s){if(!gt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function iI(r,s,l){var d=s.pendingProps;switch(Pf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return yn(s.type)&&Au(),Xt(s),null;case 3:return d=s.stateNode,zo(),pt(gn),pt(Qt),$f(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Mu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fr!==null&&(vh(fr),fr=null))),ah(r,s),Xt(s),null;case 5:Uf(s);var p=Os(el.current);if(l=s.type,r!==null&&s.stateNode!=null)jy(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Xt(s),null}if(r=Os(Pr.current),Mu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[xr]=s,d[Qa]=y,r=(s.mode&1)!==0,l){case"dialog":ht("cancel",d),ht("close",d);break;case"iframe":case"object":case"embed":ht("load",d);break;case"video":case"audio":for(p=0;p<Wa.length;p++)ht(Wa[p],d);break;case"source":ht("error",d);break;case"img":case"image":case"link":ht("error",d),ht("load",d);break;case"details":ht("toggle",d);break;case"input":Be(d,y),ht("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ht("invalid",d);break;case"textarea":er(d,y),ht("invalid",d)}ba(l,y),p=null;for(var C in y)if(y.hasOwnProperty(C)){var M=y[C];C==="children"?typeof M=="string"?d.textContent!==M&&(y.suppressHydrationWarning!==!0&&xu(d.textContent,M,r),p=["children",M]):typeof M=="number"&&d.textContent!==""+M&&(y.suppressHydrationWarning!==!0&&xu(d.textContent,M,r),p=["children",""+M]):o.hasOwnProperty(C)&&M!=null&&C==="onScroll"&&ht("scroll",d)}switch(l){case"input":ze(d),dt(d,y,!0);break;case"textarea":ze(d),tr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Pu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{C=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=C.createElement(l,{is:d.is}):(r=C.createElement(l),l==="select"&&(C=r,d.multiple?C.multiple=!0:d.size&&(C.size=d.size))):r=C.createElementNS(r,l),r[xr]=s,r[Qa]=d,Vy(r,s,!1,!1),s.stateNode=r;e:{switch(C=ka(l,d),l){case"dialog":ht("cancel",r),ht("close",r),p=d;break;case"iframe":case"object":case"embed":ht("load",r),p=d;break;case"video":case"audio":for(p=0;p<Wa.length;p++)ht(Wa[p],r);p=d;break;case"source":ht("error",r),p=d;break;case"img":case"image":case"link":ht("error",r),ht("load",r),p=d;break;case"details":ht("toggle",r),p=d;break;case"input":Be(r,d),p=Ve(r,d),ht("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=E({},d,{value:void 0}),ht("invalid",r);break;case"textarea":er(r,d),p=Cn(r,d),ht("invalid",r);break;default:p=d}ba(l,p),M=p;for(y in M)if(M.hasOwnProperty(y)){var B=M[y];y==="style"?Sa(r,B):y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ea(r,B)):y==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&gi(r,B):typeof B=="number"&&gi(r,""+B):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?B!=null&&y==="onScroll"&&ht("scroll",r):B!=null&&X(r,y,B,C))}switch(l){case"input":ze(r),dt(r,d,!1);break;case"textarea":ze(r),tr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Te(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?yt(r,!!d.multiple,y,!1):d.defaultValue!=null&&yt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Pu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(r&&s.stateNode!=null)Fy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Os(el.current),Os(Pr.current),Mu(s)){if(d=s.stateNode,l=s.memoizedProps,d[xr]=s,(y=d.nodeValue!==l)&&(r=Nn,r!==null))switch(r.tag){case 3:xu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&xu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xr]=s,s.stateNode=d}return Xt(s),null;case 13:if(pt(vt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&On!==null&&(s.mode&1)!==0&&(s.flags&128)===0)$g(),Vo(),s.flags|=98560,y=!1;else if(y=Mu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[xr]=s}else Vo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),y=!1}else fr!==null&&(vh(fr),fr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(vt.current&1)!==0?Dt===0&&(Dt=3):Eh())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return zo(),ah(r,s),r===null&&Ka(s.stateNode.containerInfo),Xt(s),null;case 10:return Lf(s.type._context),Xt(s),null;case 17:return yn(s.type)&&Au(),Xt(s),null;case 19:if(pt(vt),y=s.memoizedState,y===null)return Xt(s),null;if(d=(s.flags&128)!==0,C=y.rendering,C===null)if(d)sl(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(C=$u(r),C!==null){for(s.flags|=128,sl(y,!1),d=C.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,r=C.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return at(vt,vt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ot()>Ho&&(s.flags|=128,d=!0,sl(y,!1),s.lanes=4194304)}else{if(!d)if(r=$u(C),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),sl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!gt)return Xt(s),null}else 2*ot()-y.renderingStartTime>Ho&&l!==1073741824&&(s.flags|=128,d=!0,sl(y,!1),s.lanes=4194304);y.isBackwards?(C.sibling=s.child,s.child=C):(l=y.last,l!==null?l.sibling=C:s.child=C,y.last=C)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ot(),s.sibling=null,l=vt.current,at(vt,d?l&1|2:l&1),s):(Xt(s),null);case 22:case 23:return wh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Dn&1073741824)!==0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function sI(r,s){switch(Pf(s),s.tag){case 1:return yn(s.type)&&Au(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zo(),pt(gn),pt(Qt),$f(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Uf(s),null;case 13:if(pt(vt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Vo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(vt),null;case 4:return zo(),null;case 10:return Lf(s.type._context),null;case 22:case 23:return wh(),null;case 24:return null;default:return null}}var Xu=!1,Jt=!1,oI=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Bo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Et(r,s,d)}else l.current=null}function lh(r,s,l){try{l()}catch(d){Et(r,s,d)}}var Uy=!1;function aI(r,s){if(wf=Ii,r=vg(),ff(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var C=0,M=-1,B=-1,Z=0,he=0,me=r,de=null;t:for(;;){for(var we;me!==l||p!==0&&me.nodeType!==3||(M=C+p),me!==y||d!==0&&me.nodeType!==3||(B=C+d),me.nodeType===3&&(C+=me.nodeValue.length),(we=me.firstChild)!==null;)de=me,me=we;for(;;){if(me===r)break t;if(de===l&&++Z===p&&(M=C),de===y&&++he===d&&(B=C),(we=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=we}l=M===-1||B===-1?null:{start:M,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ef={focusedElem:r,selectionRange:l},Ii=!1,Se=s;Se!==null;)if(s=Se,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Se=r;else for(;Se!==null;){s=Se;try{var Ie=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var ke=Ie.memoizedProps,It=Ie.memoizedState,G=s.stateNode,q=G.getSnapshotBeforeUpdate(s.elementType===s.type?ke:hr(s.type,ke),It);G.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Et(s,s.return,ge)}if(r=s.sibling,r!==null){r.return=s.return,Se=r;break}Se=s.return}return Ie=Uy,Uy=!1,Ie}function ol(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&lh(s,l,y)}p=p.next}while(p!==d)}}function Ju(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function uh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function zy(r){var s=r.alternate;s!==null&&(r.alternate=null,zy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[xr],delete s[Qa],delete s[bf],delete s[BS],delete s[qS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function $y(r){return r.tag===5||r.tag===3||r.tag===4}function By(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$y(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ch(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Pu));else if(d!==4&&(r=r.child,r!==null))for(ch(r,s,l),r=r.sibling;r!==null;)ch(r,s,l),r=r.sibling}function dh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(dh(r,s,l),r=r.sibling;r!==null;)dh(r,s,l),r=r.sibling}var qt=null,pr=!1;function Oi(r,s,l){for(l=l.child;l!==null;)qy(r,s,l),l=l.sibling}function qy(r,s,l){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Es,l)}catch{}switch(l.tag){case 5:Jt||Bo(l,s);case 6:var d=qt,p=pr;qt=null,Oi(r,s,l),qt=d,pr=p,qt!==null&&(pr?(r=qt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):qt.removeChild(l.stateNode));break;case 18:qt!==null&&(pr?(r=qt,l=l.stateNode,r.nodeType===8?If(r.parentNode,l):r.nodeType===1&&If(r,l),ur(r)):If(qt,l.stateNode));break;case 4:d=qt,p=pr,qt=l.stateNode.containerInfo,pr=!0,Oi(r,s,l),qt=d,pr=p;break;case 0:case 11:case 14:case 15:if(!Jt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,C=y.destroy;y=y.tag,C!==void 0&&((y&2)!==0||(y&4)!==0)&&lh(l,s,C),p=p.next}while(p!==d)}Oi(r,s,l);break;case 1:if(!Jt&&(Bo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(M){Et(l,s,M)}Oi(r,s,l);break;case 21:Oi(r,s,l);break;case 22:l.mode&1?(Jt=(d=Jt)||l.memoizedState!==null,Oi(r,s,l),Jt=d):Oi(r,s,l);break;default:Oi(r,s,l)}}function Hy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new oI),s.forEach(function(d){var p=gI.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function mr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,C=s,M=C;e:for(;M!==null;){switch(M.tag){case 5:qt=M.stateNode,pr=!1;break e;case 3:qt=M.stateNode.containerInfo,pr=!0;break e;case 4:qt=M.stateNode.containerInfo,pr=!0;break e}M=M.return}if(qt===null)throw Error(t(160));qy(y,C,p),qt=null,pr=!1;var B=p.alternate;B!==null&&(B.return=null),p.return=null}catch(Z){Et(p,s,Z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Wy(s,r),s=s.sibling}function Wy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(mr(s,r),Ar(r),d&4){try{ol(3,r,r.return),Ju(3,r)}catch(ke){Et(r,r.return,ke)}try{ol(5,r,r.return)}catch(ke){Et(r,r.return,ke)}}break;case 1:mr(s,r),Ar(r),d&512&&l!==null&&Bo(l,l.return);break;case 5:if(mr(s,r),Ar(r),d&512&&l!==null&&Bo(l,l.return),r.flags&32){var p=r.stateNode;try{gi(p,"")}catch(ke){Et(r,r.return,ke)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,C=l!==null?l.memoizedProps:y,M=r.type,B=r.updateQueue;if(r.updateQueue=null,B!==null)try{M==="input"&&y.type==="radio"&&y.name!=null&&ct(p,y),ka(M,C);var Z=ka(M,y);for(C=0;C<B.length;C+=2){var he=B[C],me=B[C+1];he==="style"?Sa(p,me):he==="dangerouslySetInnerHTML"?Ea(p,me):he==="children"?gi(p,me):X(p,he,me,Z)}switch(M){case"input":Fe(p,y);break;case"textarea":Hr(p,y);break;case"select":var de=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?yt(p,!!y.multiple,we,!1):de!==!!y.multiple&&(y.defaultValue!=null?yt(p,!!y.multiple,y.defaultValue,!0):yt(p,!!y.multiple,y.multiple?[]:"",!1))}p[Qa]=y}catch(ke){Et(r,r.return,ke)}}break;case 6:if(mr(s,r),Ar(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ke){Et(r,r.return,ke)}}break;case 3:if(mr(s,r),Ar(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ur(s.containerInfo)}catch(ke){Et(r,r.return,ke)}break;case 4:mr(s,r),Ar(r);break;case 13:mr(s,r),Ar(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(ph=ot())),d&4&&Hy(r);break;case 22:if(he=l!==null&&l.memoizedState!==null,r.mode&1?(Jt=(Z=Jt)||he,mr(s,r),Jt=Z):mr(s,r),Ar(r),d&8192){if(Z=r.memoizedState!==null,(r.stateNode.isHidden=Z)&&!he&&(r.mode&1)!==0)for(Se=r,he=r.child;he!==null;){for(me=Se=he;Se!==null;){switch(de=Se,we=de.child,de.tag){case 0:case 11:case 14:case 15:ol(4,de,de.return);break;case 1:Bo(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){d=de,l=de.return;try{s=d,Ie.props=s.memoizedProps,Ie.state=s.memoizedState,Ie.componentWillUnmount()}catch(ke){Et(d,l,ke)}}break;case 5:Bo(de,de.return);break;case 22:if(de.memoizedState!==null){Qy(me);continue}}we!==null?(we.return=de,Se=we):Qy(me)}he=he.sibling}e:for(he=null,me=r;;){if(me.tag===5){if(he===null){he=me;try{p=me.stateNode,Z?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(M=me.stateNode,B=me.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null,M.style.display=Ta("display",C))}catch(ke){Et(r,r.return,ke)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(ke){Et(r,r.return,ke)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:mr(s,r),Ar(r),d&4&&Hy(r);break;case 21:break;default:mr(s,r),Ar(r)}}function Ar(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if($y(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(gi(p,""),d.flags&=-33);var y=By(r);dh(r,y,p);break;case 3:case 4:var C=d.stateNode.containerInfo,M=By(r);ch(r,M,C);break;default:throw Error(t(161))}}catch(B){Et(r,r.return,B)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function lI(r,s,l){Se=r,Ky(r)}function Ky(r,s,l){for(var d=(r.mode&1)!==0;Se!==null;){var p=Se,y=p.child;if(p.tag===22&&d){var C=p.memoizedState!==null||Xu;if(!C){var M=p.alternate,B=M!==null&&M.memoizedState!==null||Jt;M=Xu;var Z=Jt;if(Xu=C,(Jt=B)&&!Z)for(Se=p;Se!==null;)C=Se,B=C.child,C.tag===22&&C.memoizedState!==null?Yy(p):B!==null?(B.return=C,Se=B):Yy(p);for(;y!==null;)Se=y,Ky(y),y=y.sibling;Se=p,Xu=M,Jt=Z}Gy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Se=y):Gy(r)}}function Gy(r){for(;Se!==null;){var s=Se;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Jt||Ju(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Jt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:hr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Qg(s,y,d);break;case 3:var C=s.updateQueue;if(C!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Qg(s,C,l)}break;case 5:var M=s.stateNode;if(l===null&&s.flags&4){l=M;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Z=s.alternate;if(Z!==null){var he=Z.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&ur(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||s.flags&512&&uh(s)}catch(de){Et(s,s.return,de)}}if(s===r){Se=null;break}if(l=s.sibling,l!==null){l.return=s.return,Se=l;break}Se=s.return}}function Qy(r){for(;Se!==null;){var s=Se;if(s===r){Se=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Se=l;break}Se=s.return}}function Yy(r){for(;Se!==null;){var s=Se;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ju(4,s)}catch(B){Et(s,l,B)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(B){Et(s,p,B)}}var y=s.return;try{uh(s)}catch(B){Et(s,y,B)}break;case 5:var C=s.return;try{uh(s)}catch(B){Et(s,C,B)}}}catch(B){Et(s,s.return,B)}if(s===r){Se=null;break}var M=s.sibling;if(M!==null){M.return=s.return,Se=M;break}Se=s.return}}var uI=Math.ceil,Zu=re.ReactCurrentDispatcher,fh=re.ReactCurrentOwner,Qn=re.ReactCurrentBatchConfig,Xe=0,jt=null,Ct=null,Ht=0,Dn=0,qo=xi(0),Dt=0,al=null,Ls=0,ec=0,hh=0,ll=null,_n=null,ph=0,Ho=1/0,si=null,tc=!1,mh=null,Di=null,nc=!1,Li=null,rc=0,ul=0,gh=null,ic=-1,sc=0;function un(){return(Xe&6)!==0?ot():ic!==-1?ic:ic=ot()}function Mi(r){return(r.mode&1)===0?1:(Xe&2)!==0&&Ht!==0?Ht&-Ht:WS.transition!==null?(sc===0&&(sc=Ss()),sc):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Va(r.type)),r)}function gr(r,s,l,d){if(50<ul)throw ul=0,gh=null,Error(t(185));wi(r,l,d),((Xe&2)===0||r!==jt)&&(r===jt&&((Xe&2)===0&&(ec|=l),Dt===4&&Vi(r,Ht)),wn(r,d),l===1&&Xe===0&&(s.mode&1)===0&&(Ho=ot()+500,Ou&&Ri()))}function wn(r,s){var l=r.callbackNode;Kr(r,s);var d=Ts(r,r===jt?Ht:0);if(d===0)l!==null&&Na(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Na(l),s===1)r.tag===0?HS(Jy.bind(null,r)):Vg(Jy.bind(null,r)),zS(function(){(Xe&6)===0&&Ri()}),l=null;else{switch(Ti(d)){case 1:l=ws;break;case 4:l=yi;break;case 16:l=$n;break;case 536870912:l=su;break;default:l=$n}l=ov(l,Xy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Xy(r,s){if(ic=-1,sc=0,(Xe&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Wo()&&r.callbackNode!==l)return null;var d=Ts(r,r===jt?Ht:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=oc(r,d);else{s=d;var p=Xe;Xe|=2;var y=ev();(jt!==r||Ht!==s)&&(si=null,Ho=ot()+500,Vs(r,s));do try{fI();break}catch(M){Zy(r,M)}while(!0);Df(),Zu.current=y,Xe=p,Ct!==null?s=0:(jt=null,Ht=0,s=Dt)}if(s!==0){if(s===2&&(p=Pn(r),p!==0&&(d=p,s=yh(r,p))),s===1)throw l=al,Vs(r,0),Vi(r,d),wn(r,ot()),l;if(s===6)Vi(r,d);else{if(p=r.current.alternate,(d&30)===0&&!cI(p)&&(s=oc(r,d),s===2&&(y=Pn(r),y!==0&&(d=y,s=yh(r,y))),s===1))throw l=al,Vs(r,0),Vi(r,d),wn(r,ot()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:js(r,_n,si);break;case 3:if(Vi(r,d),(d&130023424)===d&&(s=ph+500-ot(),10<s)){if(Ts(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){un(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Sf(js.bind(null,r,_n,si),s);break}js(r,_n,si);break;case 4:if(Vi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var C=31-on(d);y=1<<C,C=s[C],C>p&&(p=C),d&=~y}if(d=p,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*uI(d/1960))-d,10<d){r.timeoutHandle=Sf(js.bind(null,r,_n,si),d);break}js(r,_n,si);break;case 5:js(r,_n,si);break;default:throw Error(t(329))}}}return wn(r,ot()),r.callbackNode===l?Xy.bind(null,r):null}function yh(r,s){var l=ll;return r.current.memoizedState.isDehydrated&&(Vs(r,s).flags|=256),r=oc(r,s),r!==2&&(s=_n,_n=l,s!==null&&vh(s)),r}function vh(r){_n===null?_n=r:_n.push.apply(_n,r)}function cI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!dr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(r,s){for(s&=~hh,s&=~ec,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-on(s),d=1<<l;r[l]=-1,s&=~d}}function Jy(r){if((Xe&6)!==0)throw Error(t(327));Wo();var s=Ts(r,0);if((s&1)===0)return wn(r,ot()),null;var l=oc(r,s);if(r.tag!==0&&l===2){var d=Pn(r);d!==0&&(s=d,l=yh(r,d))}if(l===1)throw l=al,Vs(r,0),Vi(r,s),wn(r,ot()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,js(r,_n,si),wn(r,ot()),null}function _h(r,s){var l=Xe;Xe|=1;try{return r(s)}finally{Xe=l,Xe===0&&(Ho=ot()+500,Ou&&Ri())}}function Ms(r){Li!==null&&Li.tag===0&&(Xe&6)===0&&Wo();var s=Xe;Xe|=1;var l=Qn.transition,d=Ke;try{if(Qn.transition=null,Ke=1,r)return r()}finally{Ke=d,Qn.transition=l,Xe=s,(Xe&6)===0&&Ri()}}function wh(){Dn=qo.current,pt(qo)}function Vs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,US(l)),Ct!==null)for(l=Ct.return;l!==null;){var d=l;switch(Pf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Au();break;case 3:zo(),pt(gn),pt(Qt),$f();break;case 5:Uf(d);break;case 4:zo();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:Lf(d.type._context);break;case 22:case 23:wh()}l=l.return}if(jt=r,Ct=r=ji(r.current,null),Ht=Dn=s,Dt=0,al=null,hh=ec=Ls=0,_n=ll=null,Ns!==null){for(s=0;s<Ns.length;s++)if(l=Ns[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var C=y.next;y.next=p,d.next=C}l.pending=d}Ns=null}return r}function Zy(r,s){do{var l=Ct;try{if(Df(),Bu.current=Ku,qu){for(var d=_t.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}qu=!1}if(Ds=0,Vt=Ot=_t=null,tl=!1,nl=0,fh.current=null,l===null||l.return===null){Dt=1,al=s,Ct=null;break}e:{var y=r,C=l.return,M=l,B=s;if(s=Ht,M.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,he=M,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var we=Iy(C);if(we!==null){we.flags&=-257,by(we,C,M,y,s),we.mode&1&&Sy(y,Z,s),s=we,B=Z;var Ie=s.updateQueue;if(Ie===null){var ke=new Set;ke.add(B),s.updateQueue=ke}else Ie.add(B);break e}else{if((s&1)===0){Sy(y,Z,s),Eh();break e}B=Error(t(426))}}else if(gt&&M.mode&1){var It=Iy(C);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),by(It,C,M,y,s),Nf($o(B,M));break e}}y=B=$o(B,M),Dt!==4&&(Dt=2),ll===null?ll=[y]:ll.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var G=Ey(y,B,s);Gg(y,G);break e;case 1:M=B;var q=y.type,Y=y.stateNode;if((y.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Di===null||!Di.has(Y)))){y.flags|=65536,s&=-s,y.lanes|=s;var ge=Ty(y,M,s);Gg(y,ge);break e}}y=y.return}while(y!==null)}nv(l)}catch(Ce){s=Ce,Ct===l&&l!==null&&(Ct=l=l.return);continue}break}while(!0)}function ev(){var r=Zu.current;return Zu.current=Ku,r===null?Ku:r}function Eh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),jt===null||(Ls&268435455)===0&&(ec&268435455)===0||Vi(jt,Ht)}function oc(r,s){var l=Xe;Xe|=2;var d=ev();(jt!==r||Ht!==s)&&(si=null,Vs(r,s));do try{dI();break}catch(p){Zy(r,p)}while(!0);if(Df(),Xe=l,Zu.current=d,Ct!==null)throw Error(t(261));return jt=null,Ht=0,Dt}function dI(){for(;Ct!==null;)tv(Ct)}function fI(){for(;Ct!==null&&!ru();)tv(Ct)}function tv(r){var s=sv(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,s===null?nv(r):Ct=s,fh.current=null}function nv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=iI(l,s,Dn),l!==null){Ct=l;return}}else{if(l=sI(l,s),l!==null){l.flags&=32767,Ct=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Dt=6,Ct=null;return}}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=r}while(s!==null);Dt===0&&(Dt=5)}function js(r,s,l){var d=Ke,p=Qn.transition;try{Qn.transition=null,Ke=1,hI(r,s,l,d)}finally{Qn.transition=p,Ke=d}return null}function hI(r,s,l,d){do Wo();while(Li!==null);if((Xe&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(st(r,y),r===jt&&(Ct=jt=null,Ht=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||nc||(nc=!0,ov($n,function(){return Wo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var C=Ke;Ke=1;var M=Xe;Xe|=4,fh.current=null,aI(r,l),Wy(l,r),OS(Ef),Ii=!!wf,Ef=wf=null,r.current=l,lI(l),rf(),Xe=M,Ke=C,Qn.transition=y}else r.current=l;if(nc&&(nc=!1,Li=r,rc=p),y=r.pendingLanes,y===0&&(Di=null),ou(l.stateNode),wn(r,ot()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(tc)throw tc=!1,r=mh,mh=null,r;return(rc&1)!==0&&r.tag!==0&&Wo(),y=r.pendingLanes,(y&1)!==0?r===gh?ul++:(ul=0,gh=r):ul=0,Ri(),null}function Wo(){if(Li!==null){var r=Ti(rc),s=Qn.transition,l=Ke;try{if(Qn.transition=null,Ke=16>r?16:r,Li===null)var d=!1;else{if(r=Li,Li=null,rc=0,(Xe&6)!==0)throw Error(t(331));var p=Xe;for(Xe|=4,Se=r.current;Se!==null;){var y=Se,C=y.child;if((Se.flags&16)!==0){var M=y.deletions;if(M!==null){for(var B=0;B<M.length;B++){var Z=M[B];for(Se=Z;Se!==null;){var he=Se;switch(he.tag){case 0:case 11:case 15:ol(8,he,y)}var me=he.child;if(me!==null)me.return=he,Se=me;else for(;Se!==null;){he=Se;var de=he.sibling,we=he.return;if(zy(he),he===Z){Se=null;break}if(de!==null){de.return=we,Se=de;break}Se=we}}}var Ie=y.alternate;if(Ie!==null){var ke=Ie.child;if(ke!==null){Ie.child=null;do{var It=ke.sibling;ke.sibling=null,ke=It}while(ke!==null)}}Se=y}}if((y.subtreeFlags&2064)!==0&&C!==null)C.return=y,Se=C;else e:for(;Se!==null;){if(y=Se,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ol(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,Se=G;break e}Se=y.return}}var q=r.current;for(Se=q;Se!==null;){C=Se;var Y=C.child;if((C.subtreeFlags&2064)!==0&&Y!==null)Y.return=C,Se=Y;else e:for(C=q;Se!==null;){if(M=Se,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Ju(9,M)}}catch(Ce){Et(M,M.return,Ce)}if(M===C){Se=null;break e}var ge=M.sibling;if(ge!==null){ge.return=M.return,Se=ge;break e}Se=M.return}}if(Xe=p,Ri(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Es,r)}catch{}d=!0}return d}finally{Ke=l,Qn.transition=s}}return!1}function rv(r,s,l){s=$o(l,s),s=Ey(r,s,1),r=Ni(r,s,1),s=un(),r!==null&&(wi(r,1,s),wn(r,s))}function Et(r,s,l){if(r.tag===3)rv(r,r,l);else for(;s!==null;){if(s.tag===3){rv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Di===null||!Di.has(d))){r=$o(l,r),r=Ty(s,r,1),s=Ni(s,r,1),r=un(),s!==null&&(wi(s,1,r),wn(s,r));break}}s=s.return}}function pI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=un(),r.pingedLanes|=r.suspendedLanes&l,jt===r&&(Ht&l)===l&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>ot()-ph?Vs(r,0):hh|=l),wn(r,s)}function iv(r,s){s===0&&((r.mode&1)===0?s=1:(s=mo,mo<<=1,(mo&130023424)===0&&(mo=4194304)));var l=un();r=ni(r,s),r!==null&&(wi(r,s,l),wn(r,l))}function mI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),iv(r,l)}function gI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),iv(r,l)}var sv;sv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||gn.current)vn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return vn=!1,rI(r,s,l);vn=(r.flags&131072)!==0}else vn=!1,gt&&(s.flags&1048576)!==0&&jg(s,Lu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Yu(r,s),r=s.pendingProps;var p=Do(s,Qt.current);Uo(s,l),p=Hf(null,s,d,r,p,l);var y=Wf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yn(d)?(y=!0,Nu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,jf(s),p.updater=Gu,s.stateNode=p,p._reactInternals=s,Jf(s,d,r,l),s=nh(null,s,d,!0,y,l)):(s.tag=0,gt&&y&&xf(s),ln(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Yu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=vI(d),r=hr(d,r),p){case 0:s=th(null,s,d,r,l);break e;case 1:s=Ay(null,s,d,r,l);break e;case 11:s=ky(null,s,d,r,l);break e;case 14:s=Cy(null,s,d,hr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:hr(d,p),th(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:hr(d,p),Ay(r,s,d,p,l);case 3:e:{if(Ny(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Kg(r,s),zu(s,d,null,l);var C=s.memoizedState;if(d=C.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=$o(Error(t(423)),s),s=Oy(r,s,d,l,p);break e}else if(d!==p){p=$o(Error(t(424)),s),s=Oy(r,s,d,l,p);break e}else for(On=Ci(s.stateNode.containerInfo.firstChild),Nn=s,gt=!0,fr=null,l=Hg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Vo(),d===p){s=ii(r,s,l);break e}ln(r,s,d,l)}s=s.child}return s;case 5:return Yg(s),r===null&&Af(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,C=p.children,Tf(d,p)?C=null:y!==null&&Tf(d,y)&&(s.flags|=32),Ry(r,s),ln(r,s,C,l),s.child;case 6:return r===null&&Af(s),null;case 13:return Dy(r,s,l);case 4:return Ff(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=jo(s,null,d,l):ln(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:hr(d,p),ky(r,s,d,p,l);case 7:return ln(r,s,s.pendingProps,l),s.child;case 8:return ln(r,s,s.pendingProps.children,l),s.child;case 12:return ln(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,C=p.value,at(ju,d._currentValue),d._currentValue=C,y!==null)if(dr(y.value,C)){if(y.children===p.children&&!gn.current){s=ii(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var M=y.dependencies;if(M!==null){C=y.child;for(var B=M.firstContext;B!==null;){if(B.context===d){if(y.tag===1){B=ri(-1,l&-l),B.tag=2;var Z=y.updateQueue;if(Z!==null){Z=Z.shared;var he=Z.pending;he===null?B.next=B:(B.next=he.next,he.next=B),Z.pending=B}}y.lanes|=l,B=y.alternate,B!==null&&(B.lanes|=l),Mf(y.return,l,s),M.lanes|=l;break}B=B.next}}else if(y.tag===10)C=y.type===s.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(t(341));C.lanes|=l,M=C.alternate,M!==null&&(M.lanes|=l),Mf(C,l,s),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}ln(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Uo(s,l),p=Kn(p),d=d(p),s.flags|=1,ln(r,s,d,l),s.child;case 14:return d=s.type,p=hr(d,s.pendingProps),p=hr(d.type,p),Cy(r,s,d,p,l);case 15:return xy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:hr(d,p),Yu(r,s),s.tag=1,yn(d)?(r=!0,Nu(s)):r=!1,Uo(s,l),_y(s,d,p),Jf(s,d,p,l),nh(null,s,d,!0,r,l);case 19:return My(r,s,l);case 22:return Py(r,s,l)}throw Error(t(156,s.tag))};function ov(r,s){return ho(r,s)}function yI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,l,d){return new yI(r,s,l,d)}function Th(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vI(r){if(typeof r=="function")return Th(r)?1:0;if(r!=null){if(r=r.$$typeof,r===D)return 11;if(r===pe)return 14}return 2}function ji(r,s){var l=r.alternate;return l===null?(l=Yn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function ac(r,s,l,d,p,y){var C=2;if(d=r,typeof r=="function")Th(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case P:return Fs(l.children,p,y,s);case x:C=8,p|=8;break;case I:return r=Yn(12,l,s,p|2),r.elementType=I,r.lanes=y,r;case k:return r=Yn(13,l,s,p),r.elementType=k,r.lanes=y,r;case Q:return r=Yn(19,l,s,p),r.elementType=Q,r.lanes=y,r;case T:return lc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:C=10;break e;case N:C=9;break e;case D:C=11;break e;case pe:C=14;break e;case fe:C=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Yn(C,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Fs(r,s,l,d){return r=Yn(7,r,d,s),r.lanes=l,r}function lc(r,s,l,d){return r=Yn(22,r,d,s),r.elementType=T,r.lanes=l,r.stateNode={isHidden:!1},r}function Sh(r,s,l){return r=Yn(6,r,null,s),r.lanes=l,r}function Ih(r,s,l){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function _I(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function bh(r,s,l,d,p,y,C,M,B){return r=new _I(r,s,l,M,B),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Yn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(y),r}function wI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function av(r){if(!r)return Pi;r=r._reactInternals;e:{if(ir(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(yn(l))return Lg(r,l,s)}return s}function lv(r,s,l,d,p,y,C,M,B){return r=bh(l,d,!0,r,p,y,C,M,B),r.context=av(null),l=r.current,d=un(),p=Mi(l),y=ri(d,p),y.callback=s??null,Ni(l,y,p),r.current.lanes=p,wi(r,p,d),wn(r,d),r}function uc(r,s,l,d){var p=s.current,y=un(),C=Mi(p);return l=av(l),s.context===null?s.context=l:s.pendingContext=l,s=ri(y,C),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Ni(p,s,C),r!==null&&(gr(r,p,C,y),Uu(r,p,C)),C}function cc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function uv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function kh(r,s){uv(r,s),(r=r.alternate)&&uv(r,s)}function EI(){return null}var cv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ch(r){this._internalRoot=r}dc.prototype.render=Ch.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));uc(r,s,null,null)},dc.prototype.unmount=Ch.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ms(function(){uc(null,r,null,null)}),s[Jr]=null}};function dc(r){this._internalRoot=r}dc.prototype.unstable_scheduleHydration=function(r){if(r){var s=du();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Ir.length&&s!==0&&s<Ir[l].priority;l++);Ir.splice(l,0,r),l===0&&pu(r)}};function xh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function fc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dv(){}function TI(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var Z=cc(C);y.call(Z)}}var C=lv(s,d,r,0,null,!1,!1,"",dv);return r._reactRootContainer=C,r[Jr]=C.current,Ka(r.nodeType===8?r.parentNode:r),Ms(),C}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var M=d;d=function(){var Z=cc(B);M.call(Z)}}var B=bh(r,0,!1,null,null,!1,!1,"",dv);return r._reactRootContainer=B,r[Jr]=B.current,Ka(r.nodeType===8?r.parentNode:r),Ms(function(){uc(s,B,l,d)}),B}function hc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var C=y;if(typeof p=="function"){var M=p;p=function(){var B=cc(C);M.call(B)}}uc(s,C,r,p)}else C=TI(l,s,r,p,d);return cc(C)}uu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=vi(s.pendingLanes);l!==0&&(Ei(s,l|1),wn(s,ot()),(Xe&6)===0&&(Ho=ot()+500,Ri()))}break;case 13:Ms(function(){var d=ni(r,1);if(d!==null){var p=un();gr(d,r,1,p)}}),kh(r,1)}},go=function(r){if(r.tag===13){var s=ni(r,134217728);if(s!==null){var l=un();gr(s,r,134217728,l)}kh(r,134217728)}},cu=function(r){if(r.tag===13){var s=Mi(r),l=ni(r,s);if(l!==null){var d=un();gr(l,r,s,d)}kh(r,s)}},du=function(){return Ke},fu=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},oo=function(r,s,l){switch(s){case"input":if(Fe(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=Ru(d);if(!p)throw Error(t(90));qe(d),Fe(d,p)}}}break;case"textarea":Hr(r,l);break;case"select":s=l.value,s!=null&&yt(r,!!l.multiple,s,!1)}},gs=_h,xa=Ms;var SI={usingClientEntryPoint:!1,Events:[Ya,No,Ru,Tr,Ca,_h]},cl={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},II={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Aa(r),r===null?null:r.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||EI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Es=pc.inject(II),xn=pc}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SI,En.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(s))throw Error(t(200));return wI(r,s,null,l)},En.createRoot=function(r,s){if(!xh(r))throw Error(t(299));var l=!1,d="",p=cv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=bh(r,1,!1,null,null,l,!1,d,p),r[Jr]=s.current,Ka(r.nodeType===8?r.parentNode:r),new Ch(s)},En.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Aa(s),r=r===null?null:r.stateNode,r},En.flushSync=function(r){return Ms(r)},En.hydrate=function(r,s,l){if(!fc(s))throw Error(t(200));return hc(null,r,s,!0,l)},En.hydrateRoot=function(r,s,l){if(!xh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",C=cv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),s=lv(s,null,r,1,l??null,p,!1,y,C),r[Jr]=s.current,Ka(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new dc(s)},En.render=function(r,s,l){if(!fc(s))throw Error(t(200));return hc(null,r,s,!1,l)},En.unmountComponentAtNode=function(r){if(!fc(r))throw Error(t(40));return r._reactRootContainer?(Ms(function(){hc(null,null,r,!1,function(){r._reactRootContainer=null,r[Jr]=null})}),!0):!1},En.unstable_batchedUpdates=_h,En.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!fc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return hc(r,s,l,!1,d)},En.version="18.3.1-next-f1338f8080-20240426",En}var _v;function B0(){if(_v)return Ah.exports;_v=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ah.exports=DI(),Ah.exports}var wv;function LI(){if(wv)return gc;wv=1;var n=B0();return gc.createRoot=n.createRoot,gc.hydrateRoot=n.hydrateRoot,gc}var MI=LI();const VI=Xp(MI);B0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kl.apply(this,arguments)}var Wi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Wi||(Wi={}));const Ev="popstate";function jI(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:u,hash:f}=i.location;return up("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:qc(o)}return UI(e,t,null,n)}function Rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function q0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FI(){return Math.random().toString(36).substr(2,8)}function Tv(n,e){return{usr:n.state,key:n.key,idx:e}}function up(n,e,t,i){return t===void 0&&(t=null),kl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ha(e):e,{state:t,key:e&&e.key||i||FI()})}function qc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function UI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f=Wi.Pop,h=null,m=v();m==null&&(m=0,u.replaceState(kl({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function S(){f=Wi.Pop;let z=v(),W=z==null?null:z-m;m=z,h&&h({action:f,location:V.location,delta:W})}function O(z,W){f=Wi.Push;let J=up(V.location,z,W);m=v()+1;let X=Tv(J,m),re=V.createHref(J);try{u.pushState(X,"",re)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(re)}a&&h&&h({action:f,location:V.location,delta:1})}function L(z,W){f=Wi.Replace;let J=up(V.location,z,W);m=v();let X=Tv(J,m),re=V.createHref(J);u.replaceState(X,"",re),a&&h&&h({action:f,location:V.location,delta:0})}function H(z){let W=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof z=="string"?z:qc(z);return J=J.replace(/ $/,"%20"),Rt(W,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,W)}let V={get action(){return f},get location(){return n(o,u)},listen(z){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Ev,S),h=z,()=>{o.removeEventListener(Ev,S),h=null}},createHref(z){return e(o,z)},createURL:H,encodeLocation(z){let W=H(z);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:O,replace:L,go(z){return u.go(z)}};return V}var Sv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Sv||(Sv={}));function zI(n,e,t){return t===void 0&&(t="/"),$I(n,e,t)}function $I(n,e,t,i){let o=typeof e=="string"?ha(e):e,a=Jp(o.pathname||"/",t);if(a==null)return null;let u=H0(n);BI(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=tb(a);f=JI(u[h],m)}return f}function H0(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Rt(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let m=Gi([i,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(Rt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),H0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:YI(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of W0(a.path))o(a,u,h)}),e}function W0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=W0(i.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function BI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const qI=/^:[\w-]+$/,HI=3,WI=2,KI=1,GI=10,QI=-2,Iv=n=>n==="*";function YI(n,e){let t=n.split("/"),i=t.length;return t.some(Iv)&&(i+=QI),e&&(i+=WI),t.filter(o=>!Iv(o)).reduce((o,a)=>o+(qI.test(a)?HI:a===""?KI:GI),i)}function XI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function JI(n,e,t){let{routesMeta:i}=n,o={},a="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",S=ZI({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),O=h.route;if(!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:Gi([a,S.pathname]),pathnameBase:sb(Gi([a,S.pathnameBase])),route:O}),S.pathnameBase!=="/"&&(a=Gi([a,S.pathnameBase]))}return u}function ZI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=eb(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,v,S)=>{let{paramName:O,isOptional:L}=v;if(O==="*"){let V=f[S]||"";u=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const H=f[S];return L&&!H?m[O]=void 0:m[O]=(H||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function eb(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),q0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function tb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return q0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Jp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function nb(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ha(n):n;return{pathname:t?t.startsWith("/")?t:rb(t,e):e,search:ob(i),hash:ab(o)}}function rb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dh(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ib(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function K0(n,e){let t=ib(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function G0(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ha(n):(o=kl({},n),Rt(!o.pathname||!o.pathname.includes("?"),Dh("?","pathname","search",o)),Rt(!o.pathname||!o.pathname.includes("#"),Dh("#","pathname","hash",o)),Rt(!o.search||!o.search.includes("#"),Dh("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let S=e.length-1;if(!i&&u.startsWith("..")){let O=u.split("/");for(;O[0]==="..";)O.shift(),S-=1;o.pathname=O.join("/")}f=S>=0?e[S]:"/"}let h=nb(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}const Gi=n=>n.join("/").replace(/\/\/+/g,"/"),sb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ob=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ab=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Q0=["post","put","patch","delete"];new Set(Q0);const ub=["get",...Q0];new Set(ub);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cl.apply(this,arguments)}const Zp=ee.createContext(null),cb=ee.createContext(null),Zs=ee.createContext(null),wd=ee.createContext(null),as=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Y0=ee.createContext(null);function db(n,e){let{relative:t}=e===void 0?{}:e;Fl()||Rt(!1);let{basename:i,navigator:o}=ee.useContext(Zs),{hash:a,pathname:u,search:f}=J0(n,{relative:t}),h=u;return i!=="/"&&(h=u==="/"?i:Gi([i,u])),o.createHref({pathname:h,search:f,hash:a})}function Fl(){return ee.useContext(wd)!=null}function pa(){return Fl()||Rt(!1),ee.useContext(wd).location}function X0(n){ee.useContext(Zs).static||ee.useLayoutEffect(n)}function hn(){let{isDataRoute:n}=ee.useContext(as);return n?bb():fb()}function fb(){Fl()||Rt(!1);let n=ee.useContext(Zp),{basename:e,future:t,navigator:i}=ee.useContext(Zs),{matches:o}=ee.useContext(as),{pathname:a}=pa(),u=JSON.stringify(K0(o,t.v7_relativeSplatPath)),f=ee.useRef(!1);return X0(()=>{f.current=!0}),ee.useCallback(function(m,v){if(v===void 0&&(v={}),!f.current)return;if(typeof m=="number"){i.go(m);return}let S=G0(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Gi([e,S.pathname])),(v.replace?i.replace:i.push)(S,v.state,v)},[e,i,u,a,n])}function hb(){let{matches:n}=ee.useContext(as),e=n[n.length-1];return e?e.params:{}}function J0(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=ee.useContext(Zs),{matches:o}=ee.useContext(as),{pathname:a}=pa(),u=JSON.stringify(K0(o,i.v7_relativeSplatPath));return ee.useMemo(()=>G0(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function pb(n,e){return mb(n,e)}function mb(n,e,t,i){Fl()||Rt(!1);let{navigator:o,static:a}=ee.useContext(Zs),{matches:u}=ee.useContext(as),f=u[u.length-1],h=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let v=pa(),S;if(e){var O;let W=typeof e=="string"?ha(e):e;m==="/"||(O=W.pathname)!=null&&O.startsWith(m)||Rt(!1),S=W}else S=v;let L=S.pathname||"/",H=L;if(m!=="/"){let W=m.replace(/^\//,"").split("/");H="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=zI(n,{pathname:H}),z=wb(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},h,W.params),pathname:Gi([m,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?m:Gi([m,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,t,i);return e&&z?ee.createElement(wd.Provider,{value:{location:Cl({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Wi.Pop}},z):z}function gb(){let n=Ib(),e=lb(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:o},t):null,null)}const yb=ee.createElement(gb,null);class vb extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ee.createElement(as.Provider,{value:this.props.routeContext},ee.createElement(Y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _b(n){let{routeContext:e,match:t,children:i}=n,o=ee.useContext(Zp);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),ee.createElement(as.Provider,{value:e},i)}function wb(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let v=u.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);v>=0||Rt(!1),u=u.slice(0,Math.min(u.length,v+1))}let h=!1,m=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<u.length;v++){let S=u[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=v),S.route.id){let{loaderData:O,errors:L}=t,H=S.route.loader&&O[S.route.id]===void 0&&(!L||L[S.route.id]===void 0);if(S.route.lazy||H){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,S,O)=>{let L,H=!1,V=null,z=null;t&&(L=f&&S.route.id?f[S.route.id]:void 0,V=S.route.errorElement||yb,h&&(m<0&&O===0?(kb("route-fallback"),H=!0,z=null):m===O&&(H=!0,z=S.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,O+1)),J=()=>{let X;return L?X=V:H?X=z:S.route.Component?X=ee.createElement(S.route.Component,null):S.route.element?X=S.route.element:X=v,ee.createElement(_b,{match:S,routeContext:{outlet:v,matches:W,isDataRoute:t!=null},children:X})};return t&&(S.route.ErrorBoundary||S.route.errorElement||O===0)?ee.createElement(vb,{location:t.location,revalidation:t.revalidation,component:V,error:L,children:J(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):J()},null)}var Z0=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Z0||{}),ew=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ew||{});function Eb(n){let e=ee.useContext(Zp);return e||Rt(!1),e}function Tb(n){let e=ee.useContext(cb);return e||Rt(!1),e}function Sb(n){let e=ee.useContext(as);return e||Rt(!1),e}function tw(n){let e=Sb(),t=e.matches[e.matches.length-1];return t.route.id||Rt(!1),t.route.id}function Ib(){var n;let e=ee.useContext(Y0),t=Tb(),i=tw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function bb(){let{router:n}=Eb(Z0.UseNavigateStable),e=tw(ew.UseNavigateStable),t=ee.useRef(!1);return X0(()=>{t.current=!0}),ee.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Cl({fromRouteId:e},a)))},[n,e])}const bv={};function kb(n,e,t){bv[n]||(bv[n]=!0)}function Cb(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Xn(n){Rt(!1)}function xb(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Wi.Pop,navigator:a,static:u=!1,future:f}=n;Fl()&&Rt(!1);let h=e.replace(/^\/*/,"/"),m=ee.useMemo(()=>({basename:h,navigator:a,static:u,future:Cl({v7_relativeSplatPath:!1},f)}),[h,f,a,u]);typeof i=="string"&&(i=ha(i));let{pathname:v="/",search:S="",hash:O="",state:L=null,key:H="default"}=i,V=ee.useMemo(()=>{let z=Jp(v,h);return z==null?null:{location:{pathname:z,search:S,hash:O,state:L,key:H},navigationType:o}},[h,v,S,O,L,H,o]);return V==null?null:ee.createElement(Zs.Provider,{value:m},ee.createElement(wd.Provider,{children:t,value:V}))}function Pb(n){let{children:e,location:t}=n;return pb(cp(e),t)}new Promise(()=>{});function cp(n,e){e===void 0&&(e=[]);let t=[];return ee.Children.forEach(n,(i,o)=>{if(!ee.isValidElement(i))return;let a=[...e,o];if(i.type===ee.Fragment){t.push.apply(t,cp(i.props.children,a));return}i.type!==Xn&&Rt(!1),!i.props.index||!i.props.children||Rt(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=cp(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dp.apply(this,arguments)}function Rb(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Ab(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Nb(n,e){return n.button===0&&(!e||e==="_self")&&!Ab(n)}const Ob=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Db="6";try{window.__reactRouterVersion=Db}catch{}const Lb="startTransition",kv=AI[Lb];function Mb(n){let{basename:e,children:t,future:i,window:o}=n,a=ee.useRef();a.current==null&&(a.current=jI({window:o,v5Compat:!0}));let u=a.current,[f,h]=ee.useState({action:u.action,location:u.location}),{v7_startTransition:m}=i||{},v=ee.useCallback(S=>{m&&kv?kv(()=>h(S)):h(S)},[h,m]);return ee.useLayoutEffect(()=>u.listen(v),[u,v]),ee.useEffect(()=>Cb(i),[i]),ee.createElement(xb,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:u,future:i})}const Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zi=ee.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:S}=e,O=Rb(e,Ob),{basename:L}=ee.useContext(Zs),H,V=!1;if(typeof m=="string"&&jb.test(m)&&(H=m,Vb))try{let X=new URL(window.location.href),re=m.startsWith("//")?new URL(X.protocol+m):new URL(m),j=Jp(re.pathname,L);re.origin===X.origin&&j!=null?m=j+re.search+re.hash:V=!0}catch{}let z=db(m,{relative:o}),W=Fb(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:S});function J(X){i&&i(X),X.defaultPrevented||W(X)}return ee.createElement("a",dp({},O,{href:H||z,onClick:V||a?i:J,ref:t,target:h}))});var Cv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Cv||(Cv={}));var xv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(xv||(xv={}));function Fb(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:f}=e===void 0?{}:e,h=hn(),m=pa(),v=J0(n,{relative:u});return ee.useCallback(S=>{if(Nb(S,t)){S.preventDefault();let O=i!==void 0?i:qc(m)===qc(v);h(n,{replace:O,state:o,preventScrollReset:a,relative:u,viewTransition:f})}},[m,h,v,i,o,t,n,a,u,f])}var Lh={},Mh={},fl={},Vh={},Pv;function Ub(){return Pv||(Pv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(Vh)),Vh}var jh,Rv;function zb(){if(Rv)return jh;Rv=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,h=typeof mc=="object"&&mc&&mc.Object===Object&&mc,m=typeof self=="object"&&self&&self.Object===Object&&self,v=h||m||Function("return this")(),S=Object.prototype,O=S.toString,L=Math.max,H=Math.min,V=function(){return v.Date.now()};function z(j,$,P){var x,I,w,N,D,k,Q=0,pe=!1,fe=!1,T=!0;if(typeof j!="function")throw new TypeError(n);$=re($)||0,W(P)&&(pe=!!P.leading,fe="maxWait"in P,w=fe?L(re(P.maxWait)||0,$):w,T="trailing"in P?!!P.trailing:T);function se(ce){var Te=x,be=I;return x=I=void 0,Q=ce,N=j.apply(be,Te),N}function U(ce){return Q=ce,D=setTimeout(F,$),pe?se(ce):N}function E(ce){var Te=ce-k,be=ce-Q,Pe=$-Te;return fe?H(Pe,w-be):Pe}function b(ce){var Te=ce-k,be=ce-Q;return k===void 0||Te>=$||Te<0||fe&&be>=w}function F(){var ce=V();if(b(ce))return te(ce);D=setTimeout(F,E(ce))}function te(ce){return D=void 0,T&&x?se(ce):(x=I=void 0,N)}function ie(){D!==void 0&&clearTimeout(D),Q=0,x=k=I=D=void 0}function ae(){return D===void 0?N:te(V())}function le(){var ce=V(),Te=b(ce);if(x=arguments,I=this,k=ce,Te){if(D===void 0)return U(k);if(fe)return D=setTimeout(F,$),se(k)}return D===void 0&&(D=setTimeout(F,$)),N}return le.cancel=ie,le.flush=ae,le}function W(j){var $=typeof j;return!!j&&($=="object"||$=="function")}function J(j){return!!j&&typeof j=="object"}function X(j){return typeof j=="symbol"||J(j)&&O.call(j)==t}function re(j){if(typeof j=="number")return j;if(X(j))return e;if(W(j)){var $=typeof j.valueOf=="function"?j.valueOf():j;j=W($)?$+"":$}if(typeof j!="string")return j===0?j:+j;j=j.replace(i,"");var P=a.test(j);return P||u.test(j)?f(j.slice(2),P?2:8):o.test(j)?e:+j}return jh=z,jh}var Fh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Av;function Ed(){return Av||(Av=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=o(a,i(f)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=o(u,f));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Fh)),Fh.exports}var _e={},Uh={},Nv;function nw(){return Nv||(Nv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Ur());function t(o){return o&&o.__esModule?o:{default:o}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}(Uh)),Uh}var Ov;function Ul(){if(Ov)return _e;Ov=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkSpecKeys=_e.checkNavigable=_e.changeSlide=_e.canUseDOM=_e.canGoNext=void 0,_e.clamp=m,_e.extractObject=void 0,_e.filterSettings=se,_e.validSettings=_e.swipeStart=_e.swipeMove=_e.swipeEnd=_e.slidesOnRight=_e.slidesOnLeft=_e.slideHandler=_e.siblingDirection=_e.safePreventDefault=_e.lazyStartIndex=_e.lazySlidesOnRight=_e.lazySlidesOnLeft=_e.lazyEndIndex=_e.keyHandler=_e.initializedState=_e.getWidth=_e.getTrackLeft=_e.getTrackCSS=_e.getTrackAnimateCSS=_e.getTotalSlides=_e.getSwipeDirection=_e.getSlideCount=_e.getRequiredLazySlides=_e.getPreClones=_e.getPostClones=_e.getOnDemandLazySlides=_e.getNavigableIndexes=_e.getHeight=void 0;var n=t(Ur()),e=t(nw());function t(U){return U&&U.__esModule?U:{default:U}}function i(U){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(U)}function o(U,E){var b=Object.keys(U);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(U);E&&(F=F.filter(function(te){return Object.getOwnPropertyDescriptor(U,te).enumerable})),b.push.apply(b,F)}return b}function a(U){for(var E=1;E<arguments.length;E++){var b=arguments[E]!=null?arguments[E]:{};E%2?o(Object(b),!0).forEach(function(F){u(U,F,b[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(b)):o(Object(b)).forEach(function(F){Object.defineProperty(U,F,Object.getOwnPropertyDescriptor(b,F))})}return U}function u(U,E,b){return E=f(E),E in U?Object.defineProperty(U,E,{value:b,enumerable:!0,configurable:!0,writable:!0}):U[E]=b,U}function f(U){var E=h(U,"string");return i(E)=="symbol"?E:String(E)}function h(U,E){if(i(U)!="object"||!U)return U;var b=U[Symbol.toPrimitive];if(b!==void 0){var F=b.call(U,E);if(i(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(U)}function m(U,E,b){return Math.max(E,Math.min(U,b))}var v=_e.safePreventDefault=function(E){var b=["onTouchStart","onTouchMove","onWheel"];b.includes(E._reactName)||E.preventDefault()},S=_e.getOnDemandLazySlides=function(E){for(var b=[],F=O(E),te=L(E),ie=F;ie<te;ie++)E.lazyLoadedList.indexOf(ie)<0&&b.push(ie);return b};_e.getRequiredLazySlides=function(E){for(var b=[],F=O(E),te=L(E),ie=F;ie<te;ie++)b.push(ie);return b};var O=_e.lazyStartIndex=function(E){return E.currentSlide-H(E)},L=_e.lazyEndIndex=function(E){return E.currentSlide+V(E)},H=_e.lazySlidesOnLeft=function(E){return E.centerMode?Math.floor(E.slidesToShow/2)+(parseInt(E.centerPadding)>0?1:0):0},V=_e.lazySlidesOnRight=function(E){return E.centerMode?Math.floor((E.slidesToShow-1)/2)+1+(parseInt(E.centerPadding)>0?1:0):E.slidesToShow},z=_e.getWidth=function(E){return E&&E.offsetWidth||0},W=_e.getHeight=function(E){return E&&E.offsetHeight||0},J=_e.getSwipeDirection=function(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F,te,ie,ae;return F=E.startX-E.curX,te=E.startY-E.curY,ie=Math.atan2(te,F),ae=Math.round(ie*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":b===!0?ae>=35&&ae<=135?"up":"down":"vertical"},X=_e.canGoNext=function(E){var b=!0;return E.infinite||(E.centerMode&&E.currentSlide>=E.slideCount-1||E.slideCount<=E.slidesToShow||E.currentSlide>=E.slideCount-E.slidesToShow)&&(b=!1),b};_e.extractObject=function(E,b){var F={};return b.forEach(function(te){return F[te]=E[te]}),F},_e.initializedState=function(E){var b=n.default.Children.count(E.children),F=E.listRef,te=Math.ceil(z(F)),ie=E.trackRef&&E.trackRef.node,ae=Math.ceil(z(ie)),le;if(E.vertical)le=te;else{var ce=E.centerMode&&parseInt(E.centerPadding)*2;typeof E.centerPadding=="string"&&E.centerPadding.slice(-1)==="%"&&(ce*=te/100),le=Math.ceil((te-ce)/E.slidesToShow)}var Te=F&&W(F.querySelector('[data-index="0"]')),be=Te*E.slidesToShow,Pe=E.currentSlide===void 0?E.initialSlide:E.currentSlide;E.rtl&&E.currentSlide===void 0&&(Pe=b-1-E.initialSlide);var ze=E.lazyLoadedList||[],qe=S(a(a({},E),{},{currentSlide:Pe,lazyLoadedList:ze}));ze=ze.concat(qe);var Ue={slideCount:b,slideWidth:le,listWidth:te,trackWidth:ae,currentSlide:Pe,slideHeight:Te,listHeight:be,lazyLoadedList:ze};return E.autoplaying===null&&E.autoplay&&(Ue.autoplaying="playing"),Ue},_e.slideHandler=function(E){var b=E.waitForAnimate,F=E.animating,te=E.fade,ie=E.infinite,ae=E.index,le=E.slideCount,ce=E.lazyLoad,Te=E.currentSlide,be=E.centerMode,Pe=E.slidesToScroll,ze=E.slidesToShow,qe=E.useCSS,Ue=E.lazyLoadedList;if(b&&F)return{};var Ve=ae,Be,ct,Fe,dt={},ft={},it=ie?ae:m(ae,0,le-1);if(te){if(!ie&&(ae<0||ae>=le))return{};ae<0?Ve=ae+le:ae>=le&&(Ve=ae-le),ce&&Ue.indexOf(Ve)<0&&(Ue=Ue.concat(Ve)),dt={animating:!0,currentSlide:Ve,lazyLoadedList:Ue,targetSlide:Ve},ft={animating:!1,targetSlide:Ve}}else Be=Ve,Ve<0?(Be=Ve+le,ie?le%Pe!==0&&(Be=le-le%Pe):Be=0):!X(E)&&Ve>Te?Ve=Be=Te:be&&Ve>=le?(Ve=ie?le:le-1,Be=ie?0:le-1):Ve>=le&&(Be=Ve-le,ie?le%Pe!==0&&(Be=0):Be=le-ze),!ie&&Ve+ze>=le&&(Be=le-ze),ct=w(a(a({},E),{},{slideIndex:Ve})),Fe=w(a(a({},E),{},{slideIndex:Be})),ie||(ct===Fe&&(Ve=Be),ct=Fe),ce&&(Ue=Ue.concat(S(a(a({},E),{},{currentSlide:Ve})))),qe?(dt={animating:!0,currentSlide:Be,trackStyle:I(a(a({},E),{},{left:ct})),lazyLoadedList:Ue,targetSlide:it},ft={animating:!1,currentSlide:Be,trackStyle:x(a(a({},E),{},{left:Fe})),swipeLeft:null,targetSlide:it}):dt={currentSlide:Be,trackStyle:x(a(a({},E),{},{left:Fe})),lazyLoadedList:Ue,targetSlide:it};return{state:dt,nextState:ft}},_e.changeSlide=function(E,b){var F,te,ie,ae,le,ce=E.slidesToScroll,Te=E.slidesToShow,be=E.slideCount,Pe=E.currentSlide,ze=E.targetSlide,qe=E.lazyLoad,Ue=E.infinite;if(ae=be%ce!==0,F=ae?0:(be-Pe)%ce,b.message==="previous")ie=F===0?ce:Te-F,le=Pe-ie,qe&&!Ue&&(te=Pe-ie,le=te===-1?be-1:te),Ue||(le=ze-ce);else if(b.message==="next")ie=F===0?ce:F,le=Pe+ie,qe&&!Ue&&(le=(Pe+ce)%be+F),Ue||(le=ze+ce);else if(b.message==="dots")le=b.index*b.slidesToScroll;else if(b.message==="children"){if(le=b.index,Ue){var Ve=Q(a(a({},E),{},{targetSlide:le}));le>b.currentSlide&&Ve==="left"?le=le-be:le<b.currentSlide&&Ve==="right"&&(le=le+be)}}else b.message==="index"&&(le=Number(b.index));return le},_e.keyHandler=function(E,b,F){return E.target.tagName.match("TEXTAREA|INPUT|SELECT")||!b?"":E.keyCode===37?F?"next":"previous":E.keyCode===39?F?"previous":"next":""},_e.swipeStart=function(E,b,F){return E.target.tagName==="IMG"&&v(E),!b||!F&&E.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:E.touches?E.touches[0].pageX:E.clientX,startY:E.touches?E.touches[0].pageY:E.clientY,curX:E.touches?E.touches[0].pageX:E.clientX,curY:E.touches?E.touches[0].pageY:E.clientY}}},_e.swipeMove=function(E,b){var F=b.scrolling,te=b.animating,ie=b.vertical,ae=b.swipeToSlide,le=b.verticalSwiping,ce=b.rtl,Te=b.currentSlide,be=b.edgeFriction,Pe=b.edgeDragged,ze=b.onEdge,qe=b.swiped,Ue=b.swiping,Ve=b.slideCount,Be=b.slidesToScroll,ct=b.infinite,Fe=b.touchObject,dt=b.swipeEvent,ft=b.listHeight,it=b.listWidth;if(!F){if(te)return v(E);ie&&ae&&le&&v(E);var yt,Cn={},er=w(b);Fe.curX=E.touches?E.touches[0].pageX:E.clientX,Fe.curY=E.touches?E.touches[0].pageY:E.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var Hr=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!le&&!Ue&&Hr>10)return{scrolling:!0};le&&(Fe.swipeLength=Hr);var tr=(ce?-1:1)*(Fe.curX>Fe.startX?1:-1);le&&(tr=Fe.curY>Fe.startY?1:-1);var Tt=Math.ceil(Ve/Be),tt=J(b.touchObject,le),sn=Fe.swipeLength;return ct||(Te===0&&(tt==="right"||tt==="down")||Te+1>=Tt&&(tt==="left"||tt==="up")||!X(b)&&(tt==="left"||tt==="up"))&&(sn=Fe.swipeLength*be,Pe===!1&&ze&&(ze(tt),Cn.edgeDragged=!0)),!qe&&dt&&(dt(tt),Cn.swiped=!0),ie?yt=er+sn*(ft/it)*tr:ce?yt=er-sn*tr:yt=er+sn*tr,le&&(yt=er+sn*tr),Cn=a(a({},Cn),{},{touchObject:Fe,swipeLeft:yt,trackStyle:x(a(a({},b),{},{left:yt}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(Cn.swiping=!0,v(E)),Cn}},_e.swipeEnd=function(E,b){var F=b.dragging,te=b.swipe,ie=b.touchObject,ae=b.listWidth,le=b.touchThreshold,ce=b.verticalSwiping,Te=b.listHeight,be=b.swipeToSlide,Pe=b.scrolling,ze=b.onSwipe,qe=b.targetSlide,Ue=b.currentSlide,Ve=b.infinite;if(!F)return te&&v(E),{};var Be=ce?Te/le:ae/le,ct=J(ie,ce),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Pe||!ie.swipeLength)return Fe;if(ie.swipeLength>Be){v(E),ze&&ze(ct);var dt,ft,it=Ve?Ue:qe;switch(ct){case"left":case"up":ft=it+$(b),dt=be?j(b,ft):ft,Fe.currentDirection=0;break;case"right":case"down":ft=it-$(b),dt=be?j(b,ft):ft,Fe.currentDirection=1;break;default:dt=it}Fe.triggerSlideHandler=dt}else{var yt=w(b);Fe.trackStyle=I(a(a({},b),{},{left:yt}))}return Fe};var re=_e.getNavigableIndexes=function(E){for(var b=E.infinite?E.slideCount*2:E.slideCount,F=E.infinite?E.slidesToShow*-1:0,te=E.infinite?E.slidesToShow*-1:0,ie=[];F<b;)ie.push(F),F=te+E.slidesToScroll,te+=Math.min(E.slidesToScroll,E.slidesToShow);return ie},j=_e.checkNavigable=function(E,b){var F=re(E),te=0;if(b>F[F.length-1])b=F[F.length-1];else for(var ie in F){if(b<F[ie]){b=te;break}te=F[ie]}return b},$=_e.getSlideCount=function(E){var b=E.centerMode?E.slideWidth*Math.floor(E.slidesToShow/2):0;if(E.swipeToSlide){var F,te=E.listRef,ie=te.querySelectorAll&&te.querySelectorAll(".slick-slide")||[];if(Array.from(ie).every(function(ce){if(E.vertical){if(ce.offsetTop+W(ce)/2>E.swipeLeft*-1)return F=ce,!1}else if(ce.offsetLeft-b+z(ce)/2>E.swipeLeft*-1)return F=ce,!1;return!0}),!F)return 0;var ae=E.rtl===!0?E.slideCount-E.currentSlide:E.currentSlide,le=Math.abs(F.dataset.index-ae)||1;return le}else return E.slidesToScroll},P=_e.checkSpecKeys=function(E,b){return b.reduce(function(F,te){return F&&E.hasOwnProperty(te)},!0)?null:console.error("Keys Missing:",E)},x=_e.getTrackCSS=function(E){P(E,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var b,F,te=E.slideCount+2*E.slidesToShow;E.vertical?F=te*E.slideHeight:b=k(E)*E.slideWidth;var ie={opacity:1,transition:"",WebkitTransition:""};if(E.useTransform){var ae=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",le=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",ce=E.vertical?"translateY("+E.left+"px)":"translateX("+E.left+"px)";ie=a(a({},ie),{},{WebkitTransform:ae,transform:le,msTransform:ce})}else E.vertical?ie.top=E.left:ie.left=E.left;return E.fade&&(ie={opacity:1}),b&&(ie.width=b),F&&(ie.height=F),window&&!window.addEventListener&&window.attachEvent&&(E.vertical?ie.marginTop=E.left+"px":ie.marginLeft=E.left+"px"),ie},I=_e.getTrackAnimateCSS=function(E){P(E,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var b=x(E);return E.useTransform?(b.WebkitTransition="-webkit-transform "+E.speed+"ms "+E.cssEase,b.transition="transform "+E.speed+"ms "+E.cssEase):E.vertical?b.transition="top "+E.speed+"ms "+E.cssEase:b.transition="left "+E.speed+"ms "+E.cssEase,b},w=_e.getTrackLeft=function(E){if(E.unslick)return 0;P(E,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var b=E.slideIndex,F=E.trackRef,te=E.infinite,ie=E.centerMode,ae=E.slideCount,le=E.slidesToShow,ce=E.slidesToScroll,Te=E.slideWidth,be=E.listWidth,Pe=E.variableWidth,ze=E.slideHeight,qe=E.fade,Ue=E.vertical,Ve=0,Be,ct,Fe=0;if(qe||E.slideCount===1)return 0;var dt=0;if(te?(dt=-N(E),ae%ce!==0&&b+ce>ae&&(dt=-(b>ae?le-(b-ae):ae%ce)),ie&&(dt+=parseInt(le/2))):(ae%ce!==0&&b+ce>ae&&(dt=le-ae%ce),ie&&(dt=parseInt(le/2))),Ve=dt*Te,Fe=dt*ze,Ue?Be=b*ze*-1+Fe:Be=b*Te*-1+Ve,Pe===!0){var ft,it=F&&F.node;if(ft=b+N(E),ct=it&&it.childNodes[ft],Be=ct?ct.offsetLeft*-1:0,ie===!0){ft=te?b+N(E):b,ct=it&&it.children[ft],Be=0;for(var yt=0;yt<ft;yt++)Be-=it&&it.children[yt]&&it.children[yt].offsetWidth;Be-=parseInt(E.centerPadding),Be+=ct&&(be-ct.offsetWidth)/2}}return Be},N=_e.getPreClones=function(E){return E.unslick||!E.infinite?0:E.variableWidth?E.slideCount:E.slidesToShow+(E.centerMode?1:0)},D=_e.getPostClones=function(E){return E.unslick||!E.infinite?0:E.slideCount},k=_e.getTotalSlides=function(E){return E.slideCount===1?1:N(E)+E.slideCount+D(E)},Q=_e.siblingDirection=function(E){return E.targetSlide>E.currentSlide?E.targetSlide>E.currentSlide+pe(E)?"left":"right":E.targetSlide<E.currentSlide-fe(E)?"right":"left"},pe=_e.slidesOnRight=function(E){var b=E.slidesToShow,F=E.centerMode,te=E.rtl,ie=E.centerPadding;if(F){var ae=(b-1)/2+1;return parseInt(ie)>0&&(ae+=1),te&&b%2===0&&(ae+=1),ae}return te?0:b-1},fe=_e.slidesOnLeft=function(E){var b=E.slidesToShow,F=E.centerMode,te=E.rtl,ie=E.centerPadding;if(F){var ae=(b-1)/2+1;return parseInt(ie)>0&&(ae+=1),!te&&b%2===0&&(ae+=1),ae}return te?b-1:0};_e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=_e.validSettings=Object.keys(e.default);function se(U){return T.reduce(function(E,b){return U.hasOwnProperty(b)&&(E[b]=U[b]),E},{})}return _e}var hl={},Dv;function $b(){if(Dv)return hl;Dv=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.Track=void 0;var n=i(Ur()),e=i(Ed()),t=Ul();function i(I){return I&&I.__esModule?I:{default:I}}function o(I){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o(I)}function a(){return a=Object.assign?Object.assign.bind():function(I){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(I[D]=N[D])}return I},a.apply(this,arguments)}function u(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function f(I,w){for(var N=0;N<w.length;N++){var D=w[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,X(D.key),D)}}function h(I,w,N){return w&&f(I.prototype,w),Object.defineProperty(I,"prototype",{writable:!1}),I}function m(I,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(w&&w.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),w&&v(I,w)}function v(I,w){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},v(I,w)}function S(I){var w=H();return function(){var D=V(I),k;if(w){var Q=V(this).constructor;k=Reflect.construct(D,arguments,Q)}else k=D.apply(this,arguments);return O(this,k)}}function O(I,w){if(w&&(o(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(I)}function L(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function H(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!I})()}function V(I){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},V(I)}function z(I,w){var N=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);w&&(D=D.filter(function(k){return Object.getOwnPropertyDescriptor(I,k).enumerable})),N.push.apply(N,D)}return N}function W(I){for(var w=1;w<arguments.length;w++){var N=arguments[w]!=null?arguments[w]:{};w%2?z(Object(N),!0).forEach(function(D){J(I,D,N[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):z(Object(N)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(N,D))})}return I}function J(I,w,N){return w=X(w),w in I?Object.defineProperty(I,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[w]=N,I}function X(I){var w=re(I,"string");return o(w)=="symbol"?w:String(w)}function re(I,w){if(o(I)!="object"||!I)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var D=N.call(I,w);if(o(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(I)}var j=function(w){var N,D,k,Q,pe;w.rtl?pe=w.slideCount-1-w.index:pe=w.index,k=pe<0||pe>=w.slideCount,w.centerMode?(Q=Math.floor(w.slidesToShow/2),D=(pe-w.currentSlide)%w.slideCount===0,pe>w.currentSlide-Q-1&&pe<=w.currentSlide+Q&&(N=!0)):N=w.currentSlide<=pe&&pe<w.currentSlide+w.slidesToShow;var fe;w.targetSlide<0?fe=w.targetSlide+w.slideCount:w.targetSlide>=w.slideCount?fe=w.targetSlide-w.slideCount:fe=w.targetSlide;var T=pe===fe;return{"slick-slide":!0,"slick-active":N,"slick-center":D,"slick-cloned":k,"slick-current":T}},$=function(w){var N={};return(w.variableWidth===void 0||w.variableWidth===!1)&&(N.width=w.slideWidth),w.fade&&(N.position="relative",w.vertical?N.top=-w.index*parseInt(w.slideHeight):N.left=-w.index*parseInt(w.slideWidth),N.opacity=w.currentSlide===w.index?1:0,N.zIndex=w.currentSlide===w.index?999:998,w.useCSS&&(N.transition="opacity "+w.speed+"ms "+w.cssEase+", visibility "+w.speed+"ms "+w.cssEase)),N},P=function(w,N){return w.key||N},x=function(w){var N,D=[],k=[],Q=[],pe=n.default.Children.count(w.children),fe=(0,t.lazyStartIndex)(w),T=(0,t.lazyEndIndex)(w);return n.default.Children.forEach(w.children,function(se,U){var E,b={message:"children",index:U,slidesToScroll:w.slidesToScroll,currentSlide:w.currentSlide};!w.lazyLoad||w.lazyLoad&&w.lazyLoadedList.indexOf(U)>=0?E=se:E=n.default.createElement("div",null);var F=$(W(W({},w),{},{index:U})),te=E.props.className||"",ie=j(W(W({},w),{},{index:U}));if(D.push(n.default.cloneElement(E,{key:"original"+P(E,U),"data-index":U,className:(0,e.default)(ie,te),tabIndex:"-1","aria-hidden":!ie["slick-active"],style:W(W({outline:"none"},E.props.style||{}),F),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(b)}})),w.infinite&&w.fade===!1){var ae=pe-U;ae<=(0,t.getPreClones)(w)&&(N=-ae,N>=fe&&(E=se),ie=j(W(W({},w),{},{index:N})),k.push(n.default.cloneElement(E,{key:"precloned"+P(E,N),"data-index":N,tabIndex:"-1",className:(0,e.default)(ie,te),"aria-hidden":!ie["slick-active"],style:W(W({},E.props.style||{}),F),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(b)}}))),N=pe+U,N<T&&(E=se),ie=j(W(W({},w),{},{index:N})),Q.push(n.default.cloneElement(E,{key:"postcloned"+P(E,N),"data-index":N,tabIndex:"-1",className:(0,e.default)(ie,te),"aria-hidden":!ie["slick-active"],style:W(W({},E.props.style||{}),F),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(b)}}))}}),w.rtl?k.concat(D,Q).reverse():k.concat(D,Q)};return hl.Track=function(I){m(N,I);var w=S(N);function N(){var D;u(this,N);for(var k=arguments.length,Q=new Array(k),pe=0;pe<k;pe++)Q[pe]=arguments[pe];return D=w.call.apply(w,[this].concat(Q)),J(L(D),"node",null),J(L(D),"handleRef",function(fe){D.node=fe}),D}return h(N,[{key:"render",value:function(){var k=x(this.props),Q=this.props,pe=Q.onMouseEnter,fe=Q.onMouseOver,T=Q.onMouseLeave,se={onMouseEnter:pe,onMouseOver:fe,onMouseLeave:T};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},se),k)}}]),N}(n.default.PureComponent),hl}var pl={},Lv;function Bb(){if(Lv)return pl;Lv=1;function n(j){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},n(j)}Object.defineProperty(pl,"__esModule",{value:!0}),pl.Dots=void 0;var e=o(Ur()),t=o(Ed()),i=Ul();function o(j){return j&&j.__esModule?j:{default:j}}function a(j,$){var P=Object.keys(j);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(j);$&&(x=x.filter(function(I){return Object.getOwnPropertyDescriptor(j,I).enumerable})),P.push.apply(P,x)}return P}function u(j){for(var $=1;$<arguments.length;$++){var P=arguments[$]!=null?arguments[$]:{};$%2?a(Object(P),!0).forEach(function(x){f(j,x,P[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(P)):a(Object(P)).forEach(function(x){Object.defineProperty(j,x,Object.getOwnPropertyDescriptor(P,x))})}return j}function f(j,$,P){return $=S($),$ in j?Object.defineProperty(j,$,{value:P,enumerable:!0,configurable:!0,writable:!0}):j[$]=P,j}function h(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")}function m(j,$){for(var P=0;P<$.length;P++){var x=$[P];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(j,S(x.key),x)}}function v(j,$,P){return $&&m(j.prototype,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function S(j){var $=O(j,"string");return n($)=="symbol"?$:String($)}function O(j,$){if(n(j)!="object"||!j)return j;var P=j[Symbol.toPrimitive];if(P!==void 0){var x=P.call(j,$);if(n(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function L(j,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create($&&$.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),$&&H(j,$)}function H(j,$){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,I){return x.__proto__=I,x},H(j,$)}function V(j){var $=J();return function(){var x=X(j),I;if($){var w=X(this).constructor;I=Reflect.construct(x,arguments,w)}else I=x.apply(this,arguments);return z(this,I)}}function z(j,$){if($&&(n($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(j)}function W(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function J(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!j})()}function X(j){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},X(j)}var re=function($){var P;return $.infinite?P=Math.ceil($.slideCount/$.slidesToScroll):P=Math.ceil(($.slideCount-$.slidesToShow)/$.slidesToScroll)+1,P};return pl.Dots=function(j){L(P,j);var $=V(P);function P(){return h(this,P),$.apply(this,arguments)}return v(P,[{key:"clickHandler",value:function(I,w){w.preventDefault(),this.props.clickHandler(I)}},{key:"render",value:function(){for(var I=this.props,w=I.onMouseEnter,N=I.onMouseOver,D=I.onMouseLeave,k=I.infinite,Q=I.slidesToScroll,pe=I.slidesToShow,fe=I.slideCount,T=I.currentSlide,se=re({slideCount:fe,slidesToScroll:Q,slidesToShow:pe,infinite:k}),U={onMouseEnter:w,onMouseOver:N,onMouseLeave:D},E=[],b=0;b<se;b++){var F=(b+1)*Q-1,te=k?F:(0,i.clamp)(F,0,fe-1),ie=te-(Q-1),ae=k?ie:(0,i.clamp)(ie,0,fe-1),le=(0,t.default)({"slick-active":k?T>=ae&&T<=te:T===ae}),ce={message:"dots",index:b,slidesToScroll:Q,currentSlide:T},Te=this.clickHandler.bind(this,ce);E=E.concat(e.default.createElement("li",{key:b,className:le},e.default.cloneElement(this.props.customPaging(b),{onClick:Te})))}return e.default.cloneElement(this.props.appendDots(E),u({className:this.props.dotsClass},U))}}]),P}(e.default.PureComponent),pl}var Us={},Mv;function qb(){if(Mv)return Us;Mv=1;function n(j){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},n(j)}Object.defineProperty(Us,"__esModule",{value:!0}),Us.PrevArrow=Us.NextArrow=void 0;var e=o(Ur()),t=o(Ed()),i=Ul();function o(j){return j&&j.__esModule?j:{default:j}}function a(){return a=Object.assign?Object.assign.bind():function(j){for(var $=1;$<arguments.length;$++){var P=arguments[$];for(var x in P)Object.prototype.hasOwnProperty.call(P,x)&&(j[x]=P[x])}return j},a.apply(this,arguments)}function u(j,$){var P=Object.keys(j);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(j);$&&(x=x.filter(function(I){return Object.getOwnPropertyDescriptor(j,I).enumerable})),P.push.apply(P,x)}return P}function f(j){for(var $=1;$<arguments.length;$++){var P=arguments[$]!=null?arguments[$]:{};$%2?u(Object(P),!0).forEach(function(x){h(j,x,P[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(P)):u(Object(P)).forEach(function(x){Object.defineProperty(j,x,Object.getOwnPropertyDescriptor(P,x))})}return j}function h(j,$,P){return $=O($),$ in j?Object.defineProperty(j,$,{value:P,enumerable:!0,configurable:!0,writable:!0}):j[$]=P,j}function m(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")}function v(j,$){for(var P=0;P<$.length;P++){var x=$[P];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(j,O(x.key),x)}}function S(j,$,P){return $&&v(j.prototype,$),Object.defineProperty(j,"prototype",{writable:!1}),j}function O(j){var $=L(j,"string");return n($)=="symbol"?$:String($)}function L(j,$){if(n(j)!="object"||!j)return j;var P=j[Symbol.toPrimitive];if(P!==void 0){var x=P.call(j,$);if(n(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function H(j,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create($&&$.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),$&&V(j,$)}function V(j,$){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,I){return x.__proto__=I,x},V(j,$)}function z(j){var $=X();return function(){var x=re(j),I;if($){var w=re(this).constructor;I=Reflect.construct(x,arguments,w)}else I=x.apply(this,arguments);return W(this,I)}}function W(j,$){if($&&(n($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(j)}function J(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function X(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!j})()}function re(j){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},re(j)}return Us.PrevArrow=function(j){H(P,j);var $=z(P);function P(){return m(this,P),$.apply(this,arguments)}return S(P,[{key:"clickHandler",value:function(I,w){w&&w.preventDefault(),this.props.clickHandler(I,w)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-prev":!0},w=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(I["slick-disabled"]=!0,w=null);var N={key:"0","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:w},D={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},k;return this.props.prevArrow?k=e.default.cloneElement(this.props.prevArrow,f(f({},N),D)):k=e.default.createElement("button",a({key:"0",type:"button"},N)," ","Previous"),k}}]),P}(e.default.PureComponent),Us.NextArrow=function(j){H(P,j);var $=z(P);function P(){return m(this,P),$.apply(this,arguments)}return S(P,[{key:"clickHandler",value:function(I,w){w&&w.preventDefault(),this.props.clickHandler(I,w)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-next":!0},w=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(I["slick-disabled"]=!0,w=null);var N={key:"1","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:w},D={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},k;return this.props.nextArrow?k=e.default.cloneElement(this.props.nextArrow,f(f({},N),D)):k=e.default.createElement("button",a({key:"1",type:"button"},N)," ","Next"),k}}]),P}(e.default.PureComponent),Us}var rw=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(o,a){return o[0]===t?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(t,i){var o=n(this.__entries__,t);~o?this.__entries__[o][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,o=n(i,t);~o&&i.splice(o,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var o=0,a=this.__entries__;o<a.length;o++){var u=a[o];t.call(i,u[1],u[0])}},e}()}(),fp=typeof window<"u"&&typeof document<"u"&&window.document===document,Hc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Hb=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Hc):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Wb=2;function Kb(n,e){var t=!1,i=!1,o=0;function a(){t&&(t=!1,n()),i&&f()}function u(){Hb(a)}function f(){var h=Date.now();if(t){if(h-o<Wb)return;i=!0}else t=!0,i=!1,setTimeout(u,e);o=h}return f}var Gb=20,Qb=["top","right","bottom","left","width","height","size","weight"],Yb=typeof MutationObserver<"u",Xb=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Kb(this.refresh.bind(this),Gb)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!fp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Yb?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!fp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,o=Qb.some(function(a){return!!~i.indexOf(a)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),iw=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var o=i[t];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},ra=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Hc},sw=Td(0,0,0,0);function Wc(n){return parseFloat(n)||0}function Vv(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,o){var a=n["border-"+o+"-width"];return i+Wc(a)},0)}function Jb(n){for(var e=["top","right","bottom","left"],t={},i=0,o=e;i<o.length;i++){var a=o[i],u=n["padding-"+a];t[a]=Wc(u)}return t}function Zb(n){var e=n.getBBox();return Td(0,0,e.width,e.height)}function ek(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return sw;var i=ra(n).getComputedStyle(n),o=Jb(i),a=o.left+o.right,u=o.top+o.bottom,f=Wc(i.width),h=Wc(i.height);if(i.boxSizing==="border-box"&&(Math.round(f+a)!==e&&(f-=Vv(i,"left","right")+a),Math.round(h+u)!==t&&(h-=Vv(i,"top","bottom")+u)),!nk(n)){var m=Math.round(f+a)-e,v=Math.round(h+u)-t;Math.abs(m)!==1&&(f-=m),Math.abs(v)!==1&&(h-=v)}return Td(o.left,o.top,f,h)}var tk=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof ra(n).SVGGraphicsElement}:function(n){return n instanceof ra(n).SVGElement&&typeof n.getBBox=="function"}}();function nk(n){return n===ra(n).document.documentElement}function rk(n){return fp?tk(n)?Zb(n):ek(n):sw}function ik(n){var e=n.x,t=n.y,i=n.width,o=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(a.prototype);return iw(u,{x:e,y:t,width:i,height:o,top:t,right:e+i,bottom:o+t,left:e}),u}function Td(n,e,t,i){return{x:n,y:e,width:t,height:i}}var sk=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Td(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=rk(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),ok=function(){function n(e,t){var i=ik(t);iw(this,{target:e,contentRect:i})}return n}(),ak=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new rw,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ra(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new sk(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ra(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new ok(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),ow=typeof WeakMap<"u"?new WeakMap:new rw,aw=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Xb.getInstance(),i=new ak(e,t,this);ow.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){aw.prototype[n]=function(){var e;return(e=ow.get(this))[n].apply(e,arguments)}});var lk=function(){return typeof Hc.ResizeObserver<"u"?Hc.ResizeObserver:aw}();const uk=Object.freeze(Object.defineProperty({__proto__:null,default:lk},Symbol.toStringTag,{value:"Module"})),ck=CI(uk);var jv;function dk(){if(jv)return fl;jv=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.InnerSlider=void 0;var n=m(Ur()),e=m(Ub()),t=m(zb()),i=m(Ed()),o=Ul(),a=$b(),u=Bb(),f=qb(),h=m(ck);function m(k){return k&&k.__esModule?k:{default:k}}function v(k){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},v(k)}function S(){return S=Object.assign?Object.assign.bind():function(k){for(var Q=1;Q<arguments.length;Q++){var pe=arguments[Q];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(k[fe]=pe[fe])}return k},S.apply(this,arguments)}function O(k,Q){if(k==null)return{};var pe=L(k,Q),fe,T;if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(k);for(T=0;T<se.length;T++)fe=se[T],!(Q.indexOf(fe)>=0)&&Object.prototype.propertyIsEnumerable.call(k,fe)&&(pe[fe]=k[fe])}return pe}function L(k,Q){if(k==null)return{};var pe={},fe=Object.keys(k),T,se;for(se=0;se<fe.length;se++)T=fe[se],!(Q.indexOf(T)>=0)&&(pe[T]=k[T]);return pe}function H(k,Q){var pe=Object.keys(k);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(k);Q&&(fe=fe.filter(function(T){return Object.getOwnPropertyDescriptor(k,T).enumerable})),pe.push.apply(pe,fe)}return pe}function V(k){for(var Q=1;Q<arguments.length;Q++){var pe=arguments[Q]!=null?arguments[Q]:{};Q%2?H(Object(pe),!0).forEach(function(fe){w(k,fe,pe[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(pe)):H(Object(pe)).forEach(function(fe){Object.defineProperty(k,fe,Object.getOwnPropertyDescriptor(pe,fe))})}return k}function z(k,Q){if(!(k instanceof Q))throw new TypeError("Cannot call a class as a function")}function W(k,Q){for(var pe=0;pe<Q.length;pe++){var fe=Q[pe];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(k,N(fe.key),fe)}}function J(k,Q,pe){return Q&&W(k.prototype,Q),Object.defineProperty(k,"prototype",{writable:!1}),k}function X(k,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(Q&&Q.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),Q&&re(k,Q)}function re(k,Q){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(fe,T){return fe.__proto__=T,fe},re(k,Q)}function j(k){var Q=x();return function(){var fe=I(k),T;if(Q){var se=I(this).constructor;T=Reflect.construct(fe,arguments,se)}else T=fe.apply(this,arguments);return $(this,T)}}function $(k,Q){if(Q&&(v(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(k)}function P(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function x(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!k})()}function I(k){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},I(k)}function w(k,Q,pe){return Q=N(Q),Q in k?Object.defineProperty(k,Q,{value:pe,enumerable:!0,configurable:!0,writable:!0}):k[Q]=pe,k}function N(k){var Q=D(k,"string");return v(Q)=="symbol"?Q:String(Q)}function D(k,Q){if(v(k)!="object"||!k)return k;var pe=k[Symbol.toPrimitive];if(pe!==void 0){var fe=pe.call(k,Q);if(v(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(k)}return fl.InnerSlider=function(k){X(pe,k);var Q=j(pe);function pe(fe){var T;z(this,pe),T=Q.call(this,fe),w(P(T),"listRefHandler",function(U){return T.list=U}),w(P(T),"trackRefHandler",function(U){return T.track=U}),w(P(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var U=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,o.getHeight)(U)+"px"}}),w(P(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var U=(0,o.getOnDemandLazySlides)(V(V({},T.props),T.state));U.length>0&&(T.setState(function(b){return{lazyLoadedList:b.lazyLoadedList.concat(U)}}),T.props.onLazyLoad&&T.props.onLazyLoad(U))}var E=V({listRef:T.list,trackRef:T.track},T.props);T.updateState(E,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new h.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(b){b.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,b.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),w(P(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(U){return clearTimeout(U)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),w(P(T),"componentDidUpdate",function(U){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var E=(0,o.getOnDemandLazySlides)(V(V({},T.props),T.state));E.length>0&&(T.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(E)}}),T.props.onLazyLoad&&T.props.onLazyLoad(E))}T.adaptHeight();var b=V(V({listRef:T.list,trackRef:T.track},T.props),T.state),F=T.didPropsChange(U);F&&T.updateState(b,F,function(){T.state.currentSlide>=n.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:n.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),w(P(T),"onWindowResized",function(U){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,t.default)(function(){return T.resizeWindow(U)},50),T.debouncedResize()}),w(P(T),"resizeWindow",function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=!!(T.track&&T.track.node);if(E){var b=V(V({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(b,U,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),w(P(T),"updateState",function(U,E,b){var F=(0,o.initializedState)(U);U=V(V(V({},U),F),{},{slideIndex:F.currentSlide});var te=(0,o.getTrackLeft)(U);U=V(V({},U),{},{left:te});var ie=(0,o.getTrackCSS)(U);(E||n.default.Children.count(T.props.children)!==n.default.Children.count(U.children))&&(F.trackStyle=ie),T.setState(F,b)}),w(P(T),"ssrInit",function(){if(T.props.variableWidth){var U=0,E=0,b=[],F=(0,o.getPreClones)(V(V(V({},T.props),T.state),{},{slideCount:T.props.children.length})),te=(0,o.getPostClones)(V(V(V({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function(ct){b.push(ct.props.style.width),U+=ct.props.style.width});for(var ie=0;ie<F;ie++)E+=b[b.length-1-ie],U+=b[b.length-1-ie];for(var ae=0;ae<te;ae++)U+=b[ae];for(var le=0;le<T.state.currentSlide;le++)E+=b[le];var ce={width:U+"px",left:-E+"px"};if(T.props.centerMode){var Te="".concat(b[T.state.currentSlide],"px");ce.left="calc(".concat(ce.left," + (100% - ").concat(Te,") / 2 ) ")}return{trackStyle:ce}}var be=n.default.Children.count(T.props.children),Pe=V(V(V({},T.props),T.state),{},{slideCount:be}),ze=(0,o.getPreClones)(Pe)+(0,o.getPostClones)(Pe)+be,qe=100/T.props.slidesToShow*ze,Ue=100/ze,Ve=-Ue*((0,o.getPreClones)(Pe)+T.state.currentSlide)*qe/100;T.props.centerMode&&(Ve+=(100-Ue*qe/100)/2);var Be={width:qe+"%",left:Ve+"%"};return{slideWidth:Ue+"%",trackStyle:Be}}),w(P(T),"checkImagesLoad",function(){var U=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],E=U.length,b=0;Array.prototype.forEach.call(U,function(F){var te=function(){return++b&&b>=E&&T.onWindowResized()};if(!F.onclick)F.onclick=function(){return F.parentNode.focus()};else{var ie=F.onclick;F.onclick=function(ae){ie(ae),F.parentNode.focus()}}F.onload||(T.props.lazyLoad?F.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(F.onload=te,F.onerror=function(){te(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),w(P(T),"progressiveLazyLoad",function(){for(var U=[],E=V(V({},T.props),T.state),b=T.state.currentSlide;b<T.state.slideCount+(0,o.getPostClones)(E);b++)if(T.state.lazyLoadedList.indexOf(b)<0){U.push(b);break}for(var F=T.state.currentSlide-1;F>=-(0,o.getPreClones)(E);F--)if(T.state.lazyLoadedList.indexOf(F)<0){U.push(F);break}U.length>0?(T.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(U)}}),T.props.onLazyLoad&&T.props.onLazyLoad(U)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),w(P(T),"slideHandler",function(U){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=T.props,F=b.asNavFor,te=b.beforeChange,ie=b.onLazyLoad,ae=b.speed,le=b.afterChange,ce=T.state.currentSlide,Te=(0,o.slideHandler)(V(V(V({index:U},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!E})),be=Te.state,Pe=Te.nextState;if(be){te&&te(ce,be.currentSlide);var ze=be.lazyLoadedList.filter(function(qe){return T.state.lazyLoadedList.indexOf(qe)<0});ie&&ze.length>0&&ie(ze),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),le&&le(ce),delete T.animationEndCallback),T.setState(be,function(){F&&T.asNavForIndex!==U&&(T.asNavForIndex=U,F.innerSlider.slideHandler(U)),Pe&&(T.animationEndCallback=setTimeout(function(){var qe=Pe.animating,Ue=O(Pe,["animating"]);T.setState(Ue,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:qe})},10)),le&&le(be.currentSlide),delete T.animationEndCallback})},ae))})}}),w(P(T),"changeSlide",function(U){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=V(V({},T.props),T.state),F=(0,o.changeSlide)(b,U);if(!(F!==0&&!F)&&(E===!0?T.slideHandler(F,E):T.slideHandler(F),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var te=T.list.querySelectorAll(".slick-current");te[0]&&te[0].focus()}}),w(P(T),"clickHandler",function(U){T.clickable===!1&&(U.stopPropagation(),U.preventDefault()),T.clickable=!0}),w(P(T),"keyHandler",function(U){var E=(0,o.keyHandler)(U,T.props.accessibility,T.props.rtl);E!==""&&T.changeSlide({message:E})}),w(P(T),"selectHandler",function(U){T.changeSlide(U)}),w(P(T),"disableBodyScroll",function(){var U=function(b){b=b||window.event,b.preventDefault&&b.preventDefault(),b.returnValue=!1};window.ontouchmove=U}),w(P(T),"enableBodyScroll",function(){window.ontouchmove=null}),w(P(T),"swipeStart",function(U){T.props.verticalSwiping&&T.disableBodyScroll();var E=(0,o.swipeStart)(U,T.props.swipe,T.props.draggable);E!==""&&T.setState(E)}),w(P(T),"swipeMove",function(U){var E=(0,o.swipeMove)(U,V(V(V({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));E&&(E.swiping&&(T.clickable=!1),T.setState(E))}),w(P(T),"swipeEnd",function(U){var E=(0,o.swipeEnd)(U,V(V(V({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(E){var b=E.triggerSlideHandler;delete E.triggerSlideHandler,T.setState(E),b!==void 0&&(T.slideHandler(b),T.props.verticalSwiping&&T.enableBodyScroll())}}),w(P(T),"touchEnd",function(U){T.swipeEnd(U),T.clickable=!0}),w(P(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),w(P(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),w(P(T),"slickGoTo",function(U){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U=Number(U),isNaN(U))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:U,currentSlide:T.state.currentSlide},E)},0))}),w(P(T),"play",function(){var U;if(T.props.rtl)U=T.state.currentSlide-T.props.slidesToScroll;else if((0,o.canGoNext)(V(V({},T.props),T.state)))U=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(U)}),w(P(T),"autoPlay",function(U){T.autoplayTimer&&clearInterval(T.autoplayTimer);var E=T.state.autoplaying;if(U==="update"){if(E==="hovered"||E==="focused"||E==="paused")return}else if(U==="leave"){if(E==="paused"||E==="focused")return}else if(U==="blur"&&(E==="paused"||E==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),w(P(T),"pause",function(U){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var E=T.state.autoplaying;U==="paused"?T.setState({autoplaying:"paused"}):U==="focused"?(E==="hovered"||E==="playing")&&T.setState({autoplaying:"focused"}):E==="playing"&&T.setState({autoplaying:"hovered"})}),w(P(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),w(P(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),w(P(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),w(P(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),w(P(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),w(P(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),w(P(T),"render",function(){var U=(0,i.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),E=V(V({},T.props),T.state),b=(0,o.extractObject)(E,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),F=T.props.pauseOnHover;b=V(V({},b),{},{onMouseEnter:F?T.onTrackOver:null,onMouseLeave:F?T.onTrackLeave:null,onMouseOver:F?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var te;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var ie=(0,o.extractObject)(E,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=T.props.pauseOnDotsHover;ie=V(V({},ie),{},{clickHandler:T.changeSlide,onMouseEnter:ae?T.onDotsLeave:null,onMouseOver:ae?T.onDotsOver:null,onMouseLeave:ae?T.onDotsLeave:null}),te=n.default.createElement(u.Dots,ie)}var le,ce,Te=(0,o.extractObject)(E,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Te.clickHandler=T.changeSlide,T.props.arrows&&(le=n.default.createElement(f.PrevArrow,Te),ce=n.default.createElement(f.NextArrow,Te));var be=null;T.props.vertical&&(be={height:T.state.listHeight});var Pe=null;T.props.vertical===!1?T.props.centerMode===!0&&(Pe={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(Pe={padding:T.props.centerPadding+" 0px"});var ze=V(V({},be),Pe),qe=T.props.touchMove,Ue={className:"slick-list",style:ze,onClick:T.clickHandler,onMouseDown:qe?T.swipeStart:null,onMouseMove:T.state.dragging&&qe?T.swipeMove:null,onMouseUp:qe?T.swipeEnd:null,onMouseLeave:T.state.dragging&&qe?T.swipeEnd:null,onTouchStart:qe?T.swipeStart:null,onTouchMove:T.state.dragging&&qe?T.swipeMove:null,onTouchEnd:qe?T.touchEnd:null,onTouchCancel:T.state.dragging&&qe?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},Ve={className:U,dir:"ltr",style:T.props.style};return T.props.unslick&&(Ue={className:"slick-list"},Ve={className:U}),n.default.createElement("div",Ve,T.props.unslick?"":le,n.default.createElement("div",S({ref:T.listRefHandler},Ue),n.default.createElement(a.Track,S({ref:T.trackRefHandler},b),T.props.children)),T.props.unslick?"":ce,T.props.unslick?"":te)}),T.list=null,T.track=null,T.state=V(V({},e.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:n.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var se=T.ssrInit();return T.state=V(V({},T.state),se),T}return J(pe,[{key:"didPropsChange",value:function(T){for(var se=!1,U=0,E=Object.keys(this.props);U<E.length;U++){var b=E[U];if(!T.hasOwnProperty(b)){se=!0;break}if(!(v(T[b])==="object"||typeof T[b]=="function"||isNaN(T[b]))&&T[b]!==this.props[b]){se=!0;break}}return se||n.default.Children.count(this.props.children)!==n.default.Children.count(T.children)}}]),pe}(n.default.Component),fl}var zh,Fv;function fk(){if(Fv)return zh;Fv=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return zh=n,zh}var $h,Uv;function hk(){if(Uv)return $h;Uv=1;var n=fk(),e=function(o){var a=/[height|width]$/;return a.test(o)},t=function(o){var a="",u=Object.keys(o);return u.forEach(function(f,h){var m=o[f];f=n(f),e(f)&&typeof m=="number"&&(m=m+"px"),m===!0?a+=f:m===!1?a+="not "+f:a+="("+f+": "+m+")",h<u.length-1&&(a+=" and ")}),a},i=function(o){var a="";return typeof o=="string"?o:o instanceof Array?(o.forEach(function(u,f){a+=t(u),f<o.length-1&&(a+=", ")}),a):t(o)};return $h=i,$h}var Bh,zv;function pk(){if(zv)return Bh;zv=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Bh=n,Bh}var qh,$v;function lw(){if($v)return qh;$v=1;function n(i,o){var a=0,u=i.length,f;for(a;a<u&&(f=o(i[a],a),f!==!1);a++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return qh={isFunction:t,isArray:e,each:n},qh}var Hh,Bv;function mk(){if(Bv)return Hh;Bv=1;var n=pk(),e=lw().each;function t(i,o){this.query=i,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(i);var a=this;this.listener=function(u){a.mql=u.currentTarget||u,a.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var o=new n(i);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(i){var o=this.handlers;e(o,function(a,u){if(a.equals(i))return a.destroy(),!o.splice(u,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(o){o[i]()})}},Hh=t,Hh}var Wh,qv;function gk(){if(qv)return Wh;qv=1;var n=mk(),e=lw(),t=e.each,i=e.isFunction,o=e.isArray;function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return a.prototype={constructor:a,register:function(u,f,h){var m=this.queries,v=h&&this.browserIsIncapable;return m[u]||(m[u]=new n(u,v)),i(f)&&(f={match:f}),o(f)||(f=[f]),t(f,function(S){i(S)&&(S={match:S}),m[u].addHandler(S)}),this},unregister:function(u,f){var h=this.queries[u];return h&&(f?h.removeHandler(f):(h.clear(),delete this.queries[u])),this}},Wh=a,Wh}var Kh,Hv;function yk(){if(Hv)return Kh;Hv=1;var n=gk();return Kh=new n,Kh}var Wv;function vk(){return Wv||(Wv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=u(Ur()),t=dk(),i=u(hk()),o=u(nw()),a=Ul();function u(I){return I&&I.__esModule?I:{default:I}}function f(I){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},f(I)}function h(){return h=Object.assign?Object.assign.bind():function(I){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(I[D]=N[D])}return I},h.apply(this,arguments)}function m(I,w){var N=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);w&&(D=D.filter(function(k){return Object.getOwnPropertyDescriptor(I,k).enumerable})),N.push.apply(N,D)}return N}function v(I){for(var w=1;w<arguments.length;w++){var N=arguments[w]!=null?arguments[w]:{};w%2?m(Object(N),!0).forEach(function(D){j(I,D,N[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):m(Object(N)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(N,D))})}return I}function S(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function O(I,w){for(var N=0;N<w.length;N++){var D=w[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,$(D.key),D)}}function L(I,w,N){return w&&O(I.prototype,w),Object.defineProperty(I,"prototype",{writable:!1}),I}function H(I,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(w&&w.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),w&&V(I,w)}function V(I,w){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},V(I,w)}function z(I){var w=X();return function(){var D=re(I),k;if(w){var Q=re(this).constructor;k=Reflect.construct(D,arguments,Q)}else k=D.apply(this,arguments);return W(this,k)}}function W(I,w){if(w&&(f(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(I)}function J(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function X(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!I})()}function re(I){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},re(I)}function j(I,w,N){return w=$(w),w in I?Object.defineProperty(I,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[w]=N,I}function $(I){var w=P(I,"string");return f(w)=="symbol"?w:String(w)}function P(I,w){if(f(I)!="object"||!I)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var D=N.call(I,w);if(f(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(I)}var x=(0,a.canUseDOM)()&&yk();n.default=function(I){H(N,I);var w=z(N);function N(D){var k;return S(this,N),k=w.call(this,D),j(J(k),"innerSliderRefHandler",function(Q){return k.innerSlider=Q}),j(J(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),j(J(k),"slickNext",function(){return k.innerSlider.slickNext()}),j(J(k),"slickGoTo",function(Q){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(Q,pe)}),j(J(k),"slickPause",function(){return k.innerSlider.pause("paused")}),j(J(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return L(N,[{key:"media",value:function(k,Q){x.register(k,Q),this._responsiveMediaHandlers.push({query:k,handler:Q})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var Q=this.props.responsive.map(function(fe){return fe.breakpoint});Q.sort(function(fe,T){return fe-T}),Q.forEach(function(fe,T){var se;T===0?se=(0,i.default)({minWidth:0,maxWidth:fe}):se=(0,i.default)({minWidth:Q[T-1]+1,maxWidth:fe}),(0,a.canUseDOM)()&&k.media(se,function(){k.setState({breakpoint:fe})})});var pe=(0,i.default)({minWidth:Q.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(pe,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){x.unregister(k.query,k.handler)})}},{key:"render",value:function(){var k=this,Q,pe;this.state.breakpoint?(pe=this.props.responsive.filter(function(ae){return ae.breakpoint===k.state.breakpoint}),Q=pe[0].settings==="unslick"?"unslick":v(v(v({},o.default),this.props),pe[0].settings)):Q=v(v({},o.default),this.props),Q.centerMode&&(Q.slidesToScroll>1,Q.slidesToScroll=1),Q.fade&&(Q.slidesToShow>1,Q.slidesToScroll>1,Q.slidesToShow=1,Q.slidesToScroll=1);var fe=e.default.Children.toArray(this.props.children);fe=fe.filter(function(ae){return typeof ae=="string"?!!ae.trim():!!ae}),Q.variableWidth&&(Q.rows>1||Q.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Q.variableWidth=!1);for(var T=[],se=null,U=0;U<fe.length;U+=Q.rows*Q.slidesPerRow){for(var E=[],b=U;b<U+Q.rows*Q.slidesPerRow;b+=Q.slidesPerRow){for(var F=[],te=b;te<b+Q.slidesPerRow&&(Q.variableWidth&&fe[te].props.style&&(se=fe[te].props.style.width),!(te>=fe.length));te+=1)F.push(e.default.cloneElement(fe[te],{key:100*U+10*b+te,tabIndex:-1,style:{width:"".concat(100/Q.slidesPerRow,"%"),display:"inline-block"}}));E.push(e.default.createElement("div",{key:10*U+b},F))}Q.variableWidth?T.push(e.default.createElement("div",{key:U,style:{width:se}},E)):T.push(e.default.createElement("div",{key:U},E))}if(Q==="unslick"){var ie="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ie},fe)}else T.length<=Q.slidesToShow&&!Q.infinite&&(Q.unslick=!0);return e.default.createElement(t.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(Q)),T)}}]),N}(e.default.Component)}(Mh)),Mh}var Kv;function _k(){return Kv||(Kv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(vk());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(Lh)),Lh}var wk=_k();const Sd=Xp(wk),Ek=()=>{const n=[{id:1,image:"banner1.jpg",title:"Oferta Especial! 35% OFF"},{id:2,image:"banner2.jpg",title:"Nuevos Lanzamientos"},{id:3,image:"banner3.jpg",title:"Envos Gratis Hoy"},{id:4,image:"banner4.jpg",title:"Descuentos Exclusivos"}],e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,nextArrow:R.jsx(Tk,{}),prevArrow:R.jsx(Sk,{})};return R.jsx("div",{className:"text-white",children:R.jsx(Sd,{...e,children:n.map(t=>R.jsxs("div",{className:"relative outline-none",children:[R.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[500px] md:h-[400px] sm:h-[300px] object-cover"}),R.jsx("div",{className:"absolute inset-0 bg-opacity-40 flex items-center justify-center",children:R.jsx("h2",{className:"text-4xl md:text-3xl sm:text-2xl font-bold text-center",children:t.title})})]},t.id))})})},Tk=n=>{const{className:e,style:t,onClick:i}=n;return R.jsx("button",{className:e,style:{...t,display:"block",right:"10px",zIndex:10},onClick:i,children:""})},Sk=n=>{const{className:e,style:t,onClick:i}=n;return R.jsx("button",{className:e,style:{...t,display:"block",left:"10px",zIndex:10},onClick:i,children:""})},Ik=()=>{};var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},bk=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,S=(a&3)<<4|f>>4;let O=(f&15)<<2|m>>6,L=m&63;h||(L=64,u||(O=64)),i.push(t[v],t[S],t[O],t[L])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||S==null)throw new kk;const O=a<<2|f>>4;if(i.push(O),m!==64){const L=f<<4&240|m>>2;if(i.push(L),S!==64){const H=m<<6&192|S;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ck=function(n){const e=uw(n);return cw.encodeByteArray(e,!0)},Kc=function(n){return Ck(n).replace(/\./g,"")},dw=function(n){try{return cw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=()=>xk().__FIREBASE_DEFAULTS__,Rk=()=>{if(typeof process>"u"||typeof Gv>"u")return;const n=Gv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ak=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dw(n[1]);return e&&JSON.parse(e)},Id=()=>{try{return Ik()||Pk()||Rk()||Ak()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fw=n=>{var e,t;return(t=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},em=n=>{const e=fw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},hw=()=>{var n;return(n=Id())===null||n===void 0?void 0:n.config},pw=n=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kc(JSON.stringify(t)),Kc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ok(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Dk(){var n;const e=(n=Id())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Mk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vk(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jk(){return!Dk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yw(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Fk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="FirebaseError";class Un extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Uk,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?zk(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Un(o,f,i)}}function zk(n,e){return n.replace($k,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const $k=/\{\$([^}]+)}/g;function Bk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function es(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(Qv(a)&&Qv(u)){if(!es(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Qv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function gl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function qk(n,e){const t=new Hk(n,e);return t.subscribe.bind(t)}class Hk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Wk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Gh),o.error===void 0&&(o.error=Gh),o.complete===void 0&&(o.complete=Gh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=1e3,Gk=2,Qk=4*60*60*1e3,Yk=.5;function Yv(n,e=Kk,t=Gk){const i=e*Math.pow(t,n),o=Math.round(Yk*i*(Math.random()-.5)*2);return Math.min(Qk,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n){return n&&n._delegate?n._delegate:n}class Fn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Nk;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zk(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Jk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jk(n){return n===zs?void 0:n}function Zk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const tC={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},nC=He.INFO,rC={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},iC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=rC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bd{constructor(e){this.name=e,this._logLevel=nC,this._logHandler=iC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const sC=(n,e)=>e.some(t=>n instanceof t);let Xv,Jv;function oC(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aC(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _w=new WeakMap,hp=new WeakMap,ww=new WeakMap,Qh=new WeakMap,tm=new WeakMap;function lC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Qi(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&_w.set(t,n)}).catch(()=>{}),tm.set(e,n),e}function uC(n){if(hp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});hp.set(n,e)}let pp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ww.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cC(n){pp=n(pp)}function dC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Yh(this),e,...t);return ww.set(i,e.sort?e.sort():[e]),Qi(i)}:aC().includes(n)?function(...e){return n.apply(Yh(this),e),Qi(_w.get(this))}:function(...e){return Qi(n.apply(Yh(this),e))}}function fC(n){return typeof n=="function"?dC(n):(n instanceof IDBTransaction&&uC(n),sC(n,oC())?new Proxy(n,pp):n)}function Qi(n){if(n instanceof IDBRequest)return lC(n);if(Qh.has(n))return Qh.get(n);const e=fC(n);return e!==n&&(Qh.set(n,e),tm.set(e,n)),e}const Yh=n=>tm.get(n);function Ew(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Qi(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Qi(u.result),h.oldVersion,h.newVersion,Qi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const hC=["get","getKey","getAll","getAllKeys","count"],pC=["put","add","delete","clear"],Xh=new Map;function Zv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=pC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hC.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return Xh.set(e,a),a}cC(n=>({...n,get:(e,t,i)=>Zv(e,t)||n.get(e,t,i),has:(e,t)=>!!Zv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function gC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",e_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new bd("@firebase/app"),yC="@firebase/app-compat",vC="@firebase/analytics-compat",_C="@firebase/analytics",wC="@firebase/app-check-compat",EC="@firebase/app-check",TC="@firebase/auth",SC="@firebase/auth-compat",IC="@firebase/database",bC="@firebase/data-connect",kC="@firebase/database-compat",CC="@firebase/functions",xC="@firebase/functions-compat",PC="@firebase/installations",RC="@firebase/installations-compat",AC="@firebase/messaging",NC="@firebase/messaging-compat",OC="@firebase/performance",DC="@firebase/performance-compat",LC="@firebase/remote-config",MC="@firebase/remote-config-compat",VC="@firebase/storage",jC="@firebase/storage-compat",FC="@firebase/firestore",UC="@firebase/vertexai",zC="@firebase/firestore-compat",$C="firebase",BC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",qC={[mp]:"fire-core",[yC]:"fire-core-compat",[_C]:"fire-analytics",[vC]:"fire-analytics-compat",[EC]:"fire-app-check",[wC]:"fire-app-check-compat",[TC]:"fire-auth",[SC]:"fire-auth-compat",[IC]:"fire-rtdb",[bC]:"fire-data-connect",[kC]:"fire-rtdb-compat",[CC]:"fire-fn",[xC]:"fire-fn-compat",[PC]:"fire-iid",[RC]:"fire-iid-compat",[AC]:"fire-fcm",[NC]:"fire-fcm-compat",[OC]:"fire-perf",[DC]:"fire-perf-compat",[LC]:"fire-rc",[MC]:"fire-rc-compat",[VC]:"fire-gcs",[jC]:"fire-gcs-compat",[FC]:"fire-fst",[zC]:"fire-fst-compat",[UC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,HC=new Map,yp=new Map;function t_(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jn(n){const e=n.name;if(yp.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,n);for(const t of Gc.values())t_(t,n);for(const t of HC.values())t_(t,n);return!0}function mi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new eo("app","Firebase",WC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=BC;function Tw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(t||(t=hw()),!t)throw Yi.create("no-options");const a=Gc.get(o);if(a){if(es(t,a.options)&&es(i,a.config))return a;throw Yi.create("duplicate-app",{appName:o})}const u=new eC(o);for(const h of yp.values())u.addComponent(h);const f=new KC(t,i,u);return Gc.set(o,f),f}function $l(n=gp){const e=Gc.get(n);if(!e&&n===gp&&hw())return Tw();if(!e)throw Yi.create("no-app",{appName:n});return e}function nn(n,e,t){var i;let o=(i=qC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(f.join(" "));return}Jn(new Fn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebase-heartbeat-database",QC=1,xl="firebase-heartbeat-store";let Jh=null;function Sw(){return Jh||(Jh=Ew(GC,QC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yi.create("idb-open",{originalErrorMessage:n.message})})),Jh}async function YC(n){try{const t=(await Sw()).transaction(xl),i=await t.objectStore(xl).get(Iw(n));return await t.done,i}catch(e){if(e instanceof Un)ci.warn(e.message);else{const t=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function n_(n,e){try{const i=(await Sw()).transaction(xl,"readwrite");await i.objectStore(xl).put(e,Iw(n)),await i.done}catch(t){if(t instanceof Un)ci.warn(t.message);else{const i=Yi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(i.message)}}}function Iw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=1024,JC=30;class ZC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>JC){const u=nx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r_(),{heartbeatsToSend:i,unsentEntries:o}=ex(this._heartbeatsCache.heartbeats),a=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ci.warn(t),""}}}function r_(){return new Date().toISOString().substring(0,10)}function ex(n,e=XC){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),i_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),i_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class tx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yw()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function i_(n){return Kc(JSON.stringify({version:2,heartbeats:n})).length}function nx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n){Jn(new Fn("platform-logger",e=>new mC(e),"PRIVATE")),Jn(new Fn("heartbeat",e=>new ZC(e),"PRIVATE")),nn(mp,e_,n),nn(mp,e_,"esm2017"),nn("fire-js","")}rx("");var s_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,bw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function I(){}I.prototype=x.prototype,P.D=x.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(w,N,D){for(var k=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)k[Q-2]=arguments[Q];return x.prototype[N].apply(w,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,I){I||(I=0);var w=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)w[N]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(N=0;16>N;++N)w[N]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=P.g[0],I=P.g[1],N=P.g[2];var D=P.g[3],k=x+(D^I&(N^D))+w[0]+3614090360&4294967295;x=I+(k<<7&4294967295|k>>>25),k=D+(N^x&(I^N))+w[1]+3905402710&4294967295,D=x+(k<<12&4294967295|k>>>20),k=N+(I^D&(x^I))+w[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=I+(x^N&(D^x))+w[3]+3250441966&4294967295,I=N+(k<<22&4294967295|k>>>10),k=x+(D^I&(N^D))+w[4]+4118548399&4294967295,x=I+(k<<7&4294967295|k>>>25),k=D+(N^x&(I^N))+w[5]+1200080426&4294967295,D=x+(k<<12&4294967295|k>>>20),k=N+(I^D&(x^I))+w[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=I+(x^N&(D^x))+w[7]+4249261313&4294967295,I=N+(k<<22&4294967295|k>>>10),k=x+(D^I&(N^D))+w[8]+1770035416&4294967295,x=I+(k<<7&4294967295|k>>>25),k=D+(N^x&(I^N))+w[9]+2336552879&4294967295,D=x+(k<<12&4294967295|k>>>20),k=N+(I^D&(x^I))+w[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=I+(x^N&(D^x))+w[11]+2304563134&4294967295,I=N+(k<<22&4294967295|k>>>10),k=x+(D^I&(N^D))+w[12]+1804603682&4294967295,x=I+(k<<7&4294967295|k>>>25),k=D+(N^x&(I^N))+w[13]+4254626195&4294967295,D=x+(k<<12&4294967295|k>>>20),k=N+(I^D&(x^I))+w[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=I+(x^N&(D^x))+w[15]+1236535329&4294967295,I=N+(k<<22&4294967295|k>>>10),k=x+(N^D&(I^N))+w[1]+4129170786&4294967295,x=I+(k<<5&4294967295|k>>>27),k=D+(I^N&(x^I))+w[6]+3225465664&4294967295,D=x+(k<<9&4294967295|k>>>23),k=N+(x^I&(D^x))+w[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=I+(D^x&(N^D))+w[0]+3921069994&4294967295,I=N+(k<<20&4294967295|k>>>12),k=x+(N^D&(I^N))+w[5]+3593408605&4294967295,x=I+(k<<5&4294967295|k>>>27),k=D+(I^N&(x^I))+w[10]+38016083&4294967295,D=x+(k<<9&4294967295|k>>>23),k=N+(x^I&(D^x))+w[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=I+(D^x&(N^D))+w[4]+3889429448&4294967295,I=N+(k<<20&4294967295|k>>>12),k=x+(N^D&(I^N))+w[9]+568446438&4294967295,x=I+(k<<5&4294967295|k>>>27),k=D+(I^N&(x^I))+w[14]+3275163606&4294967295,D=x+(k<<9&4294967295|k>>>23),k=N+(x^I&(D^x))+w[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=I+(D^x&(N^D))+w[8]+1163531501&4294967295,I=N+(k<<20&4294967295|k>>>12),k=x+(N^D&(I^N))+w[13]+2850285829&4294967295,x=I+(k<<5&4294967295|k>>>27),k=D+(I^N&(x^I))+w[2]+4243563512&4294967295,D=x+(k<<9&4294967295|k>>>23),k=N+(x^I&(D^x))+w[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=I+(D^x&(N^D))+w[12]+2368359562&4294967295,I=N+(k<<20&4294967295|k>>>12),k=x+(I^N^D)+w[5]+4294588738&4294967295,x=I+(k<<4&4294967295|k>>>28),k=D+(x^I^N)+w[8]+2272392833&4294967295,D=x+(k<<11&4294967295|k>>>21),k=N+(D^x^I)+w[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=I+(N^D^x)+w[14]+4259657740&4294967295,I=N+(k<<23&4294967295|k>>>9),k=x+(I^N^D)+w[1]+2763975236&4294967295,x=I+(k<<4&4294967295|k>>>28),k=D+(x^I^N)+w[4]+1272893353&4294967295,D=x+(k<<11&4294967295|k>>>21),k=N+(D^x^I)+w[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=I+(N^D^x)+w[10]+3200236656&4294967295,I=N+(k<<23&4294967295|k>>>9),k=x+(I^N^D)+w[13]+681279174&4294967295,x=I+(k<<4&4294967295|k>>>28),k=D+(x^I^N)+w[0]+3936430074&4294967295,D=x+(k<<11&4294967295|k>>>21),k=N+(D^x^I)+w[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=I+(N^D^x)+w[6]+76029189&4294967295,I=N+(k<<23&4294967295|k>>>9),k=x+(I^N^D)+w[9]+3654602809&4294967295,x=I+(k<<4&4294967295|k>>>28),k=D+(x^I^N)+w[12]+3873151461&4294967295,D=x+(k<<11&4294967295|k>>>21),k=N+(D^x^I)+w[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=I+(N^D^x)+w[2]+3299628645&4294967295,I=N+(k<<23&4294967295|k>>>9),k=x+(N^(I|~D))+w[0]+4096336452&4294967295,x=I+(k<<6&4294967295|k>>>26),k=D+(I^(x|~N))+w[7]+1126891415&4294967295,D=x+(k<<10&4294967295|k>>>22),k=N+(x^(D|~I))+w[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=I+(D^(N|~x))+w[5]+4237533241&4294967295,I=N+(k<<21&4294967295|k>>>11),k=x+(N^(I|~D))+w[12]+1700485571&4294967295,x=I+(k<<6&4294967295|k>>>26),k=D+(I^(x|~N))+w[3]+2399980690&4294967295,D=x+(k<<10&4294967295|k>>>22),k=N+(x^(D|~I))+w[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=I+(D^(N|~x))+w[1]+2240044497&4294967295,I=N+(k<<21&4294967295|k>>>11),k=x+(N^(I|~D))+w[8]+1873313359&4294967295,x=I+(k<<6&4294967295|k>>>26),k=D+(I^(x|~N))+w[15]+4264355552&4294967295,D=x+(k<<10&4294967295|k>>>22),k=N+(x^(D|~I))+w[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=I+(D^(N|~x))+w[13]+1309151649&4294967295,I=N+(k<<21&4294967295|k>>>11),k=x+(N^(I|~D))+w[4]+4149444226&4294967295,x=I+(k<<6&4294967295|k>>>26),k=D+(I^(x|~N))+w[11]+3174756917&4294967295,D=x+(k<<10&4294967295|k>>>22),k=N+(x^(D|~I))+w[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=I+(D^(N|~x))+w[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+D&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var I=x-this.blockSize,w=this.B,N=this.h,D=0;D<x;){if(N==0)for(;D<=I;)o(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<x;)if(w[N++]=P.charCodeAt(D++),N==this.blockSize){o(this,w),N=0;break}}else for(;D<x;)if(w[N++]=P[D++],N==this.blockSize){o(this,w),N=0;break}}this.h=N,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var I=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=I&255,I/=256;for(this.u(P),P=Array(16),x=I=0;4>x;++x)for(var w=0;32>w;w+=8)P[I++]=this.g[x]>>>w&255;return P};function a(P,x){var I=f;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=x(P)}function u(P,x){this.h=x;for(var I=[],w=!0,N=P.length-1;0<=N;N--){var D=P[N]|0;w&&D==x||(I[N]=D,w=!1)}this.g=I}var f={};function h(P){return-128<=P&&128>P?a(P,function(x){return new u([x|0],0>x?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return z(m(-P));for(var x=[],I=1,w=0;P>=I;w++)x[w]=P/I|0,I*=4294967296;return new u(x,0)}function v(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return z(v(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(x,8)),w=S,N=0;N<P.length;N+=8){var D=Math.min(8,P.length-N),k=parseInt(P.substring(N,N+D),x);8>D?(D=m(Math.pow(x,D)),w=w.j(D).add(m(k))):(w=w.j(I),w=w.add(m(k)))}return w}var S=h(0),O=h(1),L=h(16777216);n=u.prototype,n.m=function(){if(V(this))return-z(this).m();for(var P=0,x=1,I=0;I<this.g.length;I++){var w=this.i(I);P+=(0<=w?w:4294967296+w)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(H(this))return"0";if(V(this))return"-"+z(this).toString(P);for(var x=m(Math.pow(P,6)),I=this,w="";;){var N=re(I,x).g;I=W(I,N.j(x));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=N,H(I))return D+w;for(;6>D.length;)D="0"+D;w=D+w}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function H(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function V(P){return P.h==-1}n.l=function(P){return P=W(this,P),V(P)?-1:H(P)?0:1};function z(P){for(var x=P.g.length,I=[],w=0;w<x;w++)I[w]=~P.g[w];return new u(I,~P.h).add(O)}n.abs=function(){return V(this)?z(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],w=0,N=0;N<=x;N++){var D=w+(this.i(N)&65535)+(P.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);w=k>>>16,D&=65535,k&=65535,I[N]=k<<16|D}return new u(I,I[I.length-1]&-2147483648?-1:0)};function W(P,x){return P.add(z(x))}n.j=function(P){if(H(this)||H(P))return S;if(V(this))return V(P)?z(this).j(z(P)):z(z(this).j(P));if(V(P))return z(this.j(z(P)));if(0>this.l(L)&&0>P.l(L))return m(this.m()*P.m());for(var x=this.g.length+P.g.length,I=[],w=0;w<2*x;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var N=0;N<P.g.length;N++){var D=this.i(w)>>>16,k=this.i(w)&65535,Q=P.i(N)>>>16,pe=P.i(N)&65535;I[2*w+2*N]+=k*pe,J(I,2*w+2*N),I[2*w+2*N+1]+=D*pe,J(I,2*w+2*N+1),I[2*w+2*N+1]+=k*Q,J(I,2*w+2*N+1),I[2*w+2*N+2]+=D*Q,J(I,2*w+2*N+2)}for(w=0;w<x;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=x;w<2*x;w++)I[w]=0;return new u(I,0)};function J(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function X(P,x){this.g=P,this.h=x}function re(P,x){if(H(x))throw Error("division by zero");if(H(P))return new X(S,S);if(V(P))return x=re(z(P),x),new X(z(x.g),z(x.h));if(V(x))return x=re(P,z(x)),new X(z(x.g),x.h);if(30<P.g.length){if(V(P)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var I=O,w=x;0>=w.l(P);)I=j(I),w=j(w);var N=$(I,1),D=$(w,1);for(w=$(w,2),I=$(I,2);!H(w);){var k=D.add(w);0>=k.l(P)&&(N=N.add(I),D=k),w=$(w,1),I=$(I,1)}return x=W(P,N.j(x)),new X(N,x)}for(N=S;0<=P.l(x);){for(I=Math.max(1,Math.floor(P.m()/x.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),D=m(I),k=D.j(x);V(k)||0<k.l(P);)I-=w,D=m(I),k=D.j(x);H(D)&&(D=O),N=N.add(D),P=W(P,k)}return new X(N,P)}n.A=function(P){return re(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],w=0;w<x;w++)I[w]=this.i(w)&P.i(w);return new u(I,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],w=0;w<x;w++)I[w]=this.i(w)|P.i(w);return new u(I,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],w=0;w<x;w++)I[w]=this.i(w)^P.i(w);return new u(I,this.h^P.h)};function j(P){for(var x=P.g.length+1,I=[],w=0;w<x;w++)I[w]=P.i(w)<<1|P.i(w-1)>>>31;return new u(I,P.h)}function $(P,x){var I=x>>5;x%=32;for(var w=P.g.length-I,N=[],D=0;D<w;D++)N[D]=0<x?P.i(D+I)>>>x|P.i(D+I+1)<<32-x:P.i(D+I);return new u(N,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,bw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Xi=u}).apply(typeof s_<"u"?s_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kw,yl,Cw,bc,vp,xw,Pw,Rw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var K=c[A];if(!(K in _))break e;_=_[K]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,A=!1,K={next:function(){if(!A&&_<c.length){var ne=_++;return{value:g(ne,c[ne]),done:!1}}return A=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,A),c.apply(g,K)}}return function(){return c.apply(g,arguments)}}function O(c,g,_){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,O.apply(null,arguments)}function L(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function H(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,K,ne){for(var ye=Array(arguments.length-2),et=2;et<arguments.length;et++)ye[et-2]=arguments[et];return g.prototype[K].apply(A,ye)}}function V(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function z(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(h(A)){const K=c.length||0,ne=A.length||0;c.length=K+ne;for(let ye=0;ye<ne;ye++)c[K+ye]=A[ye]}else c.push(A)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var j=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function $(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function P(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function x(c){const g={};for(const _ in c)g[_]=c[_];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,g){let _,A;for(let K=1;K<arguments.length;K++){A=arguments[K];for(_ in A)c[_]=A[_];for(let ne=0;ne<I.length;ne++)_=I[ne],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function N(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function D(c){f.setTimeout(()=>{throw c},0)}function k(){var c=U;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Q{constructor(){this.h=this.g=null}add(g,_){const A=pe.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var pe=new W(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let T,se=!1,U=new Q,E=()=>{const c=f.Promise.resolve(void 0);T=()=>{c.then(b)}};var b=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){D(_)}var g=pe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function ae(c,g){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(j){e:{try{re(g.nodeName);var K=!0;break e}catch{}K=!1}K||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}H(ae,te);var le={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Te=0;function be(c,g,_,A,K){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=K,this.key=++Te,this.da=this.fa=!1}function Pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c){this.src=c,this.g={},this.h=0}ze.prototype.add=function(c,g,_,A,K){var ne=c.toString();c=this.g[ne],c||(c=this.g[ne]=[],this.h++);var ye=Ue(c,g,A,K);return-1<ye?(g=c[ye],_||(g.fa=!1)):(g=new be(g,this.src,ne,!!A,K),g.fa=_,c.push(g)),g};function qe(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],K=Array.prototype.indexOf.call(A,g,void 0),ne;(ne=0<=K)&&Array.prototype.splice.call(A,K,1),ne&&(Pe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ue(c,g,_,A){for(var K=0;K<c.length;++K){var ne=c[K];if(!ne.da&&ne.listener==g&&ne.capture==!!_&&ne.ha==A)return K}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Be={};function ct(c,g,_,A,K){if(Array.isArray(g)){for(var ne=0;ne<g.length;ne++)ct(c,g[ne],_,A,K);return null}return _=tr(_),c&&c[ce]?c.K(g,_,m(A)?!!A.capture:!1,K):Fe(c,g,_,!1,A,K)}function Fe(c,g,_,A,K,ne){if(!g)throw Error("Invalid event type");var ye=m(K)?!!K.capture:!!K,et=er(c);if(et||(c[Ve]=et=new ze(c)),_=et.add(g,_,A,ye,ne),_.proxy)return _;if(A=dt(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ie||(K=ye),K===void 0&&(K=!1),c.addEventListener(g.toString(),A,K);else if(c.attachEvent)c.attachEvent(yt(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function dt(){function c(_){return g.call(c.src,c.listener,_)}const g=Cn;return c}function ft(c,g,_,A,K){if(Array.isArray(g))for(var ne=0;ne<g.length;ne++)ft(c,g[ne],_,A,K);else A=m(A)?!!A.capture:!!A,_=tr(_),c&&c[ce]?(c=c.i,g=String(g).toString(),g in c.g&&(ne=c.g[g],_=Ue(ne,_,A,K),-1<_&&(Pe(ne[_]),Array.prototype.splice.call(ne,_,1),ne.length==0&&(delete c.g[g],c.h--)))):c&&(c=er(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ue(g,_,A,K)),(_=-1<c?g[c]:null)&&it(_))}function it(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ce])qe(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(yt(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=er(g))?(qe(_,c),_.h==0&&(_.src=null,g[Ve]=null)):Pe(c)}}}function yt(c){return c in Be?Be[c]:Be[c]="on"+c}function Cn(c,g){if(c.da)c=!0;else{g=new ae(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&it(c),c=_.call(A,g)}return c}function er(c){return c=c[Ve],c instanceof ze?c:null}var Hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(c){return typeof c=="function"?c:(c[Hr]||(c[Hr]=function(g){return c.handleEvent(g)}),c[Hr])}function Tt(){F.call(this),this.i=new ze(this),this.M=this,this.F=null}H(Tt,F),Tt.prototype[ce]=!0,Tt.prototype.removeEventListener=function(c,g,_,A){ft(this,c,g,_,A)};function tt(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new te(g,c);else if(g instanceof te)g.target=g.target||c;else{var K=g;g=new te(A,c),w(g,K)}if(K=!0,_)for(var ne=_.length-1;0<=ne;ne--){var ye=g.g=_[ne];K=sn(ye,A,!0,g)&&K}if(ye=g.g=c,K=sn(ye,A,!0,g)&&K,K=sn(ye,A,!1,g)&&K,_)for(ne=0;ne<_.length;ne++)ye=g.g=_[ne],K=sn(ye,A,!1,g)&&K}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Pe(_[A]);delete c.g[g],c.h--}}this.F=null},Tt.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},Tt.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function sn(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var K=!0,ne=0;ne<g.length;++ne){var ye=g[ne];if(ye&&!ye.da&&ye.capture==_){var et=ye.listener,Nt=ye.ha||ye.src;ye.fa&&qe(c.i,ye),K=et.call(Nt,A)!==!1&&K}}return K&&!A.defaultPrevented}function Ea(c,g,_){if(typeof c=="function")_&&(c=O(c,_));else if(c&&typeof c.handleEvent=="function")c=O(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function gi(c){c.g=Ea(()=>{c.g=null,c.i&&(c.i=!1,gi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class hs extends F{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){F.call(this),this.h=c,this.g={}}H(ps,F);var Ta=[];function Sa(c){$(c.g,function(g,_){this.g.hasOwnProperty(_)&&it(g)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Sa(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=f.JSON.stringify,ba=f.JSON.parse,ka=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ms(){}ms.prototype.h=null;function so(c){return c.h||(c.h=c.i())}function oo(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){te.call(this,"d")}H(Er,te);function ao(){te.call(this,"c")}H(ao,te);var Tr={},Ca=null;function gs(){return Ca=Ca||new Tt}Tr.La="serverreachability";function xa(c){te.call(this,Tr.La,c)}H(xa,te);function Wr(c){const g=gs();tt(g,new xa(g))}Tr.STAT_EVENT="statevent";function Pa(c,g){te.call(this,Tr.STAT_EVENT,c),this.stat=g}H(Pa,te);function St(c){const g=gs();tt(g,new Pa(g,c))}Tr.Ma="timingevent";function lo(c,g){te.call(this,Tr.Ma,c),this.size=g}H(lo,te);function nr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function vs(c,g,_,A,K,ne){c.info(function(){if(c.g)if(ne)for(var ye="",et=ne.split("&"),Nt=0;Nt<et.length;Nt++){var Qe=et[Nt].split("=");if(1<Qe.length){var Mt=Qe[0];Qe=Qe[1];var kt=Mt.split("_");ye=2<=kt.length&&kt[1]=="type"?ye+(Mt+"="+Qe+"&"):ye+(Mt+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+g+`
`+_+`
`+ye})}function uo(c,g,_,A,K,ne,ye){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+g+`
`+_+`
`+ne+" "+ye})}function rr(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+nf(c,_)+(A?" "+A:"")})}function Ra(c,g){c.info(function(){return"TIMEOUT: "+g})}ys.prototype.info=function(){};function nf(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var K=A[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<K.length;ye++)K[ye]=""}}}}return Ia(_)}catch{return g}}var co={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function _s(){}H(_s,ms),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},ir=new _s;function sr(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nu}function nu(){this.i=null,this.g="",this.h=!1}var Aa={},fo={};function ho(c,g,_){c.L=1,c.v=Ei(Pn(g)),c.m=_,c.P=!0,Na(c,null)}function Na(c,g){c.F=Date.now(),ot(c),c.A=Pn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Si(_.i,"t",A),c.C=0,_=c.j.J,c.h=new nu,c.g=wu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new hs(O(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(Ta[0]=K.toString()),K=Ta);for(var ne=0;ne<K.length;ne++){var ye=ct(_,K[ne],A||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Wr(),vs(c.i,c.u,c.A,c.l,c.R,c.m)}sr.prototype.ca=function(c){c=c.target;const g=this.M;g&&mn(c)==3?g.j():this.Y(c)},sr.prototype.Y=function(c){try{if(c==this.g)e:{const kt=mn(this.g);var g=this.g.Ba();const qn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||ja(this.g)))){this.J||kt!=4||g==7||(g==8||0>=qn?Wr(3):Wr(2)),ws(this);var _=this.g.Z();this.X=_;t:if(ru(this)){var A=ja(this.g);c="";var K=A.length,ne=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),yi(this);var ye="";break t}this.h.i=new f.TextDecoder}for(g=0;g<K;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(ne&&g==K-1)});A.length=0,this.h.g+=c,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=_==200,uo(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Nt=this.g;if((et=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(et)){var Qe=et;break t}}Qe=null}if(_=Qe)rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,_);else{this.o=!1,this.s=3,St(12),$n(this),yi(this);break e}}if(this.P){_=!0;let An;for(;!this.J&&this.C<ye.length;)if(An=rf(this,ye),An==fo){kt==4&&(this.s=4,St(14),_=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Aa){this.s=4,St(15),rr(this.i,this.l,ye,"[Invalid Chunk]"),_=!1;break}else rr(this.i,this.l,An,null),Oa(this,An);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ye.length!=0||this.h.h||(this.s=1,St(16),_=!1),this.o=this.o&&_,!_)rr(this.i,this.l,ye,"[Invalid Chunked Response]"),$n(this),yi(this);else if(0<ye.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ua(Mt),Mt.M=!0,St(11))}}else rr(this.i,this.l,ye,null),Oa(this,ye);kt==4&&$n(this),this.o&&!this.J&&(kt==4?Io(this.j,this):(this.o=!1,ot(this)))}else _o(this.g),_==400&&0<ye.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),$n(this),yi(this)}}}catch{}finally{}};function ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rf(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?fo:(_=Number(g.substring(_,A)),isNaN(_)?Aa:(A+=1,A+_>g.length?fo:(g=g.slice(A,A+_),c.C=A+_,g)))}sr.prototype.cancel=function(){this.J=!0,$n(this)};function ot(c){c.S=Date.now()+c.I,iu(c,c.I)}function iu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=nr(O(c.ba,c),g)}function ws(c){c.B&&(f.clearTimeout(c.B),c.B=null)}sr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ra(this.i,this.A),this.L!=2&&(Wr(),St(17)),$n(this),this.s=2,yi(this)):iu(this,this.S-c)};function yi(c){c.j.G==0||c.J||Io(c.j,c)}function $n(c){ws(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Sa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Oa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||on(_.h,c))){if(!c.K&&on(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var K=A;if(K[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)So(_),cr(_);else break e;To(_),St(18)}}else _.za=K[1],0<_.za-_.T&&37500>K[2]&&_.F&&_.v==0&&!_.C&&(_.C=nr(O(_.Za,_),6e3));if(1>=ou(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xr(_,11)}else if((c.K||_.g==c)&&So(_),!J(g))for(K=_.Da.g.parse(g),g=0;g<K.length;g++){let Qe=K[g];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const Mt=Qe[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const kt=Qe[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const qn=Qe[5];qn!=null&&typeof qn=="number"&&0<qn&&(A=1.5*qn,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const An=c.g;if(An){const Cs=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var ne=A.h;ne.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Da(ne,ne.h),ne.h=null))}if(A.D){const ko=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(A.ya=ko,st(A.I,A.D,ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ye=c;if(A.qa=_u(A,A.J?A.ia:null,A.W),ye.K){au(A.h,ye);var et=ye,Nt=A.L;Nt&&(et.I=Nt),et.B&&(ws(et),ot(et)),A.g=ye}else ks(A);0<_.i.length&&kr(_)}else Qe[0]!="stop"&&Qe[0]!="close"||Xr(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Xr(_,7):Bt(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}Wr(4)}catch{}}var su=class{constructor(c,g){this.g=c,this.map=g}};function Es(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ou(c){return c.h?1:c.g?c.g.size:0}function on(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Da(c,g){c.g?c.g.add(g):c.h=g}function au(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Es.prototype.cancel=function(){if(this.i=lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function lu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return V(c.i)}function po(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function mo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function vi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=mo(c),A=po(c),K=A.length,ne=0;ne<K;ne++)g.call(void 0,A[ne],_&&_[ne],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),K=null;if(0<=A){var ne=c[_].substring(0,A);K=c[_].substring(A+1)}else ne=c[_];g(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Kr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Kr){this.h=c.h,Ss(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.s),this.l=c.l;var g=c.i,_=new Sr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),wi(this,_),this.m=c.m}else c&&(g=String(c).match(Ts))?(this.h=!1,Ss(this,g[1]||"",!0),this.o=Ke(g[2]||""),this.g=Ke(g[3]||"",!0),_i(this,g[4]),this.l=Ke(g[5]||"",!0),wi(this,g[6]||"",!0),this.m=Ke(g[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}Kr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ti(g,go,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ti(g,go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ti(_,_.charAt(0)=="/"?du:cu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ti(_,La)),c.join("")};function Pn(c){return new Kr(c)}function Ss(c,g,_){c.j=_?Ke(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function wi(c,g,_){g instanceof Sr?(c.i=g,Ir(c.i,c.h)):(_||(g=Ti(g,fu)),c.i=new Sr(g,c.h))}function st(c,g,_){c.i.set(g,_)}function Ei(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ke(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ti(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,uu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var go=/[#\/\?@]/g,cu=/[#\?:]/g,du=/[#\?]/g,fu=/[#\?@]/g,La=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function $t(c){c.g||(c.g=new Map,c.h=0,c.i&&sf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Sr.prototype,n.add=function(c,g){$t(this),this.i=null,c=Bn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function or(c,g){$t(c),g=Bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ar(c,g){return $t(c),g=Bn(c,g),c.g.has(g)}n.forEach=function(c,g){$t(this),this.g.forEach(function(_,A){_.forEach(function(K){c.call(g,K,A,this)},this)},this)},n.na=function(){$t(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const K=c[A];for(let ne=0;ne<K.length;ne++)_.push(g[A])}return _},n.V=function(c){$t(this);let g=[];if(typeof c=="string")ar(this,c)&&(g=g.concat(this.g.get(Bn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return $t(this),this.i=null,c=Bn(this,c),ar(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Si(c,g,_){or(c,g),0<_.length&&(c.i=null,c.g.set(Bn(c,g),V(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const ne=encodeURIComponent(String(A)),ye=this.V(A);for(A=0;A<ye.length;A++){var K=ne;ye[A]!==""&&(K+="="+encodeURIComponent(String(ye[A]))),c.push(K)}}return this.i=c.join("&")};function Bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ir(c,g){g&&!c.j&&($t(c),c.i=null,c.g.forEach(function(_,A){var K=A.toLowerCase();A!=K&&(or(this,A),Si(this,K,_))},c)),c.j=g}function of(c,g){const _=new ys;if(f.Image){const A=new Image;A.onload=L(pn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=L(pn,_,"TestLoadImage: error",!1,g,A),A.onabort=L(pn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=L(pn,_,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function hu(c,g){const _=new ys,A=new AbortController,K=setTimeout(()=>{A.abort(),pn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(ne=>{clearTimeout(K),ne.ok?pn(_,"TestPingServer: ok",!0,g):pn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(K),pn(_,"TestPingServer: error",!1,g)})}function pn(c,g,_,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(_)}catch{}}function af(){this.g=new ka}function pu(c,g,_){const A=_||"";try{vi(c,function(K,ne){let ye=K;m(K)&&(ye=Ia(K)),g.push(A+ne+"="+encodeURIComponent(ye))})}catch(K){throw g.push(A+"type="+encodeURIComponent("_badmap")),K}}function Gr(c){this.l=c.Ub||null,this.j=c.eb||!1}H(Gr,ms),Gr.prototype.g=function(){return new Is(this.l,this.j)},Gr.prototype.i=function(c){return function(){return c}}({});function Is(c,g){Tt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Is,Tt),n=Is.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ur(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?lr(this):ur(this),this.readyState==3&&mu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},n.Qa=function(c){this.g&&(this.response=c,lr(this))},n.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qr(c){let g="";return $(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ii(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Qr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):st(c,g,_))}function mt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(mt,Tt);var lf=/^https?$/i,Ma=["POST","PUT"];n=mt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?so(this.o):so(ir),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(ne){bs(this,ne);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)_.set(K,A[K]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ne of A.keys())_.set(ne,A.get(ne));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ma,g,void 0))||A||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of _)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(c),this.u=!1}catch(ne){bs(this,ne)}};function bs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,yo(c),Rn(c)}function yo(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),Rn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},n.bb=function(){Va(this)};function Va(c){if(c.h&&typeof u<"u"&&(!c.v[1]||mn(c)!=4||c.Z()!=2)){if(c.u&&mn(c)==4)Ea(c.Ea,0,c);else if(tt(c,"readystatechange"),mn(c)==4){c.h=!1;try{const ye=c.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=ye===0){var K=String(c.D).match(Ts)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),A=!lf.test(K?K.toLowerCase():"")}_=A}if(_)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var ne=2<mn(c)?c.g.statusText:""}catch{ne=""}c.l=ne+" ["+c.Z()+"]",yo(c)}}finally{Rn(c)}}}}function Rn(c,g){if(c.g){vo(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||tt(c,"ready");try{_.onreadystatechange=A}catch{}}}function vo(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function mn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ba(g)}};function ja(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _o(c){const g={};c=(c.g&&2<=mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var _=N(c[A]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ne=g[K]||[];g[K]=ne,ne.push(_)}P(g,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Fa(c){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,c),this.cb=br("retryDelaySeedMs",1e4,c),this.Wa=br("forwardChannelMaxRetries",2,c),this.wa=br("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Es(c&&c.concurrentRequestLimit),this.Da=new af,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,A){St(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=_u(this,null,this.W),kr(this)};function Bt(c){if(wo(c),c.G==3){var g=c.U++,_=Pn(c.I);if(st(_,"SID",c.K),st(_,"RID",g),st(_,"TYPE","terminate"),Yr(c,_),g=new sr(c,c.j,g),g.L=2,g.v=Ei(Pn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=wu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}vu(c)}function cr(c){c.g&&(Ua(c),c.g.cancel(),c.g=null)}function wo(c){cr(c),c.u&&(f.clearTimeout(c.u),c.u=null),So(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function kr(c){if(!xn(c.h)&&!c.s){c.s=!0;var g=c.Ga;T||E(),se||(T(),se=!0),U.add(g,c),c.B=0}}function uf(c,g){return ou(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=nr(O(c.Ga,c,g),yu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new sr(this,this.j,c);let ne=this.o;if(this.S&&(ne?(ne=x(ne),w(ne,this.S)):ne=this.S),this.m!==null||this.O||(K.H=ne,ne=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=bi(this,K,g),_=Pn(this.I),st(_,"RID",c),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),Yr(this,_),ne&&(this.O?g="headers="+encodeURIComponent(String(Qr(ne)))+"&"+g:this.m&&Ii(_,this.m,ne)),Da(this.h,K),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",g),st(_,"SID","null"),K.T=!0,ho(K,_,null)):ho(K,_,g),this.G=2}}else this.G==3&&(c?Eo(this,c):this.i.length==0||xn(this.h)||Eo(this))};function Eo(c,g){var _;g?_=g.l:_=c.U++;const A=Pn(c.I);st(A,"SID",c.K),st(A,"RID",_),st(A,"AID",c.T),Yr(c,A),c.m&&c.o&&Ii(A,c.m,c.o),_=new sr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=bi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Da(c.h,_),ho(_,A,g)}function Yr(c,g){c.H&&$(c.H,function(_,A){st(g,A,_)}),c.l&&vi({},function(_,A){st(g,A,_)})}function bi(c,g,_){_=Math.min(c.i.length,_);var A=c.l?O(c.l.Na,c.l,c):null;e:{var K=c.i;let ne=-1;for(;;){const ye=["count="+_];ne==-1?0<_?(ne=K[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let et=!0;for(let Nt=0;Nt<_;Nt++){let Qe=K[Nt].g;const Mt=K[Nt].map;if(Qe-=ne,0>Qe)ne=Math.max(0,K[Nt].g-100),et=!1;else try{pu(Mt,ye,"req"+Qe+"_")}catch{A&&A(Mt)}}if(et){A=ye.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function ks(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;T||E(),se||(T(),se=!0),U.add(g,c),c.v=0}}function To(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=nr(O(c.Fa,c),yu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=nr(O(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),cr(this),gu(this))};function Ua(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function gu(c){c.g=new sr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Pn(c.qa);st(g,"RID","rpc"),st(g,"SID",c.K),st(g,"AID",c.T),st(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(g,"TO",c.ja),st(g,"TYPE","xmlhttp"),Yr(c,g),c.m&&c.o&&Ii(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ei(Pn(g)),_.m=null,_.P=!0,Na(_,c)}n.Za=function(){this.C!=null&&(this.C=null,cr(this),To(this),St(19))};function So(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Io(c,g){var _=null;if(c.g==g){So(c),Ua(c),c.g=null;var A=2}else if(on(c.h,g))_=g.D,au(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var K=c.B;A=gs(),tt(A,new lo(A,_)),kr(c)}else ks(c);else if(K=g.s,K==3||K==0&&0<g.X||!(A==1&&uf(c,g)||A==2&&To(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),K){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function yu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Xr(c,g){if(c.j.info("Error code "+g),g==2){var _=O(c.fb,c),A=c.Xa;const K=!A;A=new Kr(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ss(A,"https"),Ei(A),K?of(A.toString(),_):hu(A.toString(),_)}else St(2);c.G=0,c.l&&c.l.sa(g),vu(c),wo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function vu(c){if(c.G=0,c.ka=[],c.l){const g=lu(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ka,g),z(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function _u(c,g,_){var A=_ instanceof Kr?Pn(_):new Kr(_);if(A.g!="")g&&(A.g=g+"."+A.g),_i(A,A.s);else{var K=f.location;A=K.protocol,g=g?g+"."+K.hostname:K.hostname,K=+K.port;var ne=new Kr(null);A&&Ss(ne,A),g&&(ne.g=g),K&&_i(ne,K),_&&(ne.l=_),A=ne}return _=c.D,g=c.ya,_&&g&&st(A,_,g),st(A,"VER",c.la),Yr(c,A),A}function wu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new mt(new Gr({eb:_})):new mt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function za(){}n=za.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bo(){}bo.prototype.g=function(c,g){return new an(c,g)};function an(c,g){Tt.call(this),this.g=new Fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!J(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Cr(this)}H(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Bt(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ia(c),c=_);g.i.push(new su(g.Ya++,c)),g.G==3&&kr(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,an.aa.N.call(this)};function Eu(c){Er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}H(Eu,Er);function Tu(){ao.call(this),this.status=1}H(Tu,ao);function Cr(c){this.g=c}H(Cr,za),Cr.prototype.ua=function(){tt(this.g,"a")},Cr.prototype.ta=function(c){tt(this.g,new Eu(c))},Cr.prototype.sa=function(c){tt(this.g,new Tu)},Cr.prototype.ra=function(){tt(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Rw=function(){return new bo},Pw=function(){return gs()},xw=Tr,vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,bc=co,tu.COMPLETE="complete",Cw=tu,oo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,yl=oo,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,kw=mt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",a_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new bd("@firebase/firestore");function Ko(){return Hs.logLevel}function Ee(n,...e){if(Hs.logLevel<=He.DEBUG){const t=e.map(nm);Hs.debug(`Firestore (${ma}): ${n}`,...t)}}function di(n,...e){if(Hs.logLevel<=He.ERROR){const t=e.map(nm);Hs.error(`Firestore (${ma}): ${n}`,...t)}}function ia(n,...e){if(Hs.logLevel<=He.WARN){const t=e.map(nm);Hs.warn(`Firestore (${ma}): ${n}`,...t)}}function nm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n="Unexpected state"){const e=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: `+n;throw di(e),new Error(e)}function Ze(n,e){n||Oe()}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class sx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ox{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ji,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ji)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new Aw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new en(e)}}class ax{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ax(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ux{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new l_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new l_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=cx(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function sa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-62135596800,c_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*c_);return new At(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<u_)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-u_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new At(0,0))}static max(){return new Le(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class Nr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Oe(),i===void 0?i=e.length-t:i>e.length-t&&Oe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Nr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Nr.isNumericId(e),o=Nr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class lt extends Nr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Nr{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new Kt([d_])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(lt.fromString(e))}static fromName(e){return new xe(lt.fromString(e).popFirst(5))}static empty(){return new xe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function fx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new ts(o,xe.empty(),e)}function hx(n){return new ts(n.readTime,n.key,Pl)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(Le.min(),xe.empty(),Pl)}static max(){return new ts(Le.max(),xe.empty(),Pl)}}function px(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==mx)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>i(h))}),u=!0,a===o&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(o=>o?ue.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new ue((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function yx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ya(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function Cd(n){return n==null}function Qc(n){return n===0&&1/n==-1/0}function vx(n){return typeof n=="number"&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="";function _x(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=f_(e)),e=wx(n.get(t),e);return f_(e)}function wx(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Ow:t+="";break;default:t+=a}}return t}function f_(n){return n+Ow+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Dw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Wt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Lt(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Lw("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const Ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=Ex.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="server_timestamp",Vw="__type__",jw="__previous_value__",Fw="__local_write_time__";function xd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vw])===null||t===void 0?void 0:t.stringValue)===Mw}function Pd(n){const e=n.mapValue.fields[jw];return xd(e)?Pd(e):e}function Rl(n){const e=ns(n.mapValue.fields[Fw].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t,i,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const Yc="(default)";class Al{constructor(e,t){this.projectId=e,this.database=t||Yc}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__type__",Sx="__max__",_c={mapValue:{}},zw="__vector__",Xc="value";function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xd(n)?4:bx(n)?9007199254740991:Ix(n)?10:11:Oe()}function jr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rl(n).isEqual(Rl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ns(o.timestampValue),f=ns(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return bt(o.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return bt(o.integerValue)===bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=bt(o.doubleValue),f=bt(a.doubleValue);return u===f?Qc(u)===Qc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return sa(n.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(h_(u)!==h_(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!jr(u[h],f[h])))return!1;return!0}(n,e);default:return Oe()}}function Nl(n,e){return(n.values||[]).find(t=>jr(t,e))!==void 0}function oa(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=bt(a.integerValue||a.doubleValue),h=bt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return m_(n.timestampValue,e.timestampValue);case 4:return m_(Rl(n),Rl(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(a,u){const f=rs(a),h=rs(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=Ge(f[m],h[m]);if(v!==0)return v}return Ge(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ge(bt(a.latitude),bt(u.latitude));return f!==0?f:Ge(bt(a.longitude),bt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return g_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const S=a.fields||{},O=u.fields||{},L=(f=S[Xc])===null||f===void 0?void 0:f.arrayValue,H=(h=O[Xc])===null||h===void 0?void 0:h.arrayValue,V=Ge(((m=L==null?void 0:L.values)===null||m===void 0?void 0:m.length)||0,((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:g_(L,H)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===_c.mapValue&&u===_c.mapValue)return 0;if(a===_c.mapValue)return 1;if(u===_c.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let S=0;S<h.length&&S<v.length;++S){const O=Ge(h[S],v[S]);if(O!==0)return O;const L=oa(f[h[S]],m[v[S]]);if(L!==0)return L}return Ge(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Oe()}}function m_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=ns(n),i=ns(e),o=Ge(t.seconds,i.seconds);return o!==0?o:Ge(t.nanos,i.nanos)}function g_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=oa(t[o],i[o]);if(a)return a}return Ge(t.length,i.length)}function aa(n){return _p(n)}function _p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=_p(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${_p(t.fields[u])}`;return o+"}"}(n.mapValue):Oe()}function kc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(n);return e?16+kc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+kc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ls(i.fields,(a,u)=>{o+=a.length+kc(u)}),o}(n.mapValue);default:throw Oe()}}function Jc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wp(n){return!!n&&"integerValue"in n}function im(n){return!!n&&"arrayValue"in n}function y_(n){return!!n&&"nullValue"in n}function v_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cc(n){return!!n&&"mapValue"in n}function Ix(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Uw])===null||t===void 0?void 0:t.stringValue)===zw}function El(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ls(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=El(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=El(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(t)}setAll(e){let t=Kt.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=El(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ls(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new In(El(this.value))}}function $w(n){const e=[];return ls(n.fields,(t,i)=>{const o=new Kt([t]);if(Cc(i)){const a=$w(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,o,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new tn(e,0,Le.min(),Le.min(),Le.min(),In.empty(),0)}static newFoundDocument(e,t,i,o){return new tn(e,1,t,Le.min(),i,o,0)}static newNoDocument(e,t){return new tn(e,2,t,Le.min(),Le.min(),In.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Le.min(),Le.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.position=e,this.inclusive=t}}function __(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),t.key):i=oa(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function w_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function kx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{}class Pt extends Bw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xx(e,t,i):t==="array-contains"?new Ax(e,i):t==="in"?new Nx(e,i):t==="not-in"?new Ox(e,i):t==="array-contains-any"?new Dx(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Px(e,i):new Rx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(oa(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Bw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new _r(e,t)}matches(e){return qw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qw(n){return n.op==="and"}function Hw(n){return Cx(n)&&qw(n)}function Cx(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Ep(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+aa(n.value);if(Hw(n))return n.filters.map(e=>Ep(e)).join(",");{const e=n.filters.map(t=>Ep(t)).join(",");return`${n.op}(${e})`}}function Ww(n,e){return n instanceof Pt?function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&jr(i.value,o.value)}(n,e):n instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,f)=>a&&Ww(u,o.filters[f]),!0):!1}(n,e):void Oe()}function Kw(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${aa(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(Kw).join(" ,")+"}"}(n):"Filter"}class xx extends Pt{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Px extends Pt{constructor(e,t){super(e,"in",t),this.keys=Gw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rx extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=Gw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Gw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class Ax extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return im(t)&&Nl(t.arrayValue,this.value)}}class Nx extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nl(this.value.arrayValue,t)}}class Ox extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Nl(this.value.arrayValue,t)}}class Dx extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!im(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Nl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function E_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new Lx(n,e,t,i,o,a,u)}function sm(n){const e=je(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ep(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>aa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>aa(i)).join(",")),e.le=t}return e.le}function om(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ww(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!w_(n.startAt,e.startAt)&&w_(n.endAt,e.endAt)}function Tp(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t=null,i=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Mx(n,e,t,i,o,a,u,f){return new us(n,e,t,i,o,a,u,f)}function Rd(n){return new us(n)}function T_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function am(n){return n.collectionGroup!==null}function Jo(n){const e=je(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Lt(Kt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ol(a,i))}),t.has(Kt.keyField().canonicalString())||e.he.push(new Ol(Kt.keyField(),i))}return e.he}function Or(n){const e=je(n);return e.Pe||(e.Pe=Vx(e,Jo(n))),e.Pe}function Vx(n,e){if(n.limitType==="F")return E_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ol(o.field,a)});const t=n.endAt?new la(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new la(n.startAt.position,n.startAt.inclusive):null;return E_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Sp(n,e){const t=n.filters.concat([e]);return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zc(n,e,t){return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ad(n,e){return om(Or(n),Or(e))&&n.limitType===e.limitType}function Qw(n){return`${sm(Or(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Kw(o)).join(", ")}]`),Cd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>aa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>aa(o)).join(",")),`Target(${i})`}(Or(n))}; limitType=${n.limitType})`}function Nd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):xe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Jo(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,f,h){const m=__(u,f,h);return u.inclusive?m<=0:m<0}(i.startAt,Jo(i),o)||i.endAt&&!function(u,f,h){const m=__(u,f,h);return u.inclusive?m>=0:m>0}(i.endAt,Jo(i),o))}(n,e)}function jx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Yw(n){return(e,t)=>{let i=!1;for(const o of Jo(n)){const a=Fx(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function Fx(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?oa(h,m):Oe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new wt(xe.comparator);function fi(){return Ux}const Xw=new wt(xe.comparator);function vl(...n){let e=Xw;for(const t of n)e=e.insert(t.key,t);return e}function Jw(n){let e=Xw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function $s(){return Tl()}function Zw(){return Tl()}function Tl(){return new no(n=>n.toString(),(n,e)=>n.isEqual(e))}const zx=new wt(xe.comparator),$x=new Lt(xe.comparator);function We(...n){let e=$x;for(const t of n)e=e.add(t);return e}const Bx=new Lt(Ge);function qx(){return Bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function eE(n){return{integerValue:""+n}}function Hx(n,e){return vx(e)?eE(e):lm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function Wx(n,e,t){return n instanceof ed?function(o,a){const u={fields:{[Vw]:{stringValue:Mw},[Fw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&xd(a)&&(a=Pd(a)),a&&(u.fields[jw]=a),{mapValue:u}}(t,e):n instanceof Dl?nE(n,e):n instanceof Ll?rE(n,e):function(o,a){const u=tE(o,a),f=S_(u)+S_(o.Ie);return wp(u)&&wp(o.Ie)?eE(f):lm(o.serializer,f)}(n,e)}function Kx(n,e,t){return n instanceof Dl?nE(n,e):n instanceof Ll?rE(n,e):t}function tE(n,e){return n instanceof td?function(i){return wp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class ed extends Od{}class Dl extends Od{constructor(e){super(),this.elements=e}}function nE(n,e){const t=iE(e);for(const i of n.elements)t.some(o=>jr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ll extends Od{constructor(e){super(),this.elements=e}}function rE(n,e){let t=iE(e);for(const i of n.elements)t=t.filter(o=>!jr(o,i));return{arrayValue:{values:t}}}class td extends Od{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function S_(n){return bt(n.integerValue||n.doubleValue)}function iE(n){return im(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Gx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Dl&&o instanceof Dl||i instanceof Ll&&o instanceof Ll?sa(i.elements,o.elements,jr):i instanceof td&&o instanceof td?jr(i.Ie,o.Ie):i instanceof ed&&o instanceof ed}(n.transform,e.transform)}class Qx{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dd{}function sE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new um(n.key,vr.none()):new Bl(n.key,n.data,vr.none());{const t=n.data,i=In.empty();let o=new Lt(Kt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new cs(n.key,i,new Mn(o.toArray()),vr.none())}}function Yx(n,e,t){n instanceof Bl?function(o,a,u){const f=o.value.clone(),h=b_(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(o,a,u){if(!xc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=b_(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(oE(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,i){return n instanceof Bl?function(a,u,f,h){if(!xc(a.precondition,u))return f;const m=a.value.clone(),v=k_(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof cs?function(a,u,f,h){if(!xc(a.precondition,u))return f;const m=k_(a.fieldTransforms,h,u),v=u.data;return v.setAll(oE(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(a,u,f){return xc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function Xx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=tE(i.transform,o||null);a!=null&&(t===null&&(t=In.empty()),t.set(i.field,a))}return t||null}function I_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&sa(i,o,(a,u)=>Gx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bl extends Dd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Dd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function b_(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,Kx(u,f,t[o]))}return i}function k_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,Wx(a,u,e))}return i}class um extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Yx(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Zw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=sE(u,f);h!==null&&i.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(Le.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,i)=>I_(t,i))&&sa(this.baseMutations,e.baseMutations,(t,i)=>I_(t,i))}}class cm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return zx}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new cm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ye;function nP(n){switch(n){case oe.OK:return Oe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Oe()}}function aE(n){if(n===void 0)return di("GRPC error has no .code"),oe.UNKNOWN;switch(n){case xt.OK:return oe.OK;case xt.CANCELLED:return oe.CANCELLED;case xt.UNKNOWN:return oe.UNKNOWN;case xt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case xt.INTERNAL:return oe.INTERNAL;case xt.UNAVAILABLE:return oe.UNAVAILABLE;case xt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case xt.NOT_FOUND:return oe.NOT_FOUND;case xt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case xt.ABORTED:return oe.ABORTED;case xt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case xt.DATA_LOSS:return oe.DATA_LOSS;default:return Oe()}}(Ye=xt||(xt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Xi([4294967295,4294967295],0);function C_(n){const e=rP().encode(n),t=new bw;return t.update(e),new Uint8Array(t.digest())}function x_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xi([t,i],0),new Xi([o,a],0)]}class dm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(i<0)throw new _l(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Xi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Xi.fromNumber(i)));return o.compare(iP)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=C_(e),[i,o]=x_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new dm(a,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=C_(e),[i,o]=x_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ld(Le.min(),o,new wt(Ge),fi(),We())}}class ql{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ql(i,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class lE{constructor(e,t){this.targetId=e,this.ge=t}}class uE{constructor(e,t,i=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class P_{constructor(){this.pe=0,this.ye=R_(),this.we=Gt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=We(),t=We(),i=We();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Oe()}}),new ql(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=R_()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class sP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fi(),this.$e=wc(),this.Ke=wc(),this.Ue=new wt(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(Tp(a))if(i===0){const u=new xe(a.path);this.ze(t,u,tn.newNoDocument(u,Le.min()))}else Ze(i===1);else{const u=this.et(t);if(u!==i){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=rs(i).toUint8Array()}catch(h){if(h instanceof Lw)return ia("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new dm(u,o,a)}catch(h){return ia(h instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&Tp(f.target)){const h=new xe(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,tn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let i=We();this.Ke.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Ld(e,t,this.Ue,this.Qe,i);return this.Qe=fi(),this.$e=wc(),this.Ke=wc(),this.Ue=new wt(Ge),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new P_,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Lt(Ge),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Lt(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new P_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function wc(){return new wt(xe.comparator)}function R_(){return new wt(xe.comparator)}const oP={asc:"ASCENDING",desc:"DESCENDING"},aP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lP={and:"AND",or:"OR"};class uP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ip(n,e){return n.useProto3Json||Cd(e)?e:{value:e}}function nd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cP(n,e){return nd(n,e.toTimestamp())}function Dr(n){return Ze(!!n),Le.fromTimestamp(function(t){const i=ns(t);return new At(i.seconds,i.nanos)}(n))}function fm(n,e){return bp(n,e).canonicalString()}function bp(n,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dE(n){const e=lt.fromString(n);return Ze(gE(e)),e}function kp(n,e){return fm(n.databaseId,e.path)}function Zh(n,e){const t=dE(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(hE(t))}function fE(n,e){return fm(n.databaseId,e)}function dP(n){const e=dE(n);return e.length===4?lt.emptyPath():hE(e)}function Cp(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hE(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function A_(n,e,t){return{name:kp(n,e),fields:t.value.mapValue.fields}}function fP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Ze(v===void 0||typeof v=="string"),Gt.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Gt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?oe.UNKNOWN:aE(m.code);return new ve(v,m.message||"")}(u);t=new uE(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Zh(n,i.document.name),a=Dr(i.document.updateTime),u=i.document.createTime?Dr(i.document.createTime):Le.min(),f=new In({mapValue:{fields:i.document.fields}}),h=tn.newFoundDocument(o,a,u,f),m=i.targetIds||[],v=i.removedTargetIds||[];t=new Pc(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Zh(n,i.document),a=i.readTime?Dr(i.readTime):Le.min(),u=tn.newNoDocument(o,a),f=i.removedTargetIds||[];t=new Pc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Zh(n,i.document),a=i.removedTargetIds||[];t=new Pc([],a,o,null)}else{if(!("filter"in e))return Oe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new tP(o,a),f=i.targetId;t=new lE(f,u)}}return t}function hP(n,e){let t;if(e instanceof Bl)t={update:A_(n,e.key,e.value)};else if(e instanceof um)t={delete:kp(n,e.key)};else if(e instanceof cs)t={update:A_(n,e.key,e.data),updateMask:TP(e.fieldMask)};else{if(!(e instanceof Jx))return Oe();t={verify:kp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof ed)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof td)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Oe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:cP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe()}(n,e.precondition)),t}function pP(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Dr(o.updateTime):Dr(a);return u.isEqual(Le.min())&&(u=Dr(a)),new Qx(u,o.transformResults||[])}(t,e))):[]}function mP(n,e){return{documents:[fE(n,e.path)]}}function gP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=fE(n,o);const a=function(m){if(m.length!==0)return mE(_r.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(O){return{field:Qo(O.field),direction:_P(O.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Ip(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function yP(n){let e=dP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(S){const O=pE(S);return O instanceof _r&&Hw(O)?O.getFilters():[O]}(t.where));let u=[];t.orderBy&&(u=function(S){return S.map(O=>function(H){return new Ol(Yo(H.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(O))}(t.orderBy));let f=null;t.limit&&(f=function(S){let O;return O=typeof S=="object"?S.value:S,Cd(O)?null:O}(t.limit));let h=null;t.startAt&&(h=function(S){const O=!!S.before,L=S.values||[];return new la(L,O)}(t.startAt));let m=null;return t.endAt&&(m=function(S){const O=!S.before,L=S.values||[];return new la(L,O)}(t.endAt)),Mx(e,o,u,a,f,"F",h,m)}function vP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Yo(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Yo(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yo(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yo(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>pE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe()}}(t.compositeFilter.op))}(n):Oe()}function _P(n){return oP[n]}function wP(n){return aP[n]}function EP(n){return lP[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Yo(n){return Kt.fromServerFormat(n.fieldPath)}function mE(n){return n instanceof Pt?function(t){if(t.op==="=="){if(v_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(y_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(y_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:wP(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(o=>mE(o));return i.length===1?i[0]:{compositeFilter:{op:EP(t.op),filters:i}}}(n):Oe()}function TP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t,i,o,a=Le.min(),u=Le.min(),f=Gt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.Tt=e}}function IP(n){const e=yP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.Tn=new kP}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ts.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class kP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Lt(lt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yE=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(yE,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ua(0)}static Un(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LruGarbageCollector",CP=1048576;function D_([n,e],[t,i]){const o=Ge(n,t);return o===0?Ge(e,i):o}class xP{constructor(e){this.Hn=e,this.buffer=new Lt(D_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();D_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(O_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ya(t)?Ee(O_,"Ignoring IndexedDB error during garbage collection: ",t):await ga(t)}await this.er(3e5)})}}class RP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(kd.ae);const i=new xP(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(N_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(m=Date.now(),Ko()<=He.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${S} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:S})))}}function AP(n,e){return new RP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.changes=new no(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Sl(i.mutation,o,Mn.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){const o=$s();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=vl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=$s();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let a=fi();const u=Tl(),f=function(){return Tl()}();return t.forEach((h,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof cs)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Sl(v.mutation,m,v.mutation.getFieldMask(),At.now())):u.set(m.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var S;return f.set(m,new OP(v,(S=u.get(m))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Tl();let o=new wt((u,f)=>u-f),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=i.get(h)||Mn.empty();v=f.applyToLocalView(m,v),i.set(h,v);const S=(o.get(f.batchId)||We()).add(h);o=o.insert(f.batchId,S)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,S=Zw();v.forEach(O=>{if(!a.has(O)){const L=sE(t.get(O),i.get(O));L!==null&&S.set(O,L),a=a.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,S))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):am(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ue.resolve($s());let f=Pl,h=a;return u.next(m=>ue.forEach(m,(v,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(O=>{h=h.insert(v,O)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,We())).next(v=>({batchId:f,changes:Jw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let o=vl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=vl();return this.indexManager.getCollectionParents(e,a).next(f=>ue.forEach(f,h=>{const m=function(S,O){return new us(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,tn.newInvalidDocument(v)))});let f=vl();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&Sl(v.mutation,m,Mn.empty(),At.now()),Nd(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Dr(o.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:IP(o.bundledQuery),readTime:Dr(o.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.overlays=new wt(xe.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=$s();return ue.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const o=$s(),a=t.length+1,u=new xe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>i&&o.set(h.getKey(),h)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new wt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=$s(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=$s(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ue.resolve(f)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new eP(t,i));let a=this.Rr.get(t);a===void 0&&(a=We(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.Vr=new Lt(Ut.mr),this.gr=new Lt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ut(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ut(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new xe(new lt([])),i=new Ut(t,e),o=new Ut(t,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new xe(new lt([])),i=new Ut(t,e),o=new Ut(t,e+1);let a=We();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ut(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return xe.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Ut.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Zx(a,t,i,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Ut(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?rm:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(Ge);return t.forEach(o=>{const a=new Ut(o,0),u=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{i=i.add(f.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;xe.isDocumentKey(a)||(a=a.child(""));const u=new Ut(new xe(a),0);let f=new Lt(Ge);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ue.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,o=>{const a=new Ut(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ut(t,0),o=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.kr=e,this.docs=function(){return new wt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():tn.newInvalidDocument(o))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=fi();const u=t.path,f=new xe(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||px(hx(v),i)<=0||(o.has(v.key)||Nd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Oe()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new UP(this)}getSize(e){return ue.resolve(this.size)}}class UP extends NP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.persistence=e,this.Qr=new no(t=>sm(t),om),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.$r=0,this.Kr=new hm,this.targetCount=0,this.Ur=ua.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ua(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ue.waitFor(a).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new kd(0),this.zr=!1,this.zr=!0,this.jr=new VP,this.referenceDelegate=e(this),this.Hr=new zP(this),this.indexManager=new bP,this.remoteDocumentCache=function(o){return new FP(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new SP(t),this.Yr=new LP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new jP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new $P(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class $P extends gx{constructor(e){super(),this.currentSequenceNumber=e}}class pm{constructor(e){this.persistence=e,this.ti=new hm,this.ni=null}static ri(e){return new pm(e)}get ii(){if(this.ni)return this.ni;throw Oe()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const o=xe.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Le.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class rd{constructor(e,t){this.persistence=e,this.oi=new no(i=>_x(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=AP(this,t)}static ri(e,t){return new rd(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ue.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(i++,a.removeEntry(u,Le.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ue.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=We(),o=We();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new mm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return jk()?8:yx(rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new BP;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Ko()<=He.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Ko()<=He.DEBUG&&Ee("QueryEngine","Query:",Go(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Ko()<=He.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):ue.resolve())}rs(e,t){if(T_(t))return ue.resolve(null);let i=Or(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zc(t,null,"F"),i=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=We(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,Zc(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,i,o){return T_(t)||o.isEqual(Le.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(t,a);return this.ls(t,u,i,o)?ue.resolve(null):(Ko()<=He.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Go(t)),this.hs(e,u,t,fx(o,Pl)).next(f=>f))})}cs(e,t){let i=new Lt(Yw(e));return t.forEach((o,a)=>{Nd(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return Ko()<=He.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Go(t)),this.ns.getDocumentsMatchingQuery(e,t,ts.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="LocalStore",HP=3e8;class WP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new wt(Ge),this.Is=new no(a=>sm(a),om),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function KP(n,e,t,i){return new WP(n,e,t,i)}async function _E(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let h=We();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(i,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function GP(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const S=m.batch,O=S.keys();let L=ue.resolve();return O.forEach(H=>{L=L.next(()=>v.getEntry(h,H)).next(V=>{const z=m.docVersions.get(H);Ze(z!==null),V.version.compareTo(z)<0&&(S.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),v.addEntry(V)))})}),L.next(()=>f.mutationQueue.removeMutationBatch(h,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=We();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function wE(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function QP(n,e){const t=je(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,S)=>{const O=o.get(S);if(!O)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,S)));let L=O.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Gt.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(v.resumeToken,i)),o=o.insert(S,L),function(V,z,W){return V.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=HP?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(O,L,v)&&f.push(t.Hr.updateTargetData(a,L))});let h=fi(),m=We();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(YP(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!i.isEqual(Le.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(S=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return ue.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function YP(n,e,t){let i=We(),o=We();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=fi();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(Le.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Ee(gm,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function XP(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=rm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JP(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,ue.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Ki(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function xp(n,e,t){const i=je(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!ya(u))throw u;Ee(gm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function L_(n,e,t){const i=je(n);let o=Le.min(),a=We();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const S=je(h),O=S.Is.get(v);return O!==void 0?ue.resolve(S.Ts.get(O)):S.Hr.getTargetData(m,v)}(i,u,Or(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:Le.min(),t?a:We())).next(f=>(ZP(i,jx(e),f),{documents:f,gs:a})))}function ZP(n,e,t){let i=n.Es.get(e)||Le.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class M_{constructor(){this.activeTargetIds=qx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eR{constructor(){this.ho=new M_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new M_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class j_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(V_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function Pp(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",nR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Yc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}bo(e,t,i,o,a){const u=Pp(),f=this.So(e,t.toUriEncodedString());Ee(ep,`Sending RPC '${e}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,i).then(m=>(Ee(ep,`Received RPC '${e}' ${u}: `,m),m),m=>{throw ia(ep,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",i),m})}Co(e,t,i,o,a,u){return this.bo(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}So(e,t){const i=nR[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class sR extends rR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=Pp();return new Promise((u,f)=>{const h=new kw;h.setWithCredentials(!0),h.listenOnce(Cw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bc.NO_ERROR:const v=h.getResponseJson();Ee(Zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case bc.TIMEOUT:Ee(Zt,`RPC '${e}' ${a} timed out`),f(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const S=h.getStatus();if(Ee(Zt,`RPC '${e}' ${a} failed with status:`,S,"response text:",h.getResponseText()),S>0){let O=h.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=O==null?void 0:O.error;if(L&&L.status&&L.message){const H=function(z){const W=z.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(W)>=0?W:oe.UNKNOWN}(L.status);f(new ve(H,L.message))}else f(new ve(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{Ee(Zt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);Ee(Zt,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,i,15)})}Wo(e,t,i){const o=Pp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Rw(),f=Pw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const v=a.join("");Ee(Zt,`Creating RPC '${e}' stream ${o}: ${v}`,h);const S=u.createWebChannel(v,h);let O=!1,L=!1;const H=new iR({Fo:z=>{L?Ee(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(O||(Ee(Zt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),O=!0),Ee(Zt,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Mo:()=>S.close()}),V=(z,W,J)=>{z.listen(W,X=>{try{J(X)}catch(re){setTimeout(()=>{throw re},0)}})};return V(S,yl.EventType.OPEN,()=>{L||(Ee(Zt,`RPC '${e}' stream ${o} transport opened.`),H.Qo())}),V(S,yl.EventType.CLOSE,()=>{L||(L=!0,Ee(Zt,`RPC '${e}' stream ${o} transport closed`),H.Ko())}),V(S,yl.EventType.ERROR,z=>{L||(L=!0,ia(Zt,`RPC '${e}' stream ${o} transport errored:`,z),H.Ko(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),V(S,yl.EventType.MESSAGE,z=>{var W;if(!L){const J=z.data[0];Ze(!!J);const X=J,re=(X==null?void 0:X.error)||((W=X[0])===null||W===void 0?void 0:W.error);if(re){Ee(Zt,`RPC '${e}' stream ${o} received error:`,re);const j=re.status;let $=function(I){const w=xt[I];if(w!==void 0)return aE(w)}(j),P=re.message;$===void 0&&($=oe.INTERNAL,P="Unknown error status: "+j+" with message "+re.message),L=!0,H.Ko(new ve($,P)),S.close()}else Ee(Zt,`RPC '${e}' stream ${o} received:`,J),H.Uo(J)}}),V(f,xw.STAT_EVENT,z=>{z.stat===vp.PROXY?Ee(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===vp.NOPROXY&&Ee(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(n){return new uP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="PersistentStream";class TE{constructor(e,t,i,o,a,u,f,h){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new EE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(F_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(F_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oR extends TE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=fP(this.serializer,e),i=function(a){if(!("targetChange"in a))return Le.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?Dr(u.readTime):Le.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Cp(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=Tp(h)?{documents:mP(a,h)}:{query:gP(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=cE(a,u.resumeToken);const m=Ip(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Le.min())>0){f.readTime=nd(a,u.snapshotVersion.toTimestamp());const m=Ip(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=vP(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Cp(this.serializer),t.removeTarget=e,this.I_(t)}}class aR extends TE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=pP(e.writeResults,e.commitTime),i=Dr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Cp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>hP(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{}class uR extends lR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.bo(e,bp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(oe.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,bp(t,i),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class cR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(di(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class dR{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{ro(this)&&(Ee(Ws,"Restarting streams for network reachability change."),await async function(h){const m=je(h);m.W_.add(4),await Hl(m),m.j_.set("Unknown"),m.W_.delete(4),await Vd(m)}(this))})}),this.j_=new cR(i,o)}}async function Vd(n){if(ro(n))for(const e of n.G_)await e(!0)}async function Hl(n){for(const e of n.G_)await e(!1)}function SE(n,e){const t=je(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),wm(t)?_m(t):va(t).c_()&&vm(t,e))}function ym(n,e){const t=je(n),i=va(t);t.U_.delete(e),i.c_()&&IE(t,e),t.U_.size===0&&(i.c_()?i.P_():ro(t)&&t.j_.set("Unknown"))}function vm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}va(n).y_(e)}function IE(n,e){n.H_.Ne(e),va(n).w_(e)}function _m(n){n.H_=new sP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),va(n).start(),n.j_.B_()}function wm(n){return ro(n)&&!va(n).u_()&&n.U_.size>0}function ro(n){return je(n).W_.size===0}function bE(n){n.H_=void 0}async function fR(n){n.j_.set("Online")}async function hR(n){n.U_.forEach((e,t)=>{vm(n,e)})}async function pR(n,e){bE(n),wm(n)?(n.j_.q_(e),_m(n)):n.j_.set("Unknown")}async function mR(n,e,t){if(n.j_.set("Online"),e instanceof uE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.U_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(i){Ee(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await id(n,i)}else if(e instanceof Pc?n.H_.We(e):e instanceof lE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Le.min()))try{const i=await wE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.U_.get(m);v&&a.U_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.U_.get(h);if(!v)return;a.U_.set(h,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),IE(a,h);const S=new Ki(v.target,h,m,v.sequenceNumber);vm(a,S)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Ee(Ws,"Failed to raise snapshot:",i),await id(n,i)}}async function id(n,e,t){if(!ya(e))throw e;n.W_.add(1),await Hl(n),n.j_.set("Offline"),t||(t=()=>wE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Ws,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Vd(n)})}function kE(n,e){return e().catch(t=>id(n,t,e))}async function jd(n){const e=je(n),t=ss(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:rm;for(;gR(e);)try{const o=await XP(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,yR(e,o)}catch(o){await id(e,o)}CE(e)&&xE(e)}function gR(n){return ro(n)&&n.K_.length<10}function yR(n,e){n.K_.push(e);const t=ss(n);t.c_()&&t.b_&&t.S_(e.mutations)}function CE(n){return ro(n)&&!ss(n).u_()&&n.K_.length>0}function xE(n){ss(n).start()}async function vR(n){ss(n).C_()}async function _R(n){const e=ss(n);for(const t of n.K_)e.S_(t.mutations)}async function wR(n,e,t){const i=n.K_.shift(),o=cm.from(i,e,t);await kE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await jd(n)}async function ER(n,e){e&&ss(n).b_&&await async function(i,o){if(function(u){return nP(u)&&u!==oe.ABORTED}(o.code)){const a=i.K_.shift();ss(i).h_(),await kE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await jd(i)}}(n,e),CE(n)&&xE(n)}async function U_(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Ee(Ws,"RemoteStore received new credentials");const i=ro(t);t.W_.add(3),await Hl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Vd(t)}async function TR(n,e){const t=je(n);e?(t.W_.delete(2),await Vd(t)):e||(t.W_.add(2),await Hl(t),t.j_.set("Unknown"))}function va(n){return n.J_||(n.J_=function(t,i,o){const a=je(t);return a.M_(),new oR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:fR.bind(null,n),No:hR.bind(null,n),Lo:pR.bind(null,n),p_:mR.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),wm(n)?_m(n):n.j_.set("Unknown")):(await n.J_.stop(),bE(n))})),n.J_}function ss(n){return n.Y_||(n.Y_=function(t,i,o){const a=je(t);return a.M_(),new aR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:vR.bind(null,n),Lo:ER.bind(null,n),D_:_R.bind(null,n),v_:wR.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await jd(n)):(await n.Y_.stop(),n.K_.length>0&&(Ee(Ws,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,f=new Em(e,t,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(n,e){if(di("AsyncQueue",`${e}: ${n}`),ya(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=vl(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.Z_=new wt(xe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Oe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ca{constructor(e,t,i,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new ca(e,t,Zo.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class IR{constructor(){this.queries=$_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=je(t),a=o.queries;o.queries=$_(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function $_(){return new no(n=>Qw(n),Ad)}async function PE(n,e){const t=je(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new SR,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Tm(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Sm(t)}async function RE(n,e){const t=je(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function bR(n,e){const t=je(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(i=!0);u.ea=o}}i&&Sm(t)}function kR(n,e,t){const i=je(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function Sm(n){n.ia.forEach(e=>{e.next()})}var Rp,B_;(B_=Rp||(Rp={}))._a="default",B_.Cache="cache";class AE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.key=e}}class OE{constructor(e){this.key=e}}class CR{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=We(),this.mutatedKeys=We(),this.ya=Yw(e),this.wa=new Zo(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new z_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const O=o.get(v),L=Nd(this.query,S)?S:null,H=!!O&&this.mutatedKeys.has(O.key),V=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let z=!1;O&&L?O.data.isEqual(L.data)?H!==V&&(i.track({type:3,doc:L}),z=!0):this.va(O,L)||(i.track({type:2,doc:L}),z=!0,(h&&this.ya(L,h)>0||m&&this.ya(L,m)<0)&&(f=!0)):!O&&L?(i.track({type:0,doc:L}),z=!0):O&&!L&&(i.track({type:1,doc:O}),z=!0,(h||m)&&(f=!0)),z&&(L?(u=u.add(L),a=V?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,S)=>function(L,H){const V=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return V(L)-V(H)}(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(i),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new ca(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new z_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=We(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new OE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new NE(i))}),t}Oa(e){this.fa=e.gs,this.pa=We();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ca.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Im="SyncEngine";class xR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class PR{constructor(e){this.key=e,this.Ba=!1}}class RR{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new no(f=>Qw(f),Ad),this.qa=new Map,this.Qa=new Set,this.$a=new wt(xe.comparator),this.Ka=new Map,this.Ua=new hm,this.Wa={},this.Ga=new Map,this.za=ua.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AR(n,e,t=!0){const i=FE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await DE(i,e,t,!0),o}async function NR(n,e){const t=FE(n);await DE(t,e,!0,!1)}async function DE(n,e,t,i){const o=await JP(n.localStore,Or(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await OR(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&SE(n.remoteStore,o),f}async function OR(n,e,t,i,o){n.Ha=(S,O,L)=>async function(V,z,W,J){let X=z.view.Sa(W);X.ls&&(X=await L_(V.localStore,z.query,!1).then(({documents:P})=>z.view.Sa(P,X)));const re=J&&J.targetChanges.get(z.targetId),j=J&&J.targetMismatches.get(z.targetId)!=null,$=z.view.applyChanges(X,V.isPrimaryClient,re,j);return H_(V,z.targetId,$.Ma),$.snapshot}(n,S,O,L);const a=await L_(n.localStore,e,!0),u=new CR(e,a.gs),f=u.Sa(a.documents),h=ql.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);H_(n,t,m.Ma);const v=new xR(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function DR(n,e,t){const i=je(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!Ad(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&ym(i.remoteStore,o.targetId),Ap(i,o.targetId)}).catch(ga)):(Ap(i,o.targetId),await xp(i.localStore,o.targetId,!0))}async function LR(n,e){const t=je(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ym(t.remoteStore,i.targetId))}async function MR(n,e,t){const i=BR(n);try{const o=await function(u,f){const h=je(u),m=At.now(),v=f.reduce((L,H)=>L.add(H.key),We());let S,O;return h.persistence.runTransaction("Locally write mutations","readwrite",L=>{let H=fi(),V=We();return h.ds.getEntries(L,v).next(z=>{H=z,H.forEach((W,J)=>{J.isValidDocument()||(V=V.add(W))})}).next(()=>h.localDocuments.getOverlayedDocuments(L,H)).next(z=>{S=z;const W=[];for(const J of f){const X=Xx(J,S.get(J.key).overlayedDocument);X!=null&&W.push(new cs(J.key,X,$w(X.value.mapValue),vr.exists(!0)))}return h.mutationQueue.addMutationBatch(L,m,W,f)}).next(z=>{O=z;const W=z.applyToLocalDocumentSet(S,V);return h.documentOverlayCache.saveOverlays(L,z.batchId,W)})}).then(()=>({batchId:O.batchId,changes:Jw(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(Ge)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(i,o.batchId,t),await Wl(i,o.changes),await jd(i.remoteStore)}catch(o){const a=Tm(o,"Failed to persist write");t.reject(a)}}async function LE(n,e){const t=je(n);try{const i=await QP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ka.get(a);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ze(u.Ba):o.removedDocuments.size>0&&(Ze(u.Ba),u.Ba=!1))}),await Wl(t,i,e)}catch(i){await ga(i)}}function q_(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=je(u);h.onlineState=f;let m=!1;h.queries.forEach((v,S)=>{for(const O of S.ta)O.sa(f)&&(m=!0)}),m&&Sm(h)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function VR(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),a=o&&o.key;if(a){let u=new wt(xe.comparator);u=u.insert(a,tn.newNoDocument(a,Le.min()));const f=We().add(a),h=new Ld(Le.min(),new Map,new wt(Ge),u,f);await LE(i,h),i.$a=i.$a.remove(a),i.Ka.delete(e),bm(i)}else await xp(i.localStore,e,!1).then(()=>Ap(i,e,t)).catch(ga)}async function jR(n,e){const t=je(n),i=e.batch.batchId;try{const o=await GP(t.localStore,e);VE(t,i,null),ME(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wl(t,o)}catch(o){await ga(o)}}async function FR(n,e,t){const i=je(n);try{const o=await function(u,f){const h=je(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(S=>(Ze(S!==null),v=S.keys(),h.mutationQueue.removeMutationBatch(m,S))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,e);VE(i,e,t),ME(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wl(i,o)}catch(o){await ga(o)}}function ME(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function VE(n,e,t){const i=je(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Ap(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||jE(n,i)})}function jE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(ym(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),bm(n))}function H_(n,e,t){for(const i of t)i instanceof NE?(n.Ua.addReference(i.key,e),UR(n,i)):i instanceof OE?(Ee(Im,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||jE(n,i.key)):Oe()}function UR(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Ee(Im,"New document in limbo: "+t),n.Qa.add(i),bm(n))}function bm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new xe(lt.fromString(e)),i=n.za.next();n.Ka.set(i,new PR(t)),n.$a=n.$a.insert(t,i),SE(n.remoteStore,new Ki(Or(Rd(t.path)),i,"TargetPurposeLimboResolution",kd.ae))}}async function Wl(n,e,t){const i=je(n),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((f,h)=>{u.push(i.Ha(h,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const S=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,S?"current":"not-current")}if(m){o.push(m);const S=mm.Yi(h.targetId,m);a.push(S)}}))}),await Promise.all(u),i.La.p_(o),await async function(h,m){const v=je(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ue.forEach(m,O=>ue.forEach(O.Hi,L=>v.persistence.referenceDelegate.addReference(S,O.targetId,L)).next(()=>ue.forEach(O.Ji,L=>v.persistence.referenceDelegate.removeReference(S,O.targetId,L)))))}catch(S){if(!ya(S))throw S;Ee(gm,"Failed to update sequence numbers: "+S)}for(const S of m){const O=S.targetId;if(!S.fromCache){const L=v.Ts.get(O),H=L.snapshotVersion,V=L.withLastLimboFreeSnapshotVersion(H);v.Ts=v.Ts.insert(O,V)}}}(i.localStore,a))}async function zR(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Ee(Im,"User change. New user:",e.toKey());const i=await _E(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new ve(oe.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wl(t,i.Rs)}}function $R(n,e){const t=je(n),i=t.Ka.get(e);if(i&&i.Ba)return We().add(i.key);{let o=We();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.ba)}return o}}function FE(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VR.bind(null,e),e.La.p_=bR.bind(null,e.eventManager),e.La.Ja=kR.bind(null,e.eventManager),e}function BR(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return KP(this.persistence,new qP,e.initialUser,this.serializer)}Xa(e){return new vE(pm.ri,this.serializer)}Za(e){return new eR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class qR extends sd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof rd);const i=this.persistence.referenceDelegate.garbageCollector;return new PP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new vE(i=>rd.ri(i,t),this.serializer)}}class Np{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zR.bind(null,this.syncEngine),await TR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IR}()}createDatastore(e){const t=Md(e.databaseInfo.databaseId),i=function(a){return new sR(a)}(e.databaseInfo);return function(a,u,f,h){return new uR(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,f){return new dR(i,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>q_(this.syncEngine,t,0),function(){return j_.D()?new j_:new tR}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const S=new RR(o,a,u,f,h,m);return v&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=je(o);Ee(Ws,"RemoteStore shutting down."),a.W_.add(5),await Hl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class HR{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Ee(os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ee(os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Tm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function np(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await _E(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function W_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await WR(n);Ee(os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>U_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>U_(e.remoteStore,o)),n._onlineComponents=e}async function WR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(os,"Using user provided OfflineComponentProvider");try{await np(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ia("Error using user provided cache. Falling back to memory cache: "+t),await np(n,new sd)}}else Ee(os,"Using default OfflineComponentProvider"),await np(n,new qR(void 0));return n._offlineComponents}async function zE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(os,"Using user provided OnlineComponentProvider"),await W_(n,n._uninitializedComponentsProvider._online)):(Ee(os,"Using default OnlineComponentProvider"),await W_(n,new Np))),n._onlineComponents}function KR(n){return zE(n).then(e=>e.syncEngine)}async function Op(n){const e=await zE(n),t=e.eventManager;return t.onListen=AR.bind(null,e.syncEngine),t.onUnlisten=DR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LR.bind(null,e.syncEngine),t}function GR(n,e,t={}){const i=new Ji;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new UE({next:O=>{v.su(),u.enqueueAndForget(()=>RE(a,S));const L=O.docs.has(f);!L&&O.fromCache?m.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&O.fromCache&&h&&h.source==="server"?m.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(O)},error:O=>m.reject(O)}),S=new AE(Rd(f.path),v,{includeMetadataChanges:!0,Ta:!0});return PE(a,S)}(await Op(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QR(n,e,t,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function G_(n){if(!xe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Q_(n){if(xe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe()}function Lr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fd(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YR(n,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firestore.googleapis.com",Y_=!0;class X_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=Y_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Y_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CP)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ix;switch(i.type){case"firstParty":return new lx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=K_.get(t);i&&(Ee("ComponentProvider","Removing Datastore"),K_.delete(t),i.terminate())}(this),Promise.resolve()}}function XR(n,e,t,i={}){var o;const a=(n=Lr(n,Ud))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==qE&&a.host!==f&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:i});if(!es(h,u)&&(n._setSettings(h),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=en.MOCK_USER;else{m=mw(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(S)}n._authCredentials=new sx(new Aw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class fn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Zi extends zr{constructor(e,t,i){super(e,t,Rd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new xe(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Zn(n,e,...t){if(n=ut(n),BE("collection","path",e),n instanceof Ud){const i=lt.fromString(e,...t);return Q_(i),new Zi(n,null,i)}{if(!(n instanceof fn||n instanceof Zi))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return Q_(i),new Zi(n.firestore,null,i)}}function od(n,e,...t){if(n=ut(n),arguments.length===1&&(e=Nw.newId()),BE("doc","path",e),n instanceof Ud){const i=lt.fromString(e,...t);return G_(i),new fn(n,null,new xe(i))}{if(!(n instanceof fn||n instanceof Zi))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return G_(i),new fn(n.firestore,n instanceof Zi?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class Z_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new EE(this,"async_queue_retry"),this.bu=()=>{const i=tp();i&&Ee(J_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ya(e))throw e;Ee(J_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw di("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Em.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Oe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function e0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ks extends Ud{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,await e}}}function JR(n,e){const t=typeof n=="object"?n:$l(),i=typeof n=="string"?n:Yc,o=mi(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=em("firestore");a&&XR(o,...a)}return o}function km(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZR(n),n._firestoreClient}function ZR(n){var e,t,i;const o=n._freezeSettings(),a=function(f,h,m,v){return new Tx(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,$E(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new HR(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Gt.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=/^__.*__$/;class t1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bl(e,this.data,t,this.fieldTransforms)}}class HE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class Rm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ad(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WE(this.Lu)&&e1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class n1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Md(e)}ju(e,t,i,o=!1){return new Rm({Lu:e,methodName:t,zu:i,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $d(n){const e=n._freezeSettings(),t=Md(n._databaseId);return new n1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function r1(n,e,t,i,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Am("Data must be an object, but it was:",u,i);const f=GE(i,u);let h,m;if(a.merge)h=new Mn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const S of a.mergeFields){const O=Dp(e,S,t);if(!u.contains(O))throw new ve(oe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);YE(v,O)||v.push(O)}h=new Mn(v),m=u.fieldTransforms.filter(S=>h.covers(S.field))}else h=null,m=u.fieldTransforms;return new t1(new In(f),h,m)}class Bd extends Cm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function i1(n,e,t,i){const o=n.ju(1,e,t);Am("Data must be an object, but it was:",o,i);const a=[],u=In.empty();ls(i,(h,m)=>{const v=Nm(e,h,t);m=ut(m);const S=o.Ku(v);if(m instanceof Bd)a.push(v);else{const O=Kl(m,S);O!=null&&(a.push(v),u.set(v,O))}});const f=new Mn(a);return new HE(u,f,o.fieldTransforms)}function s1(n,e,t,i,o,a){const u=n.ju(1,e,t),f=[Dp(e,i,t)],h=[o];if(a.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(Dp(e,a[O])),h.push(a[O+1]);const m=[],v=In.empty();for(let O=f.length-1;O>=0;--O)if(!YE(m,f[O])){const L=f[O];let H=h[O];H=ut(H);const V=u.Ku(L);if(H instanceof Bd)m.push(L);else{const z=Kl(H,V);z!=null&&(m.push(L),v.set(L,z))}}const S=new Mn(m);return new HE(v,S,u.fieldTransforms)}function KE(n,e,t,i=!1){return Kl(t,n.ju(i?4:3,e))}function Kl(n,e){if(QE(n=ut(n)))return Am("Unsupported field value:",e,n),GE(n,e);if(n instanceof Cm)return function(i,o){if(!WE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const f of i){let h=Kl(f,o.Uu(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Hx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=At.fromDate(i);return{timestampValue:nd(o.serializer,a)}}if(i instanceof At){const a=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nd(o.serializer,a)}}if(i instanceof xm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof da)return{bytesValue:cE(o.serializer,i._byteString)};if(i instanceof fn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Pm)return function(u,f){return{mapValue:{fields:{[Uw]:{stringValue:zw},[Xc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return lm(f.serializer,m)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Fd(i)}`)}(n,e)}function GE(n,e){const t={};return Dw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(n,(i,o)=>{const a=Kl(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function QE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof xm||n instanceof da||n instanceof fn||n instanceof Cm||n instanceof Pm)}function Am(n,e,t){if(!QE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Fd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Dp(n,e,t){if((e=ut(e))instanceof zd)return e._internalPath;if(typeof e=="string")return Nm(n,e);throw ad("Field path arguments must be of type string or ",n,!1,void 0,t)}const o1=new RegExp("[~\\*/\\[\\]]");function Nm(n,e,t){if(e.search(o1)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ad(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${i}`),u&&(h+=` in document ${o}`),h+=")"),new ve(oe.INVALID_ARGUMENT,f+n+h)}function YE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class a1 extends Om{data(){return super.data()}}function qd(n,e){return typeof e=="string"?Nm(n,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dm{}class Gl extends Dm{}function _a(n,e,...t){let i=[];e instanceof Dm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(h=>h instanceof Mm).length,f=a.filter(h=>h instanceof Hd).length;if(u>1||u>0&&f>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Hd extends Gl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hd(e,t,i)}_apply(e){const t=this._parse(e);return JE(e._query,t),new zr(e.firestore,e.converter,Sp(e._query,t))}_parse(e){const t=$d(e.firestore);return function(a,u,f,h,m,v,S){let O;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){n0(S,v);const H=[];for(const V of S)H.push(t0(h,a,V));O={arrayValue:{values:H}}}else O=t0(h,a,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||n0(S,v),O=KE(f,u,S,v==="in"||v==="not-in");return Pt.create(m,v,O)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lm(n,e,t){const i=e,o=qd("where",n);return Hd._create(o,i,t)}class Mm extends Dm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const f=a.getFlattenedFilters();for(const h of f)JE(u,h),u=Sp(u,h)}(e._query,t),new zr(e.firestore,e.converter,Sp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vm extends Gl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vm(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(a,u)}(e._query,this._field,this._direction);return new zr(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new us(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function jm(n,e="asc"){const t=e,i=qd("orderBy",n);return Vm._create(i,t)}class Fm extends Gl{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Fm(e,t,i)}_apply(e){return new zr(e.firestore,e.converter,Zc(e._query,this._limit,this._limitType))}}function Um(n){return YR("limit",n),Fm._create("limit",n,"F")}class zm extends Gl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new zm(e,t,i)}_apply(e){const t=XE(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function u1(...n){return zm._create("startAt",n,!0)}class $m extends Gl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new $m(e,t,i)}_apply(e){const t=XE(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,t))}}function c1(...n){return $m._create("endAt",n,!0)}function XE(n,e,t,i){if(t[0]=ut(t[0]),t[0]instanceof Om)return function(a,u,f,h,m){if(!h)throw new ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const v=[];for(const S of Jo(a))if(S.field.isKeyField())v.push(Jc(u,h.key));else{const O=h.data.field(S.field);if(xd(O))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(O===null){const L=S.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}v.push(O)}return new la(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=$d(n.firestore);return function(u,f,h,m,v,S){const O=u.explicitOrderBy;if(v.length>O.length)throw new ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let H=0;H<v.length;H++){const V=v[H];if(O[H].field.isKeyField()){if(typeof V!="string")throw new ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof V}`);if(!am(u)&&V.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${V}' contains a slash.`);const z=u.path.child(lt.fromString(V));if(!xe.isDocumentKey(z))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const W=new xe(z);L.push(Jc(f,W))}else{const z=KE(h,m,V);L.push(z)}}return new la(L,S)}(n._query,n.firestore._databaseId,o,e,t,i)}}function t0(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!am(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!xe.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Jc(n,new xe(i))}if(t instanceof fn)return Jc(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(t)}.`)}function n0(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JE(n,e){const t=function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class d1{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ls(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Xc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>bt(u.doubleValue));return new Pm(a)}convertGeoPoint(e){return new xm(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Ze(gE(i));const o=new Al(i.get(1),i.get(3)),a=new xe(i.popFirst(5));return o.isEqual(t)||di(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZE extends Om{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(qd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Rc extends ZE{data(e={}){return super.data(e)}}class h1{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Rc(this._firestore,this._userDataWriter,i.key,i,new wl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:p1(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function p1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n){n=Lr(n,fn);const e=Lr(n.firestore,Ks);return GR(km(e),n._key).then(t=>nT(e,n,t))}class eT extends d1{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function g1(n,e,t,...i){n=Lr(n,fn);const o=Lr(n.firestore,Ks),a=$d(o);let u;return u=typeof(e=ut(e))=="string"||e instanceof zd?s1(a,"updateDoc",n._key,e,t,i):i1(a,"updateDoc",n._key,e),Bm(o,[u.toMutation(n._key,vr.exists(!0))])}function y1(n){return Bm(Lr(n.firestore,Ks),[new um(n._key,vr.none())])}function tT(n,e){const t=Lr(n.firestore,Ks),i=od(n),o=f1(n.converter,e);return Bm(t,[r1($d(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function $r(n,...e){var t,i,o;n=ut(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||e0(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(e0(e[u])){const S=e[u];e[u]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[u+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[u+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let h,m,v;if(n instanceof fn)m=Lr(n.firestore,Ks),v=Rd(n._key.path),h={next:S=>{e[u]&&e[u](nT(m,n,S))},error:e[u+1],complete:e[u+2]};else{const S=Lr(n,zr);m=Lr(S.firestore,Ks),v=S._query;const O=new eT(m);h={next:L=>{e[u]&&e[u](new h1(m,O,S,L))},error:e[u+1],complete:e[u+2]},l1(n._query)}return function(O,L,H,V){const z=new UE(V),W=new AE(L,z,H);return O.asyncQueue.enqueueAndForget(async()=>PE(await Op(O),W)),()=>{z.su(),O.asyncQueue.enqueueAndForget(async()=>RE(await Op(O),W))}}(km(m),v,f,h)}function Bm(n,e){return function(i,o){const a=new Ji;return i.asyncQueue.enqueueAndForget(async()=>MR(await KR(i),o,a)),a.promise}(km(n),e)}function nT(n,e,t){const i=t.docs.get(e._key),o=new eT(n);return new ZE(n,o,e._key,i,new wl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ma=o})(to),Jn(new Fn("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new Ks(new ox(i.getProvider("auth-internal")),new ux(u,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),nn(o_,a_,e),nn(o_,a_,"esm2017")})();var v1="firebase",_1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(v1,_1,"app");function qm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w1=rT,iT=new eo("auth","Firebase",rT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new bd("@firebase/auth");function E1(n,...e){ld.logLevel<=He.WARN&&ld.warn(`Auth (${to}): ${n}`,...e)}function Ac(n,...e){ld.logLevel<=He.ERROR&&ld.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw Hm(n,...e)}function Mr(n,...e){return Hm(n,...e)}function sT(n,e,t){const i=Object.assign(Object.assign({},w1()),{[e]:t});return new eo("auth","Firebase",i).create(e,{appName:n.name})}function ui(n){return sT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return iT.create(n,...e)}function Ne(n,e,...t){if(!n)throw Hm(e,...t)}function oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ac(e),new Error(e)}function hi(n,e){n||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function T1(){return r0()==="http:"||r0()==="https:"}function r0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T1()||gw()||"connection"in navigator)?navigator.onLine:!0}function I1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=Ok()||Mk()}get(){return S1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Ql(3e4,6e4);function ds(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fs(n,e,t,i,o={}){return aT(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const f=zl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return Lk()||(m.referrerPolicy="no-referrer"),oT.fetch()(lT(n,n.config.apiHost,t,f),m)})}async function aT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},b1),e);try{const o=new x1(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Tc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Tc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Tc(n,"user-disabled",u);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw sT(n,v,m);wr(n,v)}}catch(o){if(o instanceof Un)throw o;wr(n,"network-request-failed",{message:String(o)})}}async function Yl(n,e,t,i,o={}){const a=await fs(n,e,t,i,o);return"mfaPendingCredential"in a&&wr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function lT(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Wm(n.config,o):`${n.config.apiScheme}://${o}`}function C1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Mr(this.auth,"network-request-failed")),k1.get())})}}function Tc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Mr(n,e,i);return o.customData._tokenResponse=t,o}function i0(n){return n!==void 0&&n.enterprise!==void 0}class P1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return C1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function R1(n,e){return fs(n,"GET","/v2/recaptchaConfig",ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(n,e){return fs(n,"POST","/v1/accounts:delete",e)}async function uT(n,e){return fs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N1(n,e=!1){const t=ut(n),i=await t.getIdToken(e),o=Km(i);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Il(rp(o.auth_time)),issuedAtTime:Il(rp(o.iat)),expirationTime:Il(rp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rp(n){return Number(n)*1e3}function Km(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=dw(t);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function s0(n){const e=Km(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Un&&O1(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function O1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ml(n,uT(t,{idToken:i}));Ne(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?cT(a.providerUserInfo):[],f=M1(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Mp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,S)}async function L1(n){const e=ut(n);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M1(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function cT(n){return n.map(e=>{var{providerId:t}=e,i=qm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(n,e){const t=await aT(n,{},async()=>{const i=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=lT(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",oT.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function j1(n,e){return fs(n,"POST","/v2/accounts:revokeToken",ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=s0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await V1(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new ea;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Mp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return N1(this,e)}reload(){return L1(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ud(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await Ml(this,A1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,f,h,m,v;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,O=(o=t.email)!==null&&o!==void 0?o:void 0,L=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,H=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(f=t.tenantId)!==null&&f!==void 0?f:void 0,z=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,W=(m=t.createdAt)!==null&&m!==void 0?m:void 0,J=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:re,isAnonymous:j,providerData:$,stsTokenManager:P}=t;Ne(X&&P,e,"internal-error");const x=ea.fromJSON(this.name,P);Ne(typeof X=="string",e,"internal-error"),Ui(S,e.name),Ui(O,e.name),Ne(typeof re=="boolean",e,"internal-error"),Ne(typeof j=="boolean",e,"internal-error"),Ui(L,e.name),Ui(H,e.name),Ui(V,e.name),Ui(z,e.name),Ui(W,e.name),Ui(J,e.name);const I=new ai({uid:X,auth:e,email:O,emailVerified:re,displayName:S,isAnonymous:j,photoURL:H,phoneNumber:L,tenantId:V,stsTokenManager:x,createdAt:W,lastLoginAt:J});return $&&Array.isArray($)&&(I.providerData=$.map(w=>Object.assign({},w))),z&&(I._redirectEventId=z),I}static async _fromIdTokenResponse(e,t,i=!1){const o=new ea;o.updateFromServerResponse(t);const a=new ai({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ud(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?cT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new ea;f.updateFromIdToken(i);const h=new ai({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function li(n){hi(n instanceof Function,"Expected a class definition");let e=o0.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,o0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dT.type="NONE";const a0=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n,e,t){return`firebase:${n}:${e}:${t}`}class ta{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Nc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ta(li(a0),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||li(a0);const u=Nc(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const S=ai._fromJSON(e,v);m!==a&&(f=S),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ta(a,e,i):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ta(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(vT(e))return"Webos";if(hT(e))return"Safari";if((e.includes("chrome/")||pT(e))&&!e.includes("edge/"))return"Chrome";if(gT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fT(n=rn()){return/firefox\//i.test(n)}function hT(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pT(n=rn()){return/crios\//i.test(n)}function mT(n=rn()){return/iemobile/i.test(n)}function gT(n=rn()){return/android/i.test(n)}function yT(n=rn()){return/blackberry/i.test(n)}function vT(n=rn()){return/webos/i.test(n)}function Gm(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F1(n=rn()){var e;return Gm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U1(){return Vk()&&document.documentMode===10}function _T(n=rn()){return Gm(n)||gT(n)||vT(n)||yT(n)||/windows phone/i.test(n)||mT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n,e=[]){let t;switch(n){case"Browser":t=l0(rn());break;case"Worker":t=`${l0(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(n,e={}){return fs(n,"GET","/v2/passwordPolicy",ds(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=6;class q1{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:B1,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new z1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uT(this,{idToken:e}),i=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ui(this));const t=e?ut(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $1(this),t=new q1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await j1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&li(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&E1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function io(n){return ut(n)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=qk(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W1(n){Wd=n}function ET(n){return Wd.loadJS(n)}function K1(){return Wd.recaptchaEnterpriseScript}function G1(){return Wd.gapiScript}function Q1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Y1{constructor(){this.enterprise=new X1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class X1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const J1="recaptcha-enterprise",TT="NO_RECAPTCHA";class Z1{constructor(e){this.type=J1,this.auth=io(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{R1(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new P1(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{f(h)})})}function o(a,u,f){const h=window.grecaptcha;i0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(TT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y1().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(f=>{if(!t&&i0(window.grecaptcha))o(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=K1();h.length!==0&&(h+=f),ET(h).then(()=>{o(f,a,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function c0(n,e,t,i=!1,o=!1){const a=new Z1(n);let u;if(o)u=TT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Vp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await c0(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await c0(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(n,e){const t=mi(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(es(a,e??{}))return o;wr(o,"already-initialized")}return t.initialize({options:e})}function tA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(li);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function nA(n,e,t){const i=io(n);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=ST(e),{host:u,port:f}=rA(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(es(m,i.config.emulator)&&es(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,iA()}function ST(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rA(n){const e=ST(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:d0(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:d0(u)}}}function d0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function sA(n,e){return fs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(n,e){return Yl(n,"POST","/v1/accounts:signInWithPassword",ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(n,e){return Yl(n,"POST","/v1/accounts:signInWithEmailLink",ds(n,e))}async function lA(n,e){return Yl(n,"POST","/v1/accounts:signInWithEmailLink",ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Qm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Vl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Vl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vp(e,t,"signInWithPassword",oA);case"emailLink":return aA(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vp(e,i,"signUpPassword",sA);case"emailLink":return lA(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n,e){return Yl(n,"POST","/v1/accounts:signInWithIdp",ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="http://localhost";class Gs extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=qm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Gs(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return na(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,na(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,na(e,t)}buildRequest(){const e={requestUri:uA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dA(n){const e=ml(gl(n)).link,t=e?ml(gl(e)).deep_link_id:null,i=ml(gl(n)).deep_link_id;return(i?ml(gl(i)).link:null)||i||t||e||n}class Ym{constructor(e){var t,i,o,a,u,f;const h=ml(gl(e)),m=(t=h.apiKey)!==null&&t!==void 0?t:null,v=(i=h.oobCode)!==null&&i!==void 0?i:null,S=cA((o=h.mode)!==null&&o!==void 0?o:null);Ne(m&&v&&S,"argument-error"),this.apiKey=m,this.operation=S,this.code=v,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=dA(e);try{return new Ym(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,t){return Vl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ym.parseLink(t);return Ne(i,"argument-error"),Vl._fromEmailAndCode(e,i.code,i.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Xl{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Bi.credential(t,i)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Xl{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Xl{constructor(){super("twitter.com")}static credential(e,t){return Gs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Hi.credential(t,i)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e){return Yl(n,"POST","/v1/accounts:signUp",ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ai._fromIdTokenResponse(e,i,o),u=f0(i);return new Qs({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=f0(i);return new Qs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function f0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Un{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new cd(e,t,i,o)}}function bT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(n,a,e,i):a})}async function hA(n,e,t=!1){const i=await Ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e,t=!1){const{auth:i}=n;if(Sn(i.app))return Promise.reject(ui(i));const o="reauthenticate";try{const a=await Ml(n,bT(i,o,e,n),t);Ne(a.idToken,i,"internal-error");const u=Km(a.idToken);Ne(u,i,"internal-error");const{sub:f}=u;return Ne(n.uid===f,i,"user-mismatch"),Qs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&wr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(n,e,t=!1){if(Sn(n.app))return Promise.reject(ui(n));const i="signIn",o=await bT(n,i,e),a=await Qs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function mA(n,e){return kT(io(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(n){const e=io(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gA(n,e,t){if(Sn(n.app))return Promise.reject(ui(n));const i=io(n),u=await Vp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fA).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&CT(n),h}),f=await Qs._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function yA(n,e,t){return Sn(n.app)?Promise.reject(ui(n)):mA(ut(n),wa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&CT(n),i})}function vA(n,e,t,i){return ut(n).onIdTokenChanged(e,t,i)}function _A(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function wA(n,e,t,i){return ut(n).onAuthStateChanged(e,t,i)}function EA(n){return ut(n).signOut()}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1e3,SA=10;class PT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);U1()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},TA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const IA=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RT.type="SESSION";const AT=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Kd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await bA(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=Xm("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===m)switch(O.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(O.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function CA(n){Vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function xA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function RA(){return NT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",AA=1,fd="firebaseLocalStorage",DT="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gd(n,e){return n.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function NA(){const n=indexedDB.deleteDatabase(OT);return new Jl(n).toPromise()}function jp(){const n=indexedDB.open(OT,AA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(fd,{keyPath:DT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(fd)?e(i):(i.close(),await NA(),e(await jp()))})})}async function h0(n,e,t){const i=Gd(n,!0).put({[DT]:e,value:t});return new Jl(i).toPromise()}async function OA(n,e){const t=Gd(n,!1).get(e),i=await new Jl(t).toPromise();return i===void 0?null:i.value}function p0(n,e){const t=Gd(n,!0).delete(e);return new Jl(t).toPromise()}const DA=800,LA=3;class LT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>LA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(RA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xA(),!this.activeServiceWorker)return;this.sender=new kA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await h0(e,dd,"1"),await p0(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>h0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>OA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Gd(o,!1).getAll();return new Jl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LT.type="LOCAL";const MA=LT;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,e){return e?li(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jA(n){return kT(n.auth,new Jm(n),n.bypassAuthState)}function FA(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),pA(t,new Jm(n),n.bypassAuthState)}async function UA(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),hA(t,new Jm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jA;case"linkViaPopup":case"linkViaRedirect":return UA;case"reauthViaPopup":case"reauthViaRedirect":return FA;default:wr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Ql(2e3,1e4);class Xo extends MT{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zA.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="pendingRedirect",Oc=new Map;class BA extends MT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const i=await qA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qA(n,e){const t=KA(e),i=WA(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function HA(n,e){Oc.set(n._key(),e)}function WA(n){return li(n._redirectPersistence)}function KA(n){return Nc($A,n.config.apiKey,n.name)}async function GA(n,e,t=!1){if(Sn(n.app))return Promise.reject(ui(n));const i=io(n),o=VA(i,e),u=await new BA(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=10*60*1e3;class YA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!VT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QA&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(n,e={}){return fs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eN=/^https?/;async function tN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await JA(n);for(const t of e)try{if(nN(t))return}catch{}wr(n,"unauthorized-domain")}function nN(n){const e=Lp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!eN.test(t))return!1;if(ZA.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Ql(3e4,6e4);function g0(){const n=Vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iN(n){return new Promise((e,t)=>{var i,o,a;function u(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),t(Mr(n,"network-request-failed"))},timeout:rN.get()})}if(!((o=(i=Vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Vr().gapi)===null||a===void 0)&&a.load)u();else{const f=Q1("iframefcb");return Vr()[f]=()=>{gapi.load?u():t(Mr(n,"network-request-failed"))},ET(`${G1()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function sN(n){return Dc=Dc||iN(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new Ql(5e3,15e3),aN="__/auth/iframe",lN="emulator/auth/iframe",uN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dN(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wm(e,lN):`https://${n.config.authDomain}/${aN}`,i={apiKey:e.apiKey,appName:n.name,v:to},o=cN.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${zl(i).slice(1)}`}async function fN(n){const e=await sN(n),t=Vr().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:dN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uN,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Mr(n,"network-request-failed"),f=Vr().setTimeout(()=>{a(u)},oN.get());function h(){Vr().clearTimeout(f),o(i)}i.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pN=500,mN=600,gN="_blank",yN="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vN(n,e,t,i=pN,o=mN){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},hN),{width:i.toString(),height:o.toString(),top:a,left:u}),m=rn().toLowerCase();t&&(f=pT(m)?gN:t),fT(m)&&(e=e||yN,h.scrollbars="yes");const v=Object.entries(h).reduce((O,[L,H])=>`${O}${L}=${H},`,"");if(F1(m)&&f!=="_self")return _N(e||"",f),new y0(null);const S=window.open(e||"",f,v);Ne(S,n,"popup-blocked");try{S.focus()}catch{}return new y0(S)}function _N(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__/auth/handler",EN="emulator/auth/handler",TN=encodeURIComponent("fac");async function v0(n,e,t,i,o,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:to,eventId:o};if(e instanceof IT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Bk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))u[v]=S}if(e instanceof Xl){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${TN}=${encodeURIComponent(h)}`:"";return`${SN(n)}?${zl(f).slice(1)}${m}`}function SN({config:n}){return n.emulator?Wm(n,EN):`https://${n.authDomain}/${wN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AT,this._completeRedirectFn=GA,this._overrideRedirectResult=HA}async _openPopup(e,t,i,o){var a;hi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await v0(e,t,i,Lp(),o);return vN(e,u,Xm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await v0(e,t,i,Lp(),o);return CA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(hi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await fN(e),i=new YA(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ip,{type:ip},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[ip];u!==void 0&&t(!!u),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _T()||hT()||Gm()}}const bN=IN;var _0="@firebase/auth",w0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xN(n){Jn(new Fn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(n)},m=new H1(i,o,a,h);return tA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jn(new Fn("auth-internal",e=>{const t=io(e.getProvider("auth").getImmediate());return(i=>new kN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(_0,w0,CN(n)),nn(_0,w0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=5*60,RN=pw("authIdTokenMaxAge")||PN;let E0=null;const AN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>RN)return;const o=t==null?void 0:t.token;E0!==o&&(E0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NN(n=$l()){const e=mi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eA(n,{popupRedirectResolver:bN,persistence:[MA,IA,AT]}),i=pw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=AN(a.toString());_A(t,u,()=>u(t.currentUser)),vA(t,f=>u(f))}}const o=fw("auth");return o&&nA(t,`http://${o}`),t}function ON(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}W1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Mr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",ON().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebasestorage.googleapis.com",DN="storageBucket",LN=2*60*1e3,MN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Un{constructor(e,t,i=0){super(sp(e),`Firebase Storage: ${t} (${sp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function sp(n){return"storage/"+n}function VN(){const n="An unknown error occurred, please check the error payload for server response.";return new Br(Fr.UNKNOWN,n)}function jN(){return new Br(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FN(){return new Br(Fr.CANCELED,"User canceled the upload/download.")}function UN(n){return new Br(Fr.INVALID_URL,"Invalid URL '"+n+"'.")}function zN(n){return new Br(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function T0(n){return new Br(Fr.INVALID_ARGUMENT,n)}function FT(){return new Br(Fr.APP_DELETED,"The Firebase app was deleted.")}function $N(n){return new Br(Fr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=yr.makeFromUrl(e,t)}catch{return new yr(e,"")}if(i.path==="")return i;throw zN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",L=new RegExp(`^https?://${S}/${v}/b/${o}/o${O}`,"i"),H={bucket:1,path:3},V=t===jT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",W=new RegExp(`^https?://${V}/${o}/${z}`,"i"),X=[{regex:f,indices:h,postModify:a},{regex:L,indices:H,postModify:m},{regex:W,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<X.length;re++){const j=X[re],$=j.regex.exec(e);if($){const P=$[j.indices.bucket];let x=$[j.indices.path];x||(x=""),i=new yr(P,x),j.postModify(i);break}}if(i==null)throw UN(e);return i}}class BN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n,e,t){let i=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(...z){m||(m=!0,e.apply(null,z))}function S(z){o=setTimeout(()=>{o=null,n(L,h())},z)}function O(){a&&clearTimeout(a)}function L(z,...W){if(m){O();return}if(z){O(),v.call(null,z,...W);return}if(h()||u){O(),v.call(null,z,...W);return}i<64&&(i*=2);let X;f===1?(f=2,X=0):X=(i+Math.random())*1e3,S(X)}let H=!1;function V(z){H||(H=!0,O(),!m&&(o!==null?(z||(f=2),clearTimeout(o),S(0)):z||(f=1)))}return S(0),a=setTimeout(()=>{u=!0,V(!0)},t),V}function HN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n){return n!==void 0}function S0(n,e,t,i){if(i<e)throw T0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw T0(`Invalid value for '${n}'. Expected ${t} or less.`)}function KN(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var hd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(hd||(hd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,i,o,a,u,f,h,m,v,S,O=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=S,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,H)=>{this.resolve_=L,this.reject_=H,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Sc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===hd.NO_ERROR,h=a.getStatus();if(!f||GN(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===hd.ABORT;i(!1,new Sc(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;i(!0,new Sc(m,a))})},t=(i,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());WN(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=VN();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?FT():FN();u(h)}else{const h=jN();u(h)}};this.canceled_?t(!1,new Sc(!1,null,!0)):this.backoffId_=qN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function YN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function eO(n,e,t,i,o,a,u=!0){const f=KN(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return JN(m,e),YN(m,t),XN(m,a),ZN(m,i),new QN(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function nO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this._service=e,t instanceof yr?this._location=t:this._location=yr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pd(e,t)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nO(this._location.path)}get storage(){return this._service}get parent(){const e=tO(this._location.path);if(e===null)return null;const t=new yr(this._location.bucket,e);return new pd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $N(e)}}function I0(n,e){const t=e==null?void 0:e[DN];return t==null?null:yr.makeFromBucketSpec(t,n)}function rO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:mw(o,n.app.options.projectId))}class iO{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=jT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LN,this._maxUploadRetryTime=MN,this._requests=new Set,o!=null?this._bucket=yr.makeFromBucketSpec(o,this._host):this._bucket=I0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=I0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pd(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new BN(FT());{const u=eO(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const b0="@firebase/storage",k0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="storage";function sO(n=$l(),e){n=ut(n);const i=mi(n,UT).getImmediate({identifier:e}),o=em("storage");return o&&oO(i,...o),i}function oO(n,e,t,i={}){rO(n,e,t,i)}function aO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new iO(t,i,o,e,to)}function lO(){Jn(new Fn(UT,aO,"PUBLIC").setMultipleInstances(!0)),nn(b0,k0,""),nn(b0,k0,"esm2017")}lO();const zT="@firebase/installations",Zm="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1e4,BT=`w:${Zm}`,qT="FIS_v2",uO="https://firebaseinstallations.googleapis.com/v1",cO=60*60*1e3,dO="installations",fO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new eo(dO,fO,hO);function HT(n){return n instanceof Un&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT({projectId:n}){return`${uO}/projects/${n}/installations`}function KT(n){return{token:n.token,requestStatus:2,expiresIn:mO(n.expiresIn),creationTime:Date.now()}}async function GT(n,e){const i=(await e.json()).error;return Ys.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function QT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pO(n,{refreshToken:e}){const t=QT(n);return t.append("Authorization",gO(e)),t}async function YT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function mO(n){return Number(n.replace("s","000"))}function gO(n){return`${qT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=WT(n),o=QT(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:qT,appId:n.appId,sdkVersion:BT},f={method:"POST",headers:o,body:JSON.stringify(u)},h=await YT(()=>fetch(i,f));if(h.ok){const m=await h.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:KT(m.authToken)}}else throw await GT("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=/^[cdef][\w-]{21}$/,Fp="";function wO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=EO(n);return _O.test(t)?t:Fp}catch{return Fp}}function EO(n){return vO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;function ZT(n,e){const t=Qd(n);eS(t,e),TO(t,e)}function eS(n,e){const t=JT.get(n);if(t)for(const i of t)i(e)}function TO(n,e){const t=SO();t&&t.postMessage({key:n,fid:e}),IO()}let Bs=null;function SO(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=n=>{eS(n.data.key,n.data.fid)}),Bs}function IO(){JT.size===0&&Bs&&(Bs.close(),Bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="firebase-installations-database",kO=1,Xs="firebase-installations-store";let op=null;function eg(){return op||(op=Ew(bO,kO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Xs)}}})),op}async function md(n,e){const t=Qd(n),o=(await eg()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&ZT(n,e.fid),e}async function tS(n){const e=Qd(n),i=(await eg()).transaction(Xs,"readwrite");await i.objectStore(Xs).delete(e),await i.done}async function Yd(n,e){const t=Qd(n),o=(await eg()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),u=await a.get(t),f=e(u);return f===void 0?await a.delete(t):await a.put(f,t),await o.done,f&&(!u||u.fid!==f.fid)&&ZT(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tg(n){let e;const t=await Yd(n.appConfig,i=>{const o=CO(i),a=xO(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Fp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function CO(n){const e=n||{fid:wO(),registrationStatus:0};return nS(e)}function xO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=PO(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RO(n)}:{installationEntry:e}}async function PO(n,e){try{const t=await yO(n,e);return md(n.appConfig,t)}catch(t){throw HT(t)&&t.customData.serverCode===409?await tS(n.appConfig):await md(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function RO(n){let e=await C0(n.appConfig);for(;e.registrationStatus===1;)await XT(100),e=await C0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await tg(n);return i||t}return e}function C0(n){return Yd(n,e=>{if(!e)throw Ys.create("installation-not-found");return nS(e)})}function nS(n){return AO(n)?{fid:n.fid,registrationStatus:0}:n}function AO(n){return n.registrationStatus===1&&n.registrationTime+$T<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO({appConfig:n,heartbeatServiceProvider:e},t){const i=OO(n,t),o=pO(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:BT,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(u)},h=await YT(()=>fetch(i,f));if(h.ok){const m=await h.json();return KT(m)}else throw await GT("Generate Auth Token",h)}function OO(n,{fid:e}){return`${WT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(n,e=!1){let t;const i=await Yd(n.appConfig,a=>{if(!rS(a))throw Ys.create("not-registered");const u=a.authToken;if(!e&&MO(u))return a;if(u.requestStatus===1)return t=DO(n,e),a;{if(!navigator.onLine)throw Ys.create("app-offline");const f=jO(a);return t=LO(n,f),f}});return t?await t:i.authToken}async function DO(n,e){let t=await x0(n.appConfig);for(;t.authToken.requestStatus===1;)await XT(100),t=await x0(n.appConfig);const i=t.authToken;return i.requestStatus===0?ng(n,e):i}function x0(n){return Yd(n,e=>{if(!rS(e))throw Ys.create("not-registered");const t=e.authToken;return FO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function LO(n,e){try{const t=await NO(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await md(n.appConfig,i),t}catch(t){if(HT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await tS(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await md(n.appConfig,i)}throw t}}function rS(n){return n!==void 0&&n.registrationStatus===2}function MO(n){return n.requestStatus===2&&!VO(n)}function VO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+cO}function jO(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function FO(n){return n.requestStatus===1&&n.requestTime+$T<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n){const e=n,{installationEntry:t,registrationPromise:i}=await tg(e);return i?i.catch(console.error):ng(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(n,e=!1){const t=n;return await $O(t),(await ng(t,e)).token}async function $O(n){const{registrationPromise:e}=await tg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(n){if(!n||!n.options)throw ap("App Configuration");if(!n.name)throw ap("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw ap(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function ap(n){return Ys.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="installations",qO="installations-internal",HO=n=>{const e=n.getProvider("app").getImmediate(),t=BO(e),i=mi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},WO=n=>{const e=n.getProvider("app").getImmediate(),t=mi(e,iS).getImmediate();return{getId:()=>UO(t),getToken:o=>zO(t,o)}};function KO(){Jn(new Fn(iS,HO,"PUBLIC")),Jn(new Fn(qO,WO,"PRIVATE"))}KO();nn(zT,Zm);nn(zT,Zm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="analytics",GO="firebase_id",QO="origin",YO=60*1e3,XO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new bd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new eo("analytics","Analytics",JO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n){if(!n.startsWith(rg)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return kn.warn(e.message),""}return n}function sS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eD(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tD(n,e){const t=eD("firebase-js-sdk-policy",{createScriptURL:ZO}),i=document.createElement("script"),o=`${rg}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function nD(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rD(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const h=(await sS(t)).find(m=>m.measurementId===o);h&&await e[h.appId]}}catch(f){kn.error(f)}n("config",o,a)}async function iD(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const f=await sS(t);for(const h of u){const m=f.find(S=>S.measurementId===h),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){kn.error(a)}}function sD(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[f,h]=u;await iD(n,e,t,f,h)}else if(a==="config"){const[f,h]=u;await rD(n,e,t,i,f,h)}else if(a==="consent"){const[f,h]=u;n("consent",f,h)}else if(a==="get"){const[f,h,m]=u;n("get",f,h,m)}else if(a==="set"){const[f]=u;n("set",f)}else n(a,...u)}catch(f){kn.error(f)}}return o}function oD(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=sD(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function aD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(rg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=30,uD=1e3;class cD{constructor(e={},t=uD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oS=new cD;function dD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function fD(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:dD(i)},a=XO.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let f="";try{const h=await u.json();!((e=h.error)===null||e===void 0)&&e.message&&(f=h.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function hD(n,e=oS,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw Vn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Vn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new gD;return setTimeout(async()=>{f.abort()},YO),aS({appId:i,apiKey:o,measurementId:a},u,f,e)}async function aS(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=oS){var a;const{appId:u,measurementId:f}=n;try{await pD(i,e)}catch(h){if(f)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:u,measurementId:f};throw h}try{const h=await fD(n);return o.deleteThrottleMetadata(u),h}catch(h){const m=h;if(!mD(m)){if(o.deleteThrottleMetadata(u),f)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:f};throw h}const v=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?Yv(t,o.intervalMillis,lD):Yv(t,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(u,S),kn.debug(`Calling attemptFetch again in ${v} millis`),aS(n,S,i,o)}}function pD(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mD(n){if(!(n instanceof Un)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yD(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(){if(yw())try{await vw()}catch(n){return kn.warn(Vn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return kn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _D(n,e,t,i,o,a,u){var f;const h=hD(n);h.then(L=>{t[L.measurementId]=L.appId,n.options.measurementId&&L.measurementId!==n.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>kn.error(L)),e.push(h);const m=vD().then(L=>{if(L)return i.getId()}),[v,S]=await Promise.all([h,m]);aD(a)||tD(a,v.measurementId),o("js",new Date);const O=(f=u==null?void 0:u.config)!==null&&f!==void 0?f:{};return O[QO]="firebase",O.update=!0,S!=null&&(O[GO]=S),o("config",v.measurementId,O),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.app=e}_delete(){return delete bl[this.app.options.appId],Promise.resolve()}}let bl={},P0=[];const R0={};let lp="dataLayer",ED="gtag",A0,lS,N0=!1;function TD(){const n=[];if(gw()&&n.push("This is a browser extension environment."),Fk()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});kn.warn(t.message)}}function SD(n,e,t){TD();const i=n.options.appId;if(!i)throw Vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(bl[i]!=null)throw Vn.create("already-exists",{id:i});if(!N0){nD(lp);const{wrappedGtag:a,gtagCore:u}=oD(bl,P0,R0,lp,ED);lS=a,A0=u,N0=!0}return bl[i]=_D(n,P0,R0,e,A0,lp,t),new wD(n)}function ID(n=$l()){n=ut(n);const e=mi(n,gd);return e.isInitialized()?e.getImmediate():bD(n)}function bD(n,e={}){const t=mi(n,gd);if(t.isInitialized()){const o=t.getImmediate();if(es(e,t.getOptions()))return o;throw Vn.create("already-initialized")}return t.initialize({options:e})}function kD(n,e,t,i){n=ut(n),yD(lS,bl[n.app.options.appId],e,t,i).catch(o=>kn.error(o))}const O0="@firebase/analytics",D0="0.10.12";function CD(){Jn(new Fn(gd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return SD(i,o,t)},"PUBLIC")),Jn(new Fn("analytics-internal",n,"PRIVATE")),nn(O0,D0),nn(O0,D0,"esm2017");function n(e){try{const t=e.getProvider(gd).getImmediate();return{logEvent:(i,o,a)=>kD(t,i,o,a)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}CD();const xD={apiKey:"AIzaSyCG_qXbdnlbUIa1QYkzkzto1L8SXFdLLN8",authDomain:"ecommerce-pc-parts.firebaseapp.com",projectId:"ecommerce-pc-parts",storageBucket:"ecommerce-pc-parts.firebasestorage.app",messagingSenderId:"153204523621",appId:"1:153204523621:web:4b1e4bde73cf058b6dfc8c",measurementId:"G-QJTMEYB4PD"},Xd=Tw(xD),cn=JR(Xd),Ic=NN(Xd);sO(Xd);ID(Xd);function uS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=uS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function qs(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=uS(n))&&(i&&(i+=" "),i+=e);return i}function PD(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}PD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Zl=n=>typeof n=="number"&&!isNaN(n),Js=n=>typeof n=="string",pi=n=>typeof n=="function",RD=n=>Js(n)||Zl(n),Up=n=>Js(n)||pi(n)?n:null,AD=(n,e)=>n===!1||Zl(n)&&n>0?n:e,zp=n=>ee.isValidElement(n)||Js(n)||pi(n)||Zl(n);function ND(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function OD({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:f,done:h,nodeRef:m,isIn:v,playToast:S}){let O=t?`${n}--${u}`:n,L=t?`${e}--${u}`:e,H=ee.useRef(0);return ee.useLayoutEffect(()=>{let V=m.current,z=O.split(" "),W=J=>{J.target===m.current&&(S(),V.removeEventListener("animationend",W),V.removeEventListener("animationcancel",W),H.current===0&&J.type!=="animationcancel"&&V.classList.remove(...z))};V.classList.add(...z),V.addEventListener("animationend",W),V.addEventListener("animationcancel",W)},[]),ee.useEffect(()=>{let V=m.current,z=()=>{V.removeEventListener("animationend",z),i?ND(V,h,o):h()};v||(f?z():(H.current=1,V.className+=` ${L}`,V.addEventListener("animationend",z)))},[v]),rt.createElement(rt.Fragment,null,a)}}function L0(n,e){return{content:cS(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function cS(n,e,t=!1){return ee.isValidElement(n)&&!Js(n.type)?ee.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):pi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function DD({closeToast:n,theme:e,ariaLabel:t="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LD({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:f,rtl:h,isIn:m,theme:v}){let S=o||u&&f===0,O={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(O.transform=`scaleX(${f})`);let L=qs("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),H=pi(a)?a({rtl:h,type:i,defaultClassName:L}):qs(L,a),V={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{m&&t()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),rt.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:H,style:O,...V}))}var MD=1,dS=()=>`${MD++}`;function VD(n,e,t){let i=1,o=0,a=[],u=[],f=e,h=new Map,m=new Set,v=J=>(m.add(J),()=>m.delete(J)),S=()=>{u=Array.from(h.values()),m.forEach(J=>J())},O=({containerId:J,toastId:X,updateId:re})=>{let j=J?J!==n:n!==1,$=h.has(X)&&re==null;return j||$},L=(J,X)=>{h.forEach(re=>{var j;(X==null||X===re.props.toastId)&&((j=re.toggle)==null||j.call(re,J))})},H=J=>{var X,re;(re=(X=J.props)==null?void 0:X.onClose)==null||re.call(X,J.removalReason),J.isActive=!1},V=J=>{if(J==null)h.forEach(H);else{let X=h.get(J);X&&H(X)}S()},z=()=>{o-=a.length,a=[]},W=J=>{var X,re;let{toastId:j,updateId:$}=J.props,P=$==null;J.staleId&&h.delete(J.staleId),J.isActive=!0,h.set(j,J),S(),t(L0(J,P?"added":"updated")),P&&((re=(X=J.props).onOpen)==null||re.call(X))};return{id:n,props:f,observe:v,toggle:L,removeToast:V,toasts:h,clearQueue:z,buildToast:(J,X)=>{if(O(X))return;let{toastId:re,updateId:j,data:$,staleId:P,delay:x}=X,I=j==null;I&&o++;let w={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(X).filter(([D,k])=>k!=null)),toastId:re,updateId:j,data:$,isIn:!1,className:Up(X.className||f.toastClassName),progressClassName:Up(X.progressClassName||f.progressClassName),autoClose:X.isLoading?!1:AD(X.autoClose,f.autoClose),closeToast(D){h.get(re).removalReason=D,V(re)},deleteToast(){let D=h.get(re);if(D!=null){if(t(L0(D,"removed")),h.delete(re),o--,o<0&&(o=0),a.length>0){W(a.shift());return}S()}}};w.closeButton=f.closeButton,X.closeButton===!1||zp(X.closeButton)?w.closeButton=X.closeButton:X.closeButton===!0&&(w.closeButton=zp(f.closeButton)?f.closeButton:!0);let N={content:J,props:w,staleId:P};f.limit&&f.limit>0&&o>f.limit&&I?a.push(N):Zl(x)?setTimeout(()=>{W(N)},x):W(N)},setProps(J){f=J},setToggle:(J,X)=>{let re=h.get(J);re&&(re.toggle=X)},isToastActive:J=>{var X;return(X=h.get(J))==null?void 0:X.isActive},getSnapshot:()=>u}}var dn=new Map,jl=[],$p=new Set,jD=n=>$p.forEach(e=>e(n)),fS=()=>dn.size>0;function FD(){jl.forEach(n=>pS(n.content,n.options)),jl=[]}var UD=(n,{containerId:e})=>{var t;return(t=dn.get(e||1))==null?void 0:t.toasts.get(n)};function hS(n,e){var t;if(e)return!!((t=dn.get(e))!=null&&t.isToastActive(n));let i=!1;return dn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function zD(n){if(!fS()){jl=jl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||RD(n))dn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=dn.get(n.containerId);e?e.removeToast(n.id):dn.forEach(t=>{t.removeToast(n.id)})}}var $D=(n={})=>{dn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function pS(n,e){zp(n)&&(fS()||jl.push({content:n,options:e}),dn.forEach(t=>{t.buildToast(n,e)}))}function BD(n){var e;(e=dn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function mS(n,e){dn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function qD(n){let e=n.containerId||1;return{subscribe(t){let i=VD(e,n,jD);dn.set(e,i);let o=i.observe(t);return FD(),()=>{o(),dn.delete(e)}},setProps(t){var i;(i=dn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=dn.get(e))==null?void 0:t.getSnapshot()}}}function HD(n){return $p.add(n),()=>{$p.delete(n)}}function WD(n){return n&&(Js(n.toastId)||Zl(n.toastId))?n.toastId:dS()}function eu(n,e){return pS(n,e),e.toastId}function Jd(n,e){return{...e,type:e&&e.type||n,toastId:WD(e)}}function Zd(n){return(e,t)=>eu(e,Jd(n,t))}function Me(n,e){return eu(n,Jd("default",e))}Me.loading=(n,e)=>eu(n,Jd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function KD(n,{pending:e,error:t,success:i},o){let a;e&&(a=Js(e)?Me.loading(e,o):Me.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(m,v,S)=>{if(v==null){Me.dismiss(a);return}let O={type:m,...u,...o,data:S},L=Js(v)?{render:v}:v;return a?Me.update(a,{...O,...L}):Me(L.render,{...O,...L}),S},h=pi(n)?n():n;return h.then(m=>f("success",i,m)).catch(m=>f("error",t,m)),h}Me.promise=KD;Me.success=Zd("success");Me.info=Zd("info");Me.error=Zd("error");Me.warning=Zd("warning");Me.warn=Me.warning;Me.dark=(n,e)=>eu(n,Jd("default",{theme:"dark",...e}));function GD(n){zD(n)}Me.dismiss=GD;Me.clearWaitingQueue=$D;Me.isActive=hS;Me.update=(n,e={})=>{let t=UD(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:dS()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,eu(u,a)}};Me.done=n=>{Me.update(n,{progress:1})};Me.onChange=HD;Me.play=n=>mS(!0,n);Me.pause=n=>mS(!1,n);function QD(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=ee.useRef(qD(n)).current;o(n);let a=(e=ee.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(f){if(!a)return[];let h=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:v}=m.props;h.has(v)||h.set(v,[]),h.get(v).push(m)}),Array.from(h,m=>f(m[0],m[1]))}return{getToastToRender:u,isToastActive:hS,count:a==null?void 0:a.length}}function YD(n){let[e,t]=ee.useState(!1),[i,o]=ee.useState(!1),a=ee.useRef(null),u=ee.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:m,onClick:v,closeOnClick:S}=n;BD({id:n.toastId,containerId:n.containerId,fn:t}),ee.useEffect(()=>{if(n.pauseOnFocusLoss)return O(),()=>{L()}},[n.pauseOnFocusLoss]);function O(){document.hasFocus()||W(),window.addEventListener("focus",z),window.addEventListener("blur",W)}function L(){window.removeEventListener("focus",z),window.removeEventListener("blur",W)}function H(P){if(n.draggable===!0||n.draggable===P.pointerType){J();let x=a.current;u.canCloseOnClick=!0,u.canDrag=!0,x.style.transition="none",n.draggableDirection==="x"?(u.start=P.clientX,u.removalDistance=x.offsetWidth*(n.draggablePercent/100)):(u.start=P.clientY,u.removalDistance=x.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function V(P){let{top:x,bottom:I,left:w,right:N}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=w&&P.clientX<=N&&P.clientY>=x&&P.clientY<=I?W():z()}function z(){t(!0)}function W(){t(!1)}function J(){u.didMove=!1,document.addEventListener("pointermove",re),document.addEventListener("pointerup",j)}function X(){document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",j)}function re(P){let x=a.current;if(u.canDrag&&x){u.didMove=!0,e&&W(),n.draggableDirection==="x"?u.delta=P.clientX-u.start:u.delta=P.clientY-u.start,u.start!==P.clientX&&(u.canCloseOnClick=!1);let I=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;x.style.transform=`translate3d(${I},0)`,x.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function j(){X();let P=a.current;if(u.canDrag&&u.didMove&&P){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let $={onPointerDown:H,onPointerUp:V};return f&&h&&($.onMouseEnter=W,n.stacked||($.onMouseLeave=z)),S&&($.onClick=P=>{v&&v(P),u.canCloseOnClick&&m(!0)}),{playToast:z,pauseToast:W,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:$}}var XD=typeof window<"u"?ee.useLayoutEffect:ee.useEffect,ef=({theme:n,type:e,isLoading:t,...i})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function JD(n){return rt.createElement(ef,{...n},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ZD(n){return rt.createElement(ef,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function e2(n){return rt.createElement(ef,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function t2(n){return rt.createElement(ef,{...n},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function n2(){return rt.createElement("div",{className:"Toastify__spinner"})}var Bp={info:ZD,warning:JD,success:e2,error:t2,spinner:n2},r2=n=>n in Bp;function i2({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(pi(i)?o=i({...a,isLoading:t}):ee.isValidElement(i)?o=ee.cloneElement(i,a):t?o=Bp.spinner():r2(e)&&(o=Bp[e](a))),o}var s2=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=YD(n),{closeButton:u,children:f,autoClose:h,onClick:m,type:v,hideProgressBar:S,closeToast:O,transition:L,position:H,className:V,style:z,progressClassName:W,updateId:J,role:X,progress:re,rtl:j,toastId:$,deleteToast:P,isIn:x,isLoading:I,closeOnClick:w,theme:N,ariaLabel:D}=n,k=qs("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":w}),Q=pi(V)?V({rtl:j,position:H,type:v,defaultClassName:k}):qs(k,V),pe=i2(n),fe=!!re||!h,T={closeToast:O,type:v,theme:N},se=null;return u===!1||(pi(u)?se=u(T):ee.isValidElement(u)?se=ee.cloneElement(u,T):se=DD(T)),rt.createElement(L,{isIn:x,done:P,position:H,preventExitTransition:t,nodeRef:i,playToast:a},rt.createElement("div",{id:$,tabIndex:0,onClick:m,"data-in":x,className:Q,...o,style:z,ref:i,...x&&{role:X,"aria-label":D}},pe!=null&&rt.createElement("div",{className:qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},pe),cS(f,n,!e),se,!n.customProgressBar&&rt.createElement(LD,{...J&&!fe?{key:`p-${J}`}:{},rtl:j,theme:N,delay:h,isRunning:e,isIn:x,closeToast:O,hide:S,type:v,className:W,controlledProgress:fe,progress:re||0})))},o2=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),a2=OD(o2("bounce",!0)),l2={position:"top-right",transition:a2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function u2(n){let e={...l2,...n},t=n.stacked,[i,o]=ee.useState(!0),a=ee.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=QD(e),{className:m,style:v,rtl:S,containerId:O,hotKeys:L}=e;function H(z){let W=qs("Toastify__toast-container",`Toastify__toast-container--${z}`,{"Toastify__toast-container--rtl":S});return pi(m)?m({position:z,rtl:S,defaultClassName:W}):qs(W,Up(m))}function V(){t&&(o(!0),Me.play())}return XD(()=>{var z;if(t){let W=a.current.querySelectorAll('[data-in="true"]'),J=12,X=(z=e.position)==null?void 0:z.includes("top"),re=0,j=0;Array.from(W).reverse().forEach(($,P)=>{let x=$;x.classList.add("Toastify__toast--stacked"),P>0&&(x.dataset.collapsed=`${i}`),x.dataset.pos||(x.dataset.pos=X?"top":"bot");let I=re*(i?.2:1)+(i?0:J*P);x.style.setProperty("--y",`${X?I:I*-1}px`),x.style.setProperty("--g",`${J}`),x.style.setProperty("--s",`${1-(i?j:0)}`),re+=x.offsetHeight,j+=.025})}},[i,h,t]),ee.useEffect(()=>{function z(W){var J;let X=a.current;L(W)&&((J=X.querySelector('[tabIndex="0"]'))==null||J.focus(),o(!1),Me.pause()),W.key==="Escape"&&(document.activeElement===X||X!=null&&X.contains(document.activeElement))&&(o(!0),Me.play())}return document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)}},[L]),rt.createElement("section",{ref:a,className:"Toastify",id:O,onMouseEnter:()=>{t&&(o(!1),Me.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((z,W)=>{let J=W.length?{...v}:{...v,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:H(z),"data-stacked":t,style:J,key:`c-${z}`},W.map(({content:X,props:re})=>rt.createElement(s2,{...re,stacked:t,collapseAll:V,isIn:f(re.toastId,re.containerId),key:`t-${re.key}`},X)))}))}const gS=ee.createContext(void 0),c2=({children:n})=>{const[e,t]=ee.useState([]),[i,o]=ee.useState(null),a=v=>{const S=e.find(L=>L.id===v.id),O=S?S.quantity:0;if(v.stock!==void 0&&O>=v.stock){Me.error(`No hay ms stock disponible para ${v.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}o(v),t(L=>S?L.map(H=>H.id===v.id?{...H,quantity:H.quantity+1}:H):[...L,{...v,quantity:1}])},u=v=>{const S=e.find(O=>O.id===v);if(S){if(S.stock!==void 0&&S.quantity>=S.stock){Me.error(`No hay ms stock disponible para ${S.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}t(O=>O.map(L=>L.id===v?{...L,quantity:L.quantity+1}:L))}},f=v=>{t(S=>{const O=S.find(L=>L.id===v);return O&&O.quantity>1?S.map(L=>L.id===v?{...L,quantity:L.quantity-1}:L):S.filter(L=>L.id!==v)})},h=v=>{t(S=>{const O=S.find(L=>L.id===v);return O&&O.quantity>1?S.map(L=>L.id===v?{...L,quantity:L.quantity-1}:L):S.filter(L=>L.id!==v)})},m=()=>{t([])};return ee.useEffect(()=>{if(i){const v=e.find(S=>S.id===i.id);v?Me.success(`${i.name} aadido al carrito (x${v.quantity})`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):Me.success(`${i.name} aadido al carrito`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),o(null)}},[e,i]),R.jsx(gS.Provider,{value:{cartItems:e,addToCart:a,removeFromCart:h,clearCart:m,increaseQuantity:u,decreaseQuantity:f},children:n})},qr=()=>{const n=ee.useContext(gS);if(!n)throw new Error("useCart must be used within a CartProvider");return n},jn=n=>n.toLocaleString("es-CO",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),d2=()=>{const[n,e]=ee.useState([]),t=hn(),{addToCart:i}=qr();ee.useEffect(()=>{const u=_a(Zn(cn,"products"),jm("sales","desc"),Um(4)),f=$r(u,h=>{const m=h.docs.map(v=>({id:v.id,...v.data()}));e(m)},h=>{console.error("Error fetching recently viewed products:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a=u=>{i(u)};return R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Recientemente visto"}),n.length>0?R.jsx(Sd,{dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}],children:n.map(u=>R.jsx("div",{className:"p-4",children:R.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),R.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),R.jsxs("div",{className:"mt-auto",children:[R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(u.price)," COP"]}),R.jsx("button",{onClick:()=>a(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]})},u.id))}):R.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos recientes."})]})})},f2=()=>{const[n,e]=ee.useState([]),[t,i]=ee.useState("all"),o=hn(),{addToCart:a}=qr();ee.useEffect(()=>{const m=$r(Zn(cn,"products"),v=>{const S=v.docs.map(O=>({id:O.id,...O.data()}));S.forEach(O=>{console.log(`Producto: ${O.name}, Categora: ${O.category}`)}),e(S)});return()=>m()},[]);const u=["all","Placas Base","tarjetas grficas","procesadores","memoria ram"],f=m=>{o(`/product/${m}`)},h=(m,v)=>m-m*v/100;return R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Productos"}),R.jsxs("div",{className:"mb-6 flex items-center",children:[R.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categora:"}),R.jsx("select",{value:t,onChange:m=>i(m.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button",style:{color:"var(--text-color)"},children:u.map(m=>R.jsx("option",{value:m,className:"",children:m},m))})]}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(m=>{if(t==="all")return!0;const v=m.category?m.category.toLowerCase():"",S=t.toLowerCase();return v===S}).map(m=>R.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>f(m.id)}),R.jsx("h3",{className:"text-lg font-medium text-black truncate",children:m.name})]}),R.jsxs("div",{className:"mt-auto",children:[m.discount&&m.discount>0?R.jsxs("div",{children:[R.jsxs("p",{className:"text-md text-gray-500 line-through text-black mb-1",children:[jn(m.price)," COP"]}),R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(h(m.price,m.discount))," COP"," ",R.jsxs("span",{className:"text-red-500",children:["(-",m.discount,"%)"]})]})]}):R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(m.price)," COP"]}),R.jsx("button",{onClick:()=>a(m),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]},m.id))})]})})},h2=()=>{const[n,e]=ee.useState([]),t=hn(),{addToCart:i}=qr();ee.useEffect(()=>{const u=_a(Zn(cn,"products"),Lm("discount",">",0)),f=$r(u,h=>{const m=h.docs.map(v=>({id:v.id,...v.data()}));e(m)},h=>{console.error("Error fetching offers:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas Especiales"}),n.length>0?R.jsx(Sd,{...a,children:n.map(u=>R.jsx("div",{className:"p-4",children:R.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),R.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),R.jsxs("div",{className:"mt-auto",children:[R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(u.price)," COP ",R.jsxs("span",{className:"text-red-500",children:["(-",u.discount,"%)"]})]}),R.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]})},u.id))}):R.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},p2=()=>{const[n,e]=ee.useState([]),t=hn(),{addToCart:i}=qr();ee.useEffect(()=>{const u=_a(Zn(cn,"products"),jm("sales","desc"),Um(4)),f=$r(u,h=>{const m=h.docs.map(v=>({id:v.id,...v.data()}));e(m)},h=>{console.error("Error fetching top selling products:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ms Vendidos"}),n.length>0?R.jsx(Sd,{...a,children:n.map(u=>R.jsx("div",{className:"p-4",children:R.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),R.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),R.jsxs("div",{className:"mt-auto",children:[R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(u.price)," COP"]}),R.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]})},u.id))}):R.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos ms vendidos."})]})})},m2=()=>R.jsxs("div",{className:"container mx-auto",children:[R.jsx(Ek,{}),R.jsx(d2,{}),R.jsx(h2,{}),R.jsx(p2,{}),R.jsx(f2,{})]}),g2=()=>{const[n,e]=ee.useState([]),t=hn(),{addToCart:i}=qr();ee.useEffect(()=>{const a=_a(Zn(cn,"products"),Lm("discount",">",0)),u=$r(a,f=>{const h=f.docs.map(m=>({id:m.id,...m.data()}));e(h)},f=>{console.error("Error fetching offers:",f)});return()=>u()},[]);const o=a=>{t(`/product/${a}`)};return R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas"}),n.length>0?R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.map(a=>R.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("img",{src:a.image||"/placeholder.jpg",alt:a.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(a.id)}),R.jsx("h3",{className:"text-lg font-medium text-black truncate",children:a.name})]}),R.jsxs("div",{className:"mt-auto",children:[R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(a.price)," COP ",R.jsxs("span",{className:"text-red-500",children:["(-",a.discount,"%)"]})]}),R.jsx("button",{onClick:()=>i(a),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]},a.id))}):R.jsx("p",{style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},y2=()=>{const[n,e]=ee.useState([]),[t,i]=ee.useState("all"),o=hn(),{addToCart:a}=qr();ee.useEffect(()=>{const h=$r(Zn(cn,"products"),m=>{const v=m.docs.map(S=>({id:S.id,...S.data()}));e(v)});return()=>h()},[]);const u=["all","Placas Base","tarjetas grficas","procesadores","memoria ram"],f=h=>{o(`/product/${h}`)};return R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Categoras"}),R.jsxs("div",{className:"mb-6 flex items-center",children:[R.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categora:"}),R.jsx("select",{value:t,onChange:h=>i(h.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button",style:{color:"var(--text-color)"},children:u.map(h=>R.jsx("option",{value:h,className:"text-black",children:h},h))})]}),n.length>0?R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(h=>t==="all"||h.category===t).map(h=>R.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>f(h.id)}),R.jsx("h3",{className:"text-lg font-medium text-black truncate",children:h.name})]}),R.jsxs("div",{className:"mt-auto",children:[R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(h.price)," COP"]}),R.jsx("button",{onClick:()=>a(h),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]},h.id))}):R.jsx("p",{style:{color:"var(--text-color)"},children:"No hay productos disponibles."})]})})},yS=ee.createContext(void 0),v2=({children:n})=>{const[e,t]=ee.useState(null),[i,o]=ee.useState(!0),a=async(m,v)=>{await gA(Ic,m,v)},u=async(m,v)=>{await yA(Ic,m,v)},f=async()=>{await EA(Ic)};ee.useEffect(()=>wA(Ic,v=>{t(v),o(!1)}),[]);const h={currentUser:e,signUp:a,signIn:u,signOutUser:f};return R.jsx(yS.Provider,{value:h,children:!i&&n})},tf=()=>{const n=ee.useContext(yS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},_2=()=>{const{id:n}=hb(),[e,t]=ee.useState(null),[i,o]=ee.useState([]),[a,u]=ee.useState(""),[f,h]=ee.useState(!0),{addToCart:m}=qr(),{currentUser:v}=tf(),S=hn();ee.useEffect(()=>{const L=async()=>{if(n)try{const V=await m1(od(cn,"products",n));V.exists()?t({id:V.id,...V.data()}):console.log("Producto no encontrado:",n)}catch(V){console.error("Error al obtener el producto:",V)}finally{h(!1)}},H=()=>{if(!n)return;const V=Zn(cn,"products",n,"reviews");return $r(V,W=>{const J=W.docs.map(X=>({id:X.id,...X.data()}));o(J)},W=>{console.error("Error al obtener reviews:",W)})};return L(),H()},[n]);const O=async L=>{if(L.preventDefault(),!v){S("/auth");return}if(!(!n||!a.trim()))try{await tT(Zn(cn,"products",n,"reviews"),{userId:v.uid,userEmail:v.email,comment:a.trim(),createdAt:At.fromDate(new Date)}),u("")}catch(H){console.error("Error al enviar la resea:",H)}};return f?R.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):e?R.jsxs("div",{className:"container mx-auto p-6",children:[R.jsx("button",{onClick:()=>S(-1),className:"mb-4 text-[#f90] hover:underline",children:" Volver"}),R.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:e.name}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsx("div",{children:R.jsx("img",{src:e.image||"/placeholder.jpg",alt:e.name,className:"w-full h-96 object-cover rounded-lg"})}),R.jsxs("div",{className:"flex flex-col justify-between",children:[R.jsxs("div",{children:[R.jsxs("p",{className:"text-2xl text-[#f90] mb-4",children:[jn(e.price)," COP"]}),e.discount&&e.discount>0&&R.jsxs("p",{className:"text-md text-red-500 mb-4",children:["Descuento: ",e.discount,"%"]}),R.jsx("p",{className:"mb-4",style:{color:"var(--text-color)"},children:e.description}),R.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[R.jsx("strong",{children:"Categora:"})," ",e.category]}),R.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[R.jsx("strong",{children:"Stock:"})," ",e.stock]}),e.coupon&&R.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[R.jsx("strong",{children:"Cupn:"})," ",e.coupon]})]}),R.jsx("button",{onClick:()=>m(e),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]}),R.jsxs("div",{className:"mt-8",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Reseas"}),i.length>0?R.jsx("div",{className:"space-y-4",children:i.map(L=>R.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[R.jsx("p",{style:{color:"var(--text-color)"},children:R.jsx("strong",{children:L.userEmail})}),R.jsx("p",{style:{color:"var(--text-color)"},children:L.comment}),R.jsx("p",{className:"text-gray-400 text-sm",children:L.createdAt.toDate().toLocaleDateString()})]},L.id))}):R.jsx("p",{style:{color:"var(--text-color)"},children:"No hay reseas todava."}),v&&R.jsxs("form",{onSubmit:O,className:"mt-6 space-y-4",children:[R.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--text-color)"},children:"Deja tu resea"}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Comentario"}),R.jsx("textarea",{value:a,onChange:L=>u(L.target.value),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4,required:!0})]}),R.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Enviar Resea"})]})]})]}):R.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Producto no encontrado"})},w2=()=>{const{cartItems:n,removeFromCart:e,clearCart:t,increaseQuantity:i,decreaseQuantity:o}=qr(),a=hn(),u=n.reduce((h,m)=>h+m.price*m.quantity,0),f=()=>{if(n.length===0){alert("El carrito est vaco. Agrega productos antes de pagar.");return}a("/payment",{state:{total:u,cartItems:n}})};return R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Carrito de Compras"}),n.length>0?R.jsxs("div",{children:[R.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(h=>R.jsxs("div",{className:"flex items-center bg-white p-4 rounded-lg border border-gray-700",children:[R.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"text-lg font-medium text-black",children:h.name}),R.jsxs("p",{className:"text-md text-button text-black",children:[jn(h.price)," COP x ",h.quantity]}),R.jsxs("p",{className:"text-md text-black",children:["Subtotal: ",jn(h.price*h.quantity)," COP"]}),R.jsxs("div",{className:"flex items-center mt-2",children:[R.jsx("button",{onClick:()=>o(h.id),className:"bg-gray-500 text-white px-3 py-1 rounded-md hover:bg-gray-600",children:""}),R.jsx("span",{className:"mx-3 text-black",children:h.quantity}),R.jsx("button",{onClick:()=>i(h.id),className:"bg-gray-500 text-white px-3 py-1 rounded-md hover:bg-gray-600",children:"+"})]})]}),R.jsx("button",{onClick:()=>e(h.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Eliminar"})]},h.id))}),R.jsxs("div",{className:"mt-6 text-right",children:[R.jsxs("p",{className:"text-xl font-semibold",style:{color:"var(--text-color)"},children:["Total: ",jn(u)," COP"]}),R.jsx("button",{onClick:t,className:"mt-4 bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600 mr-4",children:"Limpiar carrito"}),R.jsx("button",{onClick:f,className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Proceder al pago"})]})]}):R.jsx("p",{style:{color:"var(--text-color)"},children:"Tu carrito est vaco."})]})})},E2=()=>{const[n,e]=ee.useState(""),[t,i]=ee.useState(""),[o,a]=ee.useState(""),{signIn:u}=tf(),f=hn(),h=async m=>{m.preventDefault(),a("");try{await u(n,t),f("/")}catch(v){a(v.message)}};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto max-w-md",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4 ",style:{color:"var(--text-color)"},children:"Iniciar Sesin"}),o&&R.jsx("p",{className:"text-red-500 mb-4",children:o}),R.jsxs("form",{onSubmit:h,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1 ",style:{color:"var(--text-color)"},children:"Correo Electrnico"}),R.jsx("input",{type:"email",value:n,onChange:m=>e(m.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Contrasea"}),R.jsx("input",{type:"password",value:t,onChange:m=>i(m.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),R.jsx("button",{type:"submit",className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Iniciar Sesin"})]}),R.jsxs("p",{className:"mt-4 text-center",children:["No tienes una cuenta?"," ",R.jsx(zi,{to:"/auth/register",className:"text-[#f90] hover:underline",children:"Regstrate"})]})]})})},T2=()=>{const{currentUser:n}=tf(),e=hn(),[t,i]=ee.useState([]),[o,a]=ee.useState({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""});ee.useEffect(()=>{if(!n||n.email!=="admin@example.com"){e("/");return}const m=$r(Zn(cn,"products"),v=>{const S=v.docs.map(O=>({id:O.id,...O.data()}));i(S)});return()=>m()},[n,e]);const u=async m=>{m.preventDefault();try{await tT(Zn(cn,"products"),o),a({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""})}catch(v){console.error("Error al aadir producto:",v)}},f=async m=>{try{await y1(od(cn,"products",m))}catch(v){console.error("Error al eliminar producto:",v)}},h=async(m,v)=>{try{await g1(od(cn,"products",m),{stock:v})}catch(S){console.error("Error al actualizar stock:",S)}};return!n||n.email!=="admin@example.com"?null:R.jsx("div",{className:"p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Panel Administrativo"}),R.jsxs("div",{className:"mb-8",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Aadir Producto"}),R.jsxs("form",{onSubmit:u,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Nombre"}),R.jsx("input",{type:"text",value:o.name,onChange:m=>a({...o,name:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Precio"}),R.jsx("input",{type:"number",value:o.price,onChange:m=>a({...o,price:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Imagen (URL)"}),R.jsx("input",{type:"text",value:o.image,onChange:m=>a({...o,image:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Categora"}),R.jsx("input",{type:"text",value:o.category,onChange:m=>a({...o,category:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descripcin"}),R.jsx("textarea",{value:o.description,onChange:m=>a({...o,description:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descuento (%)"}),R.jsx("input",{type:"number",value:o.discount,onChange:m=>a({...o,discount:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Ventas"}),R.jsx("input",{type:"number",value:o.sales,onChange:m=>a({...o,sales:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Stock"}),R.jsx("input",{type:"number",value:o.stock,onChange:m=>a({...o,stock:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Cupn"}),R.jsx("input",{type:"text",value:o.coupon,onChange:m=>a({...o,coupon:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),R.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir Producto"})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Gestionar Productos"}),R.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(m=>R.jsxs("div",{className:"flex items-center bg-menu p-4 rounded-lg border border-gray-700",children:[R.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:m.name}),R.jsxs("p",{className:"text-md text-[#f90]",children:["$",m.price]}),R.jsxs("p",{style:{color:"var(--text-color)"},children:["Stock: ",m.stock]}),R.jsxs("div",{className:"flex items-center mt-2",children:[R.jsx("input",{type:"number",defaultValue:m.stock,onBlur:v=>h(m.id,Number(v.target.value)),className:"w-20 p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90] mr-2",style:{color:"var(--text-color)"}}),R.jsx("button",{onClick:()=>f(m.id),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Eliminar"})]})]})]},m.id))})]})]})})},S2=()=>{const{search:n}=pa(),e=hn(),[t,i]=ee.useState([]),[o,a]=ee.useState(!0),f=new URLSearchParams(n).get("q");return ee.useEffect(()=>{if(!f){e("/");return}a(!0);const h=f.toLowerCase().trim(),m=_a(Zn(cn,"products"),Lm("searchKeywords","array-contains",h)),v=$r(m,S=>{const O=S.docs.map(L=>({id:L.id,...L.data()}));i(O),a(!1)},S=>{console.error("Error fetching search results:",S),a(!1)});return()=>v()},[f,e]),o?R.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):f?R.jsxs("div",{className:"container mx-auto p-6",children:[R.jsxs("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:["Resultados de bsqueda para: ",f]}),t.length>0?R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(h=>R.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg border border-gray-700 bg-white justify-between",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-full h-40 object-cover rounded-md mb-4"}),R.jsx("h3",{className:"text-lg font-medium text-black truncate",children:h.name})]}),R.jsxs("div",{className:"mt-auto",children:[R.jsxs("p",{className:"text-md text-button text-black mb-2",children:[jn(h.price)," COP"]}),R.jsx("button",{onClick:()=>e(`/product/${h.id}`),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Ver detalles"})]})]},h.id))}):R.jsxs("p",{style:{color:"var(--text-color)"},children:['No se encontraron productos para "',f,'".']})]}):R.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"No se proporcion trmino de bsqueda"})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qp=function(){return qp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},qp.apply(this,arguments)},Hp,I2=function(n){var e;n?function(t){if(t)for(;t.lastChild;)t.lastChild.remove()}(typeof n=="string"?document.getElementById(n):n):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},b2=function(n,e){I2(e),window.___grecaptcha_cfg=void 0;var t=document.querySelector("#"+n);t&&t.remove(),function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()}()},k2=function(n){var e=n.render,t=n.onLoadCallbackName,i=n.language,o=n.onLoad,a=n.useRecaptchaNet,u=n.useEnterprise,f=n.scriptProps,h=f===void 0?{}:f,m=h.nonce,v=m===void 0?"":m,S=h.defer,O=S!==void 0&&S,L=h.async,H=L!==void 0&&L,V=h.id,z=V===void 0?"":V,W=h.appendTo,J=z||"google-recaptcha-v3";if(function(j){return!!document.querySelector("#"+j)}(J))o();else{var X=function(j){return"https://www."+(j.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(j.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:u,useRecaptchaNet:a}),re=document.createElement("script");re.id=J,re.src=X+"?render="+e+(e==="explicit"?"&onload="+t:"")+(i?"&hl="+i:""),v&&(re.nonce=v),re.defer=!!O,re.async=!!H,re.onload=o,(W==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(re)}},M0=function(n){console.warn(n)};(function(n){n.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Hp||(Hp={}));var ig=ee.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});ig.Consumer;function C2(n){var e=n.reCaptchaKey,t=n.useEnterprise,i=t!==void 0&&t,o=n.useRecaptchaNet,a=o!==void 0&&o,u=n.scriptProps,f=n.language,h=n.container,m=n.children,v=ee.useState(null),S=v[0],O=v[1],L=ee.useRef(e),H=JSON.stringify(u),V=JSON.stringify(h==null?void 0:h.parameters);ee.useEffect(function(){if(e){var J=(u==null?void 0:u.id)||"google-recaptcha-v3",X=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[X]=function(){var re=i?window.grecaptcha.enterprise:window.grecaptcha,j=qp({badge:"inline",size:"invisible",sitekey:e},(h==null?void 0:h.parameters)||{});L.current=re.render(h==null?void 0:h.element,j)},k2({render:h!=null&&h.element?"explicit":e,onLoadCallbackName:X,useEnterprise:i,useRecaptchaNet:a,scriptProps:u,language:f,onLoad:function(){if(window&&window.grecaptcha){var re=i?window.grecaptcha.enterprise:window.grecaptcha;re.ready(function(){O(re)})}else M0("<GoogleRecaptchaProvider /> "+Hp.SCRIPT_NOT_AVAILABLE)}}),function(){b2(J,h==null?void 0:h.element)}}M0("<GoogleReCaptchaProvider /> recaptcha key not provided")},[i,a,H,V,f,e,h==null?void 0:h.element]);var z=ee.useCallback(function(J){if(!S||!S.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return S.execute(L.current,{action:J})},[S,L]),W=ee.useMemo(function(){return{executeRecaptcha:S?z:void 0,container:h==null?void 0:h.element}},[z,S,h==null?void 0:h.element]);return rt.createElement(ig.Provider,{value:W},m)}var x2=function(){return ee.useContext(ig)};function vS(n,e){return n(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var zt=typeof Symbol=="function"&&Symbol.for,Wp=zt?Symbol.for("react.element"):60103,Kp=zt?Symbol.for("react.portal"):60106,Lc=zt?Symbol.for("react.fragment"):60107,Mc=zt?Symbol.for("react.strict_mode"):60108,Vc=zt?Symbol.for("react.profiler"):60114,jc=zt?Symbol.for("react.provider"):60109,Fc=zt?Symbol.for("react.context"):60110,Gp=zt?Symbol.for("react.async_mode"):60111,yd=zt?Symbol.for("react.concurrent_mode"):60111,Uc=zt?Symbol.for("react.forward_ref"):60112,zc=zt?Symbol.for("react.suspense"):60113,P2=zt?Symbol.for("react.suspense_list"):60120,$c=zt?Symbol.for("react.memo"):60115,Bc=zt?Symbol.for("react.lazy"):60116,R2=zt?Symbol.for("react.block"):60121,A2=zt?Symbol.for("react.fundamental"):60117,N2=zt?Symbol.for("react.responder"):60118,O2=zt?Symbol.for("react.scope"):60119;function Ln(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Wp:switch(n=n.type){case Gp:case yd:case Lc:case Vc:case Mc:case zc:return n;default:switch(n=n&&n.$$typeof){case Fc:case Uc:case Bc:case $c:case jc:return n;default:return e}}case Kp:return e}}}function V0(n){return Ln(n)===yd}var D2={AsyncMode:Gp,ConcurrentMode:yd,ContextConsumer:Fc,ContextProvider:jc,Element:Wp,ForwardRef:Uc,Fragment:Lc,Lazy:Bc,Memo:$c,Portal:Kp,Profiler:Vc,StrictMode:Mc,Suspense:zc,isAsyncMode:function(n){return V0(n)||Ln(n)===Gp},isConcurrentMode:V0,isContextConsumer:function(n){return Ln(n)===Fc},isContextProvider:function(n){return Ln(n)===jc},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Wp},isForwardRef:function(n){return Ln(n)===Uc},isFragment:function(n){return Ln(n)===Lc},isLazy:function(n){return Ln(n)===Bc},isMemo:function(n){return Ln(n)===$c},isPortal:function(n){return Ln(n)===Kp},isProfiler:function(n){return Ln(n)===Vc},isStrictMode:function(n){return Ln(n)===Mc},isSuspense:function(n){return Ln(n)===zc},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===Lc||n===yd||n===Vc||n===Mc||n===zc||n===P2||typeof n=="object"&&n!==null&&(n.$$typeof===Bc||n.$$typeof===$c||n.$$typeof===jc||n.$$typeof===Fc||n.$$typeof===Uc||n.$$typeof===A2||n.$$typeof===N2||n.$$typeof===O2||n.$$typeof===R2)},typeOf:Ln},nt=vS(function(n,e){}),j0=(nt.AsyncMode,nt.ConcurrentMode,nt.ContextConsumer,nt.ContextProvider,nt.Element,nt.ForwardRef,nt.Fragment,nt.Lazy,nt.Memo,nt.Portal,nt.Profiler,nt.StrictMode,nt.Suspense,nt.isAsyncMode,nt.isConcurrentMode,nt.isContextConsumer,nt.isContextProvider,nt.isElement,nt.isForwardRef,nt.isFragment,nt.isLazy,nt.isMemo,nt.isPortal,nt.isProfiler,nt.isStrictMode,nt.isSuspense,nt.isValidElementType,nt.typeOf,vS(function(n){n.exports=D2})),L2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},F0={};F0[j0.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},F0[j0.Memo]=L2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="type.googleapis.com/google.protobuf.Int64Value",V2="type.googleapis.com/google.protobuf.UInt64Value";function _S(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function vd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>vd(e));if(typeof n=="function"||typeof n=="object")return _S(n,e=>vd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function fa(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case M2:case V2:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>fa(e)):typeof n=="function"||typeof n=="object"?_S(n,e=>fa(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bn extends Un{constructor(e,t,i){super(`${sg}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,bn.prototype)}}function j2(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _d(n,e){let t=j2(n),i=t,o;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!U0[u])return new bn("internal","internal");t=U0[u],i=u}const f=a.message;typeof f=="string"&&(i=f),o=a.details,o!==void 0&&(o=fa(o))}}catch{}return t==="ok"?null:new bn(t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Sn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o==null||o.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="us-central1",U2=/^data: (.*?)(?:\n|$)/;function z2(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new bn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class $2{constructor(e,t,i,o,a=Qp,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new F2(e,t,i,o),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(a);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=Qp}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function B2(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function q2(n,e,t){const i=o=>W2(n,e,o,{});return i.stream=(o,a)=>G2(n,e,o,a),i}async function H2(n,e,t,i){t["Content-Type"]="application/json";let o;try{o=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function wS(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function W2(n,e,t,i){const o=n._url(e);return K2(n,o,t,i)}async function K2(n,e,t,i){t=vd(t);const o={data:t},a=await wS(n,i),u=i.timeout||7e4,f=z2(u),h=await Promise.race([H2(e,o,a,n.fetchImpl),f.promise,n.cancelAllRequests]);if(f.cancel(),!h)throw new bn("cancelled","Firebase Functions instance was deleted.");const m=_d(h.status,h.json);if(m)throw m;if(!h.json)throw new bn("internal","Response is not valid JSON object.");let v=h.json.data;if(typeof v>"u"&&(v=h.json.result),typeof v>"u")throw new bn("internal","Response is missing data field.");return{data:fa(v)}}function G2(n,e,t,i){const o=n._url(e);return Q2(n,o,t,i||{})}async function Q2(n,e,t,i){var o;t=vd(t);const a={data:t},u=await wS(n,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:i==null?void 0:i.signal})}catch(L){if(L instanceof Error&&L.name==="AbortError"){const V=new bn("cancelled","Request was cancelled.");return{data:Promise.reject(V),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(V)}}}}}}const H=_d(0,null);return{data:Promise.reject(H),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(H)}}}}}}let h,m;const v=new Promise((L,H)=>{h=L,m=H});(o=i==null?void 0:i.signal)===null||o===void 0||o.addEventListener("abort",()=>{const L=new bn("cancelled","Request was cancelled.");m(L)});const S=f.body.getReader(),O=Y2(S,h,m,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const L=O.getReader();return{async next(){const{value:H,done:V}=await L.read();return{value:H,done:V}},async return(){return await L.cancel(),{done:!0,value:void 0}}}}},data:v}}function Y2(n,e,t,i){const o=(u,f)=>{const h=u.match(U2);if(!h)return;const m=h[1];try{const v=JSON.parse(m);if("result"in v){e(fa(v.result));return}if("message"in v){f.enqueue(fa(v.message));return}if("error"in v){const S=_d(0,v);f.error(S),t(S);return}}catch(v){if(v instanceof bn){f.error(v),t(v);return}}},a=new TextDecoder;return new ReadableStream({start(u){let f="";return h();async function h(){if(i!=null&&i.aborted){const m=new bn("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:v}=await n.read();if(v){f.trim()&&o(f.trim(),u),u.close();return}if(i!=null&&i.aborted){const O=new bn("cancelled","Request was cancelled");u.error(O),t(O),await n.cancel();return}f+=a.decode(m,{stream:!0});const S=f.split(`
`);f=S.pop()||"";for(const O of S)O.trim()&&o(O.trim(),u);return h()}catch(m){const v=m instanceof bn?m:_d(0,null);u.error(v),t(v)}}},cancel(){return n.cancel()}})}const z0="@firebase/functions",$0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="auth-internal",J2="app-check-internal",Z2="messaging-internal";function eL(n){const e=(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider(X2),u=t.getProvider(Z2),f=t.getProvider(J2);return new $2(o,a,u,f,i)};Jn(new Fn(sg,e,"PUBLIC").setMultipleInstances(!0)),nn(z0,$0,n),nn(z0,$0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n=$l(),e=Qp){const i=mi(ut(n),sg).getImmediate({identifier:e}),o=em("functions");return o&&tL(i,...o),i}function tL(n,e,t){B2(ut(n),e,t)}function Yp(n,e,t){return q2(ut(n),e)}eL();const nL="6Lc3S_EqAAAAABF9QFg3fHL1mZu2XOR41QqWVQYY",rL=()=>{const{executeRecaptcha:n}=x2(),e=hn(),[t,i]=ee.useState(""),[o,a]=ee.useState(""),[u,f]=ee.useState(""),[h,m]=ee.useState(!1),v=async S=>{if(S.preventDefault(),!n){Me.error("Error al cargar reCaptcha. Intenta de nuevo.");return}m(!0);try{const O=await n("register");console.log("reCaptcha Token:",O);const L=ES(),V=await Yp(L,"registerUserWithRecaptcha")({email:t,password:o,recaptchaToken:O});if(V.data.success){Me.success("Registro exitoso. Bienvenido!");const W=await Yp(L,"sendWelcomeEmail")({email:t,fullName:u});W.data.success?(console.log("Correo de bienvenida enviado:",W.data.message),Me.info("Se ha enviado un correo de bienvenida."),e("/auth")):(console.error("Error al enviar correo:",W.data.message),Me.error("Registro exitoso, pero fall el envo del correo."))}else Me.error(V.data.message||"Error al registrarse.")}catch(O){console.error("Error en el registro:",O),Me.error("Error al registrarse. Intenta de nuevo.")}finally{m(!1)}};return R.jsxs("form",{onSubmit:v,className:"space-y-4 max-w-md mx-auto p-6  rounded-lg shadow-lg",children:[R.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"var(--text-color)"},children:"Registro"}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Nombre Completo"}),R.jsx("input",{type:"text",id:"fullName",value:u,onChange:S=>f(S.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Email"}),R.jsx("input",{type:"email",id:"email",value:t,onChange:S=>i(S.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Contrasea"}),R.jsx("input",{type:"password",id:"password",value:o,onChange:S=>a(S.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),R.jsx("button",{type:"submit",disabled:h,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] py-2 px-4 rounded-md hover:bg-[var(--button-bg-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f90] disabled:bg-gray-400 dark:disabled:bg-gray-600",children:h?"Registrando...":"Registrarse"}),R.jsxs("p",{className:"text-center text-sm",style:{color:"var(--text-color)"},children:["Ya tienes cuenta?"," ",R.jsx("a",{href:"/auth",className:"text-[var(--button-bg)] hover:underline",children:"Inicia sesin"})]})]})},iL=()=>R.jsx(C2,{reCaptchaKey:nL,children:R.jsx("div",{className:"min-h-screen bg-[var(--background-color)] flex items-center justify-center",children:R.jsx(rL,{})})}),TS=ee.createContext(void 0),sL=({children:n})=>{const[e,t]=ee.useState("dark");ee.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;t(o?"dark":"light")},[]),ee.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return R.jsx(TS.Provider,{value:{theme:e,toggleTheme:i},children:n})},oL=()=>{const n=ee.useContext(TS);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},aL=()=>{const[n,e]=ee.useState(""),[t,i]=ee.useState([]),{cartItems:o}=qr(),{currentUser:a,signOutUser:u}=tf(),f=hn(),[h,m]=ee.useState(!1),{theme:v,toggleTheme:S}=oL(),O=o.reduce((z,W)=>z+W.quantity,0),L=z=>{const W=z.target.value.toLowerCase().trim();if(e(W),W.length>0){console.log("Buscando trmino:",W);const J=_a(Zn(cn,"products"),jm("nameLowercase"),u1(W),c1(W+""),Um(5)),X=$r(J,re=>{console.log("Snapshot recibido:",re.docs.length);const j=re.docs.map($=>({id:$.id,...$.data()}));console.log("Resultados encontrados:",j),i(j)},re=>{console.error("Error en la bsqueda:",re)});return()=>X()}else i([])},H=z=>{if(z.key==="Enter"){const W=n.toLowerCase().trim();W.length>0&&(console.log("Redirigiendo a /search con trmino:",W),f(`/search?q=${W}`),e(""),i([]))}},V=async()=>{try{await u(),f("/"),m(!1)}catch(z){console.error("Error al cerrar sesin:",z.message)}};return R.jsx("header",{className:"bg-menu p-4 shadow-lg",style:{position:"sticky",top:0,zIndex:1e3,width:"100%"},children:R.jsxs("div",{className:"container mx-auto flex flex-wrap gap-5 items-center",children:[R.jsx("div",{className:"basis-3/24",children:R.jsx(zi,{to:"/",className:"flex-shrink-0",children:R.jsx("img",{src:"https://github.com/carlosarley/ecommercev2/raw/main/src/assets/img/Recurso-1",alt:"Logo",className:"h-10 md:h-12"})})}),R.jsxs("div",{className:"basis-14/24",children:[R.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:L,onKeyDown:H,className:"w-full p-3 rounded-full bg-gray-800 dark:bg-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f90] text-base md:text-lg",style:{color:"white"}}),t.length>0&&R.jsx("ul",{className:"absolute w-full bg-gray-900 dark:bg-gray-100 border border-gray-700 dark:border-gray-300 mt-2 rounded-lg shadow-lg z-10",style:{color:"white"},children:t.map(z=>R.jsxs("li",{className:"p-3 hover:bg-gray-700 dark:hover:bg-gray-200 cursor-pointer",style:{color:"white"},onClick:()=>{f(`/product/${z.id}`),e(""),i([])},children:[z.name," - $",z.price]},z.id))})]}),R.jsx("div",{className:"basis-1/24",children:R.jsx("button",{onClick:S,className:"w-full bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:v==="light"?"":""})}),R.jsx("div",{className:"basis-1/24",children:a?R.jsx("button",{onClick:V,className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Cerrar Sesin"}):R.jsx(zi,{to:"/auth",children:R.jsx("span",{className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Iniciar Sesin"})})}),R.jsx("div",{className:"basis-1/24 text-white",children:R.jsx(zi,{to:"/auth/register",children:"Registrarse"})}),R.jsx("div",{className:"basis-1/24",children:R.jsx(zi,{to:"/cart",className:"flex items-center justify-center",children:R.jsxs("span",{className:"bg-orange relative flex items-center justify-center bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:["",O>0&&R.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:O})]})})}),h&&R.jsxs("div",{className:"md:hidden mt-2 w-full bg-menu p-2 rounded-lg shadow-lg",children:[a&&R.jsx("div",{className:"mb-2",children:R.jsx("span",{style:{color:"white"},children:`Bienvenido, ${a.email}`})}),a&&a.email==="admin@example.com"&&R.jsx(zi,{to:"/admin",className:"block w-full text-center mb-2",children:R.jsx("span",{className:"bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:"Panel Admin"})})]})]})})},lL=()=>{const[n,e]=ee.useState(!1);return R.jsx("nav",{className:"bg-menu text-white p-4",children:R.jsx("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:R.jsxs("div",{className:"flex items-center w-full justify-between",children:[R.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:()=>e(!n),"aria-label":"Toggle menu",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),R.jsxs("div",{className:`md:flex space-x-6 ${n?"block":"hidden"} md:block`,children:[R.jsx(zi,{to:"/offers",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Ofertas"}),R.jsx(zi,{to:"/categories",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Categoras"})]})]})})})},uL=()=>R.jsx("footer",{className:"bg-menu text-white p-8 mt-8",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ecommerce PC Parts"}),R.jsx("p",{children:"Tu tienda favorita para componentes de PC y ms."})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces"}),R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Inicio"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Ofertas"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Categoras"})})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Facebook"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Twitter"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Instagram"})})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),R.jsx("p",{children:"Email: support@ecommercepcparts.com"}),R.jsx("p",{children:"Telfono: +123 456 7890"})]})]}),R.jsx("p",{className:"text-center mt-8",children:" 2025 Ecommerce PC Parts. Todos los derechos reservados."})]})}),cL="pub_test_dl5weFJ67b9vBvRDqv3TRK5NRpJrQy01",dL=()=>{const{cartItems:n}=qr(),{state:e}=pa(),{total:t=0}=e||{},[i,o]=ee.useState(null),[a,u]=ee.useState(null),f=hn(),h=Math.round(t*100),m=async()=>{if(n.length===0){Me.error("El carrito est vaco. Agrega productos antes de pagar.");return}const v=ES(),S=Yp(v,"createWompiTransaction");try{const O=await S({amountInCents:h,customerEmail:"cliente@example.com",customerData:{full_name:"Cliente Ejemplo",email:"cliente@example.com",phone_number:"1234567890",legal_id:"123456789",legal_id_type:"CC"}}),{success:L,transactionId:H,reference:V,error:z}=O.data;L&&H&&V?(o(H),u(V),Me.success("Transaccin creada. Redirigiendo al widget de pago...")):(console.error("Error al crear transaccin:",z),Me.error("Error al procesar el pago. Intenta de nuevo."))}catch(O){console.error("Error al crear transaccin:",O),Me.error("Error al procesar el pago. Intenta de nuevo.")}};return ee.useEffect(()=>{if(i&&a){const v=document.createElement("script");return v.src="https://checkout.wompi.co/widget.js",v.async=!0,v.onload=()=>{window.WompiWidget?new window.WompiWidget({render:"button",publicKey:cL,currency:"COP",amountInCents:h,reference:a,onSuccess:O=>{console.log("Pago exitoso:",O),Me.success("Pago aprobado. Gracias por tu compra!"),f("/order-confirmation")},onError:O=>{console.error("Error en el pago:",O),Me.error("Error al procesar el pago.")},onClose:()=>{console.log("Widget cerrado"),o(null),u(null)}}).open():(console.error("Wompi widget no cargado"),Me.error("Error al cargar el widget de pago."))},v.onerror=()=>{console.error("Error al cargar el script de Wompi"),Me.error("Error al cargar el widget de pago.")},document.body.appendChild(v),()=>{document.body.removeChild(v)}}},[i,a,h,f]),R.jsxs("div",{className:"container mx-auto p-6 min-h-screen",children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-color)"},children:"Pago con Wompi"}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("p",{className:"text-lg",style:{color:"var(--text-color)"},children:["Total a pagar: $",(t/100).toFixed(2)," COP"]}),R.jsx("button",{onClick:m,className:"bg-[#f90] text-white px-4 py-2 rounded hover:bg-[#e68a00]",children:"Pagar con Wompi"})]})]})},fL=()=>R.jsx(v2,{children:R.jsx(c2,{children:R.jsxs(Mb,{children:[R.jsx(aL,{}),R.jsx(lL,{}),R.jsxs(Pb,{children:[R.jsx(Xn,{path:"/",element:R.jsx(m2,{})}),R.jsx(Xn,{path:"/payment",element:R.jsx(dL,{})}),R.jsx(Xn,{path:"/offers",element:R.jsx(g2,{})}),R.jsx(Xn,{path:"/categories",element:R.jsx(y2,{})}),R.jsx(Xn,{path:"/product/:id",element:R.jsx(_2,{})}),R.jsx(Xn,{path:"/cart",element:R.jsx(w2,{})}),R.jsx(Xn,{path:"/admin",element:R.jsx(T2,{})}),R.jsx(Xn,{path:"/search",element:R.jsx(S2,{})}),R.jsxs(Xn,{path:"/auth",children:[R.jsx(Xn,{index:!0,element:R.jsx(E2,{})})," ",R.jsx(Xn,{path:"register",element:R.jsx(iL,{})})," "]})]}),R.jsx(uL,{}),R.jsx(u2,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})})});VI.createRoot(document.getElementById("root")).render(R.jsx(rt.StrictMode,{children:R.jsx(sL,{children:R.jsx(fL,{})})}));
