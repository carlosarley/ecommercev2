function VI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function J0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Nf={exports:{}},pl={},Of={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function FI(){if(yv)return Be;yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function M(x,$,ne){this.props=x,this.context=$,this.refs=L,this.updater=ne||V}M.prototype.isReactComponent={},M.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=M.prototype;function U(x,$,ne){this.props=x,this.context=$,this.refs=L,this.updater=ne||V}var H=U.prototype=new G;H.constructor=U,q(H,M.prototype),H.isPureReactComponent=!0;var Q=Array.isArray,D=Object.prototype.hasOwnProperty,z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(x,$,ne){var ie,ae={},le=null,ce=null;if($!=null)for(ie in $.ref!==void 0&&(ce=$.ref),$.key!==void 0&&(le=""+$.key),$)D.call($,ie)&&!k.hasOwnProperty(ie)&&(ae[ie]=$[ie]);var Te=arguments.length-2;if(Te===1)ae.children=ne;else if(1<Te){for(var xe=Array(Te),Re=0;Re<Te;Re++)xe[Re]=arguments[Re+2];ae.children=xe}if(x&&x.defaultProps)for(ie in Te=x.defaultProps,Te)ae[ie]===void 0&&(ae[ie]=Te[ie]);return{$$typeof:n,type:x,key:le,ref:ce,props:ae,_owner:z.current}}function I(x,$){return{$$typeof:n,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function w(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function N(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ne){return $[ne]})}var j=/\/+/g;function C(x,$){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):$.toString(36)}function X(x,$,ne,ie,ae){var le=typeof x;(le==="undefined"||le==="boolean")&&(x=null);var ce=!1;if(x===null)ce=!0;else switch(le){case"string":case"number":ce=!0;break;case"object":switch(x.$$typeof){case n:case e:ce=!0}}if(ce)return ce=x,ae=ae(ce),x=ie===""?"."+C(ce,0):ie,Q(ae)?(ne="",x!=null&&(ne=x.replace(j,"$&/")+"/"),X(ae,$,ne,"",function(Re){return Re})):ae!=null&&(w(ae)&&(ae=I(ae,ne+(!ae.key||ce&&ce.key===ae.key?"":(""+ae.key).replace(j,"$&/")+"/")+x)),$.push(ae)),1;if(ce=0,ie=ie===""?".":ie+":",Q(x))for(var Te=0;Te<x.length;Te++){le=x[Te];var xe=ie+C(le,Te);ce+=X(le,$,ne,xe,ae)}else if(xe=A(x),typeof xe=="function")for(x=xe.call(x),Te=0;!(le=x.next()).done;)le=le.value,xe=ie+C(le,Te++),ce+=X(le,$,ne,xe,ae);else if(le==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ce}function pe(x,$,ne){if(x==null)return x;var ie=[],ae=0;return X(x,ie,"","",function(le){return $.call(ne,le,ae++)}),ie}function de(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(ne){(x._status===0||x._status===-1)&&(x._status=1,x._result=ne)},function(ne){(x._status===0||x._status===-1)&&(x._status=2,x._result=ne)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var b={current:null},se={transition:null},B={ReactCurrentDispatcher:b,ReactCurrentBatchConfig:se,ReactCurrentOwner:z};function T(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:pe,forEach:function(x,$,ne){pe(x,function(){$.apply(this,arguments)},ne)},count:function(x){var $=0;return pe(x,function(){$++}),$},toArray:function(x){return pe(x,function($){return $})||[]},only:function(x){if(!w(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Be.Component=M,Be.Fragment=t,Be.Profiler=o,Be.PureComponent=U,Be.StrictMode=i,Be.Suspense=f,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Be.act=T,Be.cloneElement=function(x,$,ne){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ie=q({},x.props),ae=x.key,le=x.ref,ce=x._owner;if($!=null){if($.ref!==void 0&&(le=$.ref,ce=z.current),$.key!==void 0&&(ae=""+$.key),x.type&&x.type.defaultProps)var Te=x.type.defaultProps;for(xe in $)D.call($,xe)&&!k.hasOwnProperty(xe)&&(ie[xe]=$[xe]===void 0&&Te!==void 0?Te[xe]:$[xe])}var xe=arguments.length-2;if(xe===1)ie.children=ne;else if(1<xe){Te=Array(xe);for(var Re=0;Re<xe;Re++)Te[Re]=arguments[Re+2];ie.children=Te}return{$$typeof:n,type:x.type,key:ae,ref:le,props:ie,_owner:ce}},Be.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:a,_context:x},x.Consumer=x},Be.createElement=R,Be.createFactory=function(x){var $=R.bind(null,x);return $.type=x,$},Be.createRef=function(){return{current:null}},Be.forwardRef=function(x){return{$$typeof:h,render:x}},Be.isValidElement=w,Be.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:de}},Be.memo=function(x,$){return{$$typeof:m,type:x,compare:$===void 0?null:$}},Be.startTransition=function(x){var $=se.transition;se.transition={};try{x()}finally{se.transition=$}},Be.unstable_act=T,Be.useCallback=function(x,$){return b.current.useCallback(x,$)},Be.useContext=function(x){return b.current.useContext(x)},Be.useDebugValue=function(){},Be.useDeferredValue=function(x){return b.current.useDeferredValue(x)},Be.useEffect=function(x,$){return b.current.useEffect(x,$)},Be.useId=function(){return b.current.useId()},Be.useImperativeHandle=function(x,$,ne){return b.current.useImperativeHandle(x,$,ne)},Be.useInsertionEffect=function(x,$){return b.current.useInsertionEffect(x,$)},Be.useLayoutEffect=function(x,$){return b.current.useLayoutEffect(x,$)},Be.useMemo=function(x,$){return b.current.useMemo(x,$)},Be.useReducer=function(x,$,ne){return b.current.useReducer(x,$,ne)},Be.useRef=function(x){return b.current.useRef(x)},Be.useState=function(x){return b.current.useState(x)},Be.useSyncExternalStore=function(x,$,ne){return b.current.useSyncExternalStore(x,$,ne)},Be.useTransition=function(){return b.current.useTransition()},Be.version="18.3.1",Be}var vv;function qr(){return vv||(vv=1,Of.exports=FI()),Of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function UI(){if(_v)return pl;_v=1;var n=qr(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var _,S={},A=null,V=null;m!==void 0&&(A=""+m),f.key!==void 0&&(A=""+f.key),f.ref!==void 0&&(V=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(S[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)S[_]===void 0&&(S[_]=f[_]);return{$$typeof:e,type:h,key:A,ref:V,props:S,_owner:o.current}}return pl.Fragment=t,pl.jsx=u,pl.jsxs=u,pl}var wv;function zI(){return wv||(wv=1,Nf.exports=UI()),Nf.exports}var v=zI(),Z=qr();const rt=Sd(Z),$I=VI({__proto__:null,default:rt},[Z]);var vc={},Df={exports:{}},In={},Lf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function BI(){return Ev||(Ev=1,function(n){function e(se,B){var T=se.length;se.push(B);e:for(;0<T;){var x=T-1>>>1,$=se[x];if(0<o($,B))se[x]=B,se[T]=$,T=x;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var B=se[0],T=se.pop();if(T!==B){se[0]=T;e:for(var x=0,$=se.length,ne=$>>>1;x<ne;){var ie=2*(x+1)-1,ae=se[ie],le=ie+1,ce=se[le];if(0>o(ae,T))le<$&&0>o(ce,ae)?(se[x]=ce,se[le]=T,x=le):(se[x]=ae,se[ie]=T,x=ie);else if(le<$&&0>o(ce,T))se[x]=ce,se[le]=T,x=le;else break e}}return B}function o(se,B){var T=se.sortIndex-B.sortIndex;return T!==0?T:se.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],_=1,S=null,A=3,V=!1,q=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(se){for(var B=t(m);B!==null;){if(B.callback===null)i(m);else if(B.startTime<=se)i(m),B.sortIndex=B.expirationTime,e(f,B);else break;B=t(m)}}function Q(se){if(L=!1,H(se),!q)if(t(f)!==null)q=!0,de(D);else{var B=t(m);B!==null&&b(Q,B.startTime-se)}}function D(se,B){q=!1,L&&(L=!1,G(R),R=-1),V=!0;var T=A;try{for(H(B),S=t(f);S!==null&&(!(S.expirationTime>B)||se&&!N());){var x=S.callback;if(typeof x=="function"){S.callback=null,A=S.priorityLevel;var $=x(S.expirationTime<=B);B=n.unstable_now(),typeof $=="function"?S.callback=$:S===t(f)&&i(f),H(B)}else i(f);S=t(f)}if(S!==null)var ne=!0;else{var ie=t(m);ie!==null&&b(Q,ie.startTime-B),ne=!1}return ne}finally{S=null,A=T,V=!1}}var z=!1,k=null,R=-1,I=5,w=-1;function N(){return!(n.unstable_now()-w<I)}function j(){if(k!==null){var se=n.unstable_now();w=se;var B=!0;try{B=k(!0,se)}finally{B?C():(z=!1,k=null)}}else z=!1}var C;if(typeof U=="function")C=function(){U(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,pe=X.port2;X.port1.onmessage=j,C=function(){pe.postMessage(null)}}else C=function(){M(j,0)};function de(se){k=se,z||(z=!0,C())}function b(se,B){R=M(function(){se(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){q||V||(q=!0,de(D))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(A){case 1:case 2:case 3:var B=3;break;default:B=A}var T=A;A=B;try{return se()}finally{A=T}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,B){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var T=A;A=se;try{return B()}finally{A=T}},n.unstable_scheduleCallback=function(se,B,T){var x=n.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?x+T:x):T=x,se){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=T+$,se={id:_++,callback:B,priorityLevel:se,startTime:T,expirationTime:$,sortIndex:-1},T>x?(se.sortIndex=T,e(m,se),t(f)===null&&se===t(m)&&(L?(G(R),R=-1):L=!0,b(Q,T-x))):(se.sortIndex=$,e(f,se),q||V||(q=!0,de(D))),se},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(se){var B=A;return function(){var T=A;A=B;try{return se.apply(this,arguments)}finally{A=T}}}}(jf)),jf}var Tv;function qI(){return Tv||(Tv=1,Lf.exports=BI()),Lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function HI(){if(Sv)return In;Sv=1;var n=qr(),e=qI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function A(r){return f.call(S,r)?!0:f.call(_,r)?!1:m.test(r)?S[r]=!0:(_[r]=!0,!1)}function V(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function q(r,s,l,d){if(s===null||typeof s>"u"||V(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,l,d,p,y,P){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=P}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function U(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(G,U);M[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(G,U);M[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(G,U);M[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function H(r,s,l,d){var p=M.hasOwnProperty(s)?M[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(q(s,l,p,d)&&(l=null),d||p===null?A(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),se=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var T=Object.assign,x;function $(r){if(x===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);x=s&&s[1]||""}return`
`+x+r}var ne=!1;function ie(r,s){if(!r||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(te){var d=te}Reflect.construct(r,[],s)}else{try{s.call()}catch(te){d=te}r.call(s.prototype)}else{try{throw Error()}catch(te){d=te}r()}}catch(te){if(te&&d&&typeof te.stack=="string"){for(var p=te.stack.split(`
`),y=d.stack.split(`
`),P=p.length-1,F=y.length-1;1<=P&&0<=F&&p[P]!==y[F];)F--;for(;1<=P&&0<=F;P--,F--)if(p[P]!==y[F]){if(P!==1||F!==1)do if(P--,F--,0>F||p[P]!==y[F]){var W=`
`+p[P].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=P&&0<=F);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?$(r):""}function ae(r){switch(r.tag){case 5:return $(r.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case z:return"Portal";case I:return"Profiler";case R:return"StrictMode";case C:return"Suspense";case X:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case w:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pe:return s=r.displayName||null,s!==null?s:le(r.type)||"Memo";case de:s=r._payload,r=r._init;try{return le(r(s))}catch{}}return null}function ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=xe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(P){d=""+P,y.call(this,P)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $e(r){r._valueTracker||(r._valueTracker=Re(r))}function He(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=xe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ue(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Me(r,s){var l=s.checked;return T({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function qe(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Te(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ct(r,s){s=s.checked,s!=null&&H(r,"checked",s,!1)}function Fe(r,s){ct(r,s);var l=Te(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ht(r,s.type,l):s.hasOwnProperty("defaultValue")&&ht(r,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ht(r,s,l){(s!=="number"||Ue(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var it=Array.isArray;function yt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Te(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Rn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return T({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function rr(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(it(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Te(l)}}function Gr(r,s){var l=Te(s.value),d=Te(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ir(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ln,Ia=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ln=ln||document.createElement("div"),ln.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ln.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function yi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(r){fs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),hs[s]=hs[r]})});function ba(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||hs.hasOwnProperty(r)&&hs[r]?(""+s).trim():s+"px"}function xa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=ba(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var ka=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(r,s){if(s){if(ka[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Pa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function lo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uo=null,qn=null,br=null;function co(r){if(r=Za(r)){if(typeof uo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ou(s),uo(r.stateNode,r.type,s))}}function xr(r){qn?br?br.push(r):br=[r]:qn=r}function Ra(){if(qn){var r=qn,s=br;if(br=qn=null,co(r),s)for(r=0;r<s.length;r++)co(s[r])}}function ms(r,s){return r(s)}function Aa(){}var Kr=!1;function Na(r,s,l){if(Kr)return r(s,l);Kr=!0;try{return ms(r,s,l)}finally{Kr=!1,(qn!==null||br!==null)&&(Aa(),Ra())}}function St(r,s){var l=r.stateNode;if(l===null)return null;var d=Ou(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ho=!1;if(h)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){ho=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{ho=!1}function gs(r,s,l,d,p,y,P,F,W){var te=Array.prototype.slice.call(arguments,3);try{s.apply(l,te)}catch(fe){this.onError(fe)}}var ys=!1,fo=null,or=!1,Oa=null,sh={onError:function(r){ys=!0,fo=r}};function po(r,s,l,d,p,y,P,F,W){ys=!1,fo=null,gs.apply(sh,arguments)}function iu(r,s,l,d,p,y,P,F,W){if(po.apply(this,arguments),ys){if(ys){var te=fo;ys=!1,fo=null}else throw Error(t(198));or||(or=!0,Oa=te)}}function ar(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function vs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function lr(r){if(ar(r)!==r)throw Error(t(188))}function su(r){var s=r.alternate;if(!s){if(s=ar(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return lr(p),r;if(y===d)return lr(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var P=!1,F=p.child;F;){if(F===l){P=!0,l=p,d=y;break}if(F===d){P=!0,d=p,l=y;break}F=F.sibling}if(!P){for(F=y.child;F;){if(F===l){P=!0,l=y,d=p;break}if(F===d){P=!0,d=y,l=p;break}F=F.sibling}if(!P)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Da(r){return r=su(r),r!==null?mo(r):null}function mo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=mo(r);if(s!==null)return s;r=r.sibling}return null}var go=e.unstable_scheduleCallback,La=e.unstable_cancelCallback,ou=e.unstable_shouldYield,oh=e.unstable_requestPaint,ot=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,ja=e.unstable_LowPriority,lu=e.unstable_IdlePriority,ws=null,An=null;function uu(r){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ws,r,void 0,(r.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:du,Ma=Math.log,cu=Math.LN2;function du(r){return r>>>=0,r===0?32:31-(Ma(r)/cu|0)|0}var yo=64,vo=4194304;function _i(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Es(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,P=l&268435455;if(P!==0){var F=P&~p;F!==0?d=_i(F):(y&=P,y!==0&&(d=_i(y)))}else P=l&~p,P!==0?d=_i(P):y!==0&&(d=_i(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-un(s),p=1<<l,d|=r[l],s&=~p;return d}function ah(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var P=31-un(y),F=1<<P,W=p[P];W===-1?((F&l)===0||(F&d)!==0)&&(p[P]=ah(F,s)):W<=s&&(r.expiredLanes|=F),y&=~F}}function Nn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ts(){var r=yo;return yo<<=1,(yo&4194240)===0&&(yo=64),r}function wi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ei(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-un(s),r[s]=l}function st(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-un(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Ti(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-un(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ke=0;function Si(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var hu,_o,fu,pu,mu,Va=!1,kr=[],qt=null,ur=null,cr=null,Ii=new Map,Wn=new Map,Cr=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(r,s){switch(r){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(s.pointerId)}}function yn(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Za(s),s!==null&&_o(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function uh(r,s,l,d,p){switch(s){case"focusin":return qt=yn(qt,r,s,l,d,p),!0;case"dragenter":return ur=yn(ur,r,s,l,d,p),!0;case"mouseover":return cr=yn(cr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Ii.set(y,yn(Ii.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Wn.set(y,yn(Wn.get(y)||null,r,s,l,d,p)),!0}return!1}function yu(r){var s=ks(r.target);if(s!==null){var l=ar(s);if(l!==null){if(s=l.tag,s===13){if(s=vs(l),s!==null){r.blockedOn=s,mu(r.priority,function(){fu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Yr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=wo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ps=d,l.target.dispatchEvent(d),ps=null}else return s=Za(l),s!==null&&_o(s),r.blockedOn=l,!1;s.shift()}return!0}function Ss(r,s,l){Yr(r)&&l.delete(s)}function vu(){Va=!1,qt!==null&&Yr(qt)&&(qt=null),ur!==null&&Yr(ur)&&(ur=null),cr!==null&&Yr(cr)&&(cr=null),Ii.forEach(Ss),Wn.forEach(Ss)}function dr(r,s){r.blockedOn===s&&(r.blockedOn=null,Va||(Va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function hr(r){function s(p){return dr(p,r)}if(0<kr.length){dr(kr[0],r);for(var l=1;l<kr.length;l++){var d=kr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(qt!==null&&dr(qt,r),ur!==null&&dr(ur,r),cr!==null&&dr(cr,r),Ii.forEach(s),Wn.forEach(s),l=0;l<Cr.length;l++)d=Cr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Cr.length&&(l=Cr[0],l.blockedOn===null);)yu(l),l.blockedOn===null&&Cr.shift()}var Xr=Q.ReactCurrentBatchConfig,bi=!0;function mt(r,s,l,d){var p=Ke,y=Xr.transition;Xr.transition=null;try{Ke=1,Fa(r,s,l,d)}finally{Ke=p,Xr.transition=y}}function ch(r,s,l,d){var p=Ke,y=Xr.transition;Xr.transition=null;try{Ke=4,Fa(r,s,l,d)}finally{Ke=p,Xr.transition=y}}function Fa(r,s,l,d){if(bi){var p=wo(r,s,l,d);if(p===null)Eh(r,s,d,Is,l),gu(r,d);else if(uh(p,r,s,l,d))d.stopPropagation();else if(gu(r,d),s&4&&-1<lh.indexOf(r)){for(;p!==null;){var y=Za(p);if(y!==null&&hu(y),y=wo(r,s,l,d),y===null&&Eh(r,s,d,Is,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Eh(r,s,d,null,l)}}var Is=null;function wo(r,s,l,d){if(Is=null,r=lo(d),r=ks(r),r!==null)if(s=ar(r),s===null)r=null;else if(l=s.tag,l===13){if(r=vs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Is=r,null}function Ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case _s:return 1;case vi:return 4;case Hn:case ja:return 16;case lu:return 536870912;default:return 16}default:return 16}}var On=null,Eo=null,vn=null;function za(){if(vn)return vn;var r,s=Eo,l=s.length,d,p="value"in On?On.value:On.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var P=l-r;for(d=1;d<=P&&s[l-d]===p[y-d];d++);return vn=p.slice(r,1<d?1-d:void 0)}function To(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Pr(){return!0}function $a(){return!1}function Ht(r){function s(l,d,p,y,P){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=P,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(l=r[F],this[F]=l?l(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Pr:$a,this.isPropagationStopped=$a,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Ht(fr),Rr=T({},fr,{view:0,detail:0}),dh=Ht(Rr),Io,Jr,xi,bs=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xi&&(xi&&r.type==="mousemove"?(Io=r.screenX-xi.screenX,Jr=r.screenY-xi.screenY):Jr=Io=0,xi=r),Io)},movementY:function(r){return"movementY"in r?r.movementY:Jr}}),bo=Ht(bs),Ba=T({},bs,{dataTransfer:0}),_u=Ht(Ba),xo=T({},Rr,{relatedTarget:0}),ko=Ht(xo),wu=T({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=Ht(wu),Eu=T({},fr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=Ht(Eu),Su=T({},fr,{data:0}),qa=Ht(Su),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Iu[r])?!!s[r]:!1}function Ar(){return bu}var c=T({},Rr,{key:function(r){if(r.key){var s=Co[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=To(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(r){return r.type==="keypress"?To(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?To(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Ht(c),E=T({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Ht(E),Y=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),re=Ht(Y),ye=T({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Ht(ye),Dt=T({},bs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Ht(Dt),Vt=[9,13,27,32],kt=h&&"CompositionEvent"in window,Gn=null;h&&"documentMode"in document&&(Gn=document.documentMode);var Dn=h&&"TextEvent"in window&&!Gn,xs=h&&(!kt||Gn&&8<Gn&&11>=Gn),Po=" ",dg=!1;function hg(r,s){switch(r){case"keyup":return Vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ro=!1;function LS(r,s){switch(r){case"compositionend":return fg(s);case"keypress":return s.which!==32?null:(dg=!0,Po);case"textInput":return r=s.data,r===Po&&dg?null:r;default:return null}}function jS(r,s){if(Ro)return r==="compositionend"||!kt&&hg(r,s)?(r=za(),vn=Eo=On=null,Ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xs&&s.locale!=="ko"?null:s.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!MS[r.type]:s==="textarea"}function mg(r,s,l,d){xr(d),s=Ru(s,"onChange"),0<s.length&&(l=new So("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ha=null,Wa=null;function VS(r){Og(r,0)}function xu(r){var s=Lo(r);if(He(s))return r}function FS(r,s){if(r==="change")return s}var gg=!1;if(h){var hh;if(h){var fh="oninput"in document;if(!fh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),fh=typeof yg.oninput=="function"}hh=fh}else hh=!1;gg=hh&&(!document.documentMode||9<document.documentMode)}function vg(){Ha&&(Ha.detachEvent("onpropertychange",_g),Wa=Ha=null)}function _g(r){if(r.propertyName==="value"&&xu(Wa)){var s=[];mg(s,Wa,r,lo(r)),Na(VS,s)}}function US(r,s,l){r==="focusin"?(vg(),Ha=s,Wa=l,Ha.attachEvent("onpropertychange",_g)):r==="focusout"&&vg()}function zS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xu(Wa)}function $S(r,s){if(r==="click")return xu(s)}function BS(r,s){if(r==="input"||r==="change")return xu(s)}function qS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var pr=typeof Object.is=="function"?Object.is:qS;function Ga(r,s){if(pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!pr(r[p],s[p]))return!1}return!0}function wg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Eg(r,s){var l=wg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wg(l)}}function Tg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Tg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sg(){for(var r=window,s=Ue();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ue(r.document)}return s}function ph(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function HS(r){var s=Sg(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Tg(l.ownerDocument.documentElement,l)){if(d!==null&&ph(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Eg(l,y);var P=Eg(l,d);p&&P&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==P.node||r.focusOffset!==P.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(P.node,P.offset)):(s.setEnd(P.node,P.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var WS=h&&"documentMode"in document&&11>=document.documentMode,Ao=null,mh=null,Ka=null,gh=!1;function Ig(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gh||Ao==null||Ao!==Ue(d)||(d=Ao,"selectionStart"in d&&ph(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ka&&Ga(Ka,d)||(Ka=d,d=Ru(mh,"onSelect"),0<d.length&&(s=new So("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Ao)))}function ku(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var No={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},yh={},bg={};h&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Cu(r){if(yh[r])return yh[r];if(!No[r])return r;var s=No[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in bg)return yh[r]=s[l];return r}var xg=Cu("animationend"),kg=Cu("animationiteration"),Cg=Cu("animationstart"),Pg=Cu("transitionend"),Rg=new Map,Ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(r,s){Rg.set(r,s),a(s,[r])}for(var vh=0;vh<Ag.length;vh++){var _h=Ag[vh],GS=_h.toLowerCase(),KS=_h[0].toUpperCase()+_h.slice(1);ki(GS,"on"+KS)}ki(xg,"onAnimationEnd"),ki(kg,"onAnimationIteration"),ki(Cg,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Pg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function Ng(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,iu(d,s,void 0,r),r.currentTarget=null}function Og(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var P=d.length-1;0<=P;P--){var F=d[P],W=F.instance,te=F.currentTarget;if(F=F.listener,W!==y&&p.isPropagationStopped())break e;Ng(p,F,te),y=W}else for(P=0;P<d.length;P++){if(F=d[P],W=F.instance,te=F.currentTarget,F=F.listener,W!==y&&p.isPropagationStopped())break e;Ng(p,F,te),y=W}}}if(or)throw r=Oa,or=!1,Oa=null,r}function ft(r,s){var l=s[kh];l===void 0&&(l=s[kh]=new Set);var d=r+"__bubble";l.has(d)||(Dg(s,r,2,!1),l.add(d))}function wh(r,s,l){var d=0;s&&(d|=4),Dg(l,r,d,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Ya(r){if(!r[Pu]){r[Pu]=!0,i.forEach(function(l){l!=="selectionchange"&&(QS.has(l)||wh(l,!1,r),wh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,wh("selectionchange",!1,s))}}function Dg(r,s,l,d){switch(Ua(s)){case 1:var p=mt;break;case 4:p=ch;break;default:p=Fa}l=p.bind(null,s,l,r),p=void 0,!ho||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Eh(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var P=d.tag;if(P===3||P===4){var F=d.stateNode.containerInfo;if(F===p||F.nodeType===8&&F.parentNode===p)break;if(P===4)for(P=d.return;P!==null;){var W=P.tag;if((W===3||W===4)&&(W=P.stateNode.containerInfo,W===p||W.nodeType===8&&W.parentNode===p))return;P=P.return}for(;F!==null;){if(P=ks(F),P===null)return;if(W=P.tag,W===5||W===6){d=y=P;continue e}F=F.parentNode}}d=d.return}Na(function(){var te=y,fe=lo(l),me=[];e:{var he=Rg.get(r);if(he!==void 0){var we=So,Ie=r;switch(r){case"keypress":if(To(l)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":Ie="focus",we=ko;break;case"focusout":Ie="blur",we=ko;break;case"beforeblur":case"afterblur":we=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=re;break;case xg:case kg:case Cg:we=Zr;break;case Pg:we=et;break;case"scroll":we=dh;break;case"wheel":we=Qe;break;case"copy":case"cut":case"paste":we=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=O}var ke=(s&4)!==0,It=!ke&&r==="scroll",J=ke?he!==null?he+"Capture":null:he;ke=[];for(var K=te,ee;K!==null;){ee=K;var ge=ee.stateNode;if(ee.tag===5&&ge!==null&&(ee=ge,J!==null&&(ge=St(K,J),ge!=null&&ke.push(Xa(K,ge,ee)))),It)break;K=K.return}0<ke.length&&(he=new we(he,Ie,null,l,fe),me.push({event:he,listeners:ke}))}}if((s&7)===0){e:{if(he=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",he&&l!==ps&&(Ie=l.relatedTarget||l.fromElement)&&(ks(Ie)||Ie[ei]))break e;if((we||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,we?(Ie=l.relatedTarget||l.toElement,we=te,Ie=Ie?ks(Ie):null,Ie!==null&&(It=ar(Ie),Ie!==It||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(we=null,Ie=te),we!==Ie)){if(ke=bo,ge="onMouseLeave",J="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(ke=O,ge="onPointerLeave",J="onPointerEnter",K="pointer"),It=we==null?he:Lo(we),ee=Ie==null?he:Lo(Ie),he=new ke(ge,K+"leave",we,l,fe),he.target=It,he.relatedTarget=ee,ge=null,ks(fe)===te&&(ke=new ke(J,K+"enter",Ie,l,fe),ke.target=ee,ke.relatedTarget=It,ge=ke),It=ge,we&&Ie)t:{for(ke=we,J=Ie,K=0,ee=ke;ee;ee=Oo(ee))K++;for(ee=0,ge=J;ge;ge=Oo(ge))ee++;for(;0<K-ee;)ke=Oo(ke),K--;for(;0<ee-K;)J=Oo(J),ee--;for(;K--;){if(ke===J||J!==null&&ke===J.alternate)break t;ke=Oo(ke),J=Oo(J)}ke=null}else ke=null;we!==null&&Lg(me,he,we,ke,!1),Ie!==null&&It!==null&&Lg(me,It,Ie,ke,!0)}}e:{if(he=te?Lo(te):window,we=he.nodeName&&he.nodeName.toLowerCase(),we==="select"||we==="input"&&he.type==="file")var Ce=FS;else if(pg(he))if(gg)Ce=BS;else{Ce=zS;var Ae=US}else(we=he.nodeName)&&we.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ce=$S);if(Ce&&(Ce=Ce(r,te))){mg(me,Ce,l,fe);break e}Ae&&Ae(r,he,te),r==="focusout"&&(Ae=he._wrapperState)&&Ae.controlled&&he.type==="number"&&ht(he,"number",he.value)}switch(Ae=te?Lo(te):window,r){case"focusin":(pg(Ae)||Ae.contentEditable==="true")&&(Ao=Ae,mh=te,Ka=null);break;case"focusout":Ka=mh=Ao=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Ig(me,l,fe);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Ig(me,l,fe)}var Ne;if(kt)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ro?hg(r,l)&&(Le="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(xs&&l.locale!=="ko"&&(Ro||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ro&&(Ne=za()):(On=fe,Eo="value"in On?On.value:On.textContent,Ro=!0)),Ae=Ru(te,Le),0<Ae.length&&(Le=new qa(Le,r,null,l,fe),me.push({event:Le,listeners:Ae}),Ne?Le.data=Ne:(Ne=fg(l),Ne!==null&&(Le.data=Ne)))),(Ne=Dn?LS(r,l):jS(r,l))&&(te=Ru(te,"onBeforeInput"),0<te.length&&(fe=new qa("onBeforeInput","beforeinput",null,l,fe),me.push({event:fe,listeners:te}),fe.data=Ne))}Og(me,s)})}function Xa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Ru(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=St(r,l),y!=null&&d.unshift(Xa(r,y,p)),y=St(r,s),y!=null&&d.push(Xa(r,y,p))),r=r.return}return d}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Lg(r,s,l,d,p){for(var y=s._reactName,P=[];l!==null&&l!==d;){var F=l,W=F.alternate,te=F.stateNode;if(W!==null&&W===d)break;F.tag===5&&te!==null&&(F=te,p?(W=St(l,y),W!=null&&P.unshift(Xa(l,W,F))):p||(W=St(l,y),W!=null&&P.push(Xa(l,W,F)))),l=l.return}P.length!==0&&r.push({event:s,listeners:P})}var YS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function jg(r){return(typeof r=="string"?r:""+r).replace(YS,`
`).replace(XS,"")}function Au(r,s,l){if(s=jg(s),jg(r)!==s&&l)throw Error(t(425))}function Nu(){}var Th=null,Sh=null;function Ih(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(r){return Mg.resolve(null).then(r).catch(eI)}:bh;function eI(r){setTimeout(function(){throw r})}function xh(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),hr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);hr(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Vg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Do,Ja="__reactProps$"+Do,ei="__reactContainer$"+Do,kh="__reactEvents$"+Do,tI="__reactListeners$"+Do,nI="__reactHandles$"+Do;function ks(r){var s=r[Nr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ei]||l[Nr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Vg(r);r!==null;){if(l=r[Nr])return l;r=Vg(r)}return s}r=l,l=r.parentNode}return null}function Za(r){return r=r[Nr]||r[ei],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ou(r){return r[Ja]||null}var Ch=[],jo=-1;function Pi(r){return{current:r}}function pt(r){0>jo||(r.current=Ch[jo],Ch[jo]=null,jo--)}function at(r,s){jo++,Ch[jo]=r.current,r.current=s}var Ri={},Xt=Pi(Ri),_n=Pi(!1),Cs=Ri;function Mo(r,s){var l=r.type.contextTypes;if(!l)return Ri;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function wn(r){return r=r.childContextTypes,r!=null}function Du(){pt(_n),pt(Xt)}function Fg(r,s,l){if(Xt.current!==Ri)throw Error(t(168));at(Xt,s),at(_n,l)}function Ug(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ce(r)||"Unknown",p));return T({},l,d)}function Lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ri,Cs=Xt.current,at(Xt,r),at(_n,_n.current),!0}function zg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Ug(r,s,Cs),d.__reactInternalMemoizedMergedChildContext=r,pt(_n),pt(Xt),at(Xt,r)):pt(_n),at(_n,l)}var ti=null,ju=!1,Ph=!1;function $g(r){ti===null?ti=[r]:ti.push(r)}function rI(r){ju=!0,$g(r)}function Ai(){if(!Ph&&ti!==null){Ph=!0;var r=0,s=Ke;try{var l=ti;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}ti=null,ju=!1}catch(p){throw ti!==null&&(ti=ti.slice(r+1)),go(_s,Ai),p}finally{Ke=s,Ph=!1}}return null}var Vo=[],Fo=0,Mu=null,Vu=0,Kn=[],Qn=0,Ps=null,ni=1,ri="";function Rs(r,s){Vo[Fo++]=Vu,Vo[Fo++]=Mu,Mu=r,Vu=s}function Bg(r,s,l){Kn[Qn++]=ni,Kn[Qn++]=ri,Kn[Qn++]=Ps,Ps=r;var d=ni;r=ri;var p=32-un(d)-1;d&=~(1<<p),l+=1;var y=32-un(s)+p;if(30<y){var P=p-p%5;y=(d&(1<<P)-1).toString(32),d>>=P,p-=P,ni=1<<32-un(s)+p|l<<p|d,ri=y+r}else ni=1<<y|l<<p|d,ri=r}function Rh(r){r.return!==null&&(Rs(r,1),Bg(r,1,0))}function Ah(r){for(;r===Mu;)Mu=Vo[--Fo],Vo[Fo]=null,Vu=Vo[--Fo],Vo[Fo]=null;for(;r===Ps;)Ps=Kn[--Qn],Kn[Qn]=null,ri=Kn[--Qn],Kn[Qn]=null,ni=Kn[--Qn],Kn[Qn]=null}var Ln=null,jn=null,gt=!1,mr=null;function qg(r,s){var l=Zn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Hg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ln=r,jn=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ln=r,jn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ps!==null?{id:ni,overflow:ri}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Zn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Ln=r,jn=null,!0):!1;default:return!1}}function Nh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Oh(r){if(gt){var s=jn;if(s){var l=s;if(!Hg(r,s)){if(Nh(r))throw Error(t(418));s=Ci(l.nextSibling);var d=Ln;s&&Hg(r,s)?qg(d,l):(r.flags=r.flags&-4097|2,gt=!1,Ln=r)}}else{if(Nh(r))throw Error(t(418));r.flags=r.flags&-4097|2,gt=!1,Ln=r}}}function Wg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ln=r}function Fu(r){if(r!==Ln)return!1;if(!gt)return Wg(r),gt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ih(r.type,r.memoizedProps)),s&&(s=jn)){if(Nh(r))throw Gg(),Error(t(418));for(;s;)qg(r,s),s=Ci(s.nextSibling)}if(Wg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){jn=Ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}jn=null}}else jn=Ln?Ci(r.stateNode.nextSibling):null;return!0}function Gg(){for(var r=jn;r;)r=Ci(r.nextSibling)}function Uo(){jn=Ln=null,gt=!1}function Dh(r){mr===null?mr=[r]:mr.push(r)}var iI=Q.ReactCurrentBatchConfig;function el(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(P){var F=p.refs;P===null?delete F[y]:F[y]=P},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Kg(r){var s=r._init;return s(r._payload)}function Qg(r){function s(J,K){if(r){var ee=J.deletions;ee===null?(J.deletions=[K],J.flags|=16):ee.push(K)}}function l(J,K){if(!r)return null;for(;K!==null;)s(J,K),K=K.sibling;return null}function d(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function p(J,K){return J=Fi(J,K),J.index=0,J.sibling=null,J}function y(J,K,ee){return J.index=ee,r?(ee=J.alternate,ee!==null?(ee=ee.index,ee<K?(J.flags|=2,K):ee):(J.flags|=2,K)):(J.flags|=1048576,K)}function P(J){return r&&J.alternate===null&&(J.flags|=2),J}function F(J,K,ee,ge){return K===null||K.tag!==6?(K=xf(ee,J.mode,ge),K.return=J,K):(K=p(K,ee),K.return=J,K)}function W(J,K,ee,ge){var Ce=ee.type;return Ce===k?fe(J,K,ee.props.children,ge,ee.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===de&&Kg(Ce)===K.type)?(ge=p(K,ee.props),ge.ref=el(J,K,ee),ge.return=J,ge):(ge=cc(ee.type,ee.key,ee.props,null,J.mode,ge),ge.ref=el(J,K,ee),ge.return=J,ge)}function te(J,K,ee,ge){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=kf(ee,J.mode,ge),K.return=J,K):(K=p(K,ee.children||[]),K.return=J,K)}function fe(J,K,ee,ge,Ce){return K===null||K.tag!==7?(K=Vs(ee,J.mode,ge,Ce),K.return=J,K):(K=p(K,ee),K.return=J,K)}function me(J,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=xf(""+K,J.mode,ee),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return ee=cc(K.type,K.key,K.props,null,J.mode,ee),ee.ref=el(J,null,K),ee.return=J,ee;case z:return K=kf(K,J.mode,ee),K.return=J,K;case de:var ge=K._init;return me(J,ge(K._payload),ee)}if(it(K)||B(K))return K=Vs(K,J.mode,ee,null),K.return=J,K;Uu(J,K)}return null}function he(J,K,ee,ge){var Ce=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ce!==null?null:F(J,K,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:return ee.key===Ce?W(J,K,ee,ge):null;case z:return ee.key===Ce?te(J,K,ee,ge):null;case de:return Ce=ee._init,he(J,K,Ce(ee._payload),ge)}if(it(ee)||B(ee))return Ce!==null?null:fe(J,K,ee,ge,null);Uu(J,ee)}return null}function we(J,K,ee,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return J=J.get(ee)||null,F(K,J,""+ge,Ce);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case D:return J=J.get(ge.key===null?ee:ge.key)||null,W(K,J,ge,Ce);case z:return J=J.get(ge.key===null?ee:ge.key)||null,te(K,J,ge,Ce);case de:var Ae=ge._init;return we(J,K,ee,Ae(ge._payload),Ce)}if(it(ge)||B(ge))return J=J.get(ee)||null,fe(K,J,ge,Ce,null);Uu(K,ge)}return null}function Ie(J,K,ee,ge){for(var Ce=null,Ae=null,Ne=K,Le=K=0,zt=null;Ne!==null&&Le<ee.length;Le++){Ne.index>Le?(zt=Ne,Ne=null):zt=Ne.sibling;var Je=he(J,Ne,ee[Le],ge);if(Je===null){Ne===null&&(Ne=zt);break}r&&Ne&&Je.alternate===null&&s(J,Ne),K=y(Je,K,Le),Ae===null?Ce=Je:Ae.sibling=Je,Ae=Je,Ne=zt}if(Le===ee.length)return l(J,Ne),gt&&Rs(J,Le),Ce;if(Ne===null){for(;Le<ee.length;Le++)Ne=me(J,ee[Le],ge),Ne!==null&&(K=y(Ne,K,Le),Ae===null?Ce=Ne:Ae.sibling=Ne,Ae=Ne);return gt&&Rs(J,Le),Ce}for(Ne=d(J,Ne);Le<ee.length;Le++)zt=we(Ne,J,Le,ee[Le],ge),zt!==null&&(r&&zt.alternate!==null&&Ne.delete(zt.key===null?Le:zt.key),K=y(zt,K,Le),Ae===null?Ce=zt:Ae.sibling=zt,Ae=zt);return r&&Ne.forEach(function(Ui){return s(J,Ui)}),gt&&Rs(J,Le),Ce}function ke(J,K,ee,ge){var Ce=B(ee);if(typeof Ce!="function")throw Error(t(150));if(ee=Ce.call(ee),ee==null)throw Error(t(151));for(var Ae=Ce=null,Ne=K,Le=K=0,zt=null,Je=ee.next();Ne!==null&&!Je.done;Le++,Je=ee.next()){Ne.index>Le?(zt=Ne,Ne=null):zt=Ne.sibling;var Ui=he(J,Ne,Je.value,ge);if(Ui===null){Ne===null&&(Ne=zt);break}r&&Ne&&Ui.alternate===null&&s(J,Ne),K=y(Ui,K,Le),Ae===null?Ce=Ui:Ae.sibling=Ui,Ae=Ui,Ne=zt}if(Je.done)return l(J,Ne),gt&&Rs(J,Le),Ce;if(Ne===null){for(;!Je.done;Le++,Je=ee.next())Je=me(J,Je.value,ge),Je!==null&&(K=y(Je,K,Le),Ae===null?Ce=Je:Ae.sibling=Je,Ae=Je);return gt&&Rs(J,Le),Ce}for(Ne=d(J,Ne);!Je.done;Le++,Je=ee.next())Je=we(Ne,J,Le,Je.value,ge),Je!==null&&(r&&Je.alternate!==null&&Ne.delete(Je.key===null?Le:Je.key),K=y(Je,K,Le),Ae===null?Ce=Je:Ae.sibling=Je,Ae=Je);return r&&Ne.forEach(function(MI){return s(J,MI)}),gt&&Rs(J,Le),Ce}function It(J,K,ee,ge){if(typeof ee=="object"&&ee!==null&&ee.type===k&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:e:{for(var Ce=ee.key,Ae=K;Ae!==null;){if(Ae.key===Ce){if(Ce=ee.type,Ce===k){if(Ae.tag===7){l(J,Ae.sibling),K=p(Ae,ee.props.children),K.return=J,J=K;break e}}else if(Ae.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===de&&Kg(Ce)===Ae.type){l(J,Ae.sibling),K=p(Ae,ee.props),K.ref=el(J,Ae,ee),K.return=J,J=K;break e}l(J,Ae);break}else s(J,Ae);Ae=Ae.sibling}ee.type===k?(K=Vs(ee.props.children,J.mode,ge,ee.key),K.return=J,J=K):(ge=cc(ee.type,ee.key,ee.props,null,J.mode,ge),ge.ref=el(J,K,ee),ge.return=J,J=ge)}return P(J);case z:e:{for(Ae=ee.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){l(J,K.sibling),K=p(K,ee.children||[]),K.return=J,J=K;break e}else{l(J,K);break}else s(J,K);K=K.sibling}K=kf(ee,J.mode,ge),K.return=J,J=K}return P(J);case de:return Ae=ee._init,It(J,K,Ae(ee._payload),ge)}if(it(ee))return Ie(J,K,ee,ge);if(B(ee))return ke(J,K,ee,ge);Uu(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(l(J,K.sibling),K=p(K,ee),K.return=J,J=K):(l(J,K),K=xf(ee,J.mode,ge),K.return=J,J=K),P(J)):l(J,K)}return It}var zo=Qg(!0),Yg=Qg(!1),zu=Pi(null),$u=null,$o=null,Lh=null;function jh(){Lh=$o=$u=null}function Mh(r){var s=zu.current;pt(zu),r._currentValue=s}function Vh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Bo(r,s){$u=r,Lh=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(En=!0),r.firstContext=null)}function Yn(r){var s=r._currentValue;if(Lh!==r)if(r={context:r,memoizedValue:s,next:null},$o===null){if($u===null)throw Error(t(308));$o=r,$u.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return s}var As=null;function Fh(r){As===null?As=[r]:As.push(r)}function Xg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Fh(s)):(l.next=p.next,p.next=l),s.interleaved=l,ii(r,d)}function ii(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ni=!1;function Uh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function si(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Oi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,ii(r,l)}return p=d.interleaved,p===null?(s.next=s,Fh(d)):(s.next=p.next,p.next=s),d.interleaved=s,ii(r,l)}function Bu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ti(r,l)}}function Zg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var P={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=P:y=y.next=P,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function qu(r,s,l,d){var p=r.updateQueue;Ni=!1;var y=p.firstBaseUpdate,P=p.lastBaseUpdate,F=p.shared.pending;if(F!==null){p.shared.pending=null;var W=F,te=W.next;W.next=null,P===null?y=te:P.next=te,P=W;var fe=r.alternate;fe!==null&&(fe=fe.updateQueue,F=fe.lastBaseUpdate,F!==P&&(F===null?fe.firstBaseUpdate=te:F.next=te,fe.lastBaseUpdate=W))}if(y!==null){var me=p.baseState;P=0,fe=te=W=null,F=y;do{var he=F.lane,we=F.eventTime;if((d&he)===he){fe!==null&&(fe=fe.next={eventTime:we,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Ie=r,ke=F;switch(he=s,we=l,ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){me=Ie.call(we,me,he);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,he=typeof Ie=="function"?Ie.call(we,me,he):Ie,he==null)break e;me=T({},me,he);break e;case 2:Ni=!0}}F.callback!==null&&F.lane!==0&&(r.flags|=64,he=p.effects,he===null?p.effects=[F]:he.push(F))}else we={eventTime:we,lane:he,tag:F.tag,payload:F.payload,callback:F.callback,next:null},fe===null?(te=fe=we,W=me):fe=fe.next=we,P|=he;if(F=F.next,F===null){if(F=p.shared.pending,F===null)break;he=F,F=he.next,he.next=null,p.lastBaseUpdate=he,p.shared.pending=null}}while(!0);if(fe===null&&(W=me),p.baseState=W,p.firstBaseUpdate=te,p.lastBaseUpdate=fe,s=p.shared.interleaved,s!==null){p=s;do P|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ds|=P,r.lanes=P,r.memoizedState=me}}function ey(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var tl={},Or=Pi(tl),nl=Pi(tl),rl=Pi(tl);function Ns(r){if(r===tl)throw Error(t(174));return r}function zh(r,s){switch(at(rl,s),at(nl,r),at(Or,tl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=tt(s,r)}pt(Or),at(Or,s)}function qo(){pt(Or),pt(nl),pt(rl)}function ty(r){Ns(rl.current);var s=Ns(Or.current),l=tt(s,r.type);s!==l&&(at(nl,r),at(Or,l))}function $h(r){nl.current===r&&(pt(Or),pt(nl))}var vt=Pi(0);function Hu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bh=[];function qh(){for(var r=0;r<Bh.length;r++)Bh[r]._workInProgressVersionPrimary=null;Bh.length=0}var Wu=Q.ReactCurrentDispatcher,Hh=Q.ReactCurrentBatchConfig,Os=0,_t=null,Lt=null,Ft=null,Gu=!1,il=!1,sl=0,sI=0;function Jt(){throw Error(t(321))}function Wh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!pr(r[l],s[l]))return!1;return!0}function Gh(r,s,l,d,p,y){if(Os=y,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=r===null||r.memoizedState===null?uI:cI,r=l(d,p),il){y=0;do{if(il=!1,sl=0,25<=y)throw Error(t(301));y+=1,Ft=Lt=null,s.updateQueue=null,Wu.current=dI,r=l(d,p)}while(il)}if(Wu.current=Yu,s=Lt!==null&&Lt.next!==null,Os=0,Ft=Lt=_t=null,Gu=!1,s)throw Error(t(300));return r}function Kh(){var r=sl!==0;return sl=0,r}function Dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?_t.memoizedState=Ft=r:Ft=Ft.next=r,Ft}function Xn(){if(Lt===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Lt.next;var s=Ft===null?_t.memoizedState:Ft.next;if(s!==null)Ft=s,Lt=r;else{if(r===null)throw Error(t(310));Lt=r,r={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ft===null?_t.memoizedState=Ft=r:Ft=Ft.next=r}return Ft}function ol(r,s){return typeof s=="function"?s(r):s}function Qh(r){var s=Xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Lt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var P=p.next;p.next=y.next,y.next=P}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var F=P=null,W=null,te=y;do{var fe=te.lane;if((Os&fe)===fe)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),d=te.hasEagerState?te.eagerState:r(d,te.action);else{var me={lane:fe,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(F=W=me,P=d):W=W.next=me,_t.lanes|=fe,Ds|=fe}te=te.next}while(te!==null&&te!==y);W===null?P=d:W.next=F,pr(d,s.memoizedState)||(En=!0),s.memoizedState=d,s.baseState=P,s.baseQueue=W,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,_t.lanes|=y,Ds|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Yh(r){var s=Xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var P=p=p.next;do y=r(y,P.action),P=P.next;while(P!==p);pr(y,s.memoizedState)||(En=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function ny(){}function ry(r,s){var l=_t,d=Xn(),p=s(),y=!pr(d.memoizedState,p);if(y&&(d.memoizedState=p,En=!0),d=d.queue,Xh(oy.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Ft!==null&&Ft.memoizedState.tag&1){if(l.flags|=2048,al(9,sy.bind(null,l,d,p,s),void 0,null),Ut===null)throw Error(t(349));(Os&30)!==0||iy(l,s,p)}return p}function iy(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function sy(r,s,l,d){s.value=l,s.getSnapshot=d,ay(s)&&ly(r)}function oy(r,s,l){return l(function(){ay(s)&&ly(r)})}function ay(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!pr(r,l)}catch{return!0}}function ly(r){var s=ii(r,1);s!==null&&_r(s,r,1,-1)}function uy(r){var s=Dr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:r},s.queue=r,r=r.dispatch=lI.bind(null,_t,r),[s.memoizedState,r]}function al(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function cy(){return Xn().memoizedState}function Ku(r,s,l,d){var p=Dr();_t.flags|=r,p.memoizedState=al(1|s,l,void 0,d===void 0?null:d)}function Qu(r,s,l,d){var p=Xn();d=d===void 0?null:d;var y=void 0;if(Lt!==null){var P=Lt.memoizedState;if(y=P.destroy,d!==null&&Wh(d,P.deps)){p.memoizedState=al(s,l,y,d);return}}_t.flags|=r,p.memoizedState=al(1|s,l,y,d)}function dy(r,s){return Ku(8390656,8,r,s)}function Xh(r,s){return Qu(2048,8,r,s)}function hy(r,s){return Qu(4,2,r,s)}function fy(r,s){return Qu(4,4,r,s)}function py(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function my(r,s,l){return l=l!=null?l.concat([r]):null,Qu(4,4,py.bind(null,s,r),l)}function Jh(){}function gy(r,s){var l=Xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Wh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function yy(r,s){var l=Xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Wh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function vy(r,s,l){return(Os&21)===0?(r.baseState&&(r.baseState=!1,En=!0),r.memoizedState=l):(pr(l,s)||(l=Ts(),_t.lanes|=l,Ds|=l,r.baseState=!0),s)}function oI(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=Hh.transition;Hh.transition={};try{r(!1),s()}finally{Ke=l,Hh.transition=d}}function _y(){return Xn().memoizedState}function aI(r,s,l){var d=Mi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wy(r))Ey(s,l);else if(l=Xg(r,s,l,d),l!==null){var p=hn();_r(l,r,d,p),Ty(l,s,d)}}function lI(r,s,l){var d=Mi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wy(r))Ey(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var P=s.lastRenderedState,F=y(P,l);if(p.hasEagerState=!0,p.eagerState=F,pr(F,P)){var W=s.interleaved;W===null?(p.next=p,Fh(s)):(p.next=W.next,W.next=p),s.interleaved=p;return}}catch{}finally{}l=Xg(r,s,p,d),l!==null&&(p=hn(),_r(l,r,d,p),Ty(l,s,d))}}function wy(r){var s=r.alternate;return r===_t||s!==null&&s===_t}function Ey(r,s){il=Gu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Ty(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ti(r,l)}}var Yu={readContext:Yn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},uI={readContext:Yn,useCallback:function(r,s){return Dr().memoizedState=[r,s===void 0?null:s],r},useContext:Yn,useEffect:dy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4194308,4,py.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ku(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ku(4,2,r,s)},useMemo:function(r,s){var l=Dr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Dr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=aI.bind(null,_t,r),[d.memoizedState,r]},useRef:function(r){var s=Dr();return r={current:r},s.memoizedState=r},useState:uy,useDebugValue:Jh,useDeferredValue:function(r){return Dr().memoizedState=r},useTransition:function(){var r=uy(!1),s=r[0];return r=oI.bind(null,r[1]),Dr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=_t,p=Dr();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ut===null)throw Error(t(349));(Os&30)!==0||iy(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,dy(oy.bind(null,d,y,r),[r]),d.flags|=2048,al(9,sy.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Dr(),s=Ut.identifierPrefix;if(gt){var l=ri,d=ni;l=(d&~(1<<32-un(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=sl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=sI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},cI={readContext:Yn,useCallback:gy,useContext:Yn,useEffect:Xh,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:yy,useReducer:Qh,useRef:cy,useState:function(){return Qh(ol)},useDebugValue:Jh,useDeferredValue:function(r){var s=Xn();return vy(s,Lt.memoizedState,r)},useTransition:function(){var r=Qh(ol)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:ny,useSyncExternalStore:ry,useId:_y,unstable_isNewReconciler:!1},dI={readContext:Yn,useCallback:gy,useContext:Yn,useEffect:Xh,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:yy,useReducer:Yh,useRef:cy,useState:function(){return Yh(ol)},useDebugValue:Jh,useDeferredValue:function(r){var s=Xn();return Lt===null?s.memoizedState=r:vy(s,Lt.memoizedState,r)},useTransition:function(){var r=Yh(ol)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:ny,useSyncExternalStore:ry,useId:_y,unstable_isNewReconciler:!1};function gr(r,s){if(r&&r.defaultProps){s=T({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Zh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:T({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Xu={isMounted:function(r){return(r=r._reactInternals)?ar(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=hn(),p=Mi(r),y=si(d,p);y.payload=s,l!=null&&(y.callback=l),s=Oi(r,y,p),s!==null&&(_r(s,r,p,d),Bu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=hn(),p=Mi(r),y=si(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Oi(r,y,p),s!==null&&(_r(s,r,p,d),Bu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=hn(),d=Mi(r),p=si(l,d);p.tag=2,s!=null&&(p.callback=s),s=Oi(r,p,d),s!==null&&(_r(s,r,d,l),Bu(s,r,d))}};function Sy(r,s,l,d,p,y,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,P):s.prototype&&s.prototype.isPureReactComponent?!Ga(l,d)||!Ga(p,y):!0}function Iy(r,s,l){var d=!1,p=Ri,y=s.contextType;return typeof y=="object"&&y!==null?y=Yn(y):(p=wn(s)?Cs:Xt.current,d=s.contextTypes,y=(d=d!=null)?Mo(r,p):Ri),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function by(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Xu.enqueueReplaceState(s,s.state,null)}function ef(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Uh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Yn(y):(y=wn(s)?Cs:Xt.current,p.context=Mo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Zh(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Xu.enqueueReplaceState(p,p.state,null),qu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ho(r,s){try{var l="",d=s;do l+=ae(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function tf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function nf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var hI=typeof WeakMap=="function"?WeakMap:Map;function xy(r,s,l){l=si(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){ic||(ic=!0,vf=d),nf(r,s)},l}function ky(r,s,l){l=si(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){nf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){nf(r,s),typeof d!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var P=s.stack;this.componentDidCatch(s.value,{componentStack:P!==null?P:""})}),l}function Cy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new hI;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=xI.bind(null,r,s,l),s.then(r,r))}function Py(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ry(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=si(-1,1),s.tag=2,Oi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var fI=Q.ReactCurrentOwner,En=!1;function dn(r,s,l,d){s.child=r===null?Yg(s,null,l,d):zo(s,r.child,l,d)}function Ay(r,s,l,d,p){l=l.render;var y=s.ref;return Bo(s,p),d=Gh(r,s,l,d,y,p),l=Kh(),r!==null&&!En?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,oi(r,s,p)):(gt&&l&&Rh(s),s.flags|=1,dn(r,s,d,p),s.child)}function Ny(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!bf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Oy(r,s,y,d,p)):(r=cc(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var P=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(P,d)&&r.ref===s.ref)return oi(r,s,p)}return s.flags|=1,r=Fi(y,d),r.ref=s.ref,r.return=s,s.child=r}function Oy(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(Ga(y,d)&&r.ref===s.ref)if(En=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(En=!0);else return s.lanes=r.lanes,oi(r,s,p)}return rf(r,s,l,d,p)}function Dy(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Go,Mn),Mn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(Go,Mn),Mn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,at(Go,Mn),Mn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,at(Go,Mn),Mn|=d;return dn(r,s,p,l),s.child}function Ly(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function rf(r,s,l,d,p){var y=wn(l)?Cs:Xt.current;return y=Mo(s,y),Bo(s,p),l=Gh(r,s,l,d,y,p),d=Kh(),r!==null&&!En?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,oi(r,s,p)):(gt&&d&&Rh(s),s.flags|=1,dn(r,s,l,p),s.child)}function jy(r,s,l,d,p){if(wn(l)){var y=!0;Lu(s)}else y=!1;if(Bo(s,p),s.stateNode===null)Zu(r,s),Iy(s,l,d),ef(s,l,d,p),d=!0;else if(r===null){var P=s.stateNode,F=s.memoizedProps;P.props=F;var W=P.context,te=l.contextType;typeof te=="object"&&te!==null?te=Yn(te):(te=wn(l)?Cs:Xt.current,te=Mo(s,te));var fe=l.getDerivedStateFromProps,me=typeof fe=="function"||typeof P.getSnapshotBeforeUpdate=="function";me||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==d||W!==te)&&by(s,P,d,te),Ni=!1;var he=s.memoizedState;P.state=he,qu(s,d,P,p),W=s.memoizedState,F!==d||he!==W||_n.current||Ni?(typeof fe=="function"&&(Zh(s,l,fe,d),W=s.memoizedState),(F=Ni||Sy(s,l,F,d,he,W,te))?(me||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(s.flags|=4194308)):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=W),P.props=d,P.state=W,P.context=te,d=F):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{P=s.stateNode,Jg(r,s),F=s.memoizedProps,te=s.type===s.elementType?F:gr(s.type,F),P.props=te,me=s.pendingProps,he=P.context,W=l.contextType,typeof W=="object"&&W!==null?W=Yn(W):(W=wn(l)?Cs:Xt.current,W=Mo(s,W));var we=l.getDerivedStateFromProps;(fe=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==me||he!==W)&&by(s,P,d,W),Ni=!1,he=s.memoizedState,P.state=he,qu(s,d,P,p);var Ie=s.memoizedState;F!==me||he!==Ie||_n.current||Ni?(typeof we=="function"&&(Zh(s,l,we,d),Ie=s.memoizedState),(te=Ni||Sy(s,l,te,d,he,Ie,W)||!1)?(fe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(d,Ie,W),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(d,Ie,W)),typeof P.componentDidUpdate=="function"&&(s.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof P.componentDidUpdate!="function"||F===r.memoizedProps&&he===r.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&he===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ie),P.props=d,P.state=Ie,P.context=W,d=te):(typeof P.componentDidUpdate!="function"||F===r.memoizedProps&&he===r.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&he===r.memoizedState||(s.flags|=1024),d=!1)}return sf(r,s,l,d,y,p)}function sf(r,s,l,d,p,y){Ly(r,s);var P=(s.flags&128)!==0;if(!d&&!P)return p&&zg(s,l,!1),oi(r,s,y);d=s.stateNode,fI.current=s;var F=P&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&P?(s.child=zo(s,r.child,null,y),s.child=zo(s,null,F,y)):dn(r,s,F,y),s.memoizedState=d.state,p&&zg(s,l,!0),s.child}function My(r){var s=r.stateNode;s.pendingContext?Fg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fg(r,s.context,!1),zh(r,s.containerInfo)}function Vy(r,s,l,d,p){return Uo(),Dh(p),s.flags|=256,dn(r,s,l,d),s.child}var of={dehydrated:null,treeContext:null,retryLane:0};function af(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fy(r,s,l){var d=s.pendingProps,p=vt.current,y=!1,P=(s.flags&128)!==0,F;if((F=P)||(F=r!==null&&r.memoizedState===null?!1:(p&2)!==0),F?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),at(vt,p&1),r===null)return Oh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(P=d.children,r=d.fallback,y?(d=s.mode,y=s.child,P={mode:"hidden",children:P},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=P):y=dc(P,d,0,null),r=Vs(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=af(l),s.memoizedState=of,r):lf(s,P));if(p=r.memoizedState,p!==null&&(F=p.dehydrated,F!==null))return pI(r,s,P,d,F,p,l);if(y){y=d.fallback,P=s.mode,p=r.child,F=p.sibling;var W={mode:"hidden",children:d.children};return(P&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=W,s.deletions=null):(d=Fi(p,W),d.subtreeFlags=p.subtreeFlags&14680064),F!==null?y=Fi(F,y):(y=Vs(y,P,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,P=r.child.memoizedState,P=P===null?af(l):{baseLanes:P.baseLanes|l,cachePool:null,transitions:P.transitions},y.memoizedState=P,y.childLanes=r.childLanes&~l,s.memoizedState=of,d}return y=r.child,r=y.sibling,d=Fi(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function lf(r,s){return s=dc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ju(r,s,l,d){return d!==null&&Dh(d),zo(s,r.child,null,l),r=lf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function pI(r,s,l,d,p,y,P){if(l)return s.flags&256?(s.flags&=-257,d=tf(Error(t(422))),Ju(r,s,P,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=dc({mode:"visible",children:d.children},p,0,null),y=Vs(y,p,P,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&zo(s,r.child,null,P),s.child.memoizedState=af(P),s.memoizedState=of,y);if((s.mode&1)===0)return Ju(r,s,P,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var F=d.dgst;return d=F,y=Error(t(419)),d=tf(y,d,void 0),Ju(r,s,P,d)}if(F=(P&r.childLanes)!==0,En||F){if(d=Ut,d!==null){switch(P&-P){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|P))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ii(r,p),_r(d,r,p,-1))}return If(),d=tf(Error(t(421))),Ju(r,s,P,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=kI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,jn=Ci(p.nextSibling),Ln=s,gt=!0,mr=null,r!==null&&(Kn[Qn++]=ni,Kn[Qn++]=ri,Kn[Qn++]=Ps,ni=r.id,ri=r.overflow,Ps=s),s=lf(s,d.children),s.flags|=4096,s)}function Uy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Vh(r.return,s,l)}function uf(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function zy(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(dn(r,s,d.children,l),d=vt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uy(r,l,s);else if(r.tag===19)Uy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(at(vt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Hu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),uf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Hu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}uf(s,!0,l,null,y);break;case"together":uf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function oi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ds|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Fi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Fi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function mI(r,s,l){switch(s.tag){case 3:My(s),Uo();break;case 5:ty(s);break;case 1:wn(s.type)&&Lu(s);break;case 4:zh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;at(zu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(vt,vt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Fy(r,s,l):(at(vt,vt.current&1),r=oi(r,s,l),r!==null?r.sibling:null);at(vt,vt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return zy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(vt,vt.current),d)break;return null;case 22:case 23:return s.lanes=0,Dy(r,s,l)}return oi(r,s,l)}var $y,cf,By,qy;$y=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},cf=function(){},By=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Ns(Or.current);var y=null;switch(l){case"input":p=Me(r,p),d=Me(r,d),y=[];break;case"select":p=T({},p,{value:void 0}),d=T({},d,{value:void 0}),y=[];break;case"textarea":p=Rn(r,p),d=Rn(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Nu)}Ca(l,d);var P;l=null;for(te in p)if(!d.hasOwnProperty(te)&&p.hasOwnProperty(te)&&p[te]!=null)if(te==="style"){var F=p[te];for(P in F)F.hasOwnProperty(P)&&(l||(l={}),l[P]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(o.hasOwnProperty(te)?y||(y=[]):(y=y||[]).push(te,null));for(te in d){var W=d[te];if(F=p!=null?p[te]:void 0,d.hasOwnProperty(te)&&W!==F&&(W!=null||F!=null))if(te==="style")if(F){for(P in F)!F.hasOwnProperty(P)||W&&W.hasOwnProperty(P)||(l||(l={}),l[P]="");for(P in W)W.hasOwnProperty(P)&&F[P]!==W[P]&&(l||(l={}),l[P]=W[P])}else l||(y||(y=[]),y.push(te,l)),l=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,F=F?F.__html:void 0,W!=null&&F!==W&&(y=y||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(y=y||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(o.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&ft("scroll",r),y||F===W||(y=[])):(y=y||[]).push(te,W))}l&&(y=y||[]).push("style",l);var te=y;(s.updateQueue=te)&&(s.flags|=4)}},qy=function(r,s,l,d){l!==d&&(s.flags|=4)};function ll(r,s){if(!gt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function gI(r,s,l){var d=s.pendingProps;switch(Ah(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(s),null;case 1:return wn(s.type)&&Du(),Zt(s),null;case 3:return d=s.stateNode,qo(),pt(_n),pt(Xt),qh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Fu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mr!==null&&(Ef(mr),mr=null))),cf(r,s),Zt(s),null;case 5:$h(s);var p=Ns(rl.current);if(l=s.type,r!==null&&s.stateNode!=null)By(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Zt(s),null}if(r=Ns(Or.current),Fu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Nr]=s,d[Ja]=y,r=(s.mode&1)!==0,l){case"dialog":ft("cancel",d),ft("close",d);break;case"iframe":case"object":case"embed":ft("load",d);break;case"video":case"audio":for(p=0;p<Qa.length;p++)ft(Qa[p],d);break;case"source":ft("error",d);break;case"img":case"image":case"link":ft("error",d),ft("load",d);break;case"details":ft("toggle",d);break;case"input":qe(d,y),ft("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ft("invalid",d);break;case"textarea":rr(d,y),ft("invalid",d)}Ca(l,y),p=null;for(var P in y)if(y.hasOwnProperty(P)){var F=y[P];P==="children"?typeof F=="string"?d.textContent!==F&&(y.suppressHydrationWarning!==!0&&Au(d.textContent,F,r),p=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(y.suppressHydrationWarning!==!0&&Au(d.textContent,F,r),p=["children",""+F]):o.hasOwnProperty(P)&&F!=null&&P==="onScroll"&&ft("scroll",d)}switch(l){case"input":$e(d),dt(d,y,!0);break;case"textarea":$e(d),ir(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Nu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{P=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=P.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=P.createElement(l,{is:d.is}):(r=P.createElement(l),l==="select"&&(P=r,d.multiple?P.multiple=!0:d.size&&(P.size=d.size))):r=P.createElementNS(r,l),r[Nr]=s,r[Ja]=d,$y(r,s,!1,!1),s.stateNode=r;e:{switch(P=Pa(l,d),l){case"dialog":ft("cancel",r),ft("close",r),p=d;break;case"iframe":case"object":case"embed":ft("load",r),p=d;break;case"video":case"audio":for(p=0;p<Qa.length;p++)ft(Qa[p],r);p=d;break;case"source":ft("error",r),p=d;break;case"img":case"image":case"link":ft("error",r),ft("load",r),p=d;break;case"details":ft("toggle",r),p=d;break;case"input":qe(r,d),p=Me(r,d),ft("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=T({},d,{value:void 0}),ft("invalid",r);break;case"textarea":rr(r,d),p=Rn(r,d),ft("invalid",r);break;default:p=d}Ca(l,p),F=p;for(y in F)if(F.hasOwnProperty(y)){var W=F[y];y==="style"?xa(r,W):y==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Ia(r,W)):y==="children"?typeof W=="string"?(l!=="textarea"||W!=="")&&yi(r,W):typeof W=="number"&&yi(r,""+W):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?W!=null&&y==="onScroll"&&ft("scroll",r):W!=null&&H(r,y,W,P))}switch(l){case"input":$e(r),dt(r,d,!1);break;case"textarea":$e(r),ir(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Te(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?yt(r,!!d.multiple,y,!1):d.defaultValue!=null&&yt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Zt(s),null;case 6:if(r&&s.stateNode!=null)qy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ns(rl.current),Ns(Or.current),Fu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Nr]=s,(y=d.nodeValue!==l)&&(r=Ln,r!==null))switch(r.tag){case 3:Au(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Au(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Nr]=s,s.stateNode=d}return Zt(s),null;case 13:if(pt(vt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&jn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Gg(),Uo(),s.flags|=98560,y=!1;else if(y=Fu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Nr]=s}else Uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),y=!1}else mr!==null&&(Ef(mr),mr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(vt.current&1)!==0?jt===0&&(jt=3):If())),s.updateQueue!==null&&(s.flags|=4),Zt(s),null);case 4:return qo(),cf(r,s),r===null&&Ya(s.stateNode.containerInfo),Zt(s),null;case 10:return Mh(s.type._context),Zt(s),null;case 17:return wn(s.type)&&Du(),Zt(s),null;case 19:if(pt(vt),y=s.memoizedState,y===null)return Zt(s),null;if(d=(s.flags&128)!==0,P=y.rendering,P===null)if(d)ll(y,!1);else{if(jt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(P=Hu(r),P!==null){for(s.flags|=128,ll(y,!1),d=P.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,P=y.alternate,P===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=P.childLanes,y.lanes=P.lanes,y.child=P.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=P.memoizedProps,y.memoizedState=P.memoizedState,y.updateQueue=P.updateQueue,y.type=P.type,r=P.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return at(vt,vt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ot()>Ko&&(s.flags|=128,d=!0,ll(y,!1),s.lanes=4194304)}else{if(!d)if(r=Hu(P),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ll(y,!0),y.tail===null&&y.tailMode==="hidden"&&!P.alternate&&!gt)return Zt(s),null}else 2*ot()-y.renderingStartTime>Ko&&l!==1073741824&&(s.flags|=128,d=!0,ll(y,!1),s.lanes=4194304);y.isBackwards?(P.sibling=s.child,s.child=P):(l=y.last,l!==null?l.sibling=P:s.child=P,y.last=P)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ot(),s.sibling=null,l=vt.current,at(vt,d?l&1|2:l&1),s):(Zt(s),null);case 22:case 23:return Sf(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Mn&1073741824)!==0&&(Zt(s),s.subtreeFlags&6&&(s.flags|=8192)):Zt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function yI(r,s){switch(Ah(s),s.tag){case 1:return wn(s.type)&&Du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return qo(),pt(_n),pt(Xt),qh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return $h(s),null;case 13:if(pt(vt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(vt),null;case 4:return qo(),null;case 10:return Mh(s.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var ec=!1,en=!1,vI=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Wo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Et(r,s,d)}else l.current=null}function df(r,s,l){try{l()}catch(d){Et(r,s,d)}}var Hy=!1;function _I(r,s){if(Th=bi,r=Sg(),ph(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var P=0,F=-1,W=-1,te=0,fe=0,me=r,he=null;t:for(;;){for(var we;me!==l||p!==0&&me.nodeType!==3||(F=P+p),me!==y||d!==0&&me.nodeType!==3||(W=P+d),me.nodeType===3&&(P+=me.nodeValue.length),(we=me.firstChild)!==null;)he=me,me=we;for(;;){if(me===r)break t;if(he===l&&++te===p&&(F=P),he===y&&++fe===d&&(W=P),(we=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=we}l=F===-1||W===-1?null:{start:F,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sh={focusedElem:r,selectionRange:l},bi=!1,Se=s;Se!==null;)if(s=Se,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Se=r;else for(;Se!==null;){s=Se;try{var Ie=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var ke=Ie.memoizedProps,It=Ie.memoizedState,J=s.stateNode,K=J.getSnapshotBeforeUpdate(s.elementType===s.type?ke:gr(s.type,ke),It);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=s.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Et(s,s.return,ge)}if(r=s.sibling,r!==null){r.return=s.return,Se=r;break}Se=s.return}return Ie=Hy,Hy=!1,Ie}function ul(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&df(s,l,y)}p=p.next}while(p!==d)}}function tc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function hf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Wy(r){var s=r.alternate;s!==null&&(r.alternate=null,Wy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Nr],delete s[Ja],delete s[kh],delete s[tI],delete s[nI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Gy(r){return r.tag===5||r.tag===3||r.tag===4}function Ky(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ff(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Nu));else if(d!==4&&(r=r.child,r!==null))for(ff(r,s,l),r=r.sibling;r!==null;)ff(r,s,l),r=r.sibling}function pf(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(pf(r,s,l),r=r.sibling;r!==null;)pf(r,s,l),r=r.sibling}var Wt=null,yr=!1;function Di(r,s,l){for(l=l.child;l!==null;)Qy(r,s,l),l=l.sibling}function Qy(r,s,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ws,l)}catch{}switch(l.tag){case 5:en||Wo(l,s);case 6:var d=Wt,p=yr;Wt=null,Di(r,s,l),Wt=d,yr=p,Wt!==null&&(yr?(r=Wt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Wt.removeChild(l.stateNode));break;case 18:Wt!==null&&(yr?(r=Wt,l=l.stateNode,r.nodeType===8?xh(r.parentNode,l):r.nodeType===1&&xh(r,l),hr(r)):xh(Wt,l.stateNode));break;case 4:d=Wt,p=yr,Wt=l.stateNode.containerInfo,yr=!0,Di(r,s,l),Wt=d,yr=p;break;case 0:case 11:case 14:case 15:if(!en&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,P=y.destroy;y=y.tag,P!==void 0&&((y&2)!==0||(y&4)!==0)&&df(l,s,P),p=p.next}while(p!==d)}Di(r,s,l);break;case 1:if(!en&&(Wo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(F){Et(l,s,F)}Di(r,s,l);break;case 21:Di(r,s,l);break;case 22:l.mode&1?(en=(d=en)||l.memoizedState!==null,Di(r,s,l),en=d):Di(r,s,l);break;default:Di(r,s,l)}}function Yy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new vI),s.forEach(function(d){var p=CI.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function vr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,P=s,F=P;e:for(;F!==null;){switch(F.tag){case 5:Wt=F.stateNode,yr=!1;break e;case 3:Wt=F.stateNode.containerInfo,yr=!0;break e;case 4:Wt=F.stateNode.containerInfo,yr=!0;break e}F=F.return}if(Wt===null)throw Error(t(160));Qy(y,P,p),Wt=null,yr=!1;var W=p.alternate;W!==null&&(W.return=null),p.return=null}catch(te){Et(p,s,te)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Xy(s,r),s=s.sibling}function Xy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(vr(s,r),Lr(r),d&4){try{ul(3,r,r.return),tc(3,r)}catch(ke){Et(r,r.return,ke)}try{ul(5,r,r.return)}catch(ke){Et(r,r.return,ke)}}break;case 1:vr(s,r),Lr(r),d&512&&l!==null&&Wo(l,l.return);break;case 5:if(vr(s,r),Lr(r),d&512&&l!==null&&Wo(l,l.return),r.flags&32){var p=r.stateNode;try{yi(p,"")}catch(ke){Et(r,r.return,ke)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,P=l!==null?l.memoizedProps:y,F=r.type,W=r.updateQueue;if(r.updateQueue=null,W!==null)try{F==="input"&&y.type==="radio"&&y.name!=null&&ct(p,y),Pa(F,P);var te=Pa(F,y);for(P=0;P<W.length;P+=2){var fe=W[P],me=W[P+1];fe==="style"?xa(p,me):fe==="dangerouslySetInnerHTML"?Ia(p,me):fe==="children"?yi(p,me):H(p,fe,me,te)}switch(F){case"input":Fe(p,y);break;case"textarea":Gr(p,y);break;case"select":var he=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?yt(p,!!y.multiple,we,!1):he!==!!y.multiple&&(y.defaultValue!=null?yt(p,!!y.multiple,y.defaultValue,!0):yt(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ja]=y}catch(ke){Et(r,r.return,ke)}}break;case 6:if(vr(s,r),Lr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ke){Et(r,r.return,ke)}}break;case 3:if(vr(s,r),Lr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{hr(s.containerInfo)}catch(ke){Et(r,r.return,ke)}break;case 4:vr(s,r),Lr(r);break;case 13:vr(s,r),Lr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(yf=ot())),d&4&&Yy(r);break;case 22:if(fe=l!==null&&l.memoizedState!==null,r.mode&1?(en=(te=en)||fe,vr(s,r),en=te):vr(s,r),Lr(r),d&8192){if(te=r.memoizedState!==null,(r.stateNode.isHidden=te)&&!fe&&(r.mode&1)!==0)for(Se=r,fe=r.child;fe!==null;){for(me=Se=fe;Se!==null;){switch(he=Se,we=he.child,he.tag){case 0:case 11:case 14:case 15:ul(4,he,he.return);break;case 1:Wo(he,he.return);var Ie=he.stateNode;if(typeof Ie.componentWillUnmount=="function"){d=he,l=he.return;try{s=d,Ie.props=s.memoizedProps,Ie.state=s.memoizedState,Ie.componentWillUnmount()}catch(ke){Et(d,l,ke)}}break;case 5:Wo(he,he.return);break;case 22:if(he.memoizedState!==null){ev(me);continue}}we!==null?(we.return=he,Se=we):ev(me)}fe=fe.sibling}e:for(fe=null,me=r;;){if(me.tag===5){if(fe===null){fe=me;try{p=me.stateNode,te?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(F=me.stateNode,W=me.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null,F.style.display=ba("display",P))}catch(ke){Et(r,r.return,ke)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(ke){Et(r,r.return,ke)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:vr(s,r),Lr(r),d&4&&Yy(r);break;case 21:break;default:vr(s,r),Lr(r)}}function Lr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Gy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(yi(p,""),d.flags&=-33);var y=Ky(r);pf(r,y,p);break;case 3:case 4:var P=d.stateNode.containerInfo,F=Ky(r);ff(r,F,P);break;default:throw Error(t(161))}}catch(W){Et(r,r.return,W)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function wI(r,s,l){Se=r,Jy(r)}function Jy(r,s,l){for(var d=(r.mode&1)!==0;Se!==null;){var p=Se,y=p.child;if(p.tag===22&&d){var P=p.memoizedState!==null||ec;if(!P){var F=p.alternate,W=F!==null&&F.memoizedState!==null||en;F=ec;var te=en;if(ec=P,(en=W)&&!te)for(Se=p;Se!==null;)P=Se,W=P.child,P.tag===22&&P.memoizedState!==null?tv(p):W!==null?(W.return=P,Se=W):tv(p);for(;y!==null;)Se=y,Jy(y),y=y.sibling;Se=p,ec=F,en=te}Zy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Se=y):Zy(r)}}function Zy(r){for(;Se!==null;){var s=Se;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:en||tc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!en)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:gr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ey(s,y,d);break;case 3:var P=s.updateQueue;if(P!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ey(s,P,l)}break;case 5:var F=s.stateNode;if(l===null&&s.flags&4){l=F;var W=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&l.focus();break;case"img":W.src&&(l.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var te=s.alternate;if(te!==null){var fe=te.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&hr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||s.flags&512&&hf(s)}catch(he){Et(s,s.return,he)}}if(s===r){Se=null;break}if(l=s.sibling,l!==null){l.return=s.return,Se=l;break}Se=s.return}}function ev(r){for(;Se!==null;){var s=Se;if(s===r){Se=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Se=l;break}Se=s.return}}function tv(r){for(;Se!==null;){var s=Se;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{tc(4,s)}catch(W){Et(s,l,W)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(W){Et(s,p,W)}}var y=s.return;try{hf(s)}catch(W){Et(s,y,W)}break;case 5:var P=s.return;try{hf(s)}catch(W){Et(s,P,W)}}}catch(W){Et(s,s.return,W)}if(s===r){Se=null;break}var F=s.sibling;if(F!==null){F.return=s.return,Se=F;break}Se=s.return}}var EI=Math.ceil,nc=Q.ReactCurrentDispatcher,mf=Q.ReactCurrentOwner,Jn=Q.ReactCurrentBatchConfig,Xe=0,Ut=null,Ct=null,Gt=0,Mn=0,Go=Pi(0),jt=0,cl=null,Ds=0,rc=0,gf=0,dl=null,Tn=null,yf=0,Ko=1/0,ai=null,ic=!1,vf=null,Li=null,sc=!1,ji=null,oc=0,hl=0,_f=null,ac=-1,lc=0;function hn(){return(Xe&6)!==0?ot():ac!==-1?ac:ac=ot()}function Mi(r){return(r.mode&1)===0?1:(Xe&2)!==0&&Gt!==0?Gt&-Gt:iI.transition!==null?(lc===0&&(lc=Ts()),lc):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Ua(r.type)),r)}function _r(r,s,l,d){if(50<hl)throw hl=0,_f=null,Error(t(185));Ei(r,l,d),((Xe&2)===0||r!==Ut)&&(r===Ut&&((Xe&2)===0&&(rc|=l),jt===4&&Vi(r,Gt)),Sn(r,d),l===1&&Xe===0&&(s.mode&1)===0&&(Ko=ot()+500,ju&&Ai()))}function Sn(r,s){var l=r.callbackNode;Qr(r,s);var d=Es(r,r===Ut?Gt:0);if(d===0)l!==null&&La(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&La(l),s===1)r.tag===0?rI(rv.bind(null,r)):$g(rv.bind(null,r)),ZS(function(){(Xe&6)===0&&Ai()}),l=null;else{switch(Si(d)){case 1:l=_s;break;case 4:l=vi;break;case 16:l=Hn;break;case 536870912:l=lu;break;default:l=Hn}l=dv(l,nv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function nv(r,s){if(ac=-1,lc=0,(Xe&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Qo()&&r.callbackNode!==l)return null;var d=Es(r,r===Ut?Gt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=uc(r,d);else{s=d;var p=Xe;Xe|=2;var y=sv();(Ut!==r||Gt!==s)&&(ai=null,Ko=ot()+500,js(r,s));do try{II();break}catch(F){iv(r,F)}while(!0);jh(),nc.current=y,Xe=p,Ct!==null?s=0:(Ut=null,Gt=0,s=jt)}if(s!==0){if(s===2&&(p=Nn(r),p!==0&&(d=p,s=wf(r,p))),s===1)throw l=cl,js(r,0),Vi(r,d),Sn(r,ot()),l;if(s===6)Vi(r,d);else{if(p=r.current.alternate,(d&30)===0&&!TI(p)&&(s=uc(r,d),s===2&&(y=Nn(r),y!==0&&(d=y,s=wf(r,y))),s===1))throw l=cl,js(r,0),Vi(r,d),Sn(r,ot()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Ms(r,Tn,ai);break;case 3:if(Vi(r,d),(d&130023424)===d&&(s=yf+500-ot(),10<s)){if(Es(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){hn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=bh(Ms.bind(null,r,Tn,ai),s);break}Ms(r,Tn,ai);break;case 4:if(Vi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var P=31-un(d);y=1<<P,P=s[P],P>p&&(p=P),d&=~y}if(d=p,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*EI(d/1960))-d,10<d){r.timeoutHandle=bh(Ms.bind(null,r,Tn,ai),d);break}Ms(r,Tn,ai);break;case 5:Ms(r,Tn,ai);break;default:throw Error(t(329))}}}return Sn(r,ot()),r.callbackNode===l?nv.bind(null,r):null}function wf(r,s){var l=dl;return r.current.memoizedState.isDehydrated&&(js(r,s).flags|=256),r=uc(r,s),r!==2&&(s=Tn,Tn=l,s!==null&&Ef(s)),r}function Ef(r){Tn===null?Tn=r:Tn.push.apply(Tn,r)}function TI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!pr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(r,s){for(s&=~gf,s&=~rc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-un(s),d=1<<l;r[l]=-1,s&=~d}}function rv(r){if((Xe&6)!==0)throw Error(t(327));Qo();var s=Es(r,0);if((s&1)===0)return Sn(r,ot()),null;var l=uc(r,s);if(r.tag!==0&&l===2){var d=Nn(r);d!==0&&(s=d,l=wf(r,d))}if(l===1)throw l=cl,js(r,0),Vi(r,s),Sn(r,ot()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ms(r,Tn,ai),Sn(r,ot()),null}function Tf(r,s){var l=Xe;Xe|=1;try{return r(s)}finally{Xe=l,Xe===0&&(Ko=ot()+500,ju&&Ai())}}function Ls(r){ji!==null&&ji.tag===0&&(Xe&6)===0&&Qo();var s=Xe;Xe|=1;var l=Jn.transition,d=Ke;try{if(Jn.transition=null,Ke=1,r)return r()}finally{Ke=d,Jn.transition=l,Xe=s,(Xe&6)===0&&Ai()}}function Sf(){Mn=Go.current,pt(Go)}function js(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,JS(l)),Ct!==null)for(l=Ct.return;l!==null;){var d=l;switch(Ah(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Du();break;case 3:qo(),pt(_n),pt(Xt),qh();break;case 5:$h(d);break;case 4:qo();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:Mh(d.type._context);break;case 22:case 23:Sf()}l=l.return}if(Ut=r,Ct=r=Fi(r.current,null),Gt=Mn=s,jt=0,cl=null,gf=rc=Ds=0,Tn=dl=null,As!==null){for(s=0;s<As.length;s++)if(l=As[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var P=y.next;y.next=p,d.next=P}l.pending=d}As=null}return r}function iv(r,s){do{var l=Ct;try{if(jh(),Wu.current=Yu,Gu){for(var d=_t.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Gu=!1}if(Os=0,Ft=Lt=_t=null,il=!1,sl=0,mf.current=null,l===null||l.return===null){jt=1,cl=s,Ct=null;break}e:{var y=r,P=l.return,F=l,W=s;if(s=Gt,F.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,fe=F,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var we=Py(P);if(we!==null){we.flags&=-257,Ry(we,P,F,y,s),we.mode&1&&Cy(y,te,s),s=we,W=te;var Ie=s.updateQueue;if(Ie===null){var ke=new Set;ke.add(W),s.updateQueue=ke}else Ie.add(W);break e}else{if((s&1)===0){Cy(y,te,s),If();break e}W=Error(t(426))}}else if(gt&&F.mode&1){var It=Py(P);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),Ry(It,P,F,y,s),Dh(Ho(W,F));break e}}y=W=Ho(W,F),jt!==4&&(jt=2),dl===null?dl=[y]:dl.push(y),y=P;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var J=xy(y,W,s);Zg(y,J);break e;case 1:F=W;var K=y.type,ee=y.stateNode;if((y.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Li===null||!Li.has(ee)))){y.flags|=65536,s&=-s,y.lanes|=s;var ge=ky(y,F,s);Zg(y,ge);break e}}y=y.return}while(y!==null)}av(l)}catch(Ce){s=Ce,Ct===l&&l!==null&&(Ct=l=l.return);continue}break}while(!0)}function sv(){var r=nc.current;return nc.current=Yu,r===null?Yu:r}function If(){(jt===0||jt===3||jt===2)&&(jt=4),Ut===null||(Ds&268435455)===0&&(rc&268435455)===0||Vi(Ut,Gt)}function uc(r,s){var l=Xe;Xe|=2;var d=sv();(Ut!==r||Gt!==s)&&(ai=null,js(r,s));do try{SI();break}catch(p){iv(r,p)}while(!0);if(jh(),Xe=l,nc.current=d,Ct!==null)throw Error(t(261));return Ut=null,Gt=0,jt}function SI(){for(;Ct!==null;)ov(Ct)}function II(){for(;Ct!==null&&!ou();)ov(Ct)}function ov(r){var s=cv(r.alternate,r,Mn);r.memoizedProps=r.pendingProps,s===null?av(r):Ct=s,mf.current=null}function av(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=gI(l,s,Mn),l!==null){Ct=l;return}}else{if(l=yI(l,s),l!==null){l.flags&=32767,Ct=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{jt=6,Ct=null;return}}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=r}while(s!==null);jt===0&&(jt=5)}function Ms(r,s,l){var d=Ke,p=Jn.transition;try{Jn.transition=null,Ke=1,bI(r,s,l,d)}finally{Jn.transition=p,Ke=d}return null}function bI(r,s,l,d){do Qo();while(ji!==null);if((Xe&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(st(r,y),r===Ut&&(Ct=Ut=null,Gt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||sc||(sc=!0,dv(Hn,function(){return Qo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Jn.transition,Jn.transition=null;var P=Ke;Ke=1;var F=Xe;Xe|=4,mf.current=null,_I(r,l),Xy(l,r),HS(Sh),bi=!!Th,Sh=Th=null,r.current=l,wI(l),oh(),Xe=F,Ke=P,Jn.transition=y}else r.current=l;if(sc&&(sc=!1,ji=r,oc=p),y=r.pendingLanes,y===0&&(Li=null),uu(l.stateNode),Sn(r,ot()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(ic)throw ic=!1,r=vf,vf=null,r;return(oc&1)!==0&&r.tag!==0&&Qo(),y=r.pendingLanes,(y&1)!==0?r===_f?hl++:(hl=0,_f=r):hl=0,Ai(),null}function Qo(){if(ji!==null){var r=Si(oc),s=Jn.transition,l=Ke;try{if(Jn.transition=null,Ke=16>r?16:r,ji===null)var d=!1;else{if(r=ji,ji=null,oc=0,(Xe&6)!==0)throw Error(t(331));var p=Xe;for(Xe|=4,Se=r.current;Se!==null;){var y=Se,P=y.child;if((Se.flags&16)!==0){var F=y.deletions;if(F!==null){for(var W=0;W<F.length;W++){var te=F[W];for(Se=te;Se!==null;){var fe=Se;switch(fe.tag){case 0:case 11:case 15:ul(8,fe,y)}var me=fe.child;if(me!==null)me.return=fe,Se=me;else for(;Se!==null;){fe=Se;var he=fe.sibling,we=fe.return;if(Wy(fe),fe===te){Se=null;break}if(he!==null){he.return=we,Se=he;break}Se=we}}}var Ie=y.alternate;if(Ie!==null){var ke=Ie.child;if(ke!==null){Ie.child=null;do{var It=ke.sibling;ke.sibling=null,ke=It}while(ke!==null)}}Se=y}}if((y.subtreeFlags&2064)!==0&&P!==null)P.return=y,Se=P;else e:for(;Se!==null;){if(y=Se,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ul(9,y,y.return)}var J=y.sibling;if(J!==null){J.return=y.return,Se=J;break e}Se=y.return}}var K=r.current;for(Se=K;Se!==null;){P=Se;var ee=P.child;if((P.subtreeFlags&2064)!==0&&ee!==null)ee.return=P,Se=ee;else e:for(P=K;Se!==null;){if(F=Se,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:tc(9,F)}}catch(Ce){Et(F,F.return,Ce)}if(F===P){Se=null;break e}var ge=F.sibling;if(ge!==null){ge.return=F.return,Se=ge;break e}Se=F.return}}if(Xe=p,Ai(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ws,r)}catch{}d=!0}return d}finally{Ke=l,Jn.transition=s}}return!1}function lv(r,s,l){s=Ho(l,s),s=xy(r,s,1),r=Oi(r,s,1),s=hn(),r!==null&&(Ei(r,1,s),Sn(r,s))}function Et(r,s,l){if(r.tag===3)lv(r,r,l);else for(;s!==null;){if(s.tag===3){lv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))){r=Ho(l,r),r=ky(s,r,1),s=Oi(s,r,1),r=hn(),s!==null&&(Ei(s,1,r),Sn(s,r));break}}s=s.return}}function xI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=hn(),r.pingedLanes|=r.suspendedLanes&l,Ut===r&&(Gt&l)===l&&(jt===4||jt===3&&(Gt&130023424)===Gt&&500>ot()-yf?js(r,0):gf|=l),Sn(r,s)}function uv(r,s){s===0&&((r.mode&1)===0?s=1:(s=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var l=hn();r=ii(r,s),r!==null&&(Ei(r,s,l),Sn(r,l))}function kI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),uv(r,l)}function CI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),uv(r,l)}var cv;cv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||_n.current)En=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return En=!1,mI(r,s,l);En=(r.flags&131072)!==0}else En=!1,gt&&(s.flags&1048576)!==0&&Bg(s,Vu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Zu(r,s),r=s.pendingProps;var p=Mo(s,Xt.current);Bo(s,l),p=Gh(null,s,d,r,p,l);var y=Kh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wn(d)?(y=!0,Lu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Uh(s),p.updater=Xu,s.stateNode=p,p._reactInternals=s,ef(s,d,r,l),s=sf(null,s,d,!0,y,l)):(s.tag=0,gt&&y&&Rh(s),dn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Zu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=RI(d),r=gr(d,r),p){case 0:s=rf(null,s,d,r,l);break e;case 1:s=jy(null,s,d,r,l);break e;case 11:s=Ay(null,s,d,r,l);break e;case 14:s=Ny(null,s,d,gr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),rf(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),jy(r,s,d,p,l);case 3:e:{if(My(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Jg(r,s),qu(s,d,null,l);var P=s.memoizedState;if(d=P.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Ho(Error(t(423)),s),s=Vy(r,s,d,l,p);break e}else if(d!==p){p=Ho(Error(t(424)),s),s=Vy(r,s,d,l,p);break e}else for(jn=Ci(s.stateNode.containerInfo.firstChild),Ln=s,gt=!0,mr=null,l=Yg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Uo(),d===p){s=oi(r,s,l);break e}dn(r,s,d,l)}s=s.child}return s;case 5:return ty(s),r===null&&Oh(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,P=p.children,Ih(d,p)?P=null:y!==null&&Ih(d,y)&&(s.flags|=32),Ly(r,s),dn(r,s,P,l),s.child;case 6:return r===null&&Oh(s),null;case 13:return Fy(r,s,l);case 4:return zh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=zo(s,null,d,l):dn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),Ay(r,s,d,p,l);case 7:return dn(r,s,s.pendingProps,l),s.child;case 8:return dn(r,s,s.pendingProps.children,l),s.child;case 12:return dn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,P=p.value,at(zu,d._currentValue),d._currentValue=P,y!==null)if(pr(y.value,P)){if(y.children===p.children&&!_n.current){s=oi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var F=y.dependencies;if(F!==null){P=y.child;for(var W=F.firstContext;W!==null;){if(W.context===d){if(y.tag===1){W=si(-1,l&-l),W.tag=2;var te=y.updateQueue;if(te!==null){te=te.shared;var fe=te.pending;fe===null?W.next=W:(W.next=fe.next,fe.next=W),te.pending=W}}y.lanes|=l,W=y.alternate,W!==null&&(W.lanes|=l),Vh(y.return,l,s),F.lanes|=l;break}W=W.next}}else if(y.tag===10)P=y.type===s.type?null:y.child;else if(y.tag===18){if(P=y.return,P===null)throw Error(t(341));P.lanes|=l,F=P.alternate,F!==null&&(F.lanes|=l),Vh(P,l,s),P=y.sibling}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===s){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}dn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Bo(s,l),p=Yn(p),d=d(p),s.flags|=1,dn(r,s,d,l),s.child;case 14:return d=s.type,p=gr(d,s.pendingProps),p=gr(d.type,p),Ny(r,s,d,p,l);case 15:return Oy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),Zu(r,s),s.tag=1,wn(d)?(r=!0,Lu(s)):r=!1,Bo(s,l),Iy(s,d,p),ef(s,d,p,l),sf(null,s,d,!0,r,l);case 19:return zy(r,s,l);case 22:return Dy(r,s,l)}throw Error(t(156,s.tag))};function dv(r,s){return go(r,s)}function PI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,s,l,d){return new PI(r,s,l,d)}function bf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function RI(r){if(typeof r=="function")return bf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===pe)return 14}return 2}function Fi(r,s){var l=r.alternate;return l===null?(l=Zn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function cc(r,s,l,d,p,y){var P=2;if(d=r,typeof r=="function")bf(r)&&(P=1);else if(typeof r=="string")P=5;else e:switch(r){case k:return Vs(l.children,p,y,s);case R:P=8,p|=8;break;case I:return r=Zn(12,l,s,p|2),r.elementType=I,r.lanes=y,r;case C:return r=Zn(13,l,s,p),r.elementType=C,r.lanes=y,r;case X:return r=Zn(19,l,s,p),r.elementType=X,r.lanes=y,r;case b:return dc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:P=10;break e;case N:P=9;break e;case j:P=11;break e;case pe:P=14;break e;case de:P=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Zn(P,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Vs(r,s,l,d){return r=Zn(7,r,d,s),r.lanes=l,r}function dc(r,s,l,d){return r=Zn(22,r,d,s),r.elementType=b,r.lanes=l,r.stateNode={isHidden:!1},r}function xf(r,s,l){return r=Zn(6,r,null,s),r.lanes=l,r}function kf(r,s,l){return s=Zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function AI(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Cf(r,s,l,d,p,y,P,F,W){return r=new AI(r,s,l,F,W),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Zn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(y),r}function NI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function hv(r){if(!r)return Ri;r=r._reactInternals;e:{if(ar(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(wn(l))return Ug(r,l,s)}return s}function fv(r,s,l,d,p,y,P,F,W){return r=Cf(l,d,!0,r,p,y,P,F,W),r.context=hv(null),l=r.current,d=hn(),p=Mi(l),y=si(d,p),y.callback=s??null,Oi(l,y,p),r.current.lanes=p,Ei(r,p,d),Sn(r,d),r}function hc(r,s,l,d){var p=s.current,y=hn(),P=Mi(p);return l=hv(l),s.context===null?s.context=l:s.pendingContext=l,s=si(y,P),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Oi(p,s,P),r!==null&&(_r(r,p,P,y),Bu(r,p,P)),P}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function pv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Pf(r,s){pv(r,s),(r=r.alternate)&&pv(r,s)}function OI(){return null}var mv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Rf(r){this._internalRoot=r}pc.prototype.render=Rf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));hc(r,s,null,null)},pc.prototype.unmount=Rf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ls(function(){hc(null,r,null,null)}),s[ei]=null}};function pc(r){this._internalRoot=r}pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=pu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Cr.length&&s!==0&&s<Cr[l].priority;l++);Cr.splice(l,0,r),l===0&&yu(r)}};function Af(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gv(){}function DI(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var te=fc(P);y.call(te)}}var P=fv(s,d,r,0,null,!1,!1,"",gv);return r._reactRootContainer=P,r[ei]=P.current,Ya(r.nodeType===8?r.parentNode:r),Ls(),P}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var F=d;d=function(){var te=fc(W);F.call(te)}}var W=Cf(r,0,!1,null,null,!1,!1,"",gv);return r._reactRootContainer=W,r[ei]=W.current,Ya(r.nodeType===8?r.parentNode:r),Ls(function(){hc(s,W,l,d)}),W}function gc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var P=y;if(typeof p=="function"){var F=p;p=function(){var W=fc(P);F.call(W)}}hc(s,P,r,p)}else P=DI(l,s,r,p,d);return fc(P)}hu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=_i(s.pendingLanes);l!==0&&(Ti(s,l|1),Sn(s,ot()),(Xe&6)===0&&(Ko=ot()+500,Ai()))}break;case 13:Ls(function(){var d=ii(r,1);if(d!==null){var p=hn();_r(d,r,1,p)}}),Pf(r,1)}},_o=function(r){if(r.tag===13){var s=ii(r,134217728);if(s!==null){var l=hn();_r(s,r,134217728,l)}Pf(r,134217728)}},fu=function(r){if(r.tag===13){var s=Mi(r),l=ii(r,s);if(l!==null){var d=hn();_r(l,r,s,d)}Pf(r,s)}},pu=function(){return Ke},mu=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},uo=function(r,s,l){switch(s){case"input":if(Fe(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=Ou(d);if(!p)throw Error(t(90));He(d),Fe(d,p)}}}break;case"textarea":Gr(r,l);break;case"select":s=l.value,s!=null&&yt(r,!!l.multiple,s,!1)}},ms=Tf,Aa=Ls;var LI={usingClientEntryPoint:!1,Events:[Za,Lo,Ou,xr,Ra,Tf]},fl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jI={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Da(r),r===null?null:r.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||OI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ws=yc.inject(jI),An=yc}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI,In.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(s))throw Error(t(200));return NI(r,s,null,l)},In.createRoot=function(r,s){if(!Af(r))throw Error(t(299));var l=!1,d="",p=mv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Cf(r,1,!1,null,null,l,!1,d,p),r[ei]=s.current,Ya(r.nodeType===8?r.parentNode:r),new Rf(s)},In.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Da(s),r=r===null?null:r.stateNode,r},In.flushSync=function(r){return Ls(r)},In.hydrate=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!0,l)},In.hydrateRoot=function(r,s,l){if(!Af(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",P=mv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),s=fv(s,null,r,1,l??null,p,!1,y,P),r[ei]=s.current,Ya(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new pc(s)},In.render=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!1,l)},In.unmountComponentAtNode=function(r){if(!mc(r))throw Error(t(40));return r._reactRootContainer?(Ls(function(){gc(null,null,r,!1,function(){r._reactRootContainer=null,r[ei]=null})}),!0):!1},In.unstable_batchedUpdates=Tf,In.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!mc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return gc(r,s,l,!1,d)},In.version="18.3.1-next-f1338f8080-20240426",In}var Iv;function Z0(){if(Iv)return Df.exports;Iv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Df.exports=HI(),Df.exports}var bv;function WI(){if(bv)return vc;bv=1;var n=Z0();return vc.createRoot=n.createRoot,vc.hydrateRoot=n.hydrateRoot,vc}var GI=WI();const KI=Sd(GI);Z0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pl.apply(this,arguments)}var Hi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Hi||(Hi={}));const xv="popstate";function QI(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return hp("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Kc(o)}return XI(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ew(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YI(){return Math.random().toString(36).substr(2,8)}function kv(n,e){return{usr:n.state,key:n.key,idx:e}}function hp(n,e,t,i){return t===void 0&&(t=null),Pl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ga(e):e,{state:t,key:e&&e.key||i||YI()})}function Kc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ga(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function XI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h=Hi.Pop,f=null,m=_();m==null&&(m=0,u.replaceState(Pl({},u.state,{idx:m}),""));function _(){return(u.state||{idx:null}).idx}function S(){h=Hi.Pop;let M=_(),G=M==null?null:M-m;m=M,f&&f({action:h,location:L.location,delta:G})}function A(M,G){h=Hi.Push;let U=hp(L.location,M,G);m=_()+1;let H=kv(U,m),Q=L.createHref(U);try{u.pushState(H,"",Q)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(Q)}a&&f&&f({action:h,location:L.location,delta:1})}function V(M,G){h=Hi.Replace;let U=hp(L.location,M,G);m=_();let H=kv(U,m),Q=L.createHref(U);u.replaceState(H,"",Q),a&&f&&f({action:h,location:L.location,delta:0})}function q(M){let G=o.location.origin!=="null"?o.location.origin:o.location.href,U=typeof M=="string"?M:Kc(M);return U=U.replace(/ $/,"%20"),Ot(G,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,G)}let L={get action(){return h},get location(){return n(o,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,S),f=M,()=>{o.removeEventListener(xv,S),f=null}},createHref(M){return e(o,M)},createURL:q,encodeLocation(M){let G=q(M);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:V,go(M){return u.go(M)}};return L}var Cv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Cv||(Cv={}));function JI(n,e,t){return t===void 0&&(t="/"),ZI(n,e,t)}function ZI(n,e,t,i){let o=typeof e=="string"?ga(e):e,a=em(o.pathname||"/",t);if(a==null)return null;let u=tw(n);eb(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=hb(a);h=ub(u[f],m)}return h}function tw(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Ot(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=Gi([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(Ot(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),tw(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:ab(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of nw(a.path))o(a,u,f)}),e}function nw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=nw(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function eb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lb(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const tb=/^:[\w-]+$/,nb=3,rb=2,ib=1,sb=10,ob=-2,Pv=n=>n==="*";function ab(n,e){let t=n.split("/"),i=t.length;return t.some(Pv)&&(i+=ob),e&&(i+=rb),t.filter(o=>!Pv(o)).reduce((o,a)=>o+(tb.test(a)?nb:a===""?ib:sb),i)}function lb(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function ub(n,e,t){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",S=cb({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},_),A=f.route;if(!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:Gi([a,S.pathname]),pathnameBase:gb(Gi([a,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(a=Gi([a,S.pathnameBase]))}return u}function cb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=db(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,_,S)=>{let{paramName:A,isOptional:V}=_;if(A==="*"){let L=h[S]||"";u=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const q=h[S];return V&&!q?m[A]=void 0:m[A]=(q||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function db(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ew(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function hb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ew(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function em(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function fb(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ga(n):n;return{pathname:t?t.startsWith("/")?t:pb(t,e):e,search:yb(i),hash:vb(o)}}function pb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Mf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rw(n,e){let t=mb(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function iw(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ga(n):(o=Pl({},n),Ot(!o.pathname||!o.pathname.includes("?"),Mf("?","pathname","search",o)),Ot(!o.pathname||!o.pathname.includes("#"),Mf("#","pathname","hash",o)),Ot(!o.search||!o.search.includes("#"),Mf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let S=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}h=S>=0?e[S]:"/"}let f=fb(o,h),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||_)&&(f.pathname+="/"),f}const Gi=n=>n.join("/").replace(/\/\/+/g,"/"),gb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _b(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const sw=["post","put","patch","delete"];new Set(sw);const wb=["get",...sw];new Set(wb);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rl.apply(this,arguments)}const tm=Z.createContext(null),Eb=Z.createContext(null),eo=Z.createContext(null),Id=Z.createContext(null),as=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),ow=Z.createContext(null);function Tb(n,e){let{relative:t}=e===void 0?{}:e;$l()||Ot(!1);let{basename:i,navigator:o}=Z.useContext(eo),{hash:a,pathname:u,search:h}=lw(n,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Gi([i,u])),o.createHref({pathname:f,search:h,hash:a})}function $l(){return Z.useContext(Id)!=null}function Bl(){return $l()||Ot(!1),Z.useContext(Id).location}function aw(n){Z.useContext(eo).static||Z.useLayoutEffect(n)}function an(){let{isDataRoute:n}=Z.useContext(as);return n?jb():Sb()}function Sb(){$l()||Ot(!1);let n=Z.useContext(tm),{basename:e,future:t,navigator:i}=Z.useContext(eo),{matches:o}=Z.useContext(as),{pathname:a}=Bl(),u=JSON.stringify(rw(o,t.v7_relativeSplatPath)),h=Z.useRef(!1);return aw(()=>{h.current=!0}),Z.useCallback(function(m,_){if(_===void 0&&(_={}),!h.current)return;if(typeof m=="number"){i.go(m);return}let S=iw(m,JSON.parse(u),a,_.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Gi([e,S.pathname])),(_.replace?i.replace:i.push)(S,_.state,_)},[e,i,u,a,n])}function Ib(){let{matches:n}=Z.useContext(as),e=n[n.length-1];return e?e.params:{}}function lw(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=Z.useContext(eo),{matches:o}=Z.useContext(as),{pathname:a}=Bl(),u=JSON.stringify(rw(o,i.v7_relativeSplatPath));return Z.useMemo(()=>iw(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function bb(n,e){return xb(n,e)}function xb(n,e,t,i){$l()||Ot(!1);let{navigator:o,static:a}=Z.useContext(eo),{matches:u}=Z.useContext(as),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let _=Bl(),S;if(e){var A;let G=typeof e=="string"?ga(e):e;m==="/"||(A=G.pathname)!=null&&A.startsWith(m)||Ot(!1),S=G}else S=_;let V=S.pathname||"/",q=V;if(m!=="/"){let G=m.replace(/^\//,"").split("/");q="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=JI(n,{pathname:q}),M=Ab(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:Gi([m,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?m:Gi([m,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,i);return e&&M?Z.createElement(Id.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Hi.Pop}},M):M}function kb(){let n=Lb(),e=_b(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,null)}const Cb=Z.createElement(kb,null);class Pb extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Z.createElement(as.Provider,{value:this.props.routeContext},Z.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rb(n){let{routeContext:e,match:t,children:i}=n,o=Z.useContext(tm);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(as.Provider,{value:e},i)}function Ab(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(o=t)==null?void 0:o.errors;if(h!=null){let _=u.findIndex(S=>S.route.id&&(h==null?void 0:h[S.route.id])!==void 0);_>=0||Ot(!1),u=u.slice(0,Math.min(u.length,_+1))}let f=!1,m=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<u.length;_++){let S=u[_];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=_),S.route.id){let{loaderData:A,errors:V}=t,q=S.route.loader&&A[S.route.id]===void 0&&(!V||V[S.route.id]===void 0);if(S.route.lazy||q){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((_,S,A)=>{let V,q=!1,L=null,M=null;t&&(V=h&&S.route.id?h[S.route.id]:void 0,L=S.route.errorElement||Cb,f&&(m<0&&A===0?(Mb("route-fallback"),q=!0,M=null):m===A&&(q=!0,M=S.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,A+1)),U=()=>{let H;return V?H=L:q?H=M:S.route.Component?H=Z.createElement(S.route.Component,null):S.route.element?H=S.route.element:H=_,Z.createElement(Rb,{match:S,routeContext:{outlet:_,matches:G,isDataRoute:t!=null},children:H})};return t&&(S.route.ErrorBoundary||S.route.errorElement||A===0)?Z.createElement(Pb,{location:t.location,revalidation:t.revalidation,component:L,error:V,children:U(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):U()},null)}var uw=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(uw||{}),cw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(cw||{});function Nb(n){let e=Z.useContext(tm);return e||Ot(!1),e}function Ob(n){let e=Z.useContext(Eb);return e||Ot(!1),e}function Db(n){let e=Z.useContext(as);return e||Ot(!1),e}function dw(n){let e=Db(),t=e.matches[e.matches.length-1];return t.route.id||Ot(!1),t.route.id}function Lb(){var n;let e=Z.useContext(ow),t=Ob(),i=dw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function jb(){let{router:n}=Nb(uw.UseNavigateStable),e=dw(cw.UseNavigateStable),t=Z.useRef(!1);return aw(()=>{t.current=!0}),Z.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Rl({fromRouteId:e},a)))},[n,e])}const Rv={};function Mb(n,e,t){Rv[n]||(Rv[n]=!0)}function Vb(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function fn(n){Ot(!1)}function Fb(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Hi.Pop,navigator:a,static:u=!1,future:h}=n;$l()&&Ot(!1);let f=e.replace(/^\/*/,"/"),m=Z.useMemo(()=>({basename:f,navigator:a,static:u,future:Rl({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof i=="string"&&(i=ga(i));let{pathname:_="/",search:S="",hash:A="",state:V=null,key:q="default"}=i,L=Z.useMemo(()=>{let M=em(_,f);return M==null?null:{location:{pathname:M,search:S,hash:A,state:V,key:q},navigationType:o}},[f,_,S,A,V,q,o]);return L==null?null:Z.createElement(eo.Provider,{value:m},Z.createElement(Id.Provider,{children:t,value:L}))}function Ub(n){let{children:e,location:t}=n;return bb(fp(e),t)}new Promise(()=>{});function fp(n,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(n,(i,o)=>{if(!Z.isValidElement(i))return;let a=[...e,o];if(i.type===Z.Fragment){t.push.apply(t,fp(i.props.children,a));return}i.type!==fn&&Ot(!1),!i.props.index||!i.props.children||Ot(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=fp(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pp.apply(this,arguments)}function zb(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function $b(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bb(n,e){return n.button===0&&(!e||e==="_self")&&!$b(n)}const qb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hb="6";try{window.__reactRouterVersion=Hb}catch{}const Wb="startTransition",Av=$I[Wb];function Gb(n){let{basename:e,children:t,future:i,window:o}=n,a=Z.useRef();a.current==null&&(a.current=QI({window:o,v5Compat:!0}));let u=a.current,[h,f]=Z.useState({action:u.action,location:u.location}),{v7_startTransition:m}=i||{},_=Z.useCallback(S=>{m&&Av?Av(()=>f(S)):f(S)},[f,m]);return Z.useLayoutEffect(()=>u.listen(_),[u,_]),Z.useEffect(()=>Vb(i),[i]),Z.createElement(Fb,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:i})}const Kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=Z.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:_,viewTransition:S}=e,A=zb(e,qb),{basename:V}=Z.useContext(eo),q,L=!1;if(typeof m=="string"&&Qb.test(m)&&(q=m,Kb))try{let H=new URL(window.location.href),Q=m.startsWith("//")?new URL(H.protocol+m):new URL(m),D=em(Q.pathname,V);Q.origin===H.origin&&D!=null?m=D+Q.search+Q.hash:L=!0}catch{}let M=Tb(m,{relative:o}),G=Yb(m,{replace:u,state:h,target:f,preventScrollReset:_,relative:o,viewTransition:S});function U(H){i&&i(H),H.defaultPrevented||G(H)}return Z.createElement("a",pp({},A,{href:q||M,onClick:L||a?i:U,ref:t,target:f}))});var Nv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Nv||(Nv={}));var Ov;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ov||(Ov={}));function Yb(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=an(),m=Bl(),_=lw(n,{relative:u});return Z.useCallback(S=>{if(Bb(S,t)){S.preventDefault();let A=i!==void 0?i:Kc(m)===Kc(_);f(n,{replace:A,state:o,preventScrollReset:a,relative:u,viewTransition:h})}},[m,f,_,i,o,t,n,a,u,h])}var Vf={},Ff={},ml={},Uf={},Dv;function Xb(){return Dv||(Dv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(Uf)),Uf}var zf,Lv;function Jb(){if(Lv)return zf;Lv=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt,f=typeof zs=="object"&&zs&&zs.Object===Object&&zs,m=typeof self=="object"&&self&&self.Object===Object&&self,_=f||m||Function("return this")(),S=Object.prototype,A=S.toString,V=Math.max,q=Math.min,L=function(){return _.Date.now()};function M(D,z,k){var R,I,w,N,j,C,X=0,pe=!1,de=!1,b=!0;if(typeof D!="function")throw new TypeError(n);z=Q(z)||0,G(k)&&(pe=!!k.leading,de="maxWait"in k,w=de?V(Q(k.maxWait)||0,z):w,b="trailing"in k?!!k.trailing:b);function se(ce){var Te=R,xe=I;return R=I=void 0,X=ce,N=D.apply(xe,Te),N}function B(ce){return X=ce,j=setTimeout($,z),pe?se(ce):N}function T(ce){var Te=ce-C,xe=ce-X,Re=z-Te;return de?q(Re,w-xe):Re}function x(ce){var Te=ce-C,xe=ce-X;return C===void 0||Te>=z||Te<0||de&&xe>=w}function $(){var ce=L();if(x(ce))return ne(ce);j=setTimeout($,T(ce))}function ne(ce){return j=void 0,b&&R?se(ce):(R=I=void 0,N)}function ie(){j!==void 0&&clearTimeout(j),X=0,R=C=I=j=void 0}function ae(){return j===void 0?N:ne(L())}function le(){var ce=L(),Te=x(ce);if(R=arguments,I=this,C=ce,Te){if(j===void 0)return B(C);if(de)return j=setTimeout($,z),se(C)}return j===void 0&&(j=setTimeout($,z)),N}return le.cancel=ie,le.flush=ae,le}function G(D){var z=typeof D;return!!D&&(z=="object"||z=="function")}function U(D){return!!D&&typeof D=="object"}function H(D){return typeof D=="symbol"||U(D)&&A.call(D)==t}function Q(D){if(typeof D=="number")return D;if(H(D))return e;if(G(D)){var z=typeof D.valueOf=="function"?D.valueOf():D;D=G(z)?z+"":z}if(typeof D!="string")return D===0?D:+D;D=D.replace(i,"");var k=a.test(D);return k||u.test(D)?h(D.slice(2),k?2:8):o.test(D)?e:+D}return zf=M,zf}var $f={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jv;function bd(){return jv||(jv=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(a=o(a,i(h)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var h in a)e.call(a,h)&&a[h]&&(u=o(u,h));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}($f)),$f.exports}var _e={},Bf={},Mv;function hw(){return Mv||(Mv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(qr());function t(o){return o&&o.__esModule?o:{default:o}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}(Bf)),Bf}var Vv;function ql(){if(Vv)return _e;Vv=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkSpecKeys=_e.checkNavigable=_e.changeSlide=_e.canUseDOM=_e.canGoNext=void 0,_e.clamp=m,_e.extractObject=void 0,_e.filterSettings=se,_e.validSettings=_e.swipeStart=_e.swipeMove=_e.swipeEnd=_e.slidesOnRight=_e.slidesOnLeft=_e.slideHandler=_e.siblingDirection=_e.safePreventDefault=_e.lazyStartIndex=_e.lazySlidesOnRight=_e.lazySlidesOnLeft=_e.lazyEndIndex=_e.keyHandler=_e.initializedState=_e.getWidth=_e.getTrackLeft=_e.getTrackCSS=_e.getTrackAnimateCSS=_e.getTotalSlides=_e.getSwipeDirection=_e.getSlideCount=_e.getRequiredLazySlides=_e.getPreClones=_e.getPostClones=_e.getOnDemandLazySlides=_e.getNavigableIndexes=_e.getHeight=void 0;var n=t(qr()),e=t(hw());function t(B){return B&&B.__esModule?B:{default:B}}function i(B){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i(B)}function o(B,T){var x=Object.keys(B);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(B);T&&($=$.filter(function(ne){return Object.getOwnPropertyDescriptor(B,ne).enumerable})),x.push.apply(x,$)}return x}function a(B){for(var T=1;T<arguments.length;T++){var x=arguments[T]!=null?arguments[T]:{};T%2?o(Object(x),!0).forEach(function($){u(B,$,x[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach(function($){Object.defineProperty(B,$,Object.getOwnPropertyDescriptor(x,$))})}return B}function u(B,T,x){return T=h(T),T in B?Object.defineProperty(B,T,{value:x,enumerable:!0,configurable:!0,writable:!0}):B[T]=x,B}function h(B){var T=f(B,"string");return i(T)=="symbol"?T:String(T)}function f(B,T){if(i(B)!="object"||!B)return B;var x=B[Symbol.toPrimitive];if(x!==void 0){var $=x.call(B,T);if(i($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(B)}function m(B,T,x){return Math.max(T,Math.min(B,x))}var _=_e.safePreventDefault=function(T){var x=["onTouchStart","onTouchMove","onWheel"];x.includes(T._reactName)||T.preventDefault()},S=_e.getOnDemandLazySlides=function(T){for(var x=[],$=A(T),ne=V(T),ie=$;ie<ne;ie++)T.lazyLoadedList.indexOf(ie)<0&&x.push(ie);return x};_e.getRequiredLazySlides=function(T){for(var x=[],$=A(T),ne=V(T),ie=$;ie<ne;ie++)x.push(ie);return x};var A=_e.lazyStartIndex=function(T){return T.currentSlide-q(T)},V=_e.lazyEndIndex=function(T){return T.currentSlide+L(T)},q=_e.lazySlidesOnLeft=function(T){return T.centerMode?Math.floor(T.slidesToShow/2)+(parseInt(T.centerPadding)>0?1:0):0},L=_e.lazySlidesOnRight=function(T){return T.centerMode?Math.floor((T.slidesToShow-1)/2)+1+(parseInt(T.centerPadding)>0?1:0):T.slidesToShow},M=_e.getWidth=function(T){return T&&T.offsetWidth||0},G=_e.getHeight=function(T){return T&&T.offsetHeight||0},U=_e.getSwipeDirection=function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$,ne,ie,ae;return $=T.startX-T.curX,ne=T.startY-T.curY,ie=Math.atan2(ne,$),ae=Math.round(ie*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":x===!0?ae>=35&&ae<=135?"up":"down":"vertical"},H=_e.canGoNext=function(T){var x=!0;return T.infinite||(T.centerMode&&T.currentSlide>=T.slideCount-1||T.slideCount<=T.slidesToShow||T.currentSlide>=T.slideCount-T.slidesToShow)&&(x=!1),x};_e.extractObject=function(T,x){var $={};return x.forEach(function(ne){return $[ne]=T[ne]}),$},_e.initializedState=function(T){var x=n.default.Children.count(T.children),$=T.listRef,ne=Math.ceil(M($)),ie=T.trackRef&&T.trackRef.node,ae=Math.ceil(M(ie)),le;if(T.vertical)le=ne;else{var ce=T.centerMode&&parseInt(T.centerPadding)*2;typeof T.centerPadding=="string"&&T.centerPadding.slice(-1)==="%"&&(ce*=ne/100),le=Math.ceil((ne-ce)/T.slidesToShow)}var Te=$&&G($.querySelector('[data-index="0"]')),xe=Te*T.slidesToShow,Re=T.currentSlide===void 0?T.initialSlide:T.currentSlide;T.rtl&&T.currentSlide===void 0&&(Re=x-1-T.initialSlide);var $e=T.lazyLoadedList||[],He=S(a(a({},T),{},{currentSlide:Re,lazyLoadedList:$e}));$e=$e.concat(He);var Ue={slideCount:x,slideWidth:le,listWidth:ne,trackWidth:ae,currentSlide:Re,slideHeight:Te,listHeight:xe,lazyLoadedList:$e};return T.autoplaying===null&&T.autoplay&&(Ue.autoplaying="playing"),Ue},_e.slideHandler=function(T){var x=T.waitForAnimate,$=T.animating,ne=T.fade,ie=T.infinite,ae=T.index,le=T.slideCount,ce=T.lazyLoad,Te=T.currentSlide,xe=T.centerMode,Re=T.slidesToScroll,$e=T.slidesToShow,He=T.useCSS,Ue=T.lazyLoadedList;if(x&&$)return{};var Me=ae,qe,ct,Fe,dt={},ht={},it=ie?ae:m(ae,0,le-1);if(ne){if(!ie&&(ae<0||ae>=le))return{};ae<0?Me=ae+le:ae>=le&&(Me=ae-le),ce&&Ue.indexOf(Me)<0&&(Ue=Ue.concat(Me)),dt={animating:!0,currentSlide:Me,lazyLoadedList:Ue,targetSlide:Me},ht={animating:!1,targetSlide:Me}}else qe=Me,Me<0?(qe=Me+le,ie?le%Re!==0&&(qe=le-le%Re):qe=0):!H(T)&&Me>Te?Me=qe=Te:xe&&Me>=le?(Me=ie?le:le-1,qe=ie?0:le-1):Me>=le&&(qe=Me-le,ie?le%Re!==0&&(qe=0):qe=le-$e),!ie&&Me+$e>=le&&(qe=le-$e),ct=w(a(a({},T),{},{slideIndex:Me})),Fe=w(a(a({},T),{},{slideIndex:qe})),ie||(ct===Fe&&(Me=qe),ct=Fe),ce&&(Ue=Ue.concat(S(a(a({},T),{},{currentSlide:Me})))),He?(dt={animating:!0,currentSlide:qe,trackStyle:I(a(a({},T),{},{left:ct})),lazyLoadedList:Ue,targetSlide:it},ht={animating:!1,currentSlide:qe,trackStyle:R(a(a({},T),{},{left:Fe})),swipeLeft:null,targetSlide:it}):dt={currentSlide:qe,trackStyle:R(a(a({},T),{},{left:Fe})),lazyLoadedList:Ue,targetSlide:it};return{state:dt,nextState:ht}},_e.changeSlide=function(T,x){var $,ne,ie,ae,le,ce=T.slidesToScroll,Te=T.slidesToShow,xe=T.slideCount,Re=T.currentSlide,$e=T.targetSlide,He=T.lazyLoad,Ue=T.infinite;if(ae=xe%ce!==0,$=ae?0:(xe-Re)%ce,x.message==="previous")ie=$===0?ce:Te-$,le=Re-ie,He&&!Ue&&(ne=Re-ie,le=ne===-1?xe-1:ne),Ue||(le=$e-ce);else if(x.message==="next")ie=$===0?ce:$,le=Re+ie,He&&!Ue&&(le=(Re+ce)%xe+$),Ue||(le=$e+ce);else if(x.message==="dots")le=x.index*x.slidesToScroll;else if(x.message==="children"){if(le=x.index,Ue){var Me=X(a(a({},T),{},{targetSlide:le}));le>x.currentSlide&&Me==="left"?le=le-xe:le<x.currentSlide&&Me==="right"&&(le=le+xe)}}else x.message==="index"&&(le=Number(x.index));return le},_e.keyHandler=function(T,x,$){return T.target.tagName.match("TEXTAREA|INPUT|SELECT")||!x?"":T.keyCode===37?$?"next":"previous":T.keyCode===39?$?"previous":"next":""},_e.swipeStart=function(T,x,$){return T.target.tagName==="IMG"&&_(T),!x||!$&&T.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:T.touches?T.touches[0].pageX:T.clientX,startY:T.touches?T.touches[0].pageY:T.clientY,curX:T.touches?T.touches[0].pageX:T.clientX,curY:T.touches?T.touches[0].pageY:T.clientY}}},_e.swipeMove=function(T,x){var $=x.scrolling,ne=x.animating,ie=x.vertical,ae=x.swipeToSlide,le=x.verticalSwiping,ce=x.rtl,Te=x.currentSlide,xe=x.edgeFriction,Re=x.edgeDragged,$e=x.onEdge,He=x.swiped,Ue=x.swiping,Me=x.slideCount,qe=x.slidesToScroll,ct=x.infinite,Fe=x.touchObject,dt=x.swipeEvent,ht=x.listHeight,it=x.listWidth;if(!$){if(ne)return _(T);ie&&ae&&le&&_(T);var yt,Rn={},rr=w(x);Fe.curX=T.touches?T.touches[0].pageX:T.clientX,Fe.curY=T.touches?T.touches[0].pageY:T.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var Gr=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!le&&!Ue&&Gr>10)return{scrolling:!0};le&&(Fe.swipeLength=Gr);var ir=(ce?-1:1)*(Fe.curX>Fe.startX?1:-1);le&&(ir=Fe.curY>Fe.startY?1:-1);var Tt=Math.ceil(Me/qe),tt=U(x.touchObject,le),ln=Fe.swipeLength;return ct||(Te===0&&(tt==="right"||tt==="down")||Te+1>=Tt&&(tt==="left"||tt==="up")||!H(x)&&(tt==="left"||tt==="up"))&&(ln=Fe.swipeLength*xe,Re===!1&&$e&&($e(tt),Rn.edgeDragged=!0)),!He&&dt&&(dt(tt),Rn.swiped=!0),ie?yt=rr+ln*(ht/it)*ir:ce?yt=rr-ln*ir:yt=rr+ln*ir,le&&(yt=rr+ln*ir),Rn=a(a({},Rn),{},{touchObject:Fe,swipeLeft:yt,trackStyle:R(a(a({},x),{},{left:yt}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(Rn.swiping=!0,_(T)),Rn}},_e.swipeEnd=function(T,x){var $=x.dragging,ne=x.swipe,ie=x.touchObject,ae=x.listWidth,le=x.touchThreshold,ce=x.verticalSwiping,Te=x.listHeight,xe=x.swipeToSlide,Re=x.scrolling,$e=x.onSwipe,He=x.targetSlide,Ue=x.currentSlide,Me=x.infinite;if(!$)return ne&&_(T),{};var qe=ce?Te/le:ae/le,ct=U(ie,ce),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Re||!ie.swipeLength)return Fe;if(ie.swipeLength>qe){_(T),$e&&$e(ct);var dt,ht,it=Me?Ue:He;switch(ct){case"left":case"up":ht=it+z(x),dt=xe?D(x,ht):ht,Fe.currentDirection=0;break;case"right":case"down":ht=it-z(x),dt=xe?D(x,ht):ht,Fe.currentDirection=1;break;default:dt=it}Fe.triggerSlideHandler=dt}else{var yt=w(x);Fe.trackStyle=I(a(a({},x),{},{left:yt}))}return Fe};var Q=_e.getNavigableIndexes=function(T){for(var x=T.infinite?T.slideCount*2:T.slideCount,$=T.infinite?T.slidesToShow*-1:0,ne=T.infinite?T.slidesToShow*-1:0,ie=[];$<x;)ie.push($),$=ne+T.slidesToScroll,ne+=Math.min(T.slidesToScroll,T.slidesToShow);return ie},D=_e.checkNavigable=function(T,x){var $=Q(T),ne=0;if(x>$[$.length-1])x=$[$.length-1];else for(var ie in $){if(x<$[ie]){x=ne;break}ne=$[ie]}return x},z=_e.getSlideCount=function(T){var x=T.centerMode?T.slideWidth*Math.floor(T.slidesToShow/2):0;if(T.swipeToSlide){var $,ne=T.listRef,ie=ne.querySelectorAll&&ne.querySelectorAll(".slick-slide")||[];if(Array.from(ie).every(function(ce){if(T.vertical){if(ce.offsetTop+G(ce)/2>T.swipeLeft*-1)return $=ce,!1}else if(ce.offsetLeft-x+M(ce)/2>T.swipeLeft*-1)return $=ce,!1;return!0}),!$)return 0;var ae=T.rtl===!0?T.slideCount-T.currentSlide:T.currentSlide,le=Math.abs($.dataset.index-ae)||1;return le}else return T.slidesToScroll},k=_e.checkSpecKeys=function(T,x){return x.reduce(function($,ne){return $&&T.hasOwnProperty(ne)},!0)?null:console.error("Keys Missing:",T)},R=_e.getTrackCSS=function(T){k(T,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var x,$,ne=T.slideCount+2*T.slidesToShow;T.vertical?$=ne*T.slideHeight:x=C(T)*T.slideWidth;var ie={opacity:1,transition:"",WebkitTransition:""};if(T.useTransform){var ae=T.vertical?"translate3d(0px, "+T.left+"px, 0px)":"translate3d("+T.left+"px, 0px, 0px)",le=T.vertical?"translate3d(0px, "+T.left+"px, 0px)":"translate3d("+T.left+"px, 0px, 0px)",ce=T.vertical?"translateY("+T.left+"px)":"translateX("+T.left+"px)";ie=a(a({},ie),{},{WebkitTransform:ae,transform:le,msTransform:ce})}else T.vertical?ie.top=T.left:ie.left=T.left;return T.fade&&(ie={opacity:1}),x&&(ie.width=x),$&&(ie.height=$),window&&!window.addEventListener&&window.attachEvent&&(T.vertical?ie.marginTop=T.left+"px":ie.marginLeft=T.left+"px"),ie},I=_e.getTrackAnimateCSS=function(T){k(T,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var x=R(T);return T.useTransform?(x.WebkitTransition="-webkit-transform "+T.speed+"ms "+T.cssEase,x.transition="transform "+T.speed+"ms "+T.cssEase):T.vertical?x.transition="top "+T.speed+"ms "+T.cssEase:x.transition="left "+T.speed+"ms "+T.cssEase,x},w=_e.getTrackLeft=function(T){if(T.unslick)return 0;k(T,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var x=T.slideIndex,$=T.trackRef,ne=T.infinite,ie=T.centerMode,ae=T.slideCount,le=T.slidesToShow,ce=T.slidesToScroll,Te=T.slideWidth,xe=T.listWidth,Re=T.variableWidth,$e=T.slideHeight,He=T.fade,Ue=T.vertical,Me=0,qe,ct,Fe=0;if(He||T.slideCount===1)return 0;var dt=0;if(ne?(dt=-N(T),ae%ce!==0&&x+ce>ae&&(dt=-(x>ae?le-(x-ae):ae%ce)),ie&&(dt+=parseInt(le/2))):(ae%ce!==0&&x+ce>ae&&(dt=le-ae%ce),ie&&(dt=parseInt(le/2))),Me=dt*Te,Fe=dt*$e,Ue?qe=x*$e*-1+Fe:qe=x*Te*-1+Me,Re===!0){var ht,it=$&&$.node;if(ht=x+N(T),ct=it&&it.childNodes[ht],qe=ct?ct.offsetLeft*-1:0,ie===!0){ht=ne?x+N(T):x,ct=it&&it.children[ht],qe=0;for(var yt=0;yt<ht;yt++)qe-=it&&it.children[yt]&&it.children[yt].offsetWidth;qe-=parseInt(T.centerPadding),qe+=ct&&(xe-ct.offsetWidth)/2}}return qe},N=_e.getPreClones=function(T){return T.unslick||!T.infinite?0:T.variableWidth?T.slideCount:T.slidesToShow+(T.centerMode?1:0)},j=_e.getPostClones=function(T){return T.unslick||!T.infinite?0:T.slideCount},C=_e.getTotalSlides=function(T){return T.slideCount===1?1:N(T)+T.slideCount+j(T)},X=_e.siblingDirection=function(T){return T.targetSlide>T.currentSlide?T.targetSlide>T.currentSlide+pe(T)?"left":"right":T.targetSlide<T.currentSlide-de(T)?"right":"left"},pe=_e.slidesOnRight=function(T){var x=T.slidesToShow,$=T.centerMode,ne=T.rtl,ie=T.centerPadding;if($){var ae=(x-1)/2+1;return parseInt(ie)>0&&(ae+=1),ne&&x%2===0&&(ae+=1),ae}return ne?0:x-1},de=_e.slidesOnLeft=function(T){var x=T.slidesToShow,$=T.centerMode,ne=T.rtl,ie=T.centerPadding;if($){var ae=(x-1)/2+1;return parseInt(ie)>0&&(ae+=1),!ne&&x%2===0&&(ae+=1),ae}return ne?x-1:0};_e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var b=_e.validSettings=Object.keys(e.default);function se(B){return b.reduce(function(T,x){return B.hasOwnProperty(x)&&(T[x]=B[x]),T},{})}return _e}var gl={},Fv;function Zb(){if(Fv)return gl;Fv=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.Track=void 0;var n=i(qr()),e=i(bd()),t=ql();function i(I){return I&&I.__esModule?I:{default:I}}function o(I){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o(I)}function a(){return a=Object.assign?Object.assign.bind():function(I){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(I[j]=N[j])}return I},a.apply(this,arguments)}function u(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function h(I,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,H(j.key),j)}}function f(I,w,N){return w&&h(I.prototype,w),Object.defineProperty(I,"prototype",{writable:!1}),I}function m(I,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(w&&w.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),w&&_(I,w)}function _(I,w){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,C){return j.__proto__=C,j},_(I,w)}function S(I){var w=q();return function(){var j=L(I),C;if(w){var X=L(this).constructor;C=Reflect.construct(j,arguments,X)}else C=j.apply(this,arguments);return A(this,C)}}function A(I,w){if(w&&(o(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(I)}function V(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function q(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!I})()}function L(I){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},L(I)}function M(I,w){var N=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);w&&(j=j.filter(function(C){return Object.getOwnPropertyDescriptor(I,C).enumerable})),N.push.apply(N,j)}return N}function G(I){for(var w=1;w<arguments.length;w++){var N=arguments[w]!=null?arguments[w]:{};w%2?M(Object(N),!0).forEach(function(j){U(I,j,N[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):M(Object(N)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(N,j))})}return I}function U(I,w,N){return w=H(w),w in I?Object.defineProperty(I,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[w]=N,I}function H(I){var w=Q(I,"string");return o(w)=="symbol"?w:String(w)}function Q(I,w){if(o(I)!="object"||!I)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var j=N.call(I,w);if(o(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(I)}var D=function(w){var N,j,C,X,pe;w.rtl?pe=w.slideCount-1-w.index:pe=w.index,C=pe<0||pe>=w.slideCount,w.centerMode?(X=Math.floor(w.slidesToShow/2),j=(pe-w.currentSlide)%w.slideCount===0,pe>w.currentSlide-X-1&&pe<=w.currentSlide+X&&(N=!0)):N=w.currentSlide<=pe&&pe<w.currentSlide+w.slidesToShow;var de;w.targetSlide<0?de=w.targetSlide+w.slideCount:w.targetSlide>=w.slideCount?de=w.targetSlide-w.slideCount:de=w.targetSlide;var b=pe===de;return{"slick-slide":!0,"slick-active":N,"slick-center":j,"slick-cloned":C,"slick-current":b}},z=function(w){var N={};return(w.variableWidth===void 0||w.variableWidth===!1)&&(N.width=w.slideWidth),w.fade&&(N.position="relative",w.vertical?N.top=-w.index*parseInt(w.slideHeight):N.left=-w.index*parseInt(w.slideWidth),N.opacity=w.currentSlide===w.index?1:0,N.zIndex=w.currentSlide===w.index?999:998,w.useCSS&&(N.transition="opacity "+w.speed+"ms "+w.cssEase+", visibility "+w.speed+"ms "+w.cssEase)),N},k=function(w,N){return w.key||N},R=function(w){var N,j=[],C=[],X=[],pe=n.default.Children.count(w.children),de=(0,t.lazyStartIndex)(w),b=(0,t.lazyEndIndex)(w);return n.default.Children.forEach(w.children,function(se,B){var T,x={message:"children",index:B,slidesToScroll:w.slidesToScroll,currentSlide:w.currentSlide};!w.lazyLoad||w.lazyLoad&&w.lazyLoadedList.indexOf(B)>=0?T=se:T=n.default.createElement("div",null);var $=z(G(G({},w),{},{index:B})),ne=T.props.className||"",ie=D(G(G({},w),{},{index:B}));if(j.push(n.default.cloneElement(T,{key:"original"+k(T,B),"data-index":B,className:(0,e.default)(ie,ne),tabIndex:"-1","aria-hidden":!ie["slick-active"],style:G(G({outline:"none"},T.props.style||{}),$),onClick:function(ce){T.props&&T.props.onClick&&T.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(x)}})),w.infinite&&w.fade===!1){var ae=pe-B;ae<=(0,t.getPreClones)(w)&&(N=-ae,N>=de&&(T=se),ie=D(G(G({},w),{},{index:N})),C.push(n.default.cloneElement(T,{key:"precloned"+k(T,N),"data-index":N,tabIndex:"-1",className:(0,e.default)(ie,ne),"aria-hidden":!ie["slick-active"],style:G(G({},T.props.style||{}),$),onClick:function(ce){T.props&&T.props.onClick&&T.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(x)}}))),N=pe+B,N<b&&(T=se),ie=D(G(G({},w),{},{index:N})),X.push(n.default.cloneElement(T,{key:"postcloned"+k(T,N),"data-index":N,tabIndex:"-1",className:(0,e.default)(ie,ne),"aria-hidden":!ie["slick-active"],style:G(G({},T.props.style||{}),$),onClick:function(ce){T.props&&T.props.onClick&&T.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(x)}}))}}),w.rtl?C.concat(j,X).reverse():C.concat(j,X)};return gl.Track=function(I){m(N,I);var w=S(N);function N(){var j;u(this,N);for(var C=arguments.length,X=new Array(C),pe=0;pe<C;pe++)X[pe]=arguments[pe];return j=w.call.apply(w,[this].concat(X)),U(V(j),"node",null),U(V(j),"handleRef",function(de){j.node=de}),j}return f(N,[{key:"render",value:function(){var C=R(this.props),X=this.props,pe=X.onMouseEnter,de=X.onMouseOver,b=X.onMouseLeave,se={onMouseEnter:pe,onMouseOver:de,onMouseLeave:b};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},se),C)}}]),N}(n.default.PureComponent),gl}var yl={},Uv;function ex(){if(Uv)return yl;Uv=1;function n(D){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(D)}Object.defineProperty(yl,"__esModule",{value:!0}),yl.Dots=void 0;var e=o(qr()),t=o(bd()),i=ql();function o(D){return D&&D.__esModule?D:{default:D}}function a(D,z){var k=Object.keys(D);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(D);z&&(R=R.filter(function(I){return Object.getOwnPropertyDescriptor(D,I).enumerable})),k.push.apply(k,R)}return k}function u(D){for(var z=1;z<arguments.length;z++){var k=arguments[z]!=null?arguments[z]:{};z%2?a(Object(k),!0).forEach(function(R){h(D,R,k[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(k)):a(Object(k)).forEach(function(R){Object.defineProperty(D,R,Object.getOwnPropertyDescriptor(k,R))})}return D}function h(D,z,k){return z=S(z),z in D?Object.defineProperty(D,z,{value:k,enumerable:!0,configurable:!0,writable:!0}):D[z]=k,D}function f(D,z){if(!(D instanceof z))throw new TypeError("Cannot call a class as a function")}function m(D,z){for(var k=0;k<z.length;k++){var R=z[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,S(R.key),R)}}function _(D,z,k){return z&&m(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),D}function S(D){var z=A(D,"string");return n(z)=="symbol"?z:String(z)}function A(D,z){if(n(D)!="object"||!D)return D;var k=D[Symbol.toPrimitive];if(k!==void 0){var R=k.call(D,z);if(n(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}function V(D,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(z&&z.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),z&&q(D,z)}function q(D,z){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,I){return R.__proto__=I,R},q(D,z)}function L(D){var z=U();return function(){var R=H(D),I;if(z){var w=H(this).constructor;I=Reflect.construct(R,arguments,w)}else I=R.apply(this,arguments);return M(this,I)}}function M(D,z){if(z&&(n(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(D)}function G(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function U(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!D})()}function H(D){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},H(D)}var Q=function(z){var k;return z.infinite?k=Math.ceil(z.slideCount/z.slidesToScroll):k=Math.ceil((z.slideCount-z.slidesToShow)/z.slidesToScroll)+1,k};return yl.Dots=function(D){V(k,D);var z=L(k);function k(){return f(this,k),z.apply(this,arguments)}return _(k,[{key:"clickHandler",value:function(I,w){w.preventDefault(),this.props.clickHandler(I)}},{key:"render",value:function(){for(var I=this.props,w=I.onMouseEnter,N=I.onMouseOver,j=I.onMouseLeave,C=I.infinite,X=I.slidesToScroll,pe=I.slidesToShow,de=I.slideCount,b=I.currentSlide,se=Q({slideCount:de,slidesToScroll:X,slidesToShow:pe,infinite:C}),B={onMouseEnter:w,onMouseOver:N,onMouseLeave:j},T=[],x=0;x<se;x++){var $=(x+1)*X-1,ne=C?$:(0,i.clamp)($,0,de-1),ie=ne-(X-1),ae=C?ie:(0,i.clamp)(ie,0,de-1),le=(0,t.default)({"slick-active":C?b>=ae&&b<=ne:b===ae}),ce={message:"dots",index:x,slidesToScroll:X,currentSlide:b},Te=this.clickHandler.bind(this,ce);T=T.concat(e.default.createElement("li",{key:x,className:le},e.default.cloneElement(this.props.customPaging(x),{onClick:Te})))}return e.default.cloneElement(this.props.appendDots(T),u({className:this.props.dotsClass},B))}}]),k}(e.default.PureComponent),yl}var Fs={},zv;function tx(){if(zv)return Fs;zv=1;function n(D){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(D)}Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.PrevArrow=Fs.NextArrow=void 0;var e=o(qr()),t=o(bd()),i=ql();function o(D){return D&&D.__esModule?D:{default:D}}function a(){return a=Object.assign?Object.assign.bind():function(D){for(var z=1;z<arguments.length;z++){var k=arguments[z];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(D[R]=k[R])}return D},a.apply(this,arguments)}function u(D,z){var k=Object.keys(D);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(D);z&&(R=R.filter(function(I){return Object.getOwnPropertyDescriptor(D,I).enumerable})),k.push.apply(k,R)}return k}function h(D){for(var z=1;z<arguments.length;z++){var k=arguments[z]!=null?arguments[z]:{};z%2?u(Object(k),!0).forEach(function(R){f(D,R,k[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(k)):u(Object(k)).forEach(function(R){Object.defineProperty(D,R,Object.getOwnPropertyDescriptor(k,R))})}return D}function f(D,z,k){return z=A(z),z in D?Object.defineProperty(D,z,{value:k,enumerable:!0,configurable:!0,writable:!0}):D[z]=k,D}function m(D,z){if(!(D instanceof z))throw new TypeError("Cannot call a class as a function")}function _(D,z){for(var k=0;k<z.length;k++){var R=z[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,A(R.key),R)}}function S(D,z,k){return z&&_(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),D}function A(D){var z=V(D,"string");return n(z)=="symbol"?z:String(z)}function V(D,z){if(n(D)!="object"||!D)return D;var k=D[Symbol.toPrimitive];if(k!==void 0){var R=k.call(D,z);if(n(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}function q(D,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(z&&z.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),z&&L(D,z)}function L(D,z){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,I){return R.__proto__=I,R},L(D,z)}function M(D){var z=H();return function(){var R=Q(D),I;if(z){var w=Q(this).constructor;I=Reflect.construct(R,arguments,w)}else I=R.apply(this,arguments);return G(this,I)}}function G(D,z){if(z&&(n(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(D)}function U(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function H(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!D})()}function Q(D){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},Q(D)}return Fs.PrevArrow=function(D){q(k,D);var z=M(k);function k(){return m(this,k),z.apply(this,arguments)}return S(k,[{key:"clickHandler",value:function(I,w){w&&w.preventDefault(),this.props.clickHandler(I,w)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-prev":!0},w=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(I["slick-disabled"]=!0,w=null);var N={key:"0","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:w},j={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.prevArrow?C=e.default.cloneElement(this.props.prevArrow,h(h({},N),j)):C=e.default.createElement("button",a({key:"0",type:"button"},N)," ","Previous"),C}}]),k}(e.default.PureComponent),Fs.NextArrow=function(D){q(k,D);var z=M(k);function k(){return m(this,k),z.apply(this,arguments)}return S(k,[{key:"clickHandler",value:function(I,w){w&&w.preventDefault(),this.props.clickHandler(I,w)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-next":!0},w=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(I["slick-disabled"]=!0,w=null);var N={key:"1","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:w},j={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.nextArrow?C=e.default.cloneElement(this.props.nextArrow,h(h({},N),j)):C=e.default.createElement("button",a({key:"1",type:"button"},N)," ","Next"),C}}]),k}(e.default.PureComponent),Fs}var fw=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(o,a){return o[0]===t?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(t,i){var o=n(this.__entries__,t);~o?this.__entries__[o][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,o=n(i,t);~o&&i.splice(o,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var o=0,a=this.__entries__;o<a.length;o++){var u=a[o];t.call(i,u[1],u[0])}},e}()}(),mp=typeof window<"u"&&typeof document<"u"&&window.document===document,Qc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),nx=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Qc):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),rx=2;function ix(n,e){var t=!1,i=!1,o=0;function a(){t&&(t=!1,n()),i&&h()}function u(){nx(a)}function h(){var f=Date.now();if(t){if(f-o<rx)return;i=!0}else t=!0,i=!1,setTimeout(u,e);o=f}return h}var sx=20,ox=["top","right","bottom","left","width","height","size","weight"],ax=typeof MutationObserver<"u",lx=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ix(this.refresh.bind(this),sx)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!mp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ax?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!mp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,o=ox.some(function(a){return!!~i.indexOf(a)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),pw=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var o=i[t];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},sa=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Qc},mw=xd(0,0,0,0);function Yc(n){return parseFloat(n)||0}function $v(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,o){var a=n["border-"+o+"-width"];return i+Yc(a)},0)}function ux(n){for(var e=["top","right","bottom","left"],t={},i=0,o=e;i<o.length;i++){var a=o[i],u=n["padding-"+a];t[a]=Yc(u)}return t}function cx(n){var e=n.getBBox();return xd(0,0,e.width,e.height)}function dx(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return mw;var i=sa(n).getComputedStyle(n),o=ux(i),a=o.left+o.right,u=o.top+o.bottom,h=Yc(i.width),f=Yc(i.height);if(i.boxSizing==="border-box"&&(Math.round(h+a)!==e&&(h-=$v(i,"left","right")+a),Math.round(f+u)!==t&&(f-=$v(i,"top","bottom")+u)),!fx(n)){var m=Math.round(h+a)-e,_=Math.round(f+u)-t;Math.abs(m)!==1&&(h-=m),Math.abs(_)!==1&&(f-=_)}return xd(o.left,o.top,h,f)}var hx=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof sa(n).SVGGraphicsElement}:function(n){return n instanceof sa(n).SVGElement&&typeof n.getBBox=="function"}}();function fx(n){return n===sa(n).document.documentElement}function px(n){return mp?hx(n)?cx(n):dx(n):mw}function mx(n){var e=n.x,t=n.y,i=n.width,o=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(a.prototype);return pw(u,{x:e,y:t,width:i,height:o,top:t,right:e+i,bottom:o+t,left:e}),u}function xd(n,e,t,i){return{x:n,y:e,width:t,height:i}}var gx=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=xd(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=px(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),yx=function(){function n(e,t){var i=mx(t);pw(this,{target:e,contentRect:i})}return n}(),vx=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new fw,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new gx(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new yx(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),gw=typeof WeakMap<"u"?new WeakMap:new fw,yw=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=lx.getInstance(),i=new vx(e,t,this);gw.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){yw.prototype[n]=function(){var e;return(e=gw.get(this))[n].apply(e,arguments)}});var _x=function(){return typeof Qc.ResizeObserver<"u"?Qc.ResizeObserver:yw}();const wx=Object.freeze(Object.defineProperty({__proto__:null,default:_x},Symbol.toStringTag,{value:"Module"})),Ex=J0(wx);var Bv;function Tx(){if(Bv)return ml;Bv=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.InnerSlider=void 0;var n=m(qr()),e=m(Xb()),t=m(Jb()),i=m(bd()),o=ql(),a=Zb(),u=ex(),h=tx(),f=m(Ex);function m(C){return C&&C.__esModule?C:{default:C}}function _(C){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},_(C)}function S(){return S=Object.assign?Object.assign.bind():function(C){for(var X=1;X<arguments.length;X++){var pe=arguments[X];for(var de in pe)Object.prototype.hasOwnProperty.call(pe,de)&&(C[de]=pe[de])}return C},S.apply(this,arguments)}function A(C,X){if(C==null)return{};var pe=V(C,X),de,b;if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(C);for(b=0;b<se.length;b++)de=se[b],!(X.indexOf(de)>=0)&&Object.prototype.propertyIsEnumerable.call(C,de)&&(pe[de]=C[de])}return pe}function V(C,X){if(C==null)return{};var pe={},de=Object.keys(C),b,se;for(se=0;se<de.length;se++)b=de[se],!(X.indexOf(b)>=0)&&(pe[b]=C[b]);return pe}function q(C,X){var pe=Object.keys(C);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(C);X&&(de=de.filter(function(b){return Object.getOwnPropertyDescriptor(C,b).enumerable})),pe.push.apply(pe,de)}return pe}function L(C){for(var X=1;X<arguments.length;X++){var pe=arguments[X]!=null?arguments[X]:{};X%2?q(Object(pe),!0).forEach(function(de){w(C,de,pe[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(pe)):q(Object(pe)).forEach(function(de){Object.defineProperty(C,de,Object.getOwnPropertyDescriptor(pe,de))})}return C}function M(C,X){if(!(C instanceof X))throw new TypeError("Cannot call a class as a function")}function G(C,X){for(var pe=0;pe<X.length;pe++){var de=X[pe];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(C,N(de.key),de)}}function U(C,X,pe){return X&&G(C.prototype,X),Object.defineProperty(C,"prototype",{writable:!1}),C}function H(C,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(X&&X.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),X&&Q(C,X)}function Q(C,X){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,b){return de.__proto__=b,de},Q(C,X)}function D(C){var X=R();return function(){var de=I(C),b;if(X){var se=I(this).constructor;b=Reflect.construct(de,arguments,se)}else b=de.apply(this,arguments);return z(this,b)}}function z(C,X){if(X&&(_(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(C)}function k(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function R(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!C})()}function I(C){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},I(C)}function w(C,X,pe){return X=N(X),X in C?Object.defineProperty(C,X,{value:pe,enumerable:!0,configurable:!0,writable:!0}):C[X]=pe,C}function N(C){var X=j(C,"string");return _(X)=="symbol"?X:String(X)}function j(C,X){if(_(C)!="object"||!C)return C;var pe=C[Symbol.toPrimitive];if(pe!==void 0){var de=pe.call(C,X);if(_(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(C)}return ml.InnerSlider=function(C){H(pe,C);var X=D(pe);function pe(de){var b;M(this,pe),b=X.call(this,de),w(k(b),"listRefHandler",function(B){return b.list=B}),w(k(b),"trackRefHandler",function(B){return b.track=B}),w(k(b),"adaptHeight",function(){if(b.props.adaptiveHeight&&b.list){var B=b.list.querySelector('[data-index="'.concat(b.state.currentSlide,'"]'));b.list.style.height=(0,o.getHeight)(B)+"px"}}),w(k(b),"componentDidMount",function(){if(b.props.onInit&&b.props.onInit(),b.props.lazyLoad){var B=(0,o.getOnDemandLazySlides)(L(L({},b.props),b.state));B.length>0&&(b.setState(function(x){return{lazyLoadedList:x.lazyLoadedList.concat(B)}}),b.props.onLazyLoad&&b.props.onLazyLoad(B))}var T=L({listRef:b.list,trackRef:b.track},b.props);b.updateState(T,!0,function(){b.adaptHeight(),b.props.autoplay&&b.autoPlay("update")}),b.props.lazyLoad==="progressive"&&(b.lazyLoadTimer=setInterval(b.progressiveLazyLoad,1e3)),b.ro=new f.default(function(){b.state.animating?(b.onWindowResized(!1),b.callbackTimers.push(setTimeout(function(){return b.onWindowResized()},b.props.speed))):b.onWindowResized()}),b.ro.observe(b.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(x){x.onfocus=b.props.pauseOnFocus?b.onSlideFocus:null,x.onblur=b.props.pauseOnFocus?b.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",b.onWindowResized):window.attachEvent("onresize",b.onWindowResized)}),w(k(b),"componentWillUnmount",function(){b.animationEndCallback&&clearTimeout(b.animationEndCallback),b.lazyLoadTimer&&clearInterval(b.lazyLoadTimer),b.callbackTimers.length&&(b.callbackTimers.forEach(function(B){return clearTimeout(B)}),b.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",b.onWindowResized):window.detachEvent("onresize",b.onWindowResized),b.autoplayTimer&&clearInterval(b.autoplayTimer),b.ro.disconnect()}),w(k(b),"componentDidUpdate",function(B){if(b.checkImagesLoad(),b.props.onReInit&&b.props.onReInit(),b.props.lazyLoad){var T=(0,o.getOnDemandLazySlides)(L(L({},b.props),b.state));T.length>0&&(b.setState(function(ne){return{lazyLoadedList:ne.lazyLoadedList.concat(T)}}),b.props.onLazyLoad&&b.props.onLazyLoad(T))}b.adaptHeight();var x=L(L({listRef:b.list,trackRef:b.track},b.props),b.state),$=b.didPropsChange(B);$&&b.updateState(x,$,function(){b.state.currentSlide>=n.default.Children.count(b.props.children)&&b.changeSlide({message:"index",index:n.default.Children.count(b.props.children)-b.props.slidesToShow,currentSlide:b.state.currentSlide}),b.props.autoplay?b.autoPlay("update"):b.pause("paused")})}),w(k(b),"onWindowResized",function(B){b.debouncedResize&&b.debouncedResize.cancel(),b.debouncedResize=(0,t.default)(function(){return b.resizeWindow(B)},50),b.debouncedResize()}),w(k(b),"resizeWindow",function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,T=!!(b.track&&b.track.node);if(T){var x=L(L({listRef:b.list,trackRef:b.track},b.props),b.state);b.updateState(x,B,function(){b.props.autoplay?b.autoPlay("update"):b.pause("paused")}),b.setState({animating:!1}),clearTimeout(b.animationEndCallback),delete b.animationEndCallback}}),w(k(b),"updateState",function(B,T,x){var $=(0,o.initializedState)(B);B=L(L(L({},B),$),{},{slideIndex:$.currentSlide});var ne=(0,o.getTrackLeft)(B);B=L(L({},B),{},{left:ne});var ie=(0,o.getTrackCSS)(B);(T||n.default.Children.count(b.props.children)!==n.default.Children.count(B.children))&&($.trackStyle=ie),b.setState($,x)}),w(k(b),"ssrInit",function(){if(b.props.variableWidth){var B=0,T=0,x=[],$=(0,o.getPreClones)(L(L(L({},b.props),b.state),{},{slideCount:b.props.children.length})),ne=(0,o.getPostClones)(L(L(L({},b.props),b.state),{},{slideCount:b.props.children.length}));b.props.children.forEach(function(ct){x.push(ct.props.style.width),B+=ct.props.style.width});for(var ie=0;ie<$;ie++)T+=x[x.length-1-ie],B+=x[x.length-1-ie];for(var ae=0;ae<ne;ae++)B+=x[ae];for(var le=0;le<b.state.currentSlide;le++)T+=x[le];var ce={width:B+"px",left:-T+"px"};if(b.props.centerMode){var Te="".concat(x[b.state.currentSlide],"px");ce.left="calc(".concat(ce.left," + (100% - ").concat(Te,") / 2 ) ")}return{trackStyle:ce}}var xe=n.default.Children.count(b.props.children),Re=L(L(L({},b.props),b.state),{},{slideCount:xe}),$e=(0,o.getPreClones)(Re)+(0,o.getPostClones)(Re)+xe,He=100/b.props.slidesToShow*$e,Ue=100/$e,Me=-Ue*((0,o.getPreClones)(Re)+b.state.currentSlide)*He/100;b.props.centerMode&&(Me+=(100-Ue*He/100)/2);var qe={width:He+"%",left:Me+"%"};return{slideWidth:Ue+"%",trackStyle:qe}}),w(k(b),"checkImagesLoad",function(){var B=b.list&&b.list.querySelectorAll&&b.list.querySelectorAll(".slick-slide img")||[],T=B.length,x=0;Array.prototype.forEach.call(B,function($){var ne=function(){return++x&&x>=T&&b.onWindowResized()};if(!$.onclick)$.onclick=function(){return $.parentNode.focus()};else{var ie=$.onclick;$.onclick=function(ae){ie(ae),$.parentNode.focus()}}$.onload||(b.props.lazyLoad?$.onload=function(){b.adaptHeight(),b.callbackTimers.push(setTimeout(b.onWindowResized,b.props.speed))}:($.onload=ne,$.onerror=function(){ne(),b.props.onLazyLoadError&&b.props.onLazyLoadError()}))})}),w(k(b),"progressiveLazyLoad",function(){for(var B=[],T=L(L({},b.props),b.state),x=b.state.currentSlide;x<b.state.slideCount+(0,o.getPostClones)(T);x++)if(b.state.lazyLoadedList.indexOf(x)<0){B.push(x);break}for(var $=b.state.currentSlide-1;$>=-(0,o.getPreClones)(T);$--)if(b.state.lazyLoadedList.indexOf($)<0){B.push($);break}B.length>0?(b.setState(function(ne){return{lazyLoadedList:ne.lazyLoadedList.concat(B)}}),b.props.onLazyLoad&&b.props.onLazyLoad(B)):b.lazyLoadTimer&&(clearInterval(b.lazyLoadTimer),delete b.lazyLoadTimer)}),w(k(b),"slideHandler",function(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=b.props,$=x.asNavFor,ne=x.beforeChange,ie=x.onLazyLoad,ae=x.speed,le=x.afterChange,ce=b.state.currentSlide,Te=(0,o.slideHandler)(L(L(L({index:B},b.props),b.state),{},{trackRef:b.track,useCSS:b.props.useCSS&&!T})),xe=Te.state,Re=Te.nextState;if(xe){ne&&ne(ce,xe.currentSlide);var $e=xe.lazyLoadedList.filter(function(He){return b.state.lazyLoadedList.indexOf(He)<0});ie&&$e.length>0&&ie($e),!b.props.waitForAnimate&&b.animationEndCallback&&(clearTimeout(b.animationEndCallback),le&&le(ce),delete b.animationEndCallback),b.setState(xe,function(){$&&b.asNavForIndex!==B&&(b.asNavForIndex=B,$.innerSlider.slideHandler(B)),Re&&(b.animationEndCallback=setTimeout(function(){var He=Re.animating,Ue=A(Re,["animating"]);b.setState(Ue,function(){b.callbackTimers.push(setTimeout(function(){return b.setState({animating:He})},10)),le&&le(xe.currentSlide),delete b.animationEndCallback})},ae))})}}),w(k(b),"changeSlide",function(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=L(L({},b.props),b.state),$=(0,o.changeSlide)(x,B);if(!($!==0&&!$)&&(T===!0?b.slideHandler($,T):b.slideHandler($),b.props.autoplay&&b.autoPlay("update"),b.props.focusOnSelect)){var ne=b.list.querySelectorAll(".slick-current");ne[0]&&ne[0].focus()}}),w(k(b),"clickHandler",function(B){b.clickable===!1&&(B.stopPropagation(),B.preventDefault()),b.clickable=!0}),w(k(b),"keyHandler",function(B){var T=(0,o.keyHandler)(B,b.props.accessibility,b.props.rtl);T!==""&&b.changeSlide({message:T})}),w(k(b),"selectHandler",function(B){b.changeSlide(B)}),w(k(b),"disableBodyScroll",function(){var B=function(x){x=x||window.event,x.preventDefault&&x.preventDefault(),x.returnValue=!1};window.ontouchmove=B}),w(k(b),"enableBodyScroll",function(){window.ontouchmove=null}),w(k(b),"swipeStart",function(B){b.props.verticalSwiping&&b.disableBodyScroll();var T=(0,o.swipeStart)(B,b.props.swipe,b.props.draggable);T!==""&&b.setState(T)}),w(k(b),"swipeMove",function(B){var T=(0,o.swipeMove)(B,L(L(L({},b.props),b.state),{},{trackRef:b.track,listRef:b.list,slideIndex:b.state.currentSlide}));T&&(T.swiping&&(b.clickable=!1),b.setState(T))}),w(k(b),"swipeEnd",function(B){var T=(0,o.swipeEnd)(B,L(L(L({},b.props),b.state),{},{trackRef:b.track,listRef:b.list,slideIndex:b.state.currentSlide}));if(T){var x=T.triggerSlideHandler;delete T.triggerSlideHandler,b.setState(T),x!==void 0&&(b.slideHandler(x),b.props.verticalSwiping&&b.enableBodyScroll())}}),w(k(b),"touchEnd",function(B){b.swipeEnd(B),b.clickable=!0}),w(k(b),"slickPrev",function(){b.callbackTimers.push(setTimeout(function(){return b.changeSlide({message:"previous"})},0))}),w(k(b),"slickNext",function(){b.callbackTimers.push(setTimeout(function(){return b.changeSlide({message:"next"})},0))}),w(k(b),"slickGoTo",function(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(B=Number(B),isNaN(B))return"";b.callbackTimers.push(setTimeout(function(){return b.changeSlide({message:"index",index:B,currentSlide:b.state.currentSlide},T)},0))}),w(k(b),"play",function(){var B;if(b.props.rtl)B=b.state.currentSlide-b.props.slidesToScroll;else if((0,o.canGoNext)(L(L({},b.props),b.state)))B=b.state.currentSlide+b.props.slidesToScroll;else return!1;b.slideHandler(B)}),w(k(b),"autoPlay",function(B){b.autoplayTimer&&clearInterval(b.autoplayTimer);var T=b.state.autoplaying;if(B==="update"){if(T==="hovered"||T==="focused"||T==="paused")return}else if(B==="leave"){if(T==="paused"||T==="focused")return}else if(B==="blur"&&(T==="paused"||T==="hovered"))return;b.autoplayTimer=setInterval(b.play,b.props.autoplaySpeed+50),b.setState({autoplaying:"playing"})}),w(k(b),"pause",function(B){b.autoplayTimer&&(clearInterval(b.autoplayTimer),b.autoplayTimer=null);var T=b.state.autoplaying;B==="paused"?b.setState({autoplaying:"paused"}):B==="focused"?(T==="hovered"||T==="playing")&&b.setState({autoplaying:"focused"}):T==="playing"&&b.setState({autoplaying:"hovered"})}),w(k(b),"onDotsOver",function(){return b.props.autoplay&&b.pause("hovered")}),w(k(b),"onDotsLeave",function(){return b.props.autoplay&&b.state.autoplaying==="hovered"&&b.autoPlay("leave")}),w(k(b),"onTrackOver",function(){return b.props.autoplay&&b.pause("hovered")}),w(k(b),"onTrackLeave",function(){return b.props.autoplay&&b.state.autoplaying==="hovered"&&b.autoPlay("leave")}),w(k(b),"onSlideFocus",function(){return b.props.autoplay&&b.pause("focused")}),w(k(b),"onSlideBlur",function(){return b.props.autoplay&&b.state.autoplaying==="focused"&&b.autoPlay("blur")}),w(k(b),"render",function(){var B=(0,i.default)("slick-slider",b.props.className,{"slick-vertical":b.props.vertical,"slick-initialized":!0}),T=L(L({},b.props),b.state),x=(0,o.extractObject)(T,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),$=b.props.pauseOnHover;x=L(L({},x),{},{onMouseEnter:$?b.onTrackOver:null,onMouseLeave:$?b.onTrackLeave:null,onMouseOver:$?b.onTrackOver:null,focusOnSelect:b.props.focusOnSelect&&b.clickable?b.selectHandler:null});var ne;if(b.props.dots===!0&&b.state.slideCount>=b.props.slidesToShow){var ie=(0,o.extractObject)(T,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=b.props.pauseOnDotsHover;ie=L(L({},ie),{},{clickHandler:b.changeSlide,onMouseEnter:ae?b.onDotsLeave:null,onMouseOver:ae?b.onDotsOver:null,onMouseLeave:ae?b.onDotsLeave:null}),ne=n.default.createElement(u.Dots,ie)}var le,ce,Te=(0,o.extractObject)(T,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Te.clickHandler=b.changeSlide,b.props.arrows&&(le=n.default.createElement(h.PrevArrow,Te),ce=n.default.createElement(h.NextArrow,Te));var xe=null;b.props.vertical&&(xe={height:b.state.listHeight});var Re=null;b.props.vertical===!1?b.props.centerMode===!0&&(Re={padding:"0px "+b.props.centerPadding}):b.props.centerMode===!0&&(Re={padding:b.props.centerPadding+" 0px"});var $e=L(L({},xe),Re),He=b.props.touchMove,Ue={className:"slick-list",style:$e,onClick:b.clickHandler,onMouseDown:He?b.swipeStart:null,onMouseMove:b.state.dragging&&He?b.swipeMove:null,onMouseUp:He?b.swipeEnd:null,onMouseLeave:b.state.dragging&&He?b.swipeEnd:null,onTouchStart:He?b.swipeStart:null,onTouchMove:b.state.dragging&&He?b.swipeMove:null,onTouchEnd:He?b.touchEnd:null,onTouchCancel:b.state.dragging&&He?b.swipeEnd:null,onKeyDown:b.props.accessibility?b.keyHandler:null},Me={className:B,dir:"ltr",style:b.props.style};return b.props.unslick&&(Ue={className:"slick-list"},Me={className:B}),n.default.createElement("div",Me,b.props.unslick?"":le,n.default.createElement("div",S({ref:b.listRefHandler},Ue),n.default.createElement(a.Track,S({ref:b.trackRefHandler},x),b.props.children)),b.props.unslick?"":ce,b.props.unslick?"":ne)}),b.list=null,b.track=null,b.state=L(L({},e.default),{},{currentSlide:b.props.initialSlide,targetSlide:b.props.initialSlide?b.props.initialSlide:0,slideCount:n.default.Children.count(b.props.children)}),b.callbackTimers=[],b.clickable=!0,b.debouncedResize=null;var se=b.ssrInit();return b.state=L(L({},b.state),se),b}return U(pe,[{key:"didPropsChange",value:function(b){for(var se=!1,B=0,T=Object.keys(this.props);B<T.length;B++){var x=T[B];if(!b.hasOwnProperty(x)){se=!0;break}if(!(_(b[x])==="object"||typeof b[x]=="function"||isNaN(b[x]))&&b[x]!==this.props[x]){se=!0;break}}return se||n.default.Children.count(this.props.children)!==n.default.Children.count(b.children)}}]),pe}(n.default.Component),ml}var qf,qv;function Sx(){if(qv)return qf;qv=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return qf=n,qf}var Hf,Hv;function Ix(){if(Hv)return Hf;Hv=1;var n=Sx(),e=function(o){var a=/[height|width]$/;return a.test(o)},t=function(o){var a="",u=Object.keys(o);return u.forEach(function(h,f){var m=o[h];h=n(h),e(h)&&typeof m=="number"&&(m=m+"px"),m===!0?a+=h:m===!1?a+="not "+h:a+="("+h+": "+m+")",f<u.length-1&&(a+=" and ")}),a},i=function(o){var a="";return typeof o=="string"?o:o instanceof Array?(o.forEach(function(u,h){a+=t(u),h<o.length-1&&(a+=", ")}),a):t(o)};return Hf=i,Hf}var Wf,Wv;function bx(){if(Wv)return Wf;Wv=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Wf=n,Wf}var Gf,Gv;function vw(){if(Gv)return Gf;Gv=1;function n(i,o){var a=0,u=i.length,h;for(a;a<u&&(h=o(i[a],a),h!==!1);a++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return Gf={isFunction:t,isArray:e,each:n},Gf}var Kf,Kv;function xx(){if(Kv)return Kf;Kv=1;var n=bx(),e=vw().each;function t(i,o){this.query=i,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(i);var a=this;this.listener=function(u){a.mql=u.currentTarget||u,a.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var o=new n(i);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(i){var o=this.handlers;e(o,function(a,u){if(a.equals(i))return a.destroy(),!o.splice(u,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(o){o[i]()})}},Kf=t,Kf}var Qf,Qv;function kx(){if(Qv)return Qf;Qv=1;var n=xx(),e=vw(),t=e.each,i=e.isFunction,o=e.isArray;function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return a.prototype={constructor:a,register:function(u,h,f){var m=this.queries,_=f&&this.browserIsIncapable;return m[u]||(m[u]=new n(u,_)),i(h)&&(h={match:h}),o(h)||(h=[h]),t(h,function(S){i(S)&&(S={match:S}),m[u].addHandler(S)}),this},unregister:function(u,h){var f=this.queries[u];return f&&(h?f.removeHandler(h):(f.clear(),delete this.queries[u])),this}},Qf=a,Qf}var Yf,Yv;function Cx(){if(Yv)return Yf;Yv=1;var n=kx();return Yf=new n,Yf}var Xv;function Px(){return Xv||(Xv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=u(qr()),t=Tx(),i=u(Ix()),o=u(hw()),a=ql();function u(I){return I&&I.__esModule?I:{default:I}}function h(I){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},h(I)}function f(){return f=Object.assign?Object.assign.bind():function(I){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(I[j]=N[j])}return I},f.apply(this,arguments)}function m(I,w){var N=Object.keys(I);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(I);w&&(j=j.filter(function(C){return Object.getOwnPropertyDescriptor(I,C).enumerable})),N.push.apply(N,j)}return N}function _(I){for(var w=1;w<arguments.length;w++){var N=arguments[w]!=null?arguments[w]:{};w%2?m(Object(N),!0).forEach(function(j){D(I,j,N[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):m(Object(N)).forEach(function(j){Object.defineProperty(I,j,Object.getOwnPropertyDescriptor(N,j))})}return I}function S(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function A(I,w){for(var N=0;N<w.length;N++){var j=w[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,z(j.key),j)}}function V(I,w,N){return w&&A(I.prototype,w),Object.defineProperty(I,"prototype",{writable:!1}),I}function q(I,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(w&&w.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),w&&L(I,w)}function L(I,w){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,C){return j.__proto__=C,j},L(I,w)}function M(I){var w=H();return function(){var j=Q(I),C;if(w){var X=Q(this).constructor;C=Reflect.construct(j,arguments,X)}else C=j.apply(this,arguments);return G(this,C)}}function G(I,w){if(w&&(h(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(I)}function U(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function H(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!I})()}function Q(I){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},Q(I)}function D(I,w,N){return w=z(w),w in I?Object.defineProperty(I,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[w]=N,I}function z(I){var w=k(I,"string");return h(w)=="symbol"?w:String(w)}function k(I,w){if(h(I)!="object"||!I)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var j=N.call(I,w);if(h(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(I)}var R=(0,a.canUseDOM)()&&Cx();n.default=function(I){q(N,I);var w=M(N);function N(j){var C;return S(this,N),C=w.call(this,j),D(U(C),"innerSliderRefHandler",function(X){return C.innerSlider=X}),D(U(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),D(U(C),"slickNext",function(){return C.innerSlider.slickNext()}),D(U(C),"slickGoTo",function(X){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(X,pe)}),D(U(C),"slickPause",function(){return C.innerSlider.pause("paused")}),D(U(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return V(N,[{key:"media",value:function(C,X){R.register(C,X),this._responsiveMediaHandlers.push({query:C,handler:X})}},{key:"componentDidMount",value:function(){var C=this;if(this.props.responsive){var X=this.props.responsive.map(function(de){return de.breakpoint});X.sort(function(de,b){return de-b}),X.forEach(function(de,b){var se;b===0?se=(0,i.default)({minWidth:0,maxWidth:de}):se=(0,i.default)({minWidth:X[b-1]+1,maxWidth:de}),(0,a.canUseDOM)()&&C.media(se,function(){C.setState({breakpoint:de})})});var pe=(0,i.default)({minWidth:X.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(pe,function(){C.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(C){R.unregister(C.query,C.handler)})}},{key:"render",value:function(){var C=this,X,pe;this.state.breakpoint?(pe=this.props.responsive.filter(function(ae){return ae.breakpoint===C.state.breakpoint}),X=pe[0].settings==="unslick"?"unslick":_(_(_({},o.default),this.props),pe[0].settings)):X=_(_({},o.default),this.props),X.centerMode&&(X.slidesToScroll>1,X.slidesToScroll=1),X.fade&&(X.slidesToShow>1,X.slidesToScroll>1,X.slidesToShow=1,X.slidesToScroll=1);var de=e.default.Children.toArray(this.props.children);de=de.filter(function(ae){return typeof ae=="string"?!!ae.trim():!!ae}),X.variableWidth&&(X.rows>1||X.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),X.variableWidth=!1);for(var b=[],se=null,B=0;B<de.length;B+=X.rows*X.slidesPerRow){for(var T=[],x=B;x<B+X.rows*X.slidesPerRow;x+=X.slidesPerRow){for(var $=[],ne=x;ne<x+X.slidesPerRow&&(X.variableWidth&&de[ne].props.style&&(se=de[ne].props.style.width),!(ne>=de.length));ne+=1)$.push(e.default.cloneElement(de[ne],{key:100*B+10*x+ne,tabIndex:-1,style:{width:"".concat(100/X.slidesPerRow,"%"),display:"inline-block"}}));T.push(e.default.createElement("div",{key:10*B+x},$))}X.variableWidth?b.push(e.default.createElement("div",{key:B,style:{width:se}},T)):b.push(e.default.createElement("div",{key:B},T))}if(X==="unslick"){var ie="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ie},de)}else b.length<=X.slidesToShow&&!X.infinite&&(X.unslick=!0);return e.default.createElement(t.InnerSlider,f({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(X)),b)}}]),N}(e.default.Component)}(Ff)),Ff}var Jv;function Rx(){return Jv||(Jv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Px());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(Vf)),Vf}var Ax=Rx();const kd=Sd(Ax),Nx=()=>{const n=[{id:1,image:"banner1.jpg",title:"¡Oferta Especial! 35% OFF"},{id:2,image:"banner2.jpg",title:"Nuevos Lanzamientos"},{id:3,image:"banner3.jpg",title:"Envíos Gratis Hoy"},{id:4,image:"banner4.jpg",title:"Descuentos Exclusivos"}],e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,nextArrow:v.jsx(Ox,{}),prevArrow:v.jsx(Dx,{})};return v.jsx("div",{className:"text-white",children:v.jsx(kd,{...e,children:n.map(t=>v.jsxs("div",{className:"relative outline-none",children:[v.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[500px] md:h-[400px] sm:h-[300px] object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-opacity-40 flex items-center justify-center",children:v.jsx("h2",{className:"text-4xl md:text-3xl sm:text-2xl font-bold text-center",children:t.title})})]},t.id))})})},Ox=n=>{const{className:e,style:t,onClick:i}=n;return v.jsx("button",{className:e,style:{...t,display:"block",right:"10px",zIndex:10},onClick:i,children:"→"})},Dx=n=>{const{className:e,style:t,onClick:i}=n;return v.jsx("button",{className:e,style:{...t,display:"block",left:"10px",zIndex:10},onClick:i,children:"←"})},Lx=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},jx=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,S=(a&3)<<4|h>>4;let A=(h&15)<<2|m>>6,V=m&63;f||(V=64,u||(A=64)),i.push(t[_],t[S],t[A],t[V])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_w(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||S==null)throw new Mx;const A=a<<2|h>>4;if(i.push(A),m!==64){const V=h<<4&240|m>>2;if(i.push(V),S!==64){const q=m<<6&192|S;i.push(q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Mx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vx=function(n){const e=_w(n);return ww.encodeByteArray(e,!0)},Xc=function(n){return Vx(n).replace(/\./g,"")},Ew=function(n){try{return ww.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=()=>Fx().__FIREBASE_DEFAULTS__,zx=()=>{if(typeof process>"u"||typeof Zv>"u")return;const n=Zv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$x=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ew(n[1]);return e&&JSON.parse(e)},Cd=()=>{try{return Lx()||Ux()||zx()||$x()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tw=n=>{var e,t;return(t=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nm=n=>{const e=Tw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Sw=()=>{var n;return(n=Cd())===null||n===void 0?void 0:n.config},Iw=n=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xc(JSON.stringify(t)),Xc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Hx(){var n;const e=(n=Cd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Gx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kx(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Qx(){return!Hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Cw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Yx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="FirebaseError";class Bn extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Xx,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Jx(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Bn(o,h,i)}}function Jx(n,e){return n.replace(Zx,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Zx=/\{\$([^}]+)}/g;function ek(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function es(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(e_(a)&&e_(u)){if(!es(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function e_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function _l(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function tk(n,e){const t=new nk(n,e);return t.subscribe.bind(t)}class nk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");rk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Xf),o.error===void 0&&(o.error=Xf),o.complete===void 0&&(o.complete=Xf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=1e3,sk=2,ok=4*60*60*1e3,ak=.5;function t_(n,e=ik,t=sk){const i=e*Math.pow(t,n),o=Math.round(ak*i*(Math.random()-.5)*2);return Math.min(ok,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n){return n&&n._delegate?n._delegate:n}class $n{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Bx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ck(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uk(n){return n===Us?void 0:n}function ck(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const hk={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},fk=We.INFO,pk={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},mk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=pk[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pd{constructor(e){this.name=e,this._logLevel=fk,this._logHandler=mk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const gk=(n,e)=>e.some(t=>n instanceof t);let n_,r_;function yk(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vk(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,gp=new WeakMap,Rw=new WeakMap,Jf=new WeakMap,rm=new WeakMap;function _k(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ki(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Pw.set(t,n)}).catch(()=>{}),rm.set(e,n),e}function wk(n){if(gp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});gp.set(n,e)}let yp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Rw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ek(n){yp=n(yp)}function Tk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Zf(this),e,...t);return Rw.set(i,e.sort?e.sort():[e]),Ki(i)}:vk().includes(n)?function(...e){return n.apply(Zf(this),e),Ki(Pw.get(this))}:function(...e){return Ki(n.apply(Zf(this),e))}}function Sk(n){return typeof n=="function"?Tk(n):(n instanceof IDBTransaction&&wk(n),gk(n,yk())?new Proxy(n,yp):n)}function Ki(n){if(n instanceof IDBRequest)return _k(n);if(Jf.has(n))return Jf.get(n);const e=Sk(n);return e!==n&&(Jf.set(n,e),rm.set(e,n)),e}const Zf=n=>rm.get(n);function Aw(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Ki(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ki(u.result),f.oldVersion,f.newVersion,Ki(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Ik=["get","getKey","getAll","getAllKeys","count"],bk=["put","add","delete","clear"],ep=new Map;function i_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=bk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Ik.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return ep.set(e,a),a}Ek(n=>({...n,get:(e,t,i)=>i_(e,t)||n.get(e,t,i),has:(e,t)=>!!i_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function kk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",s_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Pd("@firebase/app"),Ck="@firebase/app-compat",Pk="@firebase/analytics-compat",Rk="@firebase/analytics",Ak="@firebase/app-check-compat",Nk="@firebase/app-check",Ok="@firebase/auth",Dk="@firebase/auth-compat",Lk="@firebase/database",jk="@firebase/data-connect",Mk="@firebase/database-compat",Vk="@firebase/functions",Fk="@firebase/functions-compat",Uk="@firebase/installations",zk="@firebase/installations-compat",$k="@firebase/messaging",Bk="@firebase/messaging-compat",qk="@firebase/performance",Hk="@firebase/performance-compat",Wk="@firebase/remote-config",Gk="@firebase/remote-config-compat",Kk="@firebase/storage",Qk="@firebase/storage-compat",Yk="@firebase/firestore",Xk="@firebase/vertexai",Jk="@firebase/firestore-compat",Zk="firebase",eC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",tC={[vp]:"fire-core",[Ck]:"fire-core-compat",[Rk]:"fire-analytics",[Pk]:"fire-analytics-compat",[Nk]:"fire-app-check",[Ak]:"fire-app-check-compat",[Ok]:"fire-auth",[Dk]:"fire-auth-compat",[Lk]:"fire-rtdb",[jk]:"fire-data-connect",[Mk]:"fire-rtdb-compat",[Vk]:"fire-fn",[Fk]:"fire-fn-compat",[Uk]:"fire-iid",[zk]:"fire-iid-compat",[$k]:"fire-fcm",[Bk]:"fire-fcm-compat",[qk]:"fire-perf",[Hk]:"fire-perf-compat",[Wk]:"fire-rc",[Gk]:"fire-rc-compat",[Kk]:"fire-gcs",[Qk]:"fire-gcs-compat",[Yk]:"fire-fst",[Jk]:"fire-fst-compat",[Xk]:"fire-vertex","fire-js":"fire-js",[Zk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,nC=new Map,wp=new Map;function o_(n,e){try{n.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function er(n){const e=n.name;if(wp.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,n);for(const t of Jc.values())o_(t,n);for(const t of nC.values())o_(t,n);return!0}function gi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new to("app","Firebase",rC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=eC;function Nw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:_p,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(t||(t=Sw()),!t)throw Qi.create("no-options");const a=Jc.get(o);if(a){if(es(t,a.options)&&es(i,a.config))return a;throw Qi.create("duplicate-app",{appName:o})}const u=new dk(o);for(const f of wp.values())u.addComponent(f);const h=new iC(t,i,u);return Jc.set(o,h),h}function Wl(n=_p){const e=Jc.get(n);if(!e&&n===_p&&Sw())return Nw();if(!e)throw Qi.create("no-app",{appName:n});return e}function sn(n,e,t){var i;let o=(i=tC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(h.join(" "));return}er(new $n(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",oC=1,Al="firebase-heartbeat-store";let tp=null;function Ow(){return tp||(tp=Aw(sC,oC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),tp}async function aC(n){try{const t=(await Ow()).transaction(Al),i=await t.objectStore(Al).get(Dw(n));return await t.done,i}catch(e){if(e instanceof Bn)di.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(t.message)}}}async function a_(n,e){try{const i=(await Ow()).transaction(Al,"readwrite");await i.objectStore(Al).put(e,Dw(n)),await i.done}catch(t){if(t instanceof Bn)di.warn(t.message);else{const i=Qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});di.warn(i.message)}}}function Dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1024,uC=30;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>uC){const u=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l_(),{heartbeatsToSend:i,unsentEntries:o}=dC(this._heartbeatsCache.heartbeats),a=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return di.warn(t),""}}}function l_(){return new Date().toISOString().substring(0,10)}function dC(n,e=lC){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),u_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),u_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class hC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?Cw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function u_(n){return Xc(JSON.stringify({version:2,heartbeats:n})).length}function fC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n){er(new $n("platform-logger",e=>new xk(e),"PRIVATE")),er(new $n("heartbeat",e=>new cC(e),"PRIVATE")),sn(vp,s_,n),sn(vp,s_,"esm2017"),sn("fire-js","")}pC("");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,Lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function I(){}I.prototype=R.prototype,k.D=R.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(w,N,j){for(var C=Array(arguments.length-2),X=2;X<arguments.length;X++)C[X-2]=arguments[X];return R.prototype[N].apply(w,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,I){I||(I=0);var w=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)w[N]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(N=0;16>N;++N)w[N]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=k.g[0],I=k.g[1],N=k.g[2];var j=k.g[3],C=R+(j^I&(N^j))+w[0]+3614090360&4294967295;R=I+(C<<7&4294967295|C>>>25),C=j+(N^R&(I^N))+w[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=N+(I^j&(R^I))+w[2]+606105819&4294967295,N=j+(C<<17&4294967295|C>>>15),C=I+(R^N&(j^R))+w[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(j^I&(N^j))+w[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=j+(N^R&(I^N))+w[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=N+(I^j&(R^I))+w[6]+2821735955&4294967295,N=j+(C<<17&4294967295|C>>>15),C=I+(R^N&(j^R))+w[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(j^I&(N^j))+w[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=j+(N^R&(I^N))+w[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=N+(I^j&(R^I))+w[10]+4294925233&4294967295,N=j+(C<<17&4294967295|C>>>15),C=I+(R^N&(j^R))+w[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(j^I&(N^j))+w[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=j+(N^R&(I^N))+w[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=N+(I^j&(R^I))+w[14]+2792965006&4294967295,N=j+(C<<17&4294967295|C>>>15),C=I+(R^N&(j^R))+w[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(N^j&(I^N))+w[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^N&(R^I))+w[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(j^R))+w[11]+643717713&4294967295,N=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(N^j))+w[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(N^j&(I^N))+w[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^N&(R^I))+w[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(j^R))+w[15]+3634488961&4294967295,N=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(N^j))+w[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(N^j&(I^N))+w[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^N&(R^I))+w[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(j^R))+w[3]+4107603335&4294967295,N=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(N^j))+w[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(N^j&(I^N))+w[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^N&(R^I))+w[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(j^R))+w[7]+1735328473&4294967295,N=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(N^j))+w[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(I^N^j)+w[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^N)+w[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=N+(j^R^I)+w[11]+1839030562&4294967295,N=j+(C<<16&4294967295|C>>>16),C=I+(N^j^R)+w[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(I^N^j)+w[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^N)+w[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=N+(j^R^I)+w[7]+4139469664&4294967295,N=j+(C<<16&4294967295|C>>>16),C=I+(N^j^R)+w[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(I^N^j)+w[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^N)+w[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=N+(j^R^I)+w[3]+3572445317&4294967295,N=j+(C<<16&4294967295|C>>>16),C=I+(N^j^R)+w[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(I^N^j)+w[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^N)+w[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=N+(j^R^I)+w[15]+530742520&4294967295,N=j+(C<<16&4294967295|C>>>16),C=I+(N^j^R)+w[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(N^(I|~j))+w[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~N))+w[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=N+(R^(j|~I))+w[14]+2878612391&4294967295,N=j+(C<<15&4294967295|C>>>17),C=I+(j^(N|~R))+w[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=R+(N^(I|~j))+w[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~N))+w[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=N+(R^(j|~I))+w[10]+4293915773&4294967295,N=j+(C<<15&4294967295|C>>>17),C=I+(j^(N|~R))+w[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=R+(N^(I|~j))+w[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~N))+w[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=N+(R^(j|~I))+w[6]+2734768916&4294967295,N=j+(C<<15&4294967295|C>>>17),C=I+(j^(N|~R))+w[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=R+(N^(I|~j))+w[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~N))+w[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=N+(R^(j|~I))+w[2]+718787259&4294967295,N=j+(C<<15&4294967295|C>>>17),C=I+(j^(N|~R))+w[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var I=R-this.blockSize,w=this.B,N=this.h,j=0;j<R;){if(N==0)for(;j<=I;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<R;)if(w[N++]=k.charCodeAt(j++),N==this.blockSize){o(this,w),N=0;break}}else for(;j<R;)if(w[N++]=k[j++],N==this.blockSize){o(this,w),N=0;break}}this.h=N,this.o+=R},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var I=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=I&255,I/=256;for(this.u(k),k=Array(16),R=I=0;4>R;++R)for(var w=0;32>w;w+=8)k[I++]=this.g[R]>>>w&255;return k};function a(k,R){var I=h;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=R(k)}function u(k,R){this.h=R;for(var I=[],w=!0,N=k.length-1;0<=N;N--){var j=k[N]|0;w&&j==R||(I[N]=j,w=!1)}this.g=I}var h={};function f(k){return-128<=k&&128>k?a(k,function(R){return new u([R|0],0>R?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return M(m(-k));for(var R=[],I=1,w=0;k>=I;w++)R[w]=k/I|0,I*=4294967296;return new u(R,0)}function _(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return M(_(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(R,8)),w=S,N=0;N<k.length;N+=8){var j=Math.min(8,k.length-N),C=parseInt(k.substring(N,N+j),R);8>j?(j=m(Math.pow(R,j)),w=w.j(j).add(m(C))):(w=w.j(I),w=w.add(m(C)))}return w}var S=f(0),A=f(1),V=f(16777216);n=u.prototype,n.m=function(){if(L(this))return-M(this).m();for(var k=0,R=1,I=0;I<this.g.length;I++){var w=this.i(I);k+=(0<=w?w:4294967296+w)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(q(this))return"0";if(L(this))return"-"+M(this).toString(k);for(var R=m(Math.pow(k,6)),I=this,w="";;){var N=Q(I,R).g;I=G(I,N.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=N,q(I))return j+w;for(;6>j.length;)j="0"+j;w=j+w}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function q(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function L(k){return k.h==-1}n.l=function(k){return k=G(this,k),L(k)?-1:q(k)?0:1};function M(k){for(var R=k.g.length,I=[],w=0;w<R;w++)I[w]=~k.g[w];return new u(I,~k.h).add(A)}n.abs=function(){return L(this)?M(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],w=0,N=0;N<=R;N++){var j=w+(this.i(N)&65535)+(k.i(N)&65535),C=(j>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);w=C>>>16,j&=65535,C&=65535,I[N]=C<<16|j}return new u(I,I[I.length-1]&-2147483648?-1:0)};function G(k,R){return k.add(M(R))}n.j=function(k){if(q(this)||q(k))return S;if(L(this))return L(k)?M(this).j(M(k)):M(M(this).j(k));if(L(k))return M(this.j(M(k)));if(0>this.l(V)&&0>k.l(V))return m(this.m()*k.m());for(var R=this.g.length+k.g.length,I=[],w=0;w<2*R;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var N=0;N<k.g.length;N++){var j=this.i(w)>>>16,C=this.i(w)&65535,X=k.i(N)>>>16,pe=k.i(N)&65535;I[2*w+2*N]+=C*pe,U(I,2*w+2*N),I[2*w+2*N+1]+=j*pe,U(I,2*w+2*N+1),I[2*w+2*N+1]+=C*X,U(I,2*w+2*N+1),I[2*w+2*N+2]+=j*X,U(I,2*w+2*N+2)}for(w=0;w<R;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=R;w<2*R;w++)I[w]=0;return new u(I,0)};function U(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function H(k,R){this.g=k,this.h=R}function Q(k,R){if(q(R))throw Error("division by zero");if(q(k))return new H(S,S);if(L(k))return R=Q(M(k),R),new H(M(R.g),M(R.h));if(L(R))return R=Q(k,M(R)),new H(M(R.g),R.h);if(30<k.g.length){if(L(k)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,w=R;0>=w.l(k);)I=D(I),w=D(w);var N=z(I,1),j=z(w,1);for(w=z(w,2),I=z(I,2);!q(w);){var C=j.add(w);0>=C.l(k)&&(N=N.add(I),j=C),w=z(w,1),I=z(I,1)}return R=G(k,N.j(R)),new H(N,R)}for(N=S;0<=k.l(R);){for(I=Math.max(1,Math.floor(k.m()/R.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),j=m(I),C=j.j(R);L(C)||0<C.l(k);)I-=w,j=m(I),C=j.j(R);q(j)&&(j=A),N=N.add(j),k=G(k,C)}return new H(N,k)}n.A=function(k){return Q(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],w=0;w<R;w++)I[w]=this.i(w)&k.i(w);return new u(I,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],w=0;w<R;w++)I[w]=this.i(w)|k.i(w);return new u(I,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),I=[],w=0;w<R;w++)I[w]=this.i(w)^k.i(w);return new u(I,this.h^k.h)};function D(k){for(var R=k.g.length+1,I=[],w=0;w<R;w++)I[w]=k.i(w)<<1|k.i(w-1)>>>31;return new u(I,k.h)}function z(k,R){var I=R>>5;R%=32;for(var w=k.g.length-I,N=[],j=0;j<w;j++)N[j]=0<R?k.i(j+I)>>>R|k.i(j+I+1)<<32-R:k.i(j+I);return new u(N,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Lw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,Yi=u}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jw,wl,Mw,kc,Ep,Vw,Fw,Uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,E){return c==Array.prototype||c==Object.prototype||(c[g]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var E=i;c=c.split(".");for(var O=0;O<c.length-1;O++){var Y=c[O];if(!(Y in E))break e;E=E[Y]}c=c[c.length-1],O=E[c],g=g(O),g!=O&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var E=0,O=!1,Y={next:function(){if(!O&&E<c.length){var re=E++;return{value:g(re,c[re]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,E){return c.call.apply(c.bind,arguments)}function S(c,g,E){if(!c)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),c.apply(g,Y)}}return function(){return c.apply(g,arguments)}}function A(c,g,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,A.apply(null,arguments)}function V(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),c.apply(this,O)}}function q(c,g){function E(){}E.prototype=g.prototype,c.aa=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(O,Y,re){for(var ye=Array(arguments.length-2),et=2;et<arguments.length;et++)ye[et-2]=arguments[et];return g.prototype[Y].apply(O,ye)}}function L(c){const g=c.length;if(0<g){const E=Array(g);for(let O=0;O<g;O++)E[O]=c[O];return E}return[]}function M(c,g){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(f(O)){const Y=c.length||0,re=O.length||0;c.length=Y+re;for(let ye=0;ye<re;ye++)c[Y+ye]=O[ye]}else c.push(O)}}class G{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function U(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var D=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function z(c,g,E){for(const O in c)g.call(E,c[O],O,c)}function k(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function R(c){const g={};for(const E in c)g[E]=c[E];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,g){let E,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(E in O)c[E]=O[E];for(let re=0;re<I.length;re++)E=I[re],Object.prototype.hasOwnProperty.call(O,E)&&(c[E]=O[E])}}function N(c){var g=1;c=c.split(":");const E=[];for(;0<g&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function j(c){h.setTimeout(()=>{throw c},0)}function C(){var c=B;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,E){const O=pe.get();O.set(g,E),this.h?this.h.next=O:this.g=O,this.h=O}}var pe=new G(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let b,se=!1,B=new X,T=()=>{const c=h.Promise.resolve(void 0);b=()=>{c.then(x)}};var x=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(E){j(E)}var g=pe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,g),h.removeEventListener("test",E,g)}catch{}return c}();function ae(c,g){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,O=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(D){e:{try{Q(g.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(g=null)}}else E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement);this.relatedTarget=g,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}q(ae,ne);var le={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Te=0;function xe(c,g,E,O,Y){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!O,this.ha=Y,this.key=++Te,this.da=this.fa=!1}function Re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,g,E,O,Y){var re=c.toString();c=this.g[re],c||(c=this.g[re]=[],this.h++);var ye=Ue(c,g,O,Y);return-1<ye?(g=c[ye],E||(g.fa=!1)):(g=new xe(g,this.src,re,!!O,Y),g.fa=E,c.push(g)),g};function He(c,g){var E=g.type;if(E in c.g){var O=c.g[E],Y=Array.prototype.indexOf.call(O,g,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(O,Y,1),re&&(Re(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ue(c,g,E,O){for(var Y=0;Y<c.length;++Y){var re=c[Y];if(!re.da&&re.listener==g&&re.capture==!!E&&re.ha==O)return Y}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),qe={};function ct(c,g,E,O,Y){if(Array.isArray(g)){for(var re=0;re<g.length;re++)ct(c,g[re],E,O,Y);return null}return E=ir(E),c&&c[ce]?c.K(g,E,m(O)?!!O.capture:!1,Y):Fe(c,g,E,!1,O,Y)}function Fe(c,g,E,O,Y,re){if(!g)throw Error("Invalid event type");var ye=m(Y)?!!Y.capture:!!Y,et=rr(c);if(et||(c[Me]=et=new $e(c)),E=et.add(g,E,O,ye,re),E.proxy)return E;if(O=dt(),E.proxy=O,O.src=c,O.listener=E,c.addEventListener)ie||(Y=ye),Y===void 0&&(Y=!1),c.addEventListener(g.toString(),O,Y);else if(c.attachEvent)c.attachEvent(yt(g.toString()),O);else if(c.addListener&&c.removeListener)c.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function dt(){function c(E){return g.call(c.src,c.listener,E)}const g=Rn;return c}function ht(c,g,E,O,Y){if(Array.isArray(g))for(var re=0;re<g.length;re++)ht(c,g[re],E,O,Y);else O=m(O)?!!O.capture:!!O,E=ir(E),c&&c[ce]?(c=c.i,g=String(g).toString(),g in c.g&&(re=c.g[g],E=Ue(re,E,O,Y),-1<E&&(Re(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete c.g[g],c.h--)))):c&&(c=rr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ue(g,E,O,Y)),(E=-1<c?g[c]:null)&&it(E))}function it(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ce])He(g.i,c);else{var E=c.type,O=c.proxy;g.removeEventListener?g.removeEventListener(E,O,c.capture):g.detachEvent?g.detachEvent(yt(E),O):g.addListener&&g.removeListener&&g.removeListener(O),(E=rr(g))?(He(E,c),E.h==0&&(E.src=null,g[Me]=null)):Re(c)}}}function yt(c){return c in qe?qe[c]:qe[c]="on"+c}function Rn(c,g){if(c.da)c=!0;else{g=new ae(g,this);var E=c.listener,O=c.ha||c.src;c.fa&&it(c),c=E.call(O,g)}return c}function rr(c){return c=c[Me],c instanceof $e?c:null}var Gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(c){return typeof c=="function"?c:(c[Gr]||(c[Gr]=function(g){return c.handleEvent(g)}),c[Gr])}function Tt(){$.call(this),this.i=new $e(this),this.M=this,this.F=null}q(Tt,$),Tt.prototype[ce]=!0,Tt.prototype.removeEventListener=function(c,g,E,O){ht(this,c,g,E,O)};function tt(c,g){var E,O=c.F;if(O)for(E=[];O;O=O.F)E.push(O);if(c=c.M,O=g.type||g,typeof g=="string")g=new ne(g,c);else if(g instanceof ne)g.target=g.target||c;else{var Y=g;g=new ne(O,c),w(g,Y)}if(Y=!0,E)for(var re=E.length-1;0<=re;re--){var ye=g.g=E[re];Y=ln(ye,O,!0,g)&&Y}if(ye=g.g=c,Y=ln(ye,O,!0,g)&&Y,Y=ln(ye,O,!1,g)&&Y,E)for(re=0;re<E.length;re++)ye=g.g=E[re],Y=ln(ye,O,!1,g)&&Y}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var E=c.g[g],O=0;O<E.length;O++)Re(E[O]);delete c.g[g],c.h--}}this.F=null},Tt.prototype.K=function(c,g,E,O){return this.i.add(String(c),g,!1,E,O)},Tt.prototype.L=function(c,g,E,O){return this.i.add(String(c),g,!0,E,O)};function ln(c,g,E,O){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var Y=!0,re=0;re<g.length;++re){var ye=g[re];if(ye&&!ye.da&&ye.capture==E){var et=ye.listener,Dt=ye.ha||ye.src;ye.fa&&He(c.i,ye),Y=et.call(Dt,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function Ia(c,g,E){if(typeof c=="function")E&&(c=A(c,E));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function yi(c){c.g=Ia(()=>{c.g=null,c.i&&(c.i=!1,yi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class hs extends ${constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){$.call(this),this.h=c,this.g={}}q(fs,$);var ba=[];function xa(c){z(c.g,function(g,E){this.g.hasOwnProperty(E)&&it(g)},c),c.g={}}fs.prototype.N=function(){fs.aa.N.call(this),xa(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=h.JSON.stringify,Ca=h.JSON.parse,Pa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ps(){}ps.prototype.h=null;function lo(c){return c.h||(c.h=c.i())}function uo(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){ne.call(this,"d")}q(br,ne);function co(){ne.call(this,"c")}q(co,ne);var xr={},Ra=null;function ms(){return Ra=Ra||new Tt}xr.La="serverreachability";function Aa(c){ne.call(this,xr.La,c)}q(Aa,ne);function Kr(c){const g=ms();tt(g,new Aa(g))}xr.STAT_EVENT="statevent";function Na(c,g){ne.call(this,xr.STAT_EVENT,c),this.stat=g}q(Na,ne);function St(c){const g=ms();tt(g,new Na(g,c))}xr.Ma="timingevent";function ho(c,g){ne.call(this,xr.Ma,c),this.size=g}q(ho,ne);function sr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function ys(c,g,E,O,Y,re){c.info(function(){if(c.g)if(re)for(var ye="",et=re.split("&"),Dt=0;Dt<et.length;Dt++){var Qe=et[Dt].split("=");if(1<Qe.length){var Vt=Qe[0];Qe=Qe[1];var kt=Vt.split("_");ye=2<=kt.length&&kt[1]=="type"?ye+(Vt+"="+Qe+"&"):ye+(Vt+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+g+`
`+E+`
`+ye})}function fo(c,g,E,O,Y,re,ye){c.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+g+`
`+E+`
`+re+" "+ye})}function or(c,g,E,O){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+sh(c,E)+(O?" "+O:"")})}function Oa(c,g){c.info(function(){return"TIMEOUT: "+g})}gs.prototype.info=function(){};function sh(c,g){if(!c.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var O=E[c];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<Y.length;ye++)Y[ye]=""}}}}return ka(E)}catch{return g}}var po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function vs(){}q(vs,ps),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},ar=new vs;function lr(c,g,E,O){this.j=c,this.i=g,this.l=E,this.R=O||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var Da={},mo={};function go(c,g,E){c.L=1,c.v=Ti(Nn(g)),c.m=E,c.P=!0,La(c,null)}function La(c,g){c.F=Date.now(),ot(c),c.A=Nn(c.v);var E=c.A,O=c.R;Array.isArray(O)||(O=[String(O)]),Ii(E.i,"t",O),c.C=0,E=c.j.J,c.h=new su,c.g=Su(c.j,E?g:null,!c.m),0<c.O&&(c.M=new hs(A(c.Y,c,c.g),c.O)),g=c.U,E=c.g,O=c.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ba[0]=Y.toString()),Y=ba);for(var re=0;re<Y.length;re++){var ye=ct(E,Y[re],O||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Kr(),ys(c.i,c.u,c.A,c.l,c.R,c.m)}lr.prototype.ca=function(c){c=c.target;const g=this.M;g&&vn(c)==3?g.j():this.Y(c)},lr.prototype.Y=function(c){try{if(c==this.g)e:{const kt=vn(this.g);var g=this.g.Ba();const Gn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||za(this.g)))){this.J||kt!=4||g==7||(g==8||0>=Gn?Kr(3):Kr(2)),_s(this);var E=this.g.Z();this.X=E;t:if(ou(this)){var O=za(this.g);c="";var Y=O.length,re=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),vi(this);var ye="";break t}this.h.i=new h.TextDecoder}for(g=0;g<Y;g++)this.h.h=!0,c+=this.h.i.decode(O[g],{stream:!(re&&g==Y-1)});O.length=0,this.h.g+=c,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,fo(this.i,this.u,this.A,this.l,this.R,kt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Dt=this.g;if((et=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(et)){var Qe=et;break t}}Qe=null}if(E=Qe)or(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,E);else{this.o=!1,this.s=3,St(12),Hn(this),vi(this);break e}}if(this.P){E=!0;let Dn;for(;!this.J&&this.C<ye.length;)if(Dn=oh(this,ye),Dn==mo){kt==4&&(this.s=4,St(14),E=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Da){this.s=4,St(15),or(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else or(this.i,this.l,Dn,null),ja(this,Dn);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ye.length!=0||this.h.h||(this.s=1,St(16),E=!1),this.o=this.o&&E,!E)or(this.i,this.l,ye,"[Invalid Chunked Response]"),Hn(this),vi(this);else if(0<ye.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ba(Vt),Vt.M=!0,St(11))}}else or(this.i,this.l,ye,null),ja(this,ye);kt==4&&Hn(this),this.o&&!this.J&&(kt==4?ko(this.j,this):(this.o=!1,ot(this)))}else To(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Hn(this),vi(this)}}}catch{}finally{}};function ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function oh(c,g){var E=c.C,O=g.indexOf(`
`,E);return O==-1?mo:(E=Number(g.substring(E,O)),isNaN(E)?Da:(O+=1,O+E>g.length?mo:(g=g.slice(O,O+E),c.C=O+E,g)))}lr.prototype.cancel=function(){this.J=!0,Hn(this)};function ot(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sr(A(c.ba,c),g)}function _s(c){c.B&&(h.clearTimeout(c.B),c.B=null)}lr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Oa(this.i,this.A),this.L!=2&&(Kr(),St(17)),Hn(this),this.s=2,vi(this)):au(this,this.S-c)};function vi(c){c.j.G==0||c.J||ko(c.j,c)}function Hn(c){_s(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,xa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ja(c,g){try{var E=c.j;if(E.G!=0&&(E.g==c||un(E.h,c))){if(!c.K&&un(E.h,c)&&E.G==3){try{var O=E.Da.g.parse(g)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)xo(E),fr(E);else break e;bo(E),St(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=sr(A(E.Za,E),6e3));if(1>=uu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zr(E,11)}else if((c.K||E.g==c)&&xo(E),!U(g))for(Y=E.Da.g.parse(g),g=0;g<Y.length;g++){let Qe=Y[g];if(E.T=Qe[0],Qe=Qe[1],E.G==2)if(Qe[0]=="c"){E.K=Qe[1],E.ia=Qe[2];const Vt=Qe[3];Vt!=null&&(E.la=Vt,E.j.info("VER="+E.la));const kt=Qe[4];kt!=null&&(E.Aa=kt,E.j.info("SVER="+E.Aa));const Gn=Qe[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(O=1.5*Gn,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Dn=c.g;if(Dn){const xs=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var re=O.h;re.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Ma(re,re.h),re.h=null))}if(O.D){const Po=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(O.ya=Po,st(O.I,O.D,Po))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var ye=c;if(O.qa=Tu(O,O.J?O.ia:null,O.W),ye.K){cu(O.h,ye);var et=ye,Dt=O.L;Dt&&(et.I=Dt),et.B&&(_s(et),ot(et)),O.g=ye}else bs(O);0<E.i.length&&Rr(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Zr(E,7);else E.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Zr(E,7):Ht(E):Qe[0]!="noop"&&E.l&&E.l.ta(Qe),E.v=0)}}Kr(4)}catch{}}var lu=class{constructor(c,g){this.g=c,this.map=g}};function ws(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uu(c){return c.h?1:c.g?c.g.size:0}function un(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ma(c,g){c.g?c.g.add(g):c.h=g}function cu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ws.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function du(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.D);return g}return L(c.i)}function yo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],E=c.length,O=0;O<E;O++)g.push(c[O]);return g}g=[],E=0;for(O in c)g[E++]=c[O];return g}function vo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var E=0;E<c;E++)g.push(E);return g}g=[],E=0;for(const O in c)g[E++]=O;return g}}}function _i(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var E=vo(c),O=yo(c),Y=O.length,re=0;re<Y;re++)g.call(void 0,O[re],E&&E[re],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ah(c,g){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var O=c[E].indexOf("="),Y=null;if(0<=O){var re=c[E].substring(0,O);Y=c[E].substring(O+1)}else re=c[E];g(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qr){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var g=c.i,E=new kr;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Ei(this,E),this.m=c.m}else c&&(g=String(c).match(Es))?(this.h=!1,Ts(this,g[1]||"",!0),this.o=Ke(g[2]||""),this.g=Ke(g[3]||"",!0),wi(this,g[4]),this.l=Ke(g[5]||"",!0),Ei(this,g[6]||"",!0),this.m=Ke(g[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}Qr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Si(g,_o,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Si(g,_o,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Si(E,E.charAt(0)=="/"?pu:fu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Si(E,Va)),c.join("")};function Nn(c){return new Qr(c)}function Ts(c,g,E){c.j=E?Ke(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ei(c,g,E){g instanceof kr?(c.i=g,Cr(c.i,c.h)):(E||(g=Si(g,mu)),c.i=new kr(g,c.h))}function st(c,g,E){c.i.set(g,E)}function Ti(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ke(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,hu),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _o=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,Va=/#/g;function kr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function qt(c){c.g||(c.g=new Map,c.h=0,c.i&&ah(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=kr.prototype,n.add=function(c,g){qt(this),this.i=null,c=Wn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function ur(c,g){qt(c),g=Wn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function cr(c,g){return qt(c),g=Wn(c,g),c.g.has(g)}n.forEach=function(c,g){qt(this),this.g.forEach(function(E,O){E.forEach(function(Y){c.call(g,Y,O,this)},this)},this)},n.na=function(){qt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let O=0;O<g.length;O++){const Y=c[O];for(let re=0;re<Y.length;re++)E.push(g[O])}return E},n.V=function(c){qt(this);let g=[];if(typeof c=="string")cr(this,c)&&(g=g.concat(this.g.get(Wn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)g=g.concat(c[E])}return g},n.set=function(c,g){return qt(this),this.i=null,c=Wn(this,c),cr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ii(c,g,E){ur(c,g),0<E.length&&(c.i=null,c.g.set(Wn(c,g),L(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var O=g[E];const re=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var Y=re;ye[O]!==""&&(Y+="="+encodeURIComponent(String(ye[O]))),c.push(Y)}}return this.i=c.join("&")};function Wn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Cr(c,g){g&&!c.j&&(qt(c),c.i=null,c.g.forEach(function(E,O){var Y=O.toLowerCase();O!=Y&&(ur(this,O),Ii(this,Y,E))},c)),c.j=g}function lh(c,g){const E=new gs;if(h.Image){const O=new Image;O.onload=V(yn,E,"TestLoadImage: loaded",!0,g,O),O.onerror=V(yn,E,"TestLoadImage: error",!1,g,O),O.onabort=V(yn,E,"TestLoadImage: abort",!1,g,O),O.ontimeout=V(yn,E,"TestLoadImage: timeout",!1,g,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=c}else g(!1)}function gu(c,g){const E=new gs,O=new AbortController,Y=setTimeout(()=>{O.abort(),yn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:O.signal}).then(re=>{clearTimeout(Y),re.ok?yn(E,"TestPingServer: ok",!0,g):yn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Y),yn(E,"TestPingServer: error",!1,g)})}function yn(c,g,E,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(E)}catch{}}function uh(){this.g=new Pa}function yu(c,g,E){const O=E||"";try{_i(c,function(Y,re){let ye=Y;m(Y)&&(ye=ka(Y)),g.push(O+re+"="+encodeURIComponent(ye))})}catch(Y){throw g.push(O+"type="+encodeURIComponent("_badmap")),Y}}function Yr(c){this.l=c.Ub||null,this.j=c.eb||!1}q(Yr,ps),Yr.prototype.g=function(){return new Ss(this.l,this.j)},Yr.prototype.i=function(c){return function(){return c}}({});function Ss(c,g){Tt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Ss,Tt),n=Ss.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,hr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?dr(this):hr(this),this.readyState==3&&vu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,dr(this))},n.Qa=function(c){this.g&&(this.response=c,dr(this))},n.ga=function(){this.g&&dr(this)};function dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xr(c){let g="";return z(c,function(E,O){g+=O,g+=":",g+=E,g+=`\r
`}),g}function bi(c,g,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=Xr(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):st(c,g,E))}function mt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(mt,Tt);var ch=/^https?$/i,Fa=["POST","PUT"];n=mt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?lo(this.o):lo(ar),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(re){Is(this,re);return}if(c=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)E.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const re of O.keys())E.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Fa,g,void 0))||O||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of E)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(c),this.u=!1}catch(re){Is(this,re)}};function Is(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,wo(c),On(c)}function wo(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(c){if(c.h&&typeof u<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)Ia(c.Ea,0,c);else if(tt(c,"readystatechange"),vn(c)==4){c.h=!1;try{const ye=c.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var O;if(O=ye===0){var Y=String(c.D).match(Es)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),O=!ch.test(Y?Y.toLowerCase():"")}E=O}if(E)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var re=2<vn(c)?c.g.statusText:""}catch{re=""}c.l=re+" ["+c.Z()+"]",wo(c)}}finally{On(c)}}}}function On(c,g){if(c.g){Eo(c);const E=c.g,O=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||tt(c,"ready");try{E.onreadystatechange=O}catch{}}}function Eo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ca(g)}};function za(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function To(c){const g={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<c.length;O++){if(U(c[O]))continue;var E=N(c[O]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=g[Y]||[];g[Y]=re,re.push(E)}k(g,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function $a(c){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,c),this.cb=Pr("retryDelaySeedMs",1e4,c),this.Wa=Pr("forwardChannelMaxRetries",2,c),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(c&&c.concurrentRequestLimit),this.Da=new uh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(c,g,E,O){St(0),this.W=c,this.H=g||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Tu(this,null,this.W),Rr(this)};function Ht(c){if(So(c),c.G==3){var g=c.U++,E=Nn(c.I);if(st(E,"SID",c.K),st(E,"RID",g),st(E,"TYPE","terminate"),Jr(c,E),g=new lr(c,c.j,g),g.L=2,g.v=Ti(Nn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=g.v,E=!0),E||(g.g=Su(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}Eu(c)}function fr(c){c.g&&(Ba(c),c.g.cancel(),c.g=null)}function So(c){fr(c),c.u&&(h.clearTimeout(c.u),c.u=null),xo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Rr(c){if(!An(c.h)&&!c.s){c.s=!0;var g=c.Ga;b||T(),se||(b(),se=!0),B.add(g,c),c.B=0}}function dh(c,g){return uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sr(A(c.Ga,c,g),wu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Y=new lr(this,this.j,c);let re=this.o;if(this.S&&(re?(re=R(re),w(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(g+=O,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=xi(this,Y,g),E=Nn(this.I),st(E,"RID",c),st(E,"CVER",22),this.D&&st(E,"X-HTTP-Session-Id",this.D),Jr(this,E),re&&(this.O?g="headers="+encodeURIComponent(String(Xr(re)))+"&"+g:this.m&&bi(E,this.m,re)),Ma(this.h,Y),this.Ua&&st(E,"TYPE","init"),this.P?(st(E,"$req",g),st(E,"SID","null"),Y.T=!0,go(Y,E,null)):go(Y,E,g),this.G=2}}else this.G==3&&(c?Io(this,c):this.i.length==0||An(this.h)||Io(this))};function Io(c,g){var E;g?E=g.l:E=c.U++;const O=Nn(c.I);st(O,"SID",c.K),st(O,"RID",E),st(O,"AID",c.T),Jr(c,O),c.m&&c.o&&bi(O,c.m,c.o),E=new lr(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),g&&(c.i=g.D.concat(c.i)),g=xi(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ma(c.h,E),go(E,O,g)}function Jr(c,g){c.H&&z(c.H,function(E,O){st(g,O,E)}),c.l&&_i({},function(E,O){st(g,O,E)})}function xi(c,g,E){E=Math.min(c.i.length,E);var O=c.l?A(c.l.Na,c.l,c):null;e:{var Y=c.i;let re=-1;for(;;){const ye=["count="+E];re==-1?0<E?(re=Y[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let et=!0;for(let Dt=0;Dt<E;Dt++){let Qe=Y[Dt].g;const Vt=Y[Dt].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[Dt].g-100),et=!1;else try{yu(Vt,ye,"req"+Qe+"_")}catch{O&&O(Vt)}}if(et){O=ye.join("&");break e}}}return c=c.i.splice(0,E),g.D=c,O}function bs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;b||T(),se||(b(),se=!0),B.add(g,c),c.v=0}}function bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sr(A(c.Fa,c),wu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sr(A(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),fr(this),_u(this))};function Ba(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new lr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Nn(c.qa);st(g,"RID","rpc"),st(g,"SID",c.K),st(g,"AID",c.T),st(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(g,"TO",c.ja),st(g,"TYPE","xmlhttp"),Jr(c,g),c.m&&c.o&&bi(g,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ti(Nn(g)),E.m=null,E.P=!0,La(E,c)}n.Za=function(){this.C!=null&&(this.C=null,fr(this),bo(this),St(19))};function xo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ko(c,g){var E=null;if(c.g==g){xo(c),Ba(c),c.g=null;var O=2}else if(un(c.h,g))E=g.D,cu(c.h,g),O=1;else return;if(c.G!=0){if(g.o)if(O==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var Y=c.B;O=ms(),tt(O,new ho(O,E)),Rr(c)}else bs(c);else if(Y=g.s,Y==3||Y==0&&0<g.X||!(O==1&&dh(c,g)||O==2&&bo(c)))switch(E&&0<E.length&&(g=c.h,g.i=g.i.concat(E)),Y){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function wu(c,g){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*g}function Zr(c,g){if(c.j.info("Error code "+g),g==2){var E=A(c.fb,c),O=c.Xa;const Y=!O;O=new Qr(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ts(O,"https"),Ti(O),Y?lh(O.toString(),E):gu(O.toString(),E)}else St(2);c.G=0,c.l&&c.l.sa(g),Eu(c),So(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const g=du(c.h);(g.length!=0||c.i.length!=0)&&(M(c.ka,g),M(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Tu(c,g,E){var O=E instanceof Qr?Nn(E):new Qr(E);if(O.g!="")g&&(O.g=g+"."+O.g),wi(O,O.s);else{var Y=h.location;O=Y.protocol,g=g?g+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new Qr(null);O&&Ts(re,O),g&&(re.g=g),Y&&wi(re,Y),E&&(re.l=E),O=re}return E=c.D,g=c.ya,E&&g&&st(O,E,g),st(O,"VER",c.la),Jr(c,O),O}function Su(c,g,E){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new mt(new Yr({eb:E})):new mt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Co(){}Co.prototype.g=function(c,g){return new cn(c,g)};function cn(c,g){Tt.call(this),this.g=new $a(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!U(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!U(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ar(this)}q(cn,Tt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ht(this.g)},cn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=ka(c),c=E);g.i.push(new lu(g.Ya++,c)),g.G==3&&Rr(g)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,cn.aa.N.call(this)};function Iu(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}q(Iu,br);function bu(){co.call(this),this.status=1}q(bu,co);function Ar(c){this.g=c}q(Ar,qa),Ar.prototype.ua=function(){tt(this.g,"a")},Ar.prototype.ta=function(c){tt(this.g,new Iu(c))},Ar.prototype.sa=function(c){tt(this.g,new bu)},Ar.prototype.ra=function(){tt(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Uw=function(){return new Co},Fw=function(){return ms()},Vw=xr,Ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,kc=po,iu.COMPLETE="complete",Mw=iu,uo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,wl=uo,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,jw=mt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",h_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Pd("@firebase/firestore");function Yo(){return Ws.logLevel}function Ee(n,...e){if(Ws.logLevel<=We.DEBUG){const t=e.map(im);Ws.debug(`Firestore (${ya}): ${n}`,...t)}}function hi(n,...e){if(Ws.logLevel<=We.ERROR){const t=e.map(im);Ws.error(`Firestore (${ya}): ${n}`,...t)}}function oa(n,...e){if(Ws.logLevel<=We.WARN){const t=e.map(im);Ws.warn(`Firestore (${ya}): ${n}`,...t)}}function im(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Ze(n,e){n||De()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class gC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new zw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new nn(e)}}class vC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _C{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new vC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wC{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new f_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new f_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=EC(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Tp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return ze(i,o);{const a=$w(),u=TC(a.encode(p_(n,t)),a.encode(p_(e,t)));return u!==0?u:ze(i,o)}}t+=i>65535?2:1}return ze(n.length,e.length)}function p_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function TC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function aa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,g_=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*g_);return new xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<m_)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new xt(0,0))}static max(){return new je(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class jr{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=jr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return ze(e.length,t.length)}static compareSegments(e,t){const i=jr.isNumericId(e),o=jr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?jr.extractNumericId(e).compare(jr.extractNumericId(t)):Tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class lt extends jr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const SC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends jr{construct(e,t,i){return new Qt(e,t,i)}static isValidIdentifier(e){return SC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Qt([y_])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(lt.fromString(e))}static fromName(e){return new Pe(lt.fromString(e).popFirst(5))}static empty(){return new Pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function IC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=je.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new ts(o,Pe.empty(),e)}function bC(n){return new ts(n.readTime,n.key,Nl)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(je.min(),Pe.empty(),Nl)}static max(){return new ts(je.max(),Pe.empty(),Nl)}}function xC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==kC)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(o=>o?ue.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(_=>{u[m]=_,++h,h===a&&i(u)},_=>o(_))}})}static doWhile(e,t){return new ue((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function PC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=-1;function Ad(n){return n==null}function Zc(n){return n===0&&1/n==-1/0}function RC(n){return typeof n=="number"&&Number.isInteger(n)&&!Zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="";function AC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=v_(e)),e=NC(n.get(t),e);return v_(e)}function NC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case qw:t+="";break;default:t+=a}}return t}function v_(n){return n+qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Kt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Mt(Qt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ww("Invalid base64 string: "+a):a}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=OC.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Yt.fromBase64String(n):Yt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="server_timestamp",Kw="__type__",Qw="__previous_value__",Yw="__local_write_time__";function Nd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||t===void 0?void 0:t.stringValue)===Gw}function Od(n){const e=n.mapValue.fields[Qw];return Nd(e)?Od(e):e}function Ol(n){const e=ns(n.mapValue.fields[Yw].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,i,o,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const ed="(default)";class Dl{constructor(e,t){this.projectId=e,this.database=t||ed}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="__type__",LC="__max__",Ec={mapValue:{}},Jw="__vector__",td="value";function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nd(n)?4:MC(n)?9007199254740991:jC(n)?10:11:De()}function $r(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ns(o.timestampValue),h=ns(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return bt(o.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return bt(o.integerValue)===bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=bt(o.doubleValue),h=bt(a.doubleValue);return u===h?Zc(u)===Zc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return aa(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(__(u)!==__(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!$r(u[f],h[f])))return!1;return!0}(n,e);default:return De()}}function Ll(n,e){return(n.values||[]).find(t=>$r(t,e))!==void 0}function la(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=bt(a.integerValue||a.doubleValue),f=bt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return E_(n.timestampValue,e.timestampValue);case 4:return E_(Ol(n),Ol(e));case 5:return Tp(n.stringValue,e.stringValue);case 6:return function(a,u){const h=rs(a),f=rs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=ze(h[m],f[m]);if(_!==0)return _}return ze(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=ze(bt(a.latitude),bt(u.latitude));return h!==0?h:ze(bt(a.longitude),bt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return T_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,_;const S=a.fields||{},A=u.fields||{},V=(h=S[td])===null||h===void 0?void 0:h.arrayValue,q=(f=A[td])===null||f===void 0?void 0:f.arrayValue,L=ze(((m=V==null?void 0:V.values)===null||m===void 0?void 0:m.length)||0,((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0);return L!==0?L:T_(V,q)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Ec.mapValue&&u===Ec.mapValue)return 0;if(a===Ec.mapValue)return 1;if(u===Ec.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let S=0;S<f.length&&S<_.length;++S){const A=Tp(f[S],_[S]);if(A!==0)return A;const V=la(h[f[S]],m[_[S]]);if(V!==0)return V}return ze(f.length,_.length)}(n.mapValue,e.mapValue);default:throw De()}}function E_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=ns(n),i=ns(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function T_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=la(t[o],i[o]);if(a)return a}return ze(t.length,i.length)}function ua(n){return Sp(n)}function Sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Sp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Sp(t.fields[u])}`;return o+"}"}(n.mapValue):De()}function Cc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Od(n);return e?16+Cc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Cc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ls(i.fields,(a,u)=>{o+=a.length+Cc(u)}),o}(n.mapValue);default:throw De()}}function nd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ip(n){return!!n&&"integerValue"in n}function om(n){return!!n&&"arrayValue"in n}function S_(n){return!!n&&"nullValue"in n}function I_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pc(n){return!!n&&"mapValue"in n}function jC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xw])===null||t===void 0?void 0:t.stringValue)===Jw}function Il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ls(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Il(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(t)}setAll(e){let t=Qt.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=Il(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ls(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new kn(Il(this.value))}}function Zw(n){const e=[];return ls(n.fields,(t,i)=>{const o=new Qt([t]);if(Pc(i)){const a=Zw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,i,o,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new rn(e,0,je.min(),je.min(),je.min(),kn.empty(),0)}static newFoundDocument(e,t,i,o){return new rn(e,1,t,je.min(),i,o,0)}static newNoDocument(e,t){return new rn(e,2,t,je.min(),je.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,je.min(),je.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.position=e,this.inclusive=t}}function b_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Pe.comparator(Pe.fromName(u.referenceValue),t.key):i=la(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function x_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t="asc"){this.field=e,this.dir=t}}function VC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{}class At extends eE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new UC(e,t,i):t==="array-contains"?new BC(e,i):t==="in"?new qC(e,i):t==="not-in"?new HC(e,i):t==="array-contains-any"?new WC(e,i):new At(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new zC(e,i):new $C(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(la(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends eE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Sr(e,t)}matches(e){return tE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function tE(n){return n.op==="and"}function nE(n){return FC(n)&&tE(n)}function FC(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function bp(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(nE(n))return n.filters.map(e=>bp(e)).join(",");{const e=n.filters.map(t=>bp(t)).join(",");return`${n.op}(${e})`}}function rE(n,e){return n instanceof At?function(i,o){return o instanceof At&&i.op===o.op&&i.field.isEqual(o.field)&&$r(i.value,o.value)}(n,e):n instanceof Sr?function(i,o){return o instanceof Sr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&rE(u,o.filters[h]),!0):!1}(n,e):void De()}function iE(n){return n instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(iE).join(" ,")+"}"}(n):"Filter"}class UC extends At{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class zC extends At{constructor(e,t){super(e,"in",t),this.keys=sE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $C extends At{constructor(e,t){super(e,"not-in",t),this.keys=sE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class BC extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return om(t)&&Ll(t.arrayValue,this.value)}}class qC extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class HC extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ll(this.value.arrayValue,t)}}class WC extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!om(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,t=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function k_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new GC(n,e,t,i,o,a,u)}function am(n){const e=Ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>bp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ua(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ua(i)).join(",")),e.le=t}return e.le}function lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x_(n.startAt,e.startAt)&&x_(n.endAt,e.endAt)}function xp(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function KC(n,e,t,i,o,a,u,h){return new us(n,e,t,i,o,a,u,h)}function Dd(n){return new us(n)}function C_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function um(n){return n.collectionGroup!==null}function ea(n){const e=Ve(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Mt(Qt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new jl(a,i))}),t.has(Qt.keyField().canonicalString())||e.he.push(new jl(Qt.keyField(),i))}return e.he}function Vr(n){const e=Ve(n);return e.Pe||(e.Pe=QC(e,ea(n))),e.Pe}function QC(n,e){if(n.limitType==="F")return k_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new jl(o.field,a)});const t=n.endAt?new ca(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ca(n.startAt.position,n.startAt.inclusive):null;return k_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function kp(n,e){const t=n.filters.concat([e]);return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rd(n,e,t){return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ld(n,e){return lm(Vr(n),Vr(e))&&n.limitType===e.limitType}function oE(n){return`${am(Vr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>iE(o)).join(", ")}]`),Ad(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ua(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ua(o)).join(",")),`Target(${i})`}(Vr(n))}; limitType=${n.limitType})`}function jd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Pe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of ea(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const m=b_(u,h,f);return u.inclusive?m<=0:m<0}(i.startAt,ea(i),o)||i.endAt&&!function(u,h,f){const m=b_(u,h,f);return u.inclusive?m>=0:m>0}(i.endAt,ea(i),o))}(n,e)}function YC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aE(n){return(e,t)=>{let i=!1;for(const o of ea(n)){const a=XC(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function XC(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?la(f,m):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new wt(Pe.comparator);function fi(){return JC}const lE=new wt(Pe.comparator);function El(...n){let e=lE;for(const t of n)e=e.insert(t.key,t);return e}function uE(n){let e=lE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function $s(){return bl()}function cE(){return bl()}function bl(){return new ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZC=new wt(Pe.comparator),e1=new Mt(Pe.comparator);function Ge(...n){let e=e1;for(const t of n)e=e.add(t);return e}const t1=new Mt(ze);function n1(){return t1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function dE(n){return{integerValue:""+n}}function r1(n,e){return RC(e)?dE(e):cm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function i1(n,e,t){return n instanceof id?function(o,a){const u={fields:{[Kw]:{stringValue:Gw},[Yw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Nd(a)&&(a=Od(a)),a&&(u.fields[Qw]=a),{mapValue:u}}(t,e):n instanceof Ml?fE(n,e):n instanceof Vl?pE(n,e):function(o,a){const u=hE(o,a),h=P_(u)+P_(o.Ie);return Ip(u)&&Ip(o.Ie)?dE(h):cm(o.serializer,h)}(n,e)}function s1(n,e,t){return n instanceof Ml?fE(n,e):n instanceof Vl?pE(n,e):t}function hE(n,e){return n instanceof sd?function(i){return Ip(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class id extends Md{}class Ml extends Md{constructor(e){super(),this.elements=e}}function fE(n,e){const t=mE(e);for(const i of n.elements)t.some(o=>$r(o,i))||t.push(i);return{arrayValue:{values:t}}}class Vl extends Md{constructor(e){super(),this.elements=e}}function pE(n,e){let t=mE(e);for(const i of n.elements)t=t.filter(o=>!$r(o,i));return{arrayValue:{values:t}}}class sd extends Md{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function P_(n){return bt(n.integerValue||n.doubleValue)}function mE(n){return om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function o1(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ml&&o instanceof Ml||i instanceof Vl&&o instanceof Vl?aa(i.elements,o.elements,$r):i instanceof sd&&o instanceof sd?$r(i.Ie,o.Ie):i instanceof id&&o instanceof id}(n.transform,e.transform)}class a1{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vd{}function gE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dm(n.key,Er.none()):new Gl(n.key,n.data,Er.none());{const t=n.data,i=kn.empty();let o=new Mt(Qt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new cs(n.key,i,new Fn(o.toArray()),Er.none())}}function l1(n,e,t){n instanceof Gl?function(o,a,u){const h=o.value.clone(),f=A_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(o,a,u){if(!Rc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=A_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(yE(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function xl(n,e,t,i){return n instanceof Gl?function(a,u,h,f){if(!Rc(a.precondition,u))return h;const m=a.value.clone(),_=N_(a.fieldTransforms,f,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof cs?function(a,u,h,f){if(!Rc(a.precondition,u))return h;const m=N_(a.fieldTransforms,f,u),_=u.data;return _.setAll(yE(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(a,u,h){return Rc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function u1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=hE(i.transform,o||null);a!=null&&(t===null&&(t=kn.empty()),t.set(i.field,a))}return t||null}function R_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&aa(i,o,(a,u)=>o1(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends Vd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Vd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function A_(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,s1(u,h,t[o]))}return i}function N_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,i1(a,u,e))}return i}class dm extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c1 extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&l1(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=cE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=gE(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(je.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(t,i)=>R_(t,i))&&aa(this.baseMutations,e.baseMutations,(t,i)=>R_(t,i))}}class hm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return ZC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new hm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ye;function p1(n){switch(n){case oe.OK:return De();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De()}}function vE(n){if(n===void 0)return hi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Pt.OK:return oe.OK;case Pt.CANCELLED:return oe.CANCELLED;case Pt.UNKNOWN:return oe.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return oe.INTERNAL;case Pt.UNAVAILABLE:return oe.UNAVAILABLE;case Pt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Pt.NOT_FOUND:return oe.NOT_FOUND;case Pt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Pt.ABORTED:return oe.ABORTED;case Pt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Pt.DATA_LOSS:return oe.DATA_LOSS;default:return De()}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Yi([4294967295,4294967295],0);function O_(n){const e=$w().encode(n),t=new Lw;return t.update(e),new Uint8Array(t.digest())}function D_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yi([t,i],0),new Yi([o,a],0)]}class fm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Tl(`Invalid padding: ${t}`);if(i<0)throw new Tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Yi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Yi.fromNumber(i)));return o.compare(m1)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=O_(e),[i,o]=D_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new fm(a,o,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=O_(e),[i,o]=D_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Fd(je.min(),o,new wt(ze),fi(),Ge())}}class Kl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Kl(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class _E{constructor(e,t){this.targetId=e,this.ge=t}}class wE{constructor(e,t,i=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class L_{constructor(){this.pe=0,this.ye=j_(),this.we=Yt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ge(),t=Ge(),i=Ge();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new Kl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=j_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class g1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fi(),this.$e=Tc(),this.Ue=Tc(),this.Ke=new wt(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(xp(a))if(i===0){const u=new Pe(a.path);this.ze(t,u,rn.newNoDocument(u,je.min()))}else Ze(i===1);else{const u=this.et(t);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=rs(i).toUint8Array()}catch(f){if(f instanceof Ww)return oa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new fm(u,o,a)}catch(f){return oa(f instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&xp(h.target)){const f=new Pe(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,rn.newNoDocument(f,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let i=Ge();this.Ue.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Fd(e,t,this.Ke,this.Qe,i);return this.Qe=fi(),this.$e=Tc(),this.Ue=Tc(),this.Ke=new wt(ze),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new L_,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mt(ze),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new L_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Tc(){return new wt(Pe.comparator)}function j_(){return new wt(Pe.comparator)}const y1={asc:"ASCENDING",desc:"DESCENDING"},v1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_1={and:"AND",or:"OR"};class w1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cp(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function od(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function E1(n,e){return od(n,e.toTimestamp())}function Fr(n){return Ze(!!n),je.fromTimestamp(function(t){const i=ns(t);return new xt(i.seconds,i.nanos)}(n))}function pm(n,e){return Pp(n,e).canonicalString()}function Pp(n,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TE(n){const e=lt.fromString(n);return Ze(kE(e)),e}function Rp(n,e){return pm(n.databaseId,e.path)}function np(n,e){const t=TE(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(IE(t))}function SE(n,e){return pm(n.databaseId,e)}function T1(n){const e=TE(n);return e.length===4?lt.emptyPath():IE(e)}function Ap(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IE(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function M_(n,e,t){return{name:Rp(n,e),fields:t.value.mapValue.fields}}function S1(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(Ze(_===void 0||typeof _=="string"),Yt.fromBase64String(_||"")):(Ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Yt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const _=m.code===void 0?oe.UNKNOWN:vE(m.code);return new ve(_,m.message||"")}(u);t=new wE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=np(n,i.document.name),a=Fr(i.document.updateTime),u=i.document.createTime?Fr(i.document.createTime):je.min(),h=new kn({mapValue:{fields:i.document.fields}}),f=rn.newFoundDocument(o,a,u,h),m=i.targetIds||[],_=i.removedTargetIds||[];t=new Ac(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=np(n,i.document),a=i.readTime?Fr(i.readTime):je.min(),u=rn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Ac([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=np(n,i.document),a=i.removedTargetIds||[];t=new Ac([],a,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new f1(o,a),h=i.targetId;t=new _E(h,u)}}return t}function I1(n,e){let t;if(e instanceof Gl)t={update:M_(n,e.key,e.value)};else if(e instanceof dm)t={delete:Rp(n,e.key)};else if(e instanceof cs)t={update:M_(n,e.key,e.data),updateMask:O1(e.fieldMask)};else{if(!(e instanceof c1))return De();t={verify:Rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sd)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:E1(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De()}(n,e.precondition)),t}function b1(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Fr(o.updateTime):Fr(a);return u.isEqual(je.min())&&(u=Fr(a)),new a1(u,o.transformResults||[])}(t,e))):[]}function x1(n,e){return{documents:[SE(n,e.path)]}}function k1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=SE(n,o);const a=function(m){if(m.length!==0)return xE(Sr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(_=>function(A){return{field:Jo(A.field),direction:R1(A.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Cp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function C1(n){let e=T1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(S){const A=bE(S);return A instanceof Sr&&nE(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=function(S){return S.map(A=>function(q){return new jl(Zo(q.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(A))}(t.orderBy));let h=null;t.limit&&(h=function(S){let A;return A=typeof S=="object"?S.value:S,Ad(A)?null:A}(t.limit));let f=null;t.startAt&&(f=function(S){const A=!!S.before,V=S.values||[];return new ca(V,A)}(t.startAt));let m=null;return t.endAt&&(m=function(S){const A=!S.before,V=S.values||[];return new ca(V,A)}(t.endAt)),KC(e,o,u,a,h,"F",f,m)}function P1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zo(t.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(t.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return At.create(Zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(i=>bE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function R1(n){return y1[n]}function A1(n){return v1[n]}function N1(n){return _1[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return Qt.fromServerFormat(n.fieldPath)}function xE(n){return n instanceof At?function(t){if(t.op==="=="){if(I_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(S_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(I_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(S_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:A1(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const i=t.getFilters().map(o=>xE(o));return i.length===1?i[0]:{compositeFilter:{op:N1(t.op),filters:i}}}(n):De()}function O1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,i,o,a=je.min(),u=je.min(),h=Yt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.Tt=e}}function L1(n){const e=C1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.Tn=new M1}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ts.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class M1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Mt(lt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(CE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new da(0)}static Kn(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LruGarbageCollector",V1=1048576;function U_([n,e],[t,i]){const o=ze(n,t);return o===0?ze(e,i):o}class F1{constructor(e){this.Hn=e,this.buffer=new Mt(U_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();U_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(F_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_a(t)?Ee(F_,"Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.er(3e5)})}}class z1{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Rd.ae);const i=new F1(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(V_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,u,h,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(m=Date.now(),Yo()<=We.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${S} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:S})))}}function $1(n,e){return new z1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&xl(i.mutation,o,Fn.empty(),xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const o=$s();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=El();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=$s();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,o){let a=fi();const u=bl(),h=function(){return bl()}();return t.forEach((f,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof cs)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),xl(_.mutation,m,_.mutation.getFieldMask(),xt.now())):u.set(m.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var S;return h.set(m,new q1(_,(S=u.get(m))!==null&&S!==void 0?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=bl();let o=new wt((u,h)=>u-h),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=i.get(f)||Fn.empty();_=h.applyToLocalView(m,_),i.set(f,_);const S=(o.get(h.batchId)||Ge()).add(f);o=o.insert(h.batchId,S)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,S=cE();_.forEach(A=>{if(!a.has(A)){const V=gE(t.get(A),i.get(A));V!==null&&S.set(A,V),a=a.add(A)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,S))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):um(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ue.resolve($s());let h=Nl,f=a;return u.next(m=>ue.forEach(m,(_,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(_)?ue.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{f=f.insert(_,A)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ge())).next(_=>({batchId:h,changes:uE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(i=>{let o=El();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=El();return this.indexManager.getCollectionParents(e,a).next(h=>ue.forEach(h,f=>{const m=function(S,A){return new us(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(_=>{_.forEach((S,A)=>{u=u.insert(S,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,rn.newInvalidDocument(_)))});let h=El();return u.forEach((f,m)=>{const _=a.get(f);_!==void 0&&xl(_.mutation,m,Fn.empty(),xt.now()),jd(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Fr(o.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:L1(o.bundledQuery),readTime:Fr(o.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.overlays=new wt(Pe.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=$s();return ue.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const o=$s(),a=t.length+1,u=new Pe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new wt((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=a.get(m.largestBatchId);_===null&&(_=$s(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=$s(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=o)););return ue.resolve(h)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new h1(t,i));let a=this.Rr.get(t);a===void 0&&(a=Ge(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.Vr=new Mt($t.mr),this.gr=new Mt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new $t(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new $t(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Pe(new lt([])),i=new $t(t,e),o=new $t(t,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Pe(new lt([])),i=new $t(t,e),o=new $t(t,e+1);let a=Ge();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new $t(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Pe.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt($t.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new d1(a,t,i,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new $t(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?sm:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),o=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const h=this.Or(u.Cr);a.push(h)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(ze);return t.forEach(o=>{const a=new $t(o,0),u=new $t(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{i=i.add(h.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Pe.isDocumentKey(a)||(a=a.child(""));const u=new $t(new Pe(a),0);let h=new Mt(ze);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Cr)),!0)},u),ue.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,o=>{const a=new $t(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new $t(t,0),o=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.kr=e,this.docs=function(){return new wt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():rn.newInvalidDocument(o))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=fi();const u=t.path,h=new Pe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||xC(bC(_),i)<=0||(o.has(_.key)||jd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,i,o){De()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new X1(this)}getSize(e){return ue.resolve(this.size)}}class X1 extends B1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.persistence=e,this.Qr=new ro(t=>am(t),lm),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.$r=0,this.Ur=new mm,this.targetCount=0,this.Kr=da.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new da(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ue.waitFor(a).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Rd(0),this.zr=!1,this.zr=!0,this.jr=new K1,this.referenceDelegate=e(this),this.Hr=new J1(this),this.indexManager=new j1,this.remoteDocumentCache=function(o){return new Y1(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new D1(t),this.Yr=new W1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new Q1(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new Z1(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Z1 extends CC{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.ti=new mm,this.ni=null}static ri(e){return new gm(e)}get ii(){if(this.ni)return this.ni;throw De()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const o=Pe.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,je.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ad{constructor(e,t){this.persistence=e,this.oi=new ro(i=>AC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=$1(this,t)}static ri(e,t){return new ad(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ue.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(h=>{h||(i++,a.removeEntry(u,je.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cc(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ue.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=Ge(),o=Ge();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ym(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Qx()?8:PC(on())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new eP;return this._s(e,t,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Yo()<=We.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Yo()<=We.DEBUG&&Ee("QueryEngine","Query:",Xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Yo()<=We.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(t))):ue.resolve())}rs(e,t){if(C_(t))return ue.resolve(null);let i=Vr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=rd(t,null,"F"),i=Vr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ge(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(t,h);return this.ls(t,m,u,f.readTime)?this.rs(e,rd(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,i,o){return C_(t)||o.isEqual(je.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(t,a);return this.ls(t,u,i,o)?ue.resolve(null):(Yo()<=We.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xo(t)),this.hs(e,u,t,IC(o,Nl)).next(h=>h))})}cs(e,t){let i=new Mt(aE(e));return t.forEach((o,a)=>{jd(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return Yo()<=We.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ns.getDocumentsMatchingQuery(e,t,ts.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="LocalStore",nP=3e8;class rP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new wt(ze),this.Is=new ro(a=>am(a),lm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function iP(n,e,t,i){return new rP(n,e,t,i)}async function RE(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=Ge();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function sP(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,_){const S=m.batch,A=S.keys();let V=ue.resolve();return A.forEach(q=>{V=V.next(()=>_.getEntry(f,q)).next(L=>{const M=m.docVersions.get(q);Ze(M!==null),L.version.compareTo(M)<0&&(S.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),_.addEntry(L)))})}),V.next(()=>h.mutationQueue.removeMutationBatch(f,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Ge();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function AE(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function oP(n,e){const t=Ve(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((_,S)=>{const A=o.get(S);if(!A)return;h.push(t.Hr.removeMatchingKeys(a,_.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(a,_.addedDocuments,S)));let V=A.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(Yt.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,i)),o=o.insert(S,V),function(L,M,G){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=nP?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(A,V,_)&&h.push(t.Hr.updateTargetData(a,V))});let f=fi(),m=Ge();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(aP(a,u,e.documentUpdates).next(_=>{f=_.Vs,m=_.fs})),!i.isEqual(je.min())){const _=t.Hr.getLastRemoteSnapshotVersion(a).next(S=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(_)}return ue.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ts=o,a))}function aP(n,e,t){let i=Ge(),o=Ge();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=fi();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ee(vm,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function lP(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=sm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function uP(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,ue.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Wi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Np(n,e,t){const i=Ve(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!_a(u))throw u;Ee(vm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function z_(n,e,t){const i=Ve(n);let o=je.min(),a=Ge();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,_){const S=Ve(f),A=S.Is.get(_);return A!==void 0?ue.resolve(S.Ts.get(A)):S.Hr.getTargetData(m,_)}(i,u,Vr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:je.min(),t?a:Ge())).next(h=>(cP(i,YC(e),h),{documents:h,gs:a})))}function cP(n,e,t){let i=n.Es.get(e)||je.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class $_{constructor(){this.activeTargetIds=n1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dP{constructor(){this.ho=new $_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="ConnectivityMonitor";class q_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(B_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(B_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function Op(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",fP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===ed?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,a){const u=Op(),h=this.bo(e,t.toUriEncodedString());Ee(rp,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,h,f,i).then(m=>(Ee(rp,`Received RPC '${e}' ${u}: `,m),m),m=>{throw oa(rp,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,t,i,o,a,u){return this.So(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const i=fP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class gP extends pP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=Op();return new Promise((u,h)=>{const f=new jw;f.setWithCredentials(!0),f.listenOnce(Mw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case kc.NO_ERROR:const _=f.getResponseJson();Ee(tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case kc.TIMEOUT:Ee(tn,`RPC '${e}' ${a} timed out`),h(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const S=f.getStatus();if(Ee(tn,`RPC '${e}' ${a} failed with status:`,S,"response text:",f.getResponseText()),S>0){let A=f.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A==null?void 0:A.error;if(V&&V.status&&V.message){const q=function(M){const G=M.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(G)>=0?G:oe.UNKNOWN}(V.status);h(new ve(q,V.message))}else h(new ve(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{Ee(tn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);Ee(tn,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}Wo(e,t,i){const o=Op(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Uw(),h=Fw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");Ee(tn,`Creating RPC '${e}' stream ${o}: ${_}`,f);const S=u.createWebChannel(_,f);let A=!1,V=!1;const q=new mP({Fo:M=>{V?Ee(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(A||(Ee(tn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),Ee(tn,`RPC '${e}' stream ${o} sending:`,M),S.send(M))},Mo:()=>S.close()}),L=(M,G,U)=>{M.listen(G,H=>{try{U(H)}catch(Q){setTimeout(()=>{throw Q},0)}})};return L(S,wl.EventType.OPEN,()=>{V||(Ee(tn,`RPC '${e}' stream ${o} transport opened.`),q.Qo())}),L(S,wl.EventType.CLOSE,()=>{V||(V=!0,Ee(tn,`RPC '${e}' stream ${o} transport closed`),q.Uo())}),L(S,wl.EventType.ERROR,M=>{V||(V=!0,oa(tn,`RPC '${e}' stream ${o} transport errored:`,M),q.Uo(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),L(S,wl.EventType.MESSAGE,M=>{var G;if(!V){const U=M.data[0];Ze(!!U);const H=U,Q=(H==null?void 0:H.error)||((G=H[0])===null||G===void 0?void 0:G.error);if(Q){Ee(tn,`RPC '${e}' stream ${o} received error:`,Q);const D=Q.status;let z=function(I){const w=Pt[I];if(w!==void 0)return vE(w)}(D),k=Q.message;z===void 0&&(z=oe.INTERNAL,k="Unknown error status: "+D+" with message "+Q.message),V=!0,q.Uo(new ve(z,k)),S.close()}else Ee(tn,`RPC '${e}' stream ${o} received:`,U),q.Ko(U)}}),L(h,Vw.STAT_EVENT,M=>{M.stat===Ep.PROXY?Ee(tn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Ep.NOPROXY&&Ee(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.$o()},0),q}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(n){return new w1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class OE{constructor(e,t,i,o,a,u,h,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new NE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yP extends OE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=S1(this.serializer,e),i=function(a){if(!("targetChange"in a))return je.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?Fr(u.readTime):je.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Ap(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=xp(f)?{documents:x1(a,f)}:{query:k1(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=EE(a,u.resumeToken);const m=Cp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(je.min())>0){h.readTime=od(a,u.snapshotVersion.toTimestamp());const m=Cp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=P1(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Ap(this.serializer),t.removeTarget=e,this.I_(t)}}class vP extends OE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=b1(e.writeResults,e.commitTime),i=Fr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Ap(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>I1(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{}class wP extends _P{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Pp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(oe.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,Pp(t,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class EP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hi(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class TP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{io(this)&&(Ee(Gs,"Restarting streams for network reachability change."),await async function(f){const m=Ve(f);m.W_.add(4),await Ql(m),m.j_.set("Unknown"),m.W_.delete(4),await zd(m)}(this))})}),this.j_=new EP(i,o)}}async function zd(n){if(io(n))for(const e of n.G_)await e(!0)}async function Ql(n){for(const e of n.G_)await e(!1)}function DE(n,e){const t=Ve(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Tm(t)?Em(t):wa(t).c_()&&wm(t,e))}function _m(n,e){const t=Ve(n),i=wa(t);t.K_.delete(e),i.c_()&&LE(t,e),t.K_.size===0&&(i.c_()?i.P_():io(t)&&t.j_.set("Unknown"))}function wm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wa(n).y_(e)}function LE(n,e){n.H_.Ne(e),wa(n).w_(e)}function Em(n){n.H_=new g1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),wa(n).start(),n.j_.B_()}function Tm(n){return io(n)&&!wa(n).u_()&&n.K_.size>0}function io(n){return Ve(n).W_.size===0}function jE(n){n.H_=void 0}async function SP(n){n.j_.set("Online")}async function IP(n){n.K_.forEach((e,t)=>{wm(n,e)})}async function bP(n,e){jE(n),Tm(n)?(n.j_.q_(e),Em(n)):n.j_.set("Unknown")}async function xP(n,e,t){if(n.j_.set("Online"),e instanceof wE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.K_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(i){Ee(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ld(n,i)}else if(e instanceof Ac?n.H_.We(e):e instanceof _E?n.H_.Ze(e):n.H_.je(e),!t.isEqual(je.min()))try{const i=await AE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.K_.get(m);_&&a.K_.set(m,_.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const _=a.K_.get(f);if(!_)return;a.K_.set(f,_.withResumeToken(Yt.EMPTY_BYTE_STRING,_.snapshotVersion)),LE(a,f);const S=new Wi(_.target,f,m,_.sequenceNumber);wm(a,S)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){Ee(Gs,"Failed to raise snapshot:",i),await ld(n,i)}}async function ld(n,e,t){if(!_a(e))throw e;n.W_.add(1),await Ql(n),n.j_.set("Offline"),t||(t=()=>AE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Gs,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await zd(n)})}function ME(n,e){return e().catch(t=>ld(n,t,e))}async function $d(n){const e=Ve(n),t=ss(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:sm;for(;kP(e);)try{const o=await lP(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,CP(e,o)}catch(o){await ld(e,o)}VE(e)&&FE(e)}function kP(n){return io(n)&&n.U_.length<10}function CP(n,e){n.U_.push(e);const t=ss(n);t.c_()&&t.S_&&t.b_(e.mutations)}function VE(n){return io(n)&&!ss(n).u_()&&n.U_.length>0}function FE(n){ss(n).start()}async function PP(n){ss(n).C_()}async function RP(n){const e=ss(n);for(const t of n.U_)e.b_(t.mutations)}async function AP(n,e,t){const i=n.U_.shift(),o=hm.from(i,e,t);await ME(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await $d(n)}async function NP(n,e){e&&ss(n).S_&&await async function(i,o){if(function(u){return p1(u)&&u!==oe.ABORTED}(o.code)){const a=i.U_.shift();ss(i).h_(),await ME(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await $d(i)}}(n,e),VE(n)&&FE(n)}async function W_(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),Ee(Gs,"RemoteStore received new credentials");const i=io(t);t.W_.add(3),await Ql(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await zd(t)}async function OP(n,e){const t=Ve(n);e?(t.W_.delete(2),await zd(t)):e||(t.W_.add(2),await Ql(t),t.j_.set("Unknown"))}function wa(n){return n.J_||(n.J_=function(t,i,o){const a=Ve(t);return a.M_(),new yP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:SP.bind(null,n),No:IP.bind(null,n),Lo:bP.bind(null,n),p_:xP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Tm(n)?Em(n):n.j_.set("Unknown")):(await n.J_.stop(),jE(n))})),n.J_}function ss(n){return n.Y_||(n.Y_=function(t,i,o){const a=Ve(t);return a.M_(),new vP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:PP.bind(null,n),Lo:NP.bind(null,n),D_:RP.bind(null,n),v_:AP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await $d(n)):(await n.Y_.stop(),n.U_.length>0&&(Ee(Gs,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,h=new Sm(e,t,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(n,e){if(hi("AsyncQueue",`${e}: ${n}`),_a(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=El(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.Z_=new wt(Pe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):De():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ha{constructor(e,t,i,o,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ha(e,t,ta.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class LP{constructor(){this.queries=K_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Ve(t),a=o.queries;o.queries=K_(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function K_(){return new ro(n=>oE(n),Ld)}async function UE(n,e){const t=Ve(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new DP,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Im(u,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&bm(t)}async function zE(n,e){const t=Ve(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function jP(n,e){const t=Ve(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(i=!0);u.ea=o}}i&&bm(t)}function MP(n,e,t){const i=Ve(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function bm(n){n.ia.forEach(e=>{e.next()})}var Dp,Q_;(Q_=Dp||(Dp={}))._a="default",Q_.Cache="cache";class $E{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ha(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.key=e}}class qE{constructor(e){this.key=e}}class VP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ge(),this.mutatedKeys=Ge(),this.ya=aE(e),this.wa=new ta(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new G_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,S)=>{const A=o.get(_),V=jd(this.query,S)?S:null,q=!!A&&this.mutatedKeys.has(A.key),L=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let M=!1;A&&V?A.data.isEqual(V.data)?q!==L&&(i.track({type:3,doc:V}),M=!0):this.va(A,V)||(i.track({type:2,doc:V}),M=!0,(f&&this.ya(V,f)>0||m&&this.ya(V,m)<0)&&(h=!0)):!A&&V?(i.track({type:0,doc:V}),M=!0):A&&!V&&(i.track({type:1,doc:A}),M=!0,(f||m)&&(h=!0)),M&&(V?(u=u.add(V),a=L?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{wa:u,Da:i,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,S)=>function(V,q){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return L(V)-L(q)}(_.type,S.type)||this.ya(_.doc,S.doc)),this.Ca(i),o=o!=null&&o;const h=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new ha(this.query,e.wa,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new G_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ge(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new qE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new BE(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ge();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ha.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xm="SyncEngine";class FP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UP{constructor(e){this.key=e,this.Ba=!1}}class zP{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ro(h=>oE(h),Ld),this.qa=new Map,this.Qa=new Set,this.$a=new wt(Pe.comparator),this.Ua=new Map,this.Ka=new mm,this.Wa={},this.Ga=new Map,this.za=da.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function $P(n,e,t=!0){const i=YE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await HE(i,e,t,!0),o}async function BP(n,e){const t=YE(n);await HE(t,e,!0,!1)}async function HE(n,e,t,i){const o=await uP(n.localStore,Vr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await qP(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&DE(n.remoteStore,o),h}async function qP(n,e,t,i,o){n.Ha=(S,A,V)=>async function(L,M,G,U){let H=M.view.ba(G);H.ls&&(H=await z_(L.localStore,M.query,!1).then(({documents:k})=>M.view.ba(k,H)));const Q=U&&U.targetChanges.get(M.targetId),D=U&&U.targetMismatches.get(M.targetId)!=null,z=M.view.applyChanges(H,L.isPrimaryClient,Q,D);return X_(L,M.targetId,z.Ma),z.snapshot}(n,S,A,V);const a=await z_(n.localStore,e,!0),u=new VP(e,a.gs),h=u.ba(a.documents),f=Kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,f);X_(n,t,m.Ma);const _=new FP(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function HP(n,e,t){const i=Ve(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!Ld(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&_m(i.remoteStore,o.targetId),Lp(i,o.targetId)}).catch(va)):(Lp(i,o.targetId),await Np(i.localStore,o.targetId,!0))}async function WP(n,e){const t=Ve(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),_m(t.remoteStore,i.targetId))}async function GP(n,e,t){const i=eR(n);try{const o=await function(u,h){const f=Ve(u),m=xt.now(),_=h.reduce((V,q)=>V.add(q.key),Ge());let S,A;return f.persistence.runTransaction("Locally write mutations","readwrite",V=>{let q=fi(),L=Ge();return f.ds.getEntries(V,_).next(M=>{q=M,q.forEach((G,U)=>{U.isValidDocument()||(L=L.add(G))})}).next(()=>f.localDocuments.getOverlayedDocuments(V,q)).next(M=>{S=M;const G=[];for(const U of h){const H=u1(U,S.get(U.key).overlayedDocument);H!=null&&G.push(new cs(U.key,H,Zw(H.value.mapValue),Er.exists(!0)))}return f.mutationQueue.addMutationBatch(V,m,G,h)}).next(M=>{A=M;const G=M.applyToLocalDocumentSet(S,L);return f.documentOverlayCache.saveOverlays(V,M.batchId,G)})}).then(()=>({batchId:A.batchId,changes:uE(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(ze)),m=m.insert(h,f),u.Wa[u.currentUser.toKey()]=m}(i,o.batchId,t),await Yl(i,o.changes),await $d(i.remoteStore)}catch(o){const a=Im(o,"Failed to persist write");t.reject(a)}}async function WE(n,e){const t=Ve(n);try{const i=await oP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ze(u.Ba):o.removedDocuments.size>0&&(Ze(u.Ba),u.Ba=!1))}),await Yl(t,i,e)}catch(i){await va(i)}}function Y_(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Ve(u);f.onlineState=h;let m=!1;f.queries.forEach((_,S)=>{for(const A of S.ta)A.sa(h)&&(m=!0)}),m&&bm(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function KP(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),a=o&&o.key;if(a){let u=new wt(Pe.comparator);u=u.insert(a,rn.newNoDocument(a,je.min()));const h=Ge().add(a),f=new Fd(je.min(),new Map,new wt(ze),u,h);await WE(i,f),i.$a=i.$a.remove(a),i.Ua.delete(e),km(i)}else await Np(i.localStore,e,!1).then(()=>Lp(i,e,t)).catch(va)}async function QP(n,e){const t=Ve(n),i=e.batch.batchId;try{const o=await sP(t.localStore,e);KE(t,i,null),GE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Yl(t,o)}catch(o){await va(o)}}async function YP(n,e,t){const i=Ve(n);try{const o=await function(u,h){const f=Ve(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next(S=>(Ze(S!==null),_=S.keys(),f.mutationQueue.removeMutationBatch(m,S))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(i.localStore,e);KE(i,e,t),GE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Yl(i,o)}catch(o){await va(o)}}function GE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function KE(n,e,t){const i=Ve(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Lp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||QE(n,i)})}function QE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(_m(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),km(n))}function X_(n,e,t){for(const i of t)i instanceof BE?(n.Ka.addReference(i.key,e),XP(n,i)):i instanceof qE?(Ee(xm,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||QE(n,i.key)):De()}function XP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Ee(xm,"New document in limbo: "+t),n.Qa.add(i),km(n))}function km(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Pe(lt.fromString(e)),i=n.za.next();n.Ua.set(i,new UP(t)),n.$a=n.$a.insert(t,i),DE(n.remoteStore,new Wi(Vr(Dd(t.path)),i,"TargetPurposeLimboResolution",Rd.ae))}}async function Yl(n,e,t){const i=Ve(n),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const S=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,S?"current":"not-current")}if(m){o.push(m);const S=ym.Yi(f.targetId,m);a.push(S)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,m){const _=Ve(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ue.forEach(m,A=>ue.forEach(A.Hi,V=>_.persistence.referenceDelegate.addReference(S,A.targetId,V)).next(()=>ue.forEach(A.Ji,V=>_.persistence.referenceDelegate.removeReference(S,A.targetId,V)))))}catch(S){if(!_a(S))throw S;Ee(vm,"Failed to update sequence numbers: "+S)}for(const S of m){const A=S.targetId;if(!S.fromCache){const V=_.Ts.get(A),q=V.snapshotVersion,L=V.withLastLimboFreeSnapshotVersion(q);_.Ts=_.Ts.insert(A,L)}}}(i.localStore,a))}async function JP(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){Ee(xm,"User change. New user:",e.toKey());const i=await RE(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new ve(oe.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yl(t,i.Rs)}}function ZP(n,e){const t=Ve(n),i=t.Ua.get(e);if(i&&i.Ba)return Ge().add(i.key);{let o=Ge();const a=t.qa.get(e);if(!a)return o;for(const u of a){const h=t.ka.get(u);o=o.unionWith(h.view.Sa)}return o}}function YE(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KP.bind(null,e),e.La.p_=jP.bind(null,e.eventManager),e.La.Ja=MP.bind(null,e.eventManager),e}function eR(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YP.bind(null,e),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return iP(this.persistence,new tP,e.initialUser,this.serializer)}Xa(e){return new PE(gm.ri,this.serializer)}Za(e){return new dP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class tR extends ud{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof ad);const i=this.persistence.referenceDelegate.garbageCollector;return new U1(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new PE(i=>ad.ri(i,t),this.serializer)}}class jp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Y_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JP.bind(null,this.syncEngine),await OP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LP}()}createDatastore(e){const t=Ud(e.databaseInfo.databaseId),i=function(a){return new gP(a)}(e.databaseInfo);return function(a,u,h,f){return new wP(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,h){return new TP(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Y_(this.syncEngine,t,0),function(){return q_.D()?new q_:new hP}())}createSyncEngine(e,t){return function(o,a,u,h,f,m,_){const S=new zP(o,a,u,h,f,m);return _&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ve(o);Ee(Gs,"RemoteStore shutting down."),a.W_.add(5),await Ql(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class nR{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Bw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Ee(os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ee(os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Im(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function sp(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await RE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function J_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await rR(n);Ee(os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>W_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>W_(e.remoteStore,o)),n._onlineComponents=e}async function rR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(os,"Using user provided OfflineComponentProvider");try{await sp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;oa("Error using user provided cache. Falling back to memory cache: "+t),await sp(n,new ud)}}else Ee(os,"Using default OfflineComponentProvider"),await sp(n,new tR(void 0));return n._offlineComponents}async function JE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(os,"Using user provided OnlineComponentProvider"),await J_(n,n._uninitializedComponentsProvider._online)):(Ee(os,"Using default OnlineComponentProvider"),await J_(n,new jp))),n._onlineComponents}function iR(n){return JE(n).then(e=>e.syncEngine)}async function Mp(n){const e=await JE(n),t=e.eventManager;return t.onListen=$P.bind(null,e.syncEngine),t.onUnlisten=HP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WP.bind(null,e.syncEngine),t}function sR(n,e,t={}){const i=new Xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,m){const _=new XE({next:A=>{_.su(),u.enqueueAndForget(()=>zE(a,S));const V=A.docs.has(h);!V&&A.fromCache?m.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&f&&f.source==="server"?m.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),S=new $E(Dd(h.path),_,{includeMetadataChanges:!0,Ta:!0});return UE(a,S)}(await Mp(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oR(n,e,t,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function e0(n){if(!Pe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t0(n){if(Pe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Ur(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bd(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aR(n,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firestore.googleapis.com",n0=!0;class r0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tT,this.ssl=n0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:n0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V1)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new mC;switch(i.type){case"firstParty":return new _C(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Z_.get(t);i&&(Ee("ComponentProvider","Removing Datastore"),Z_.delete(t),i.terminate())}(this),Promise.resolve()}}function lR(n,e,t,i={}){var o;const a=(n=Ur(n,qd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a.host!==tT&&a.host!==h&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:i});if(!es(f,u)&&(n._setSettings(f),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=nn.MOCK_USER;else{m=bw(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(S)}n._authCredentials=new gC(new zw(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class gn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Ji extends Hr{constructor(e,t,i){super(e,t,Dd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Pe(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function pn(n,e,...t){if(n=ut(n),eT("collection","path",e),n instanceof qd){const i=lt.fromString(e,...t);return t0(i),new Ji(n,null,i)}{if(!(n instanceof gn||n instanceof Ji))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return t0(i),new Ji(n.firestore,null,i)}}function Ks(n,e,...t){if(n=ut(n),arguments.length===1&&(e=Bw.newId()),eT("doc","path",e),n instanceof qd){const i=lt.fromString(e,...t);return e0(i),new gn(n,null,new Pe(i))}{if(!(n instanceof gn||n instanceof Ji))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return e0(i),new gn(n.firestore,n instanceof Ji?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new NE(this,"async_queue_retry"),this.Su=()=>{const i=ip();i&&Ee(i0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_a(e))throw e;Ee(i0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw hi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Sm.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&De()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function o0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Qs extends qd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new s0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function uR(n,e){const t=typeof n=="object"?n:Wl(),i=typeof n=="string"?n:ed,o=gi(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=nm("firestore");a&&lR(o,...a)}return o}function Cm(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||cR(n),n._firestoreClient}function cR(n){var e,t,i;const o=n._freezeSettings(),a=function(h,f,m,_){return new DC(h,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,ZE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new nR(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Yt.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=/^__.*__$/;class hR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class nT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Nm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(rT(this.Lu)&&dR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class fR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ud(e)}ju(e,t,i,o=!1){return new Nm({Lu:e,methodName:t,zu:i,path:Qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wd(n){const e=n._freezeSettings(),t=Ud(n._databaseId);return new fR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pR(n,e,t,i,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Om("Data must be an object, but it was:",u,i);const h=sT(i,u);let f,m;if(a.merge)f=new Fn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const S of a.mergeFields){const A=Vp(e,S,t);if(!u.contains(A))throw new ve(oe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);aT(_,A)||_.push(A)}f=new Fn(_),m=u.fieldTransforms.filter(S=>f.covers(S.field))}else f=null,m=u.fieldTransforms;return new hR(new kn(h),f,m)}class Gd extends Pm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function mR(n,e,t,i){const o=n.ju(1,e,t);Om("Data must be an object, but it was:",o,i);const a=[],u=kn.empty();ls(i,(f,m)=>{const _=Dm(e,f,t);m=ut(m);const S=o.Uu(_);if(m instanceof Gd)a.push(_);else{const A=Xl(m,S);A!=null&&(a.push(_),u.set(_,A))}});const h=new Fn(a);return new nT(u,h,o.fieldTransforms)}function gR(n,e,t,i,o,a){const u=n.ju(1,e,t),h=[Vp(e,i,t)],f=[o];if(a.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<a.length;A+=2)h.push(Vp(e,a[A])),f.push(a[A+1]);const m=[],_=kn.empty();for(let A=h.length-1;A>=0;--A)if(!aT(m,h[A])){const V=h[A];let q=f[A];q=ut(q);const L=u.Uu(V);if(q instanceof Gd)m.push(V);else{const M=Xl(q,L);M!=null&&(m.push(V),_.set(V,M))}}const S=new Fn(m);return new nT(_,S,u.fieldTransforms)}function iT(n,e,t,i=!1){return Xl(t,n.ju(i?4:3,e))}function Xl(n,e){if(oT(n=ut(n)))return Om("Unsupported field value:",e,n),sT(n,e);if(n instanceof Pm)return function(i,o){if(!rT(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=Xl(h,o.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return r1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:od(o.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:od(o.serializer,a)}}if(i instanceof Rm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:EE(o.serializer,i._byteString)};if(i instanceof gn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Am)return function(u,h){return{mapValue:{fields:{[Xw]:{stringValue:Jw},[td]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return cm(h.serializer,m)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Bd(i)}`)}(n,e)}function sT(n,e){const t={};return Hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(n,(i,o)=>{const a=Xl(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function oT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Rm||n instanceof fa||n instanceof gn||n instanceof Pm||n instanceof Am)}function Om(n,e,t){if(!oT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Bd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Vp(n,e,t){if((e=ut(e))instanceof Hd)return e._internalPath;if(typeof e=="string")return Dm(n,e);throw cd("Field path arguments must be of type string or ",n,!1,void 0,t)}const yR=new RegExp("[~\\*/\\[\\]]");function Dm(n,e,t){if(e.search(yR)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hd(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cd(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new ve(oe.INVALID_ARGUMENT,h+n+f)}function aT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vR extends Lm{data(){return super.data()}}function Kd(n,e){return typeof e=="string"?Dm(n,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class Jl extends jm{}function Ea(n,e,...t){let i=[];e instanceof jm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(f=>f instanceof Vm).length,h=a.filter(f=>f instanceof Qd).length;if(u>1||u>0&&h>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Qd extends Jl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Qd(e,t,i)}_apply(e){const t=this._parse(e);return uT(e._query,t),new Hr(e.firestore,e.converter,kp(e._query,t))}_parse(e){const t=Wd(e.firestore);return function(a,u,h,f,m,_,S){let A;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){l0(S,_);const q=[];for(const L of S)q.push(a0(f,a,L));A={arrayValue:{values:q}}}else A=a0(f,a,S)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||l0(S,_),A=iT(h,u,S,_==="in"||_==="not-in");return At.create(m,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mm(n,e,t){const i=e,o=Kd("where",n);return Qd._create(o,i,t)}class Vm extends jm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)uT(u,f),u=kp(u,f)}(e._query,t),new Hr(e.firestore,e.converter,kp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fm extends Jl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fm(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(a,u)}(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new us(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Um(n,e="asc"){const t=e,i=Kd("orderBy",n);return Fm._create(i,t)}class zm extends Jl{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new zm(e,t,i)}_apply(e){return new Hr(e.firestore,e.converter,rd(e._query,this._limit,this._limitType))}}function $m(n){return aR("limit",n),zm._create("limit",n,"F")}class Bm extends Jl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Bm(e,t,i)}_apply(e){const t=lT(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function wR(...n){return Bm._create("startAt",n,!0)}class qm extends Jl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new qm(e,t,i)}_apply(e){const t=lT(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,t))}}function ER(...n){return qm._create("endAt",n,!0)}function lT(n,e,t,i){if(t[0]=ut(t[0]),t[0]instanceof Lm)return function(a,u,h,f,m){if(!f)throw new ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const _=[];for(const S of ea(a))if(S.field.isKeyField())_.push(nd(u,f.key));else{const A=f.data.field(S.field);if(Nd(A))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const V=S.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}_.push(A)}return new ca(_,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=Wd(n.firestore);return function(u,h,f,m,_,S){const A=u.explicitOrderBy;if(_.length>A.length)throw new ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let q=0;q<_.length;q++){const L=_[q];if(A[q].field.isKeyField()){if(typeof L!="string")throw new ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof L}`);if(!um(u)&&L.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${L}' contains a slash.`);const M=u.path.child(lt.fromString(L));if(!Pe.isDocumentKey(M))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const G=new Pe(M);V.push(nd(h,G))}else{const M=iT(f,m,L);V.push(M)}}return new ca(V,S)}(n._query,n.firestore._databaseId,o,e,t,i)}}function a0(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!um(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!Pe.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nd(n,new Pe(i))}if(t instanceof gn)return nd(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(t)}.`)}function l0(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uT(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TR{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ls(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[td].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>bt(u.doubleValue));return new Am(a)}convertGeoPoint(e){return new Rm(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Od(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=ns(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Ze(kE(i));const o=new Dl(i.get(1),i.get(3)),a=new Pe(i.popFirst(5));return o.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cT extends Lm{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nc extends cT{data(e={}){return super.data(e)}}class IR{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nc(this._firestore,this._userDataWriter,i.key,i,new Sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Nc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Nc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:bR(h.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){n=Ur(n,gn);const e=Ur(n.firestore,Qs);return sR(Cm(e),n._key).then(t=>fT(e,n,t))}class hT extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function xR(n,e,t,...i){n=Ur(n,gn);const o=Ur(n.firestore,Qs),a=Wd(o);let u;return u=typeof(e=ut(e))=="string"||e instanceof Hd?gR(a,"updateDoc",n._key,e,t,i):mR(a,"updateDoc",n._key,e),Wm(o,[u.toMutation(n._key,Er.exists(!0))])}function Hm(n){return Wm(Ur(n.firestore,Qs),[new dm(n._key,Er.none())])}function Fp(n,e){const t=Ur(n.firestore,Qs),i=Ks(n),o=SR(n.converter,e);return Wm(t,[pR(Wd(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}function tr(n,...e){var t,i,o;n=ut(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||o0(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(o0(e[u])){const S=e[u];e[u]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[u+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[u+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let f,m,_;if(n instanceof gn)m=Ur(n.firestore,Qs),_=Dd(n._key.path),f={next:S=>{e[u]&&e[u](fT(m,n,S))},error:e[u+1],complete:e[u+2]};else{const S=Ur(n,Hr);m=Ur(S.firestore,Qs),_=S._query;const A=new hT(m);f={next:V=>{e[u]&&e[u](new IR(m,A,S,V))},error:e[u+1],complete:e[u+2]},_R(n._query)}return function(A,V,q,L){const M=new XE(L),G=new $E(V,M,q);return A.asyncQueue.enqueueAndForget(async()=>UE(await Mp(A),G)),()=>{M.su(),A.asyncQueue.enqueueAndForget(async()=>zE(await Mp(A),G))}}(Cm(m),_,h,f)}function Wm(n,e){return function(i,o){const a=new Xi;return i.asyncQueue.enqueueAndForget(async()=>GP(await iR(i),o,a)),a.promise}(Cm(n),e)}function fT(n,e,t){const i=t.docs.get(e._key),o=new hT(n);return new cT(n,o,e._key,i,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ya=o})(no),er(new $n("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Qs(new yC(i.getProvider("auth-internal")),new wC(u,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(m.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),sn(d_,h_,e),sn(d_,h_,"esm2017")})();var kR="firebase",CR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(kR,CR,"app");function Gm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PR=pT,mT=new to("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Pd("@firebase/auth");function RR(n,...e){dd.logLevel<=We.WARN&&dd.warn(`Auth (${no}): ${n}`,...e)}function Oc(n,...e){dd.logLevel<=We.ERROR&&dd.error(`Auth (${no}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw Qm(n,...e)}function Tr(n,...e){return Qm(n,...e)}function Km(n,e,t){const i=Object.assign(Object.assign({},PR()),{[e]:t});return new to("auth","Firebase",i).create(e,{appName:n.name})}function Zi(n){return Km(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AR(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&nr(n,"argument-error"),Km(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return mT.create(n,...e)}function Oe(n,e,...t){if(!n)throw Qm(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Oc(e),new Error(e)}function pi(n,e){n||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function NR(){return u0()==="http:"||u0()==="https:"}function u0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NR()||xw()||"connection"in navigator)?navigator.onLine:!0}function DR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile=qx()||Gx()}get(){return OR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n,e){pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Zl(3e4,6e4);function so(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ds(n,e,t,i,o={}){return yT(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=Hl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return Wx()||(m.referrerPolicy="no-referrer"),gT.fetch()(vT(n,n.config.apiHost,t,h),m)})}async function yT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},LR),e);try{const o=new VR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ic(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ic(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ic(n,"user-disabled",u);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Km(n,_,m);nr(n,_)}}catch(o){if(o instanceof Bn)throw o;nr(n,"network-request-failed",{message:String(o)})}}async function Yd(n,e,t,i,o={}){const a=await ds(n,e,t,i,o);return"mfaPendingCredential"in a&&nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function vT(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Ym(n.config,o):`${n.config.apiScheme}://${o}`}function MR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tr(this.auth,"network-request-failed")),jR.get())})}}function Ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Tr(n,e,i);return o.customData._tokenResponse=t,o}function c0(n){return n!==void 0&&n.enterprise!==void 0}class FR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UR(n,e){return ds(n,"GET","/v2/recaptchaConfig",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e){return ds(n,"POST","/v1/accounts:delete",e)}async function _T(n,e){return ds(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $R(n,e=!1){const t=ut(n),i=await t.getIdToken(e),o=Xm(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:kl(op(o.auth_time)),issuedAtTime:kl(op(o.iat)),expirationTime:kl(op(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function op(n){return Number(n)*1e3}function Xm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ew(t);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function d0(n){const e=Xm(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Bn&&BR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function BR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Fl(n,_T(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wT(a.providerUserInfo):[],h=WR(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=f?m:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new zp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,S)}async function HR(n){const e=ut(n);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function wT(n){return n.map(e=>{var{providerId:t}=e,i=Gm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(n,e){const t=await yT(n,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=vT(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",gT.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KR(n,e){return ds(n,"POST","/v2/accounts:revokeToken",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=d0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await GR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new na;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Oe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $R(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Fl(this,zR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,h,f,m,_;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,V=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,q=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,M=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,G=(m=t.createdAt)!==null&&m!==void 0?m:void 0,U=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:H,emailVerified:Q,isAnonymous:D,providerData:z,stsTokenManager:k}=t;Oe(H&&k,e,"internal-error");const R=na.fromJSON(this.name,k);Oe(typeof H=="string",e,"internal-error"),zi(S,e.name),zi(A,e.name),Oe(typeof Q=="boolean",e,"internal-error"),Oe(typeof D=="boolean",e,"internal-error"),zi(V,e.name),zi(q,e.name),zi(L,e.name),zi(M,e.name),zi(G,e.name),zi(U,e.name);const I=new ui({uid:H,auth:e,email:A,emailVerified:Q,displayName:S,isAnonymous:D,photoURL:q,phoneNumber:V,tenantId:L,stsTokenManager:R,createdAt:G,lastLoginAt:U});return z&&Array.isArray(z)&&(I.providerData=z.map(w=>Object.assign({},w))),M&&(I._redirectEventId=M),I}static async _fromIdTokenResponse(e,t,i=!1){const o=new na;o.updateFromServerResponse(t);const a=new ui({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await hd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new na;h.updateFromIdToken(i);const f=new ui({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function ci(n){pi(n instanceof Function,"Expected a class definition");let e=h0.get(n);return e?(pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ET.type="NONE";const f0=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Dc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ra(ci(f0),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ci(f0);const u=Dc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const _=await m._get(u);if(_){const S=ui._fromJSON(e,_);m!==a&&(h=S),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ra(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ra(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kT(e))return"Blackberry";if(CT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function TT(n=on()){return/firefox\//i.test(n)}function ST(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(n=on()){return/crios\//i.test(n)}function bT(n=on()){return/iemobile/i.test(n)}function xT(n=on()){return/android/i.test(n)}function kT(n=on()){return/blackberry/i.test(n)}function CT(n=on()){return/webos/i.test(n)}function Jm(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QR(n=on()){var e;return Jm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YR(){return Kx()&&document.documentMode===10}function PT(n=on()){return Jm(n)||xT(n)||CT(n)||kT(n)||/windows phone/i.test(n)||bT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n,e=[]){let t;switch(n){case"Browser":t=p0(on());break;case"Worker":t=`${p0(on())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${no}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,e={}){return ds(n,"GET","/v2/passwordPolicy",so(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=6;class eA{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:ZR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new XR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _T(this,{idToken:e}),i=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Zi(this));const t=e?ut(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JR(this),t=new eA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await KR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oo(n){return ut(n)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=tk(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nA(n){Xd=n}function AT(n){return Xd.loadJS(n)}function rA(){return Xd.recaptchaEnterpriseScript}function iA(){return Xd.gapiScript}function sA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class oA{constructor(){this.enterprise=new aA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lA="recaptcha-enterprise",NT="NO_RECAPTCHA";class uA{constructor(e){this.type=lA,this.auth=oo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{UR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new FR(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;c0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(NT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&c0(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=rA();f.length!==0&&(f+=h),AT(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function g0(n,e,t,i=!1,o=!1){const a=new uA(n);let u;if(o)u=NT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function y0(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await g0(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await g0(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n,e){const t=gi(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(es(a,e??{}))return o;nr(o,"already-initialized")}return t.initialize({options:e})}function dA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function hA(n,e,t){const i=oo(n);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=OT(e),{host:u,port:h}=fA(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},_=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(es(m,i.config.emulator)&&es(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,pA()}function OT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fA(n){const e=OT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:v0(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:v0(u)}}}function v0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function mA(n,e){return ds(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,e){return Yd(n,"POST","/v1/accounts:signInWithPassword",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(n,e){return Yd(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}async function vA(n,e){return Yd(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Zm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ul(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,t,"signInWithPassword",gA);case"emailLink":return yA(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,i,"signUpPassword",mA);case"emailLink":return vA(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e){return Yd(n,"POST","/v1/accounts:signInWithIdp",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="http://localhost";class Ys extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Gm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Ys(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:_A,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EA(n){const e=vl(_l(n)).link,t=e?vl(_l(e)).deep_link_id:null,i=vl(_l(n)).deep_link_id;return(i?vl(_l(i)).link:null)||i||t||e||n}class eg{constructor(e){var t,i,o,a,u,h;const f=vl(_l(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,S=wA((o=f.mode)!==null&&o!==void 0?o:null);Oe(m&&_&&S,"argument-error"),this.apiKey=m,this.operation=S,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=EA(e);try{return new eg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=eg.parseLink(t);return Oe(i,"argument-error"),Ul._fromEmailAndCode(e,i.code,i.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends eu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Mr.credential(t,i)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends eu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends eu{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qi.credential(t,i)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ui._fromIdTokenResponse(e,i,o),u=_0(i);return new pa({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=_0(i);return new pa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function _0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Bn{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new fd(e,t,i,o)}}function DT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(n,a,e,i):a})}async function TA(n,e,t=!1){const i=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(n,e,t=!1){const{auth:i}=n;if(xn(i.app))return Promise.reject(Zi(i));const o="reauthenticate";try{const a=await Fl(n,DT(i,o,e,n),t);Oe(a.idToken,i,"internal-error");const u=Xm(a.idToken);Oe(u,i,"internal-error");const{sub:h}=u;return Oe(n.uid===h,i,"user-mismatch"),pa._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(n,e,t=!1){if(xn(n.app))return Promise.reject(Zi(n));const i="signIn",o=await DT(n,i,e),a=await pa._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function IA(n,e){return LT(oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(n){const e=oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xA(n,e,t){return xn(n.app)?Promise.reject(Zi(n)):IA(ut(n),Ta.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bA(n),i})}function kA(n,e,t,i){return ut(n).onIdTokenChanged(e,t,i)}function CA(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function PA(n,e,t,i){return ut(n).onAuthStateChanged(e,t,i)}function RA(n){return ut(n).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1e3,NA=10;class MT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);YR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},AA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MT.type="LOCAL";const OA=MT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}VT.type="SESSION";const FT=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Jd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await DA(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=ng("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(A.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function jA(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function MA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FA(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebaseLocalStorageDb",UA=1,md="firebaseLocalStorage",$T="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zd(n,e){return n.transaction([md],e?"readwrite":"readonly").objectStore(md)}function zA(){const n=indexedDB.deleteDatabase(zT);return new tu(n).toPromise()}function $p(){const n=indexedDB.open(zT,UA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(md,{keyPath:$T})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(md)?e(i):(i.close(),await zA(),e(await $p()))})})}async function w0(n,e,t){const i=Zd(n,!0).put({[$T]:e,value:t});return new tu(i).toPromise()}async function $A(n,e){const t=Zd(n,!1).get(e),i=await new tu(t).toPromise();return i===void 0?null:i.value}function E0(n,e){const t=Zd(n,!0).delete(e);return new tu(t).toPromise()}const BA=800,qA=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>qA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(FA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await MA(),!this.activeServiceWorker)return;this.sender=new LA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await w0(e,pd,"1"),await E0(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>w0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>$A(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>E0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Zd(o,!1).getAll();return new tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const HA=BT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n,e){return e?ci(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WA(n){return LT(n.auth,new rg(n),n.bypassAuthState)}function GA(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),SA(t,new rg(n),n.bypassAuthState)}async function KA(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),TA(t,new rg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WA;case"linkViaPopup":case"linkViaRedirect":return KA;case"reauthViaPopup":case"reauthViaRedirect":return GA;default:nr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Zl(2e3,1e4);async function WT(n,e,t){if(xn(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const i=oo(n);AR(n,e,tg);const o=qT(i,t);return new Bs(i,"signInViaPopup",e,o).executeNotNull()}class Bs extends HT{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QA.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="pendingRedirect",Lc=new Map;class XA extends HT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const i=await JA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JA(n,e){const t=tN(e),i=eN(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ZA(n,e){Lc.set(n._key(),e)}function eN(n){return ci(n._redirectPersistence)}function tN(n){return Dc(YA,n.config.apiKey,n.name)}async function nN(n,e,t=!1){if(xn(n.app))return Promise.reject(Zi(n));const i=oo(n),o=qT(i,e),u=await new XA(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=10*60*1e3;class iN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!GT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rN&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(n,e={}){return ds(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lN=/^https?/;async function uN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oN(n);for(const t of e)try{if(cN(t))return}catch{}nr(n,"unauthorized-domain")}function cN(n){const e=Up(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!lN.test(t))return!1;if(aN.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Zl(3e4,6e4);function S0(){const n=zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hN(n){return new Promise((e,t)=>{var i,o,a;function u(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),t(Tr(n,"network-request-failed"))},timeout:dN.get()})}if(!((o=(i=zr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=zr().gapi)===null||a===void 0)&&a.load)u();else{const h=sA("iframefcb");return zr()[h]=()=>{gapi.load?u():t(Tr(n,"network-request-failed"))},AT(`${iA()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw jc=null,e})}let jc=null;function fN(n){return jc=jc||hN(n),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Zl(5e3,15e3),mN="__/auth/iframe",gN="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _N(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ym(e,gN):`https://${n.config.authDomain}/${mN}`,i={apiKey:e.apiKey,appName:n.name,v:no},o=vN.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Hl(i).slice(1)}`}async function wN(n){const e=await fN(n),t=zr().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:_N(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),h=zr().setTimeout(()=>{a(u)},pN.get());function f(){zr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TN=500,SN=600,IN="_blank",bN="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(n,e,t,i=TN,o=SN){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},EN),{width:i.toString(),height:o.toString(),top:a,left:u}),m=on().toLowerCase();t&&(h=IT(m)?IN:t),TT(m)&&(e=e||bN,f.scrollbars="yes");const _=Object.entries(f).reduce((A,[V,q])=>`${A}${V}=${q},`,"");if(QR(m)&&h!=="_self")return kN(e||"",h),new I0(null);const S=window.open(e||"",h,_);Oe(S,n,"popup-blocked");try{S.focus()}catch{}return new I0(S)}function kN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__/auth/handler",PN="emulator/auth/handler",RN=encodeURIComponent("fac");async function b0(n,e,t,i,o,a){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:no,eventId:o};if(e instanceof tg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ek(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))u[_]=S}if(e instanceof eu){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${RN}=${encodeURIComponent(f)}`:"";return`${AN(n)}?${Hl(h).slice(1)}${m}`}function AN({config:n}){return n.emulator?Ym(n,PN):`https://${n.authDomain}/${CN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class NN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FT,this._completeRedirectFn=nN,this._overrideRedirectResult=ZA}async _openPopup(e,t,i,o){var a;pi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await b0(e,t,i,Up(),o);return xN(e,u,ng())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await b0(e,t,i,Up(),o);return jA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(pi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wN(e),i=new iN(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ap,{type:ap},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[ap];u!==void 0&&t(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PT()||ST()||Jm()}}const ON=NN;var x0="@firebase/auth",k0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(n){er(new $n("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(n)},m=new tA(i,o,a,f);return dA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),er(new $n("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(i=>new DN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(x0,k0,LN(n)),sn(x0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=5*60,VN=Iw("authIdTokenMaxAge")||MN;let C0=null;const FN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>VN)return;const o=t==null?void 0:t.token;C0!==o&&(C0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UN(n=Wl()){const e=gi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cA(n,{popupRedirectResolver:ON,persistence:[HA,OA,FT]}),i=Iw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=FN(a.toString());CA(t,u,()=>u(t.currentUser)),kA(t,h=>u(h))}}const o=Tw("auth");return o&&hA(t,`http://${o}`),t}function zN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Tr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",zN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebasestorage.googleapis.com",$N="storageBucket",BN=2*60*1e3,qN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Bn{constructor(e,t,i=0){super(lp(e),`Firebase Storage: ${t} (${lp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Br;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Br||(Br={}));function lp(n){return"storage/"+n}function HN(){const n="An unknown error occurred, please check the error payload for server response.";return new Wr(Br.UNKNOWN,n)}function WN(){return new Wr(Br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GN(){return new Wr(Br.CANCELED,"User canceled the upload/download.")}function KN(n){return new Wr(Br.INVALID_URL,"Invalid URL '"+n+"'.")}function QN(n){return new Wr(Br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function P0(n){return new Wr(Br.INVALID_ARGUMENT,n)}function QT(){return new Wr(Br.APP_DELETED,"The Firebase app was deleted.")}function YN(n){return new Wr(Br.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=wr.makeFromUrl(e,t)}catch{return new wr(e,"")}if(i.path==="")return i;throw QN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(Q){Q.path_=decodeURIComponent(Q.path)}const _="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",V=new RegExp(`^https?://${S}/${_}/b/${o}/o${A}`,"i"),q={bucket:1,path:3},L=t===KT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",G=new RegExp(`^https?://${L}/${o}/${M}`,"i"),H=[{regex:h,indices:f,postModify:a},{regex:V,indices:q,postModify:m},{regex:G,indices:{bucket:1,path:2},postModify:m}];for(let Q=0;Q<H.length;Q++){const D=H[Q],z=D.regex.exec(e);if(z){const k=z[D.indices.bucket];let R=z[D.indices.path];R||(R=""),i=new wr(k,R),D.postModify(i);break}}if(i==null)throw KN(e);return i}}class XN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n,e,t){let i=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function _(...M){m||(m=!0,e.apply(null,M))}function S(M){o=setTimeout(()=>{o=null,n(V,f())},M)}function A(){a&&clearTimeout(a)}function V(M,...G){if(m){A();return}if(M){A(),_.call(null,M,...G);return}if(f()||u){A(),_.call(null,M,...G);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,S(H)}let q=!1;function L(M){q||(q=!0,A(),!m&&(o!==null?(M||(h=2),clearTimeout(o),S(0)):M||(h=1)))}return S(0),a=setTimeout(()=>{u=!0,L(!0)},t),L}function ZN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n){return n!==void 0}function R0(n,e,t,i){if(i<e)throw P0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw P0(`Invalid value for '${n}'. Expected ${t} or less.`)}function tO(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var gd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(gd||(gd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t,i,o,a,u,h,f,m,_,S,A=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=S,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,q)=>{this.resolve_=V,this.reject_=q,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new bc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===gd.NO_ERROR,f=a.getStatus();if(!h||nO(f,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===gd.ABORT;i(!1,new bc(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new bc(m,a))})},t=(i,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());eO(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=HN();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?QT():GN();u(f)}else{const f=WN();u(f)}};this.canceled_?t(!1,new bc(!1,null,!0)):this.backoffId_=JN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function iO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function sO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function aO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function lO(n,e,t,i,o,a,u=!0){const h=tO(n.urlParams),f=n.url+h,m=Object.assign({},n.headers);return oO(m,e),iO(m,t),sO(m,a),aO(m,i),new rO(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function cO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t){this._service=e,t instanceof wr?this._location=t:this._location=wr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new yd(e,t)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cO(this._location.path)}get storage(){return this._service}get parent(){const e=uO(this._location.path);if(e===null)return null;const t=new wr(this._location.bucket,e);return new yd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw YN(e)}}function A0(n,e){const t=e==null?void 0:e[$N];return t==null?null:wr.makeFromBucketSpec(t,n)}function dO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:bw(o,n.app.options.projectId))}class hO{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=KT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BN,this._maxUploadRetryTime=qN,this._requests=new Set,o!=null?this._bucket=wr.makeFromBucketSpec(o,this._host):this._bucket=A0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=A0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yd(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new XN(QT());{const u=lO(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const N0="@firebase/storage",O0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="storage";function fO(n=Wl(),e){n=ut(n);const i=gi(n,YT).getImmediate({identifier:e}),o=nm("storage");return o&&pO(i,...o),i}function pO(n,e,t,i={}){dO(n,e,t,i)}function mO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new hO(t,i,o,e,no)}function gO(){er(new $n(YT,mO,"PUBLIC").setMultipleInstances(!0)),sn(N0,O0,""),sn(N0,O0,"esm2017")}gO();const XT="@firebase/installations",ig="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1e4,ZT=`w:${ig}`,eS="FIS_v2",yO="https://firebaseinstallations.googleapis.com/v1",vO=60*60*1e3,_O="installations",wO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xs=new to(_O,wO,EO);function tS(n){return n instanceof Bn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS({projectId:n}){return`${yO}/projects/${n}/installations`}function rS(n){return{token:n.token,requestStatus:2,expiresIn:SO(n.expiresIn),creationTime:Date.now()}}async function iS(n,e){const i=(await e.json()).error;return Xs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function sS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function TO(n,{refreshToken:e}){const t=sS(n);return t.append("Authorization",IO(e)),t}async function oS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function SO(n){return Number(n.replace("s","000"))}function IO(n){return`${eS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=nS(n),o=sS(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:eS,appId:n.appId,sdkVersion:ZT},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await oS(()=>fetch(i,h));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:rS(m.authToken)}}else throw await iS("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^[cdef][\w-]{21}$/,Bp="";function CO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=PO(n);return kO.test(t)?t:Bp}catch{return Bp}}function PO(n){return xO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Map;function uS(n,e){const t=eh(n);cS(t,e),RO(t,e)}function cS(n,e){const t=lS.get(n);if(t)for(const i of t)i(e)}function RO(n,e){const t=AO();t&&t.postMessage({key:n,fid:e}),NO()}let qs=null;function AO(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=n=>{cS(n.data.key,n.data.fid)}),qs}function NO(){lS.size===0&&qs&&(qs.close(),qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firebase-installations-database",DO=1,Js="firebase-installations-store";let up=null;function sg(){return up||(up=Aw(OO,DO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Js)}}})),up}async function vd(n,e){const t=eh(n),o=(await sg()).transaction(Js,"readwrite"),a=o.objectStore(Js),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&uS(n,e.fid),e}async function dS(n){const e=eh(n),i=(await sg()).transaction(Js,"readwrite");await i.objectStore(Js).delete(e),await i.done}async function th(n,e){const t=eh(n),o=(await sg()).transaction(Js,"readwrite"),a=o.objectStore(Js),u=await a.get(t),h=e(u);return h===void 0?await a.delete(t):await a.put(h,t),await o.done,h&&(!u||u.fid!==h.fid)&&uS(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(n){let e;const t=await th(n.appConfig,i=>{const o=LO(i),a=jO(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Bp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function LO(n){const e=n||{fid:CO(),registrationStatus:0};return hS(e)}function jO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=MO(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VO(n)}:{installationEntry:e}}async function MO(n,e){try{const t=await bO(n,e);return vd(n.appConfig,t)}catch(t){throw tS(t)&&t.customData.serverCode===409?await dS(n.appConfig):await vd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function VO(n){let e=await D0(n.appConfig);for(;e.registrationStatus===1;)await aS(100),e=await D0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await og(n);return i||t}return e}function D0(n){return th(n,e=>{if(!e)throw Xs.create("installation-not-found");return hS(e)})}function hS(n){return FO(n)?{fid:n.fid,registrationStatus:0}:n}function FO(n){return n.registrationStatus===1&&n.registrationTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO({appConfig:n,heartbeatServiceProvider:e},t){const i=zO(n,t),o=TO(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:ZT,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await oS(()=>fetch(i,h));if(f.ok){const m=await f.json();return rS(m)}else throw await iS("Generate Auth Token",f)}function zO(n,{fid:e}){return`${nS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(n,e=!1){let t;const i=await th(n.appConfig,a=>{if(!fS(a))throw Xs.create("not-registered");const u=a.authToken;if(!e&&qO(u))return a;if(u.requestStatus===1)return t=$O(n,e),a;{if(!navigator.onLine)throw Xs.create("app-offline");const h=WO(a);return t=BO(n,h),h}});return t?await t:i.authToken}async function $O(n,e){let t=await L0(n.appConfig);for(;t.authToken.requestStatus===1;)await aS(100),t=await L0(n.appConfig);const i=t.authToken;return i.requestStatus===0?ag(n,e):i}function L0(n){return th(n,e=>{if(!fS(e))throw Xs.create("not-registered");const t=e.authToken;return GO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function BO(n,e){try{const t=await UO(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await vd(n.appConfig,i),t}catch(t){if(tS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await dS(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vd(n.appConfig,i)}throw t}}function fS(n){return n!==void 0&&n.registrationStatus===2}function qO(n){return n.requestStatus===2&&!HO(n)}function HO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+vO}function WO(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function GO(n){return n.requestStatus===1&&n.requestTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(n){const e=n,{installationEntry:t,registrationPromise:i}=await og(e);return i?i.catch(console.error):ag(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(n,e=!1){const t=n;return await YO(t),(await ag(t,e)).token}async function YO(n){const{registrationPromise:e}=await og(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){if(!n||!n.options)throw cp("App Configuration");if(!n.name)throw cp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw cp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function cp(n){return Xs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="installations",JO="installations-internal",ZO=n=>{const e=n.getProvider("app").getImmediate(),t=XO(e),i=gi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},e2=n=>{const e=n.getProvider("app").getImmediate(),t=gi(e,pS).getImmediate();return{getId:()=>KO(t),getToken:o=>QO(t,o)}};function t2(){er(new $n(pS,ZO,"PUBLIC")),er(new $n(JO,e2,"PRIVATE"))}t2();sn(XT,ig);sn(XT,ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="analytics",n2="firebase_id",r2="origin",i2=60*1e3,s2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new to("analytics","Analytics",o2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){if(!n.startsWith(lg)){const e=Un.create("invalid-gtag-resource",{gtagURL:n});return Pn.warn(e.message),""}return n}function mS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function l2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function u2(n,e){const t=l2("firebase-js-sdk-policy",{createScriptURL:a2}),i=document.createElement("script"),o=`${lg}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function c2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function d2(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const f=(await mS(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(h){Pn.error(h)}n("config",o,a)}async function h2(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const h=await mS(t);for(const f of u){const m=h.find(S=>S.measurementId===f),_=m&&e[m.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){Pn.error(a)}}function f2(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[h,f]=u;await h2(n,e,t,h,f)}else if(a==="config"){const[h,f]=u;await d2(n,e,t,i,h,f)}else if(a==="consent"){const[h,f]=u;n("consent",h,f)}else if(a==="get"){const[h,f,m]=u;n("get",h,f,m)}else if(a==="set"){const[h]=u;n("set",h)}else n(a,...u)}catch(h){Pn.error(h)}}return o}function p2(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=f2(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function m2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(lg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=30,y2=1e3;class v2{constructor(e={},t=y2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gS=new v2;function _2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function w2(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:_2(i)},a=s2.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function E2(n,e=gS,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw Un.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Un.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new I2;return setTimeout(async()=>{h.abort()},i2),yS({appId:i,apiKey:o,measurementId:a},u,h,e)}async function yS(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=gS){var a;const{appId:u,measurementId:h}=n;try{await T2(i,e)}catch(f){if(h)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:h};throw f}try{const f=await w2(n);return o.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!S2(m)){if(o.deleteThrottleMetadata(u),h)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:h};throw f}const _=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?t_(t,o.intervalMillis,g2):t_(t,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(u,S),Pn.debug(`Calling attemptFetch again in ${_} millis`),yS(n,S,i,o)}}function T2(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function S2(n){if(!(n instanceof Bn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class I2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function b2(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(){if(kw())try{await Cw()}catch(n){return Pn.warn(Un.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Pn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function k2(n,e,t,i,o,a,u){var h;const f=E2(n);f.then(V=>{t[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Pn.error(V)),e.push(f);const m=x2().then(V=>{if(V)return i.getId()}),[_,S]=await Promise.all([f,m]);m2(a)||u2(a,_.measurementId),o("js",new Date);const A=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return A[r2]="firebase",A.update=!0,S!=null&&(A[n2]=S),o("config",_.measurementId,A),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.app=e}_delete(){return delete Cl[this.app.options.appId],Promise.resolve()}}let Cl={},j0=[];const M0={};let dp="dataLayer",P2="gtag",V0,vS,F0=!1;function R2(){const n=[];if(xw()&&n.push("This is a browser extension environment."),Yx()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});Pn.warn(t.message)}}function A2(n,e,t){R2();const i=n.options.appId;if(!i)throw Un.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(Cl[i]!=null)throw Un.create("already-exists",{id:i});if(!F0){c2(dp);const{wrappedGtag:a,gtagCore:u}=p2(Cl,j0,M0,dp,P2);vS=a,V0=u,F0=!0}return Cl[i]=k2(n,j0,M0,e,V0,dp,t),new C2(n)}function N2(n=Wl()){n=ut(n);const e=gi(n,_d);return e.isInitialized()?e.getImmediate():O2(n)}function O2(n,e={}){const t=gi(n,_d);if(t.isInitialized()){const o=t.getImmediate();if(es(e,t.getOptions()))return o;throw Un.create("already-initialized")}return t.initialize({options:e})}function D2(n,e,t,i){n=ut(n),b2(vS,Cl[n.app.options.appId],e,t,i).catch(o=>Pn.error(o))}const U0="@firebase/analytics",z0="0.10.12";function L2(){er(new $n(_d,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return A2(i,o,t)},"PUBLIC")),er(new $n("analytics-internal",n,"PRIVATE")),sn(U0,z0),sn(U0,z0,"esm2017");function n(e){try{const t=e.getProvider(_d).getImmediate();return{logEvent:(i,o,a)=>D2(t,i,o,a)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}}}L2();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="type.googleapis.com/google.protobuf.Int64Value",M2="type.googleapis.com/google.protobuf.UInt64Value";function _S(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function wd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>wd(e));if(typeof n=="function"||typeof n=="object")return _S(n,e=>wd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function ma(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case j2:case M2:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>ma(e)):typeof n=="function"||typeof n=="object"?_S(n,e=>ma(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Cn extends Bn{constructor(e,t,i){super(`${ug}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,Cn.prototype)}}function V2(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ed(n,e){let t=V2(n),i=t,o;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!$0[u])return new Cn("internal","internal");t=$0[u],i=u}const h=a.message;typeof h=="string"&&(i=h),o=a.details,o!==void 0&&(o=ma(o))}}catch{}return t==="ok"?null:new Cn(t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o==null||o.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="us-central1",U2=/^data: (.*?)(?:\n|$)/;function z2(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new Cn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class $2{constructor(e,t,i,o,a=qp,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new F2(e,t,i,o),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=qp}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function B2(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function q2(n,e,t){const i=o=>W2(n,e,o,{});return i.stream=(o,a)=>K2(n,e,o,a),i}async function H2(n,e,t,i){t["Content-Type"]="application/json";let o;try{o=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function wS(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function W2(n,e,t,i){const o=n._url(e);return G2(n,o,t,i)}async function G2(n,e,t,i){t=wd(t);const o={data:t},a=await wS(n,i),u=i.timeout||7e4,h=z2(u),f=await Promise.race([H2(e,o,a,n.fetchImpl),h.promise,n.cancelAllRequests]);if(h.cancel(),!f)throw new Cn("cancelled","Firebase Functions instance was deleted.");const m=Ed(f.status,f.json);if(m)throw m;if(!f.json)throw new Cn("internal","Response is not valid JSON object.");let _=f.json.data;if(typeof _>"u"&&(_=f.json.result),typeof _>"u")throw new Cn("internal","Response is missing data field.");return{data:ma(_)}}function K2(n,e,t,i){const o=n._url(e);return Q2(n,o,t,i||{})}async function Q2(n,e,t,i){var o;t=wd(t);const a={data:t},u=await wS(n,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:i==null?void 0:i.signal})}catch(V){if(V instanceof Error&&V.name==="AbortError"){const L=new Cn("cancelled","Request was cancelled.");return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}const q=Ed(0,null);return{data:Promise.reject(q),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(q)}}}}}}let f,m;const _=new Promise((V,q)=>{f=V,m=q});(o=i==null?void 0:i.signal)===null||o===void 0||o.addEventListener("abort",()=>{const V=new Cn("cancelled","Request was cancelled.");m(V)});const S=h.body.getReader(),A=Y2(S,f,m,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const V=A.getReader();return{async next(){const{value:q,done:L}=await V.read();return{value:q,done:L}},async return(){return await V.cancel(),{done:!0,value:void 0}}}}},data:_}}function Y2(n,e,t,i){const o=(u,h)=>{const f=u.match(U2);if(!f)return;const m=f[1];try{const _=JSON.parse(m);if("result"in _){e(ma(_.result));return}if("message"in _){h.enqueue(ma(_.message));return}if("error"in _){const S=Ed(0,_);h.error(S),t(S);return}}catch(_){if(_ instanceof Cn){h.error(_),t(_);return}}},a=new TextDecoder;return new ReadableStream({start(u){let h="";return f();async function f(){if(i!=null&&i.aborted){const m=new Cn("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:_}=await n.read();if(_){h.trim()&&o(h.trim(),u),u.close();return}if(i!=null&&i.aborted){const A=new Cn("cancelled","Request was cancelled");u.error(A),t(A),await n.cancel();return}h+=a.decode(m,{stream:!0});const S=h.split(`
`);h=S.pop()||"";for(const A of S)A.trim()&&o(A.trim(),u);return f()}catch(m){const _=m instanceof Cn?m:Ed(0,null);u.error(_),t(_)}}},cancel(){return n.cancel()}})}const B0="@firebase/functions",q0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="auth-internal",J2="app-check-internal",Z2="messaging-internal";function eD(n){const e=(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider(X2),u=t.getProvider(Z2),h=t.getProvider(J2);return new $2(o,a,u,h,i)};er(new $n(ug,e,"PUBLIC").setMultipleInstances(!0)),sn(B0,q0,n),sn(B0,q0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n=Wl(),e=qp){const i=gi(ut(n),ug).getImmediate({identifier:e}),o=nm("functions");return o&&tD(i,...o),i}function tD(n,e,t){B2(ut(n),e,t)}function nD(n,e,t){return q2(ut(n),e)}eD();const rD={apiKey:"AIzaSyCG_qXbdnlbUIa1QYkzkzto1L8SXFdLLN8",authDomain:"ecommerce-pc-parts.firebaseapp.com",projectId:"ecommerce-pc-parts",storageBucket:"ecommerce-pc-parts.firebasestorage.app",messagingSenderId:"153204523621",appId:"1:153204523621:web:4b1e4bde73cf058b6dfc8c",measurementId:"G-QJTMEYB4PD"},Sa=Nw(rD),Nt=uR(Sa),xc=UN(Sa);fO(Sa);N2(Sa);ES(Sa,"us-central1");function TS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=TS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Hs(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=TS(n))&&(i&&(i+=" "),i+=e);return i}function iD(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}iD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nu=n=>typeof n=="number"&&!isNaN(n),Zs=n=>typeof n=="string",mi=n=>typeof n=="function",sD=n=>Zs(n)||nu(n),Hp=n=>Zs(n)||mi(n)?n:null,oD=(n,e)=>n===!1||nu(n)&&n>0?n:e,Wp=n=>Z.isValidElement(n)||Zs(n)||mi(n)||nu(n);function aD(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function lD({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:h,done:f,nodeRef:m,isIn:_,playToast:S}){let A=t?`${n}--${u}`:n,V=t?`${e}--${u}`:e,q=Z.useRef(0);return Z.useLayoutEffect(()=>{let L=m.current,M=A.split(" "),G=U=>{U.target===m.current&&(S(),L.removeEventListener("animationend",G),L.removeEventListener("animationcancel",G),q.current===0&&U.type!=="animationcancel"&&L.classList.remove(...M))};L.classList.add(...M),L.addEventListener("animationend",G),L.addEventListener("animationcancel",G)},[]),Z.useEffect(()=>{let L=m.current,M=()=>{L.removeEventListener("animationend",M),i?aD(L,f,o):f()};_||(h?M():(q.current=1,L.className+=` ${V}`,L.addEventListener("animationend",M)))},[_]),rt.createElement(rt.Fragment,null,a)}}function H0(n,e){return{content:SS(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function SS(n,e,t=!1){return Z.isValidElement(n)&&!Zs(n.type)?Z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):mi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function uD({closeToast:n,theme:e,ariaLabel:t="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cD({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:h,rtl:f,isIn:m,theme:_}){let S=o||u&&h===0,A={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(A.transform=`scaleX(${h})`);let V=Hs("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),q=mi(a)?a({rtl:f,type:i,defaultClassName:V}):Hs(V,a),L={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),rt.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:q,style:A,...L}))}var dD=1,IS=()=>`${dD++}`;function hD(n,e,t){let i=1,o=0,a=[],u=[],h=e,f=new Map,m=new Set,_=U=>(m.add(U),()=>m.delete(U)),S=()=>{u=Array.from(f.values()),m.forEach(U=>U())},A=({containerId:U,toastId:H,updateId:Q})=>{let D=U?U!==n:n!==1,z=f.has(H)&&Q==null;return D||z},V=(U,H)=>{f.forEach(Q=>{var D;(H==null||H===Q.props.toastId)&&((D=Q.toggle)==null||D.call(Q,U))})},q=U=>{var H,Q;(Q=(H=U.props)==null?void 0:H.onClose)==null||Q.call(H,U.removalReason),U.isActive=!1},L=U=>{if(U==null)f.forEach(q);else{let H=f.get(U);H&&q(H)}S()},M=()=>{o-=a.length,a=[]},G=U=>{var H,Q;let{toastId:D,updateId:z}=U.props,k=z==null;U.staleId&&f.delete(U.staleId),U.isActive=!0,f.set(D,U),S(),t(H0(U,k?"added":"updated")),k&&((Q=(H=U.props).onOpen)==null||Q.call(H))};return{id:n,props:h,observe:_,toggle:V,removeToast:L,toasts:f,clearQueue:M,buildToast:(U,H)=>{if(A(H))return;let{toastId:Q,updateId:D,data:z,staleId:k,delay:R}=H,I=D==null;I&&o++;let w={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(H).filter(([j,C])=>C!=null)),toastId:Q,updateId:D,data:z,isIn:!1,className:Hp(H.className||h.toastClassName),progressClassName:Hp(H.progressClassName||h.progressClassName),autoClose:H.isLoading?!1:oD(H.autoClose,h.autoClose),closeToast(j){f.get(Q).removalReason=j,L(Q)},deleteToast(){let j=f.get(Q);if(j!=null){if(t(H0(j,"removed")),f.delete(Q),o--,o<0&&(o=0),a.length>0){G(a.shift());return}S()}}};w.closeButton=h.closeButton,H.closeButton===!1||Wp(H.closeButton)?w.closeButton=H.closeButton:H.closeButton===!0&&(w.closeButton=Wp(h.closeButton)?h.closeButton:!0);let N={content:U,props:w,staleId:k};h.limit&&h.limit>0&&o>h.limit&&I?a.push(N):nu(R)?setTimeout(()=>{G(N)},R):G(N)},setProps(U){h=U},setToggle:(U,H)=>{let Q=f.get(U);Q&&(Q.toggle=H)},isToastActive:U=>{var H;return(H=f.get(U))==null?void 0:H.isActive},getSnapshot:()=>u}}var mn=new Map,zl=[],Gp=new Set,fD=n=>Gp.forEach(e=>e(n)),bS=()=>mn.size>0;function pD(){zl.forEach(n=>kS(n.content,n.options)),zl=[]}var mD=(n,{containerId:e})=>{var t;return(t=mn.get(e||1))==null?void 0:t.toasts.get(n)};function xS(n,e){var t;if(e)return!!((t=mn.get(e))!=null&&t.isToastActive(n));let i=!1;return mn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function gD(n){if(!bS()){zl=zl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||sD(n))mn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=mn.get(n.containerId);e?e.removeToast(n.id):mn.forEach(t=>{t.removeToast(n.id)})}}var yD=(n={})=>{mn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function kS(n,e){Wp(n)&&(bS()||zl.push({content:n,options:e}),mn.forEach(t=>{t.buildToast(n,e)}))}function vD(n){var e;(e=mn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function CS(n,e){mn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function _D(n){let e=n.containerId||1;return{subscribe(t){let i=hD(e,n,fD);mn.set(e,i);let o=i.observe(t);return pD(),()=>{o(),mn.delete(e)}},setProps(t){var i;(i=mn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=mn.get(e))==null?void 0:t.getSnapshot()}}}function wD(n){return Gp.add(n),()=>{Gp.delete(n)}}function ED(n){return n&&(Zs(n.toastId)||nu(n.toastId))?n.toastId:IS()}function ru(n,e){return kS(n,e),e.toastId}function nh(n,e){return{...e,type:e&&e.type||n,toastId:ED(e)}}function rh(n){return(e,t)=>ru(e,nh(n,t))}function be(n,e){return ru(n,nh("default",e))}be.loading=(n,e)=>ru(n,nh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function TD(n,{pending:e,error:t,success:i},o){let a;e&&(a=Zs(e)?be.loading(e,o):be.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,_,S)=>{if(_==null){be.dismiss(a);return}let A={type:m,...u,...o,data:S},V=Zs(_)?{render:_}:_;return a?be.update(a,{...A,...V}):be(V.render,{...A,...V}),S},f=mi(n)?n():n;return f.then(m=>h("success",i,m)).catch(m=>h("error",t,m)),f}be.promise=TD;be.success=rh("success");be.info=rh("info");be.error=rh("error");be.warning=rh("warning");be.warn=be.warning;be.dark=(n,e)=>ru(n,nh("default",{theme:"dark",...e}));function SD(n){gD(n)}be.dismiss=SD;be.clearWaitingQueue=yD;be.isActive=xS;be.update=(n,e={})=>{let t=mD(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:IS()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,ru(u,a)}};be.done=n=>{be.update(n,{progress:1})};be.onChange=wD;be.play=n=>CS(!0,n);be.pause=n=>CS(!1,n);function ID(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=Z.useRef(_D(n)).current;o(n);let a=(e=Z.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:_}=m.props;f.has(_)||f.set(_,[]),f.get(_).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:xS,count:a==null?void 0:a.length}}function bD(n){let[e,t]=Z.useState(!1),[i,o]=Z.useState(!1),a=Z.useRef(null),u=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:_,closeOnClick:S}=n;vD({id:n.toastId,containerId:n.containerId,fn:t}),Z.useEffect(()=>{if(n.pauseOnFocusLoss)return A(),()=>{V()}},[n.pauseOnFocusLoss]);function A(){document.hasFocus()||G(),window.addEventListener("focus",M),window.addEventListener("blur",G)}function V(){window.removeEventListener("focus",M),window.removeEventListener("blur",G)}function q(k){if(n.draggable===!0||n.draggable===k.pointerType){U();let R=a.current;u.canCloseOnClick=!0,u.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(u.start=k.clientX,u.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(u.start=k.clientY,u.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function L(k){let{top:R,bottom:I,left:w,right:N}=a.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&n.pauseOnHover&&k.clientX>=w&&k.clientX<=N&&k.clientY>=R&&k.clientY<=I?G():M()}function M(){t(!0)}function G(){t(!1)}function U(){u.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",D)}function H(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",D)}function Q(k){let R=a.current;if(u.canDrag&&R){u.didMove=!0,e&&G(),n.draggableDirection==="x"?u.delta=k.clientX-u.start:u.delta=k.clientY-u.start,u.start!==k.clientX&&(u.canCloseOnClick=!1);let I=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;R.style.transform=`translate3d(${I},0)`,R.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function D(){H();let k=a.current;if(u.canDrag&&u.didMove&&k){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let z={onPointerDown:q,onPointerUp:L};return h&&f&&(z.onMouseEnter=G,n.stacked||(z.onMouseLeave=M)),S&&(z.onClick=k=>{_&&_(k),u.canCloseOnClick&&m(!0)}),{playToast:M,pauseToast:G,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:z}}var xD=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,ih=({theme:n,type:e,isLoading:t,...i})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function kD(n){return rt.createElement(ih,{...n},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CD(n){return rt.createElement(ih,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function PD(n){return rt.createElement(ih,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function RD(n){return rt.createElement(ih,{...n},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function AD(){return rt.createElement("div",{className:"Toastify__spinner"})}var Kp={info:CD,warning:kD,success:PD,error:RD,spinner:AD},ND=n=>n in Kp;function OD({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(mi(i)?o=i({...a,isLoading:t}):Z.isValidElement(i)?o=Z.cloneElement(i,a):t?o=Kp.spinner():ND(e)&&(o=Kp[e](a))),o}var DD=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=bD(n),{closeButton:u,children:h,autoClose:f,onClick:m,type:_,hideProgressBar:S,closeToast:A,transition:V,position:q,className:L,style:M,progressClassName:G,updateId:U,role:H,progress:Q,rtl:D,toastId:z,deleteToast:k,isIn:R,isLoading:I,closeOnClick:w,theme:N,ariaLabel:j}=n,C=Hs("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":w}),X=mi(L)?L({rtl:D,position:q,type:_,defaultClassName:C}):Hs(C,L),pe=OD(n),de=!!Q||!f,b={closeToast:A,type:_,theme:N},se=null;return u===!1||(mi(u)?se=u(b):Z.isValidElement(u)?se=Z.cloneElement(u,b):se=uD(b)),rt.createElement(V,{isIn:R,done:k,position:q,preventExitTransition:t,nodeRef:i,playToast:a},rt.createElement("div",{id:z,tabIndex:0,onClick:m,"data-in":R,className:X,...o,style:M,ref:i,...R&&{role:H,"aria-label":j}},pe!=null&&rt.createElement("div",{className:Hs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},pe),SS(h,n,!e),se,!n.customProgressBar&&rt.createElement(cD,{...U&&!de?{key:`p-${U}`}:{},rtl:D,theme:N,delay:f,isRunning:e,isIn:R,closeToast:A,hide:S,type:_,className:G,controlledProgress:de,progress:Q||0})))},LD=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),jD=lD(LD("bounce",!0)),MD={position:"top-right",transition:jD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function VD(n){let e={...MD,...n},t=n.stacked,[i,o]=Z.useState(!0),a=Z.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=ID(e),{className:m,style:_,rtl:S,containerId:A,hotKeys:V}=e;function q(M){let G=Hs("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":S});return mi(m)?m({position:M,rtl:S,defaultClassName:G}):Hs(G,Hp(m))}function L(){t&&(o(!0),be.play())}return xD(()=>{var M;if(t){let G=a.current.querySelectorAll('[data-in="true"]'),U=12,H=(M=e.position)==null?void 0:M.includes("top"),Q=0,D=0;Array.from(G).reverse().forEach((z,k)=>{let R=z;R.classList.add("Toastify__toast--stacked"),k>0&&(R.dataset.collapsed=`${i}`),R.dataset.pos||(R.dataset.pos=H?"top":"bot");let I=Q*(i?.2:1)+(i?0:U*k);R.style.setProperty("--y",`${H?I:I*-1}px`),R.style.setProperty("--g",`${U}`),R.style.setProperty("--s",`${1-(i?D:0)}`),Q+=R.offsetHeight,D+=.025})}},[i,f,t]),Z.useEffect(()=>{function M(G){var U;let H=a.current;V(G)&&((U=H.querySelector('[tabIndex="0"]'))==null||U.focus(),o(!1),be.pause()),G.key==="Escape"&&(document.activeElement===H||H!=null&&H.contains(document.activeElement))&&(o(!0),be.play())}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[V]),rt.createElement("section",{ref:a,className:"Toastify",id:A,onMouseEnter:()=>{t&&(o(!1),be.pause())},onMouseLeave:L,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((M,G)=>{let U=G.length?{..._}:{..._,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:q(M),"data-stacked":t,style:U,key:`c-${M}`},G.map(({content:H,props:Q})=>rt.createElement(DD,{...Q,stacked:t,collapseAll:L,isIn:h(Q.toastId,Q.containerId),key:`t-${Q.key}`},H)))}))}const PS=Z.createContext(void 0),FD=({children:n})=>{const e=()=>{try{const S=localStorage.getItem("cart");return console.log("Cargando carrito desde localStorage:",S),console.log("Dominio actual:",window.location.hostname),console.log("Protocolo:",window.location.protocol),S?JSON.parse(S):[]}catch(S){return console.error("Error al cargar el carrito desde localStorage:",S),[]}},[t,i]=Z.useState(e()),[o,a]=Z.useState(null);Z.useEffect(()=>{try{console.log("Guardando carrito en localStorage:",t),console.log("Dominio actual:",window.location.hostname),localStorage.setItem("cart",JSON.stringify(t))}catch(S){console.error("Error al guardar el carrito en localStorage:",S)}},[t]);const u=S=>{const A=t.find(q=>q.id===S.id),V=A?A.quantity:0;if(S.stock!==void 0&&V>=S.stock){be.error(`No hay más stock disponible para ${S.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}a(S),i(q=>A?q.map(L=>L.id===S.id?{...L,quantity:L.quantity+1}:L):[...q,{...S,quantity:1}])},h=S=>{const A=t.find(V=>V.id===S);if(A){if(A.stock!==void 0&&A.quantity>=A.stock){be.error(`No hay más stock disponible para ${A.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}i(V=>V.map(q=>q.id===S?{...q,quantity:q.quantity+1}:q))}},f=S=>{i(A=>{const V=A.find(q=>q.id===S);return V&&V.quantity>1?A.map(q=>q.id===S?{...q,quantity:q.quantity-1}:q):A.filter(q=>q.id!==S)})},m=S=>{i(A=>{const V=A.find(q=>q.id===S);return V&&V.quantity>1?A.map(q=>q.id===S?{...q,quantity:q.quantity-1}:q):A.filter(q=>q.id!==S)})},_=()=>{i([])};return Z.useEffect(()=>{if(o){const S=t.find(A=>A.id===o.id);S?be.success(`${o.name} añadido al carrito (x${S.quantity})`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):be.success(`${o.name} añadido al carrito`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a(null)}},[t,o]),v.jsx(PS.Provider,{value:{cartItems:t,addToCart:u,removeFromCart:m,clearCart:_,increaseQuantity:h,decreaseQuantity:f},children:n})},Ir=()=>{const n=Z.useContext(PS);if(!n)throw new Error("useCart must be used within a CartProvider");return n},zn=n=>n.toLocaleString("es-CO",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),UD=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Ir();Z.useEffect(()=>{const u=Ea(pn(Nt,"products"),Um("sales","desc"),$m(4)),h=tr(u,f=>{const m=f.docs.map(_=>({id:_.id,..._.data()}));e(m)},f=>{console.error("Error fetching recently viewed products:",f)});return()=>h()},[]);const o=u=>{t(`/product/${u}`)},a=u=>{i(u)};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Recientemente visto"}),n.length>0?v.jsx(kd,{dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}],children:n.map(u=>v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),v.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(u.price)]}),v.jsx("button",{onClick:()=>a(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]})},u.id))}):v.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos recientes."})]})})},zD=()=>{const[n,e]=Z.useState([]),[t,i]=Z.useState("all"),o=an(),{addToCart:a}=Ir();Z.useEffect(()=>{const m=tr(pn(Nt,"products"),_=>{const S=_.docs.map(A=>({id:A.id,...A.data()}));S.forEach(A=>{console.log(`Producto: ${A.name}, Categoría: ${A.category}`)}),e(S)});return()=>m()},[]);const u=["all","Almacenamiento Externo","Chasís","Coolers","Diadema","Fuente de poder","Memoria Ram","Mouse","Mouse Pads","Motherboards","Procesadores","SSD","Tarjeta Gráfica"],h=m=>{o(`/product/${m}`)},f=(m,_)=>m-m*_/100;return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Productos"}),v.jsxs("div",{className:"mb-6 flex items-center",children:[v.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categoría:"}),v.jsx("select",{value:t,onChange:m=>i(m.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button text-black bg-white",children:u.map(m=>v.jsx("option",{value:m,className:"",children:m},m))})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(m=>{if(t==="all")return!0;const _=m.category?m.category.toLowerCase():"",S=t.toLowerCase();return _===S}).map(m=>v.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>h(m.id)}),v.jsx("h3",{className:"text-lg font-medium text-black truncate",children:m.name})]}),v.jsxs("div",{className:"mt-auto",children:[m.discount&&m.discount>0?v.jsxs("div",{children:[v.jsxs("p",{className:"text-xl text-gray-500 line-through text-black mb-1",children:["$",zn(m.price)]}),v.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(f(m.price,m.discount))," "," ",v.jsxs("span",{className:"text-red-500",children:["(-",m.discount,"%)"]})]})]}):v.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(m.price)," "]}),v.jsx("button",{onClick:()=>a(m),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]},m.id))})]})})},$D=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Ir();Z.useEffect(()=>{const u=Ea(pn(Nt,"products"),Mm("discount",">",0)),h=tr(u,f=>{const m=f.docs.map(_=>({id:_.id,..._.data()}));e(m)},f=>{console.error("Error fetching offers:",f)});return()=>h()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas Especiales"}),n.length>0?v.jsx(kd,{...a,children:n.map(u=>v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),v.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:[v.jsxs("span",{className:"text-red-500",children:["(-",u.discount,"%)"]}),v.jsx("br",{}),"$",zn(u.price)]}),v.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]})},u.id))}):v.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},BD=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Ir();Z.useEffect(()=>{const u=Ea(pn(Nt,"products"),Um("sales","desc"),$m(4)),h=tr(u,f=>{const m=f.docs.map(_=>({id:_.id,..._.data()}));e(m)},f=>{console.error("Error fetching top selling products:",f)});return()=>h()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Más Vendidos"}),n.length>0?v.jsx(kd,{...a,children:n.map(u=>v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),v.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(u.price)," "]}),v.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]})},u.id))}):v.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos más vendidos."})]})})},qD=()=>v.jsxs("div",{className:"container mx-auto",children:[v.jsx(Nx,{}),v.jsx(UD,{}),v.jsx($D,{}),v.jsx(BD,{}),v.jsx(zD,{})]}),HD=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Ir();Z.useEffect(()=>{const a=Ea(pn(Nt,"products"),Mm("discount",">",0)),u=tr(a,h=>{const f=h.docs.map(m=>({id:m.id,...m.data()}));e(f)},h=>{console.error("Error fetching offers:",h)});return()=>u()},[]);const o=a=>{t(`/product/${a}`)};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas"}),n.length>0?v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.map(a=>v.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("img",{src:a.image||"/placeholder.jpg",alt:a.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(a.id)}),v.jsx("h3",{className:"text-lg font-medium text-black truncate",children:a.name})]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:[v.jsxs("span",{className:"text-red-500",children:["(-",a.discount,"%)"]}),v.jsx("br",{}),"$",zn(a.price)]}),v.jsx("button",{onClick:()=>i(a),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]},a.id))}):v.jsx("p",{style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},WD=()=>{const[n,e]=Z.useState([]),[t,i]=Z.useState("all"),o=an(),{addToCart:a}=Ir();Z.useEffect(()=>{const f=tr(pn(Nt,"products"),m=>{const _=m.docs.map(S=>({id:S.id,...S.data()}));e(_)});return()=>f()},[]);const u=["all","Almacenamiento Externo","Chasís","Coolers","Diadema","Fuente de poder","Memoria Ram","Mouse","Mouse Pads","Motherboards","Procesadores","SSD","Tarjeta Gráfica"],h=f=>{o(`/product/${f}`)};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Categorías"}),v.jsxs("div",{className:"mb-6 flex items-center",children:[v.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categoría:"}),v.jsx("select",{value:t,onChange:f=>i(f.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button",style:{color:"var(--text-color)"},children:u.map(f=>v.jsx("option",{value:f,className:"text-black",children:f},f))})]}),n.length>0?v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(f=>t==="all"||f.category===t).map(f=>v.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>h(f.id)}),v.jsx("h3",{className:"text-lg font-medium text-black truncate",children:f.name})]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(f.price)]}),v.jsx("button",{onClick:()=>a(f),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]},f.id))}):v.jsx("p",{style:{color:"var(--text-color)"},children:"No hay productos disponibles."})]})})},RS=Z.createContext(void 0),GD=({children:n})=>{const[e,t]=Z.useState(null),[i,o]=Z.useState(!0);Z.useEffect(()=>{const h=PA(xc,f=>{t(f),o(!1)});return()=>h()},[]);const a=async(h,f)=>{await xA(xc,h,f)},u=async()=>{await RA(xc)};return v.jsx(RS.Provider,{value:{currentUser:e,signIn:a,signOut:u,auth:xc},children:i?v.jsx("div",{children:"Cargando..."}):n})},ao=()=>{const n=Z.useContext(RS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},KD=()=>{const{id:n}=Ib(),[e,t]=Z.useState(null),[i,o]=Z.useState([]),[a,u]=Z.useState(""),[h,f]=Z.useState(!0),[m,_]=Z.useState(!1),{addToCart:S}=Ir(),{currentUser:A}=ao(),V=an();Z.useEffect(()=>{const M=async()=>{if(n)try{const D=await dT(Ks(Nt,"products",n));D.exists()?t({id:D.id,...D.data()}):console.log("Producto no encontrado:",n)}catch(D){console.error("Error al obtener el producto:",D)}finally{f(!1)}},G=()=>{if(!n)return;const D=pn(Nt,"products",n,"reviews");return tr(D,k=>{const R=k.docs.map(I=>({id:I.id,...I.data()}));o(R)},k=>{console.error("Error al obtener reviews:",k)})},U=()=>{if(!n||!A)return;const D=pn(Nt,"wishlists",A.uid,"products");return tr(D,k=>{const I=k.docs.map(w=>({id:w.id,...w.data()})).some(w=>w.productId===n);_(I)},k=>{console.error("Error al obtener la lista de deseados:",k)})};M();const H=G(),Q=U();return()=>{H&&H(),Q&&Q()}},[n,A]);const q=async()=>{if(!A){V("/auth");return}if(!n)return;const M=pn(Nt,"wishlists",A.uid,"products"),G=Ks(M,n);try{m?(await Hm(G),be.success("Producto eliminado de la lista de deseados")):(await Fp(M,{productId:n,addedAt:xt.fromDate(new Date)}),be.success("Producto añadido a la lista de deseados"))}catch(U){console.error("Error al actualizar la lista de deseados:",U),be.error("Error al actualizar la lista de deseados")}},L=async M=>{if(M.preventDefault(),!A){V("/auth");return}if(!(!n||!a.trim()))try{await Fp(pn(Nt,"products",n,"reviews"),{userId:A.uid,userEmail:A.email,comment:a.trim(),createdAt:xt.fromDate(new Date)}),u("")}catch(G){console.error("Error al enviar la reseña:",G)}};return h?v.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):e?v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsx("button",{onClick:()=>V(-1),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00] mb-4",children:"← Volver"}),v.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:e.name}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsx("div",{children:v.jsx("img",{src:e.image||"/placeholder.jpg",alt:e.name,className:"w-full h-96 object-cover rounded-lg"})}),v.jsxs("div",{className:"flex flex-col justify-between",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"text-2xl text-[#f90] mb-4",children:[zn(e.price)," COP"]}),e.discount&&e.discount>0&&v.jsxs("p",{className:"text-md text-red-500 mb-4",children:["Descuento: ",e.discount,"%"]}),v.jsx("p",{className:"mb-4",style:{color:"var(--text-color)"},children:e.description}),v.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[v.jsx("strong",{children:"Categoría:"})," ",e.category]}),v.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[v.jsx("strong",{children:"Stock:"})," ",e.stock]}),e.coupon&&v.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[v.jsx("strong",{children:"Cupón:"})," ",e.coupon]})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:()=>S(e),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00] flex-1",children:"Añadir al carrito"}),v.jsx("button",{onClick:q,className:`p-3 rounded-md ${m?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"} hover:bg-red-600 hover:text-white`,"aria-label":m?"Eliminar de la lista de deseados":"Añadir a la lista de deseados",children:m?"❤️":"♡"})]})]})]}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Reseñas"}),i.length>0?v.jsx("div",{className:"space-y-4",children:i.map(M=>v.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[v.jsx("p",{style:{color:"var(--text-color)"},children:v.jsx("strong",{children:M.userEmail})}),v.jsx("p",{style:{color:"var(--text-color)"},children:M.comment}),v.jsx("p",{className:"text-gray-400 text-sm",children:M.createdAt.toDate().toLocaleDateString()})]},M.id))}):v.jsx("p",{style:{color:"var(--text-color)"},children:"No hay reseñas todavía."}),A&&v.jsxs("form",{onSubmit:L,className:"mt-6 space-y-4",children:[v.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--text-color)"},children:"Deja tu reseña"}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Comentario"}),v.jsx("textarea",{value:a,onChange:M=>u(M.target.value),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4,required:!0})]}),v.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Enviar Reseña"})]})]})]}):v.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Producto no encontrado"})},QD=()=>{const{cartItems:n,removeFromCart:e,clearCart:t,increaseQuantity:i,decreaseQuantity:o}=Ir(),a=an(),u=n.reduce((f,m)=>f+m.price*m.quantity,0),h=()=>{if(n.length===0){alert("El carrito está vacío. Agrega productos antes de pagar.");return}a("/payment",{state:{total:u,cartItems:n}})};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Carrito de Compras"}),n.length>0?v.jsxs("div",{children:[v.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(f=>v.jsxs("div",{className:"flex items-center bg-white p-4 rounded-lg border border-gray-300",children:[v.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-lg font-medium text-black",children:f.name}),v.jsxs("p",{className:"text-xl text-black",children:["$",zn(f.price)," x ",f.quantity]}),v.jsxs("p",{className:"text-md text-black",children:["Subtotal: $",zn(f.price*f.quantity)]}),v.jsxs("div",{className:"flex items-center mt-2",children:[v.jsx("button",{onClick:()=>o(f.id),className:"bg-gray-300 text-black px-3 py-1 rounded-md hover:bg-gray-400",children:"−"}),v.jsx("span",{className:"mx-3 text-black",children:f.quantity}),v.jsx("button",{onClick:()=>i(f.id),className:"bg-gray-300 text-black px-3 py-1 rounded-md hover:bg-gray-400",children:"+"})]})]}),v.jsx("button",{onClick:()=>e(f.id),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Eliminar"})]},f.id))}),v.jsxs("div",{className:"mt-6 text-right",children:[v.jsxs("p",{className:"text-2xl font-semibold text-black",children:["TOTAL: $",zn(u)]}),v.jsx("button",{onClick:t,className:"mt-4 bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600 mr-4",children:"Limpiar carrito"}),v.jsx("button",{onClick:h,className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Proceder al pago"})]})]}):v.jsx("p",{style:{color:"var(--text-color)"},children:"Tu carrito está vacío."})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qp=function(){return Qp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},Qp.apply(this,arguments)},Yp,YD=function(n){var e;n?function(t){if(t)for(;t.lastChild;)t.lastChild.remove()}(typeof n=="string"?document.getElementById(n):n):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},XD=function(n,e){YD(e),window.___grecaptcha_cfg=void 0;var t=document.querySelector("#"+n);t&&t.remove(),function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()}()},JD=function(n){var e=n.render,t=n.onLoadCallbackName,i=n.language,o=n.onLoad,a=n.useRecaptchaNet,u=n.useEnterprise,h=n.scriptProps,f=h===void 0?{}:h,m=f.nonce,_=m===void 0?"":m,S=f.defer,A=S!==void 0&&S,V=f.async,q=V!==void 0&&V,L=f.id,M=L===void 0?"":L,G=f.appendTo,U=M||"google-recaptcha-v3";if(function(D){return!!document.querySelector("#"+D)}(U))o();else{var H=function(D){return"https://www."+(D.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(D.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:u,useRecaptchaNet:a}),Q=document.createElement("script");Q.id=U,Q.src=H+"?render="+e+(e==="explicit"?"&onload="+t:"")+(i?"&hl="+i:""),_&&(Q.nonce=_),Q.defer=!!A,Q.async=!!q,Q.onload=o,(G==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(Q)}},W0=function(n){console.warn(n)};(function(n){n.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Yp||(Yp={}));var cg=Z.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});cg.Consumer;function AS(n){var e=n.reCaptchaKey,t=n.useEnterprise,i=t!==void 0&&t,o=n.useRecaptchaNet,a=o!==void 0&&o,u=n.scriptProps,h=n.language,f=n.container,m=n.children,_=Z.useState(null),S=_[0],A=_[1],V=Z.useRef(e),q=JSON.stringify(u),L=JSON.stringify(f==null?void 0:f.parameters);Z.useEffect(function(){if(e){var U=(u==null?void 0:u.id)||"google-recaptcha-v3",H=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[H]=function(){var Q=i?window.grecaptcha.enterprise:window.grecaptcha,D=Qp({badge:"inline",size:"invisible",sitekey:e},(f==null?void 0:f.parameters)||{});V.current=Q.render(f==null?void 0:f.element,D)},JD({render:f!=null&&f.element?"explicit":e,onLoadCallbackName:H,useEnterprise:i,useRecaptchaNet:a,scriptProps:u,language:h,onLoad:function(){if(window&&window.grecaptcha){var Q=i?window.grecaptcha.enterprise:window.grecaptcha;Q.ready(function(){A(Q)})}else W0("<GoogleRecaptchaProvider /> "+Yp.SCRIPT_NOT_AVAILABLE)}}),function(){XD(U,f==null?void 0:f.element)}}W0("<GoogleReCaptchaProvider /> recaptcha key not provided")},[i,a,q,L,h,e,f==null?void 0:f.element]);var M=Z.useCallback(function(U){if(!S||!S.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return S.execute(V.current,{action:U})},[S,V]),G=Z.useMemo(function(){return{executeRecaptcha:S?M:void 0,container:f==null?void 0:f.element}},[M,S,f==null?void 0:f.element]);return rt.createElement(cg.Provider,{value:G},m)}var NS=function(){return Z.useContext(cg)};function OS(n,e){return n(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var Bt=typeof Symbol=="function"&&Symbol.for,Xp=Bt?Symbol.for("react.element"):60103,Jp=Bt?Symbol.for("react.portal"):60106,Mc=Bt?Symbol.for("react.fragment"):60107,Vc=Bt?Symbol.for("react.strict_mode"):60108,Fc=Bt?Symbol.for("react.profiler"):60114,Uc=Bt?Symbol.for("react.provider"):60109,zc=Bt?Symbol.for("react.context"):60110,Zp=Bt?Symbol.for("react.async_mode"):60111,Td=Bt?Symbol.for("react.concurrent_mode"):60111,$c=Bt?Symbol.for("react.forward_ref"):60112,Bc=Bt?Symbol.for("react.suspense"):60113,ZD=Bt?Symbol.for("react.suspense_list"):60120,qc=Bt?Symbol.for("react.memo"):60115,Hc=Bt?Symbol.for("react.lazy"):60116,eL=Bt?Symbol.for("react.block"):60121,tL=Bt?Symbol.for("react.fundamental"):60117,nL=Bt?Symbol.for("react.responder"):60118,rL=Bt?Symbol.for("react.scope"):60119;function Vn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Xp:switch(n=n.type){case Zp:case Td:case Mc:case Fc:case Vc:case Bc:return n;default:switch(n=n&&n.$$typeof){case zc:case $c:case Hc:case qc:case Uc:return n;default:return e}}case Jp:return e}}}function G0(n){return Vn(n)===Td}var iL={AsyncMode:Zp,ConcurrentMode:Td,ContextConsumer:zc,ContextProvider:Uc,Element:Xp,ForwardRef:$c,Fragment:Mc,Lazy:Hc,Memo:qc,Portal:Jp,Profiler:Fc,StrictMode:Vc,Suspense:Bc,isAsyncMode:function(n){return G0(n)||Vn(n)===Zp},isConcurrentMode:G0,isContextConsumer:function(n){return Vn(n)===zc},isContextProvider:function(n){return Vn(n)===Uc},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Xp},isForwardRef:function(n){return Vn(n)===$c},isFragment:function(n){return Vn(n)===Mc},isLazy:function(n){return Vn(n)===Hc},isMemo:function(n){return Vn(n)===qc},isPortal:function(n){return Vn(n)===Jp},isProfiler:function(n){return Vn(n)===Fc},isStrictMode:function(n){return Vn(n)===Vc},isSuspense:function(n){return Vn(n)===Bc},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===Mc||n===Td||n===Fc||n===Vc||n===Bc||n===ZD||typeof n=="object"&&n!==null&&(n.$$typeof===Hc||n.$$typeof===qc||n.$$typeof===Uc||n.$$typeof===zc||n.$$typeof===$c||n.$$typeof===tL||n.$$typeof===nL||n.$$typeof===rL||n.$$typeof===eL)},typeOf:Vn},nt=OS(function(n,e){}),K0=(nt.AsyncMode,nt.ConcurrentMode,nt.ContextConsumer,nt.ContextProvider,nt.Element,nt.ForwardRef,nt.Fragment,nt.Lazy,nt.Memo,nt.Portal,nt.Profiler,nt.StrictMode,nt.Suspense,nt.isAsyncMode,nt.isConcurrentMode,nt.isContextConsumer,nt.isContextProvider,nt.isElement,nt.isForwardRef,nt.isFragment,nt.isLazy,nt.isMemo,nt.isPortal,nt.isProfiler,nt.isStrictMode,nt.isSuspense,nt.isValidElementType,nt.typeOf,OS(function(n){n.exports=iL})),sL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q0={};Q0[K0.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Q0[K0.Memo]=sL;const oL="6Le6wP8qAAAAAIV6aM1kbahFnM3jH8Z5ieJ_pGMQ",aL=()=>{const[n,e]=Z.useState(""),[t,i]=Z.useState(""),[o,a]=Z.useState(""),{signIn:u,auth:h,currentUser:f,signOut:m}=ao(),_=an(),{executeRecaptcha:S}=NS(),[A,V]=Z.useState(!1);if(f)return v.jsx("div",{className:"bg-body text-white p-6",children:v.jsxs("div",{className:"container mx-auto max-w-md",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ya estás autenticado"}),v.jsxs("p",{className:"mb-4",children:["Hola, ",f.email,"!"]}),v.jsx("button",{onClick:async()=>{await m(),be.success("Sesión cerrada exitosamente"),_("/")},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Cerrar Sesión"}),v.jsx("p",{className:"mt-4 text-center",children:v.jsx(Rt,{to:"/",className:"text-[#f90] hover:underline",children:"Volver al inicio"})})]})});const q=async M=>{if(M.preventDefault(),a(""),!S){be.error("Error al cargar reCAPTCHA. Intenta de nuevo.");return}V(!0);try{const G=await S("login");if(!G)throw new Error("No se pudo obtener el token de reCAPTCHA.");console.log("reCAPTCHA Token:",G);const U=ES(Sa,"us-central1"),Q=await nD(U,"loginUserWithRecaptcha")({email:n,password:t,recaptchaToken:G});if(Q.data.success)await u(n,t),be.success("Inicio de sesión exitoso"),_("/");else throw new Error(Q.data.message||"Error al iniciar sesión")}catch(G){const U=G.message||"Error al iniciar sesión";U.includes("reCAPTCHA")?(a("Error al verificar reCAPTCHA. Intenta de nuevo."),be.error("Error al verificar reCAPTCHA. Intenta de nuevo.")):U.includes("auth/")?(a("Correo o contraseña incorrectos."),be.error("Correo o contraseña incorrectos.")):(a(U),be.error(U))}finally{V(!1)}},L=async()=>{a(""),V(!0);try{const M=new Mr;if((await WT(h,M)).user)be.success("Inicio de sesión con Google exitoso"),_("/");else throw new Error("No se pudo obtener el usuario de Google.")}catch(M){const G=M.message||"Error al iniciar sesión con Google";a(G),be.error(G)}finally{V(!1)}};return v.jsx("div",{className:"bg-body text-white p-6",children:v.jsxs("div",{className:"container mx-auto max-w-md",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Iniciar Sesión"}),o&&v.jsx("p",{className:"text-red-500 mb-4",children:o}),v.jsxs("form",{onSubmit:q,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Correo Electrónico"}),v.jsx("input",{type:"email",value:n,onChange:M=>e(M.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Contraseña"}),v.jsx("input",{type:"password",value:t,onChange:M=>i(M.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),v.jsx("button",{type:"submit",disabled:A,className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00] disabled:opacity-50",children:A?"Iniciando...":"Iniciar Sesión"})]}),v.jsx("div",{className:"mt-4",children:v.jsxs("button",{onClick:L,disabled:A,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:v.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.032,2,12.545,2C6.735,2,2,6.735,2,12.545c0,5.81,4.735,10.545,10.545,10.545c5.81,0,10.545-4.735,10.545-10.545c0-0.641-0.057-1.265-0.163-1.871H12.545z"})}),A?"Iniciando...":"Iniciar Sesión con Google"]})}),v.jsxs("p",{className:"mt-4 text-center",children:["¿No tienes una cuenta?"," ",v.jsx(Rt,{to:"/auth/register",className:"text-[#f90] hover:underline",children:"Regístrate"})]})]})})},lL=()=>v.jsx(AS,{reCaptchaKey:oL,children:v.jsx(aL,{})}),uL=()=>{const{currentUser:n}=ao(),e=an(),[t,i]=Z.useState([]),[o,a]=Z.useState({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""});Z.useEffect(()=>{if(!n||n.email!=="admin@example.com"){e("/");return}const m=tr(pn(Nt,"products"),_=>{const S=_.docs.map(A=>({id:A.id,...A.data()}));i(S)});return()=>m()},[n,e]);const u=async m=>{m.preventDefault();try{await Fp(pn(Nt,"products"),{...o,nameLowercase:o.name.toLowerCase()}),a({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""})}catch(_){console.error("Error al añadir producto:",_)}},h=async m=>{try{await Hm(Ks(Nt,"products",m))}catch(_){console.error("Error al eliminar producto:",_)}},f=async(m,_)=>{try{await xR(Ks(Nt,"products",m),{stock:_})}catch(S){console.error("Error al actualizar stock:",S)}};return!n||n.email!=="admin@example.com"?null:v.jsx("div",{className:"p-6  min-h-screen",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-6",style:{color:"var(--text-color)"},children:"Panel Administrativo"}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Añadir Nuevo Producto"}),v.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Nombre"}),v.jsx("input",{type:"text",value:o.name,onChange:m=>a({...o,name:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Precio"}),v.jsx("input",{type:"number",value:o.price,onChange:m=>a({...o,price:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Imagen (URL)"}),v.jsx("input",{type:"text",value:o.image,onChange:m=>a({...o,image:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Categoría"}),v.jsx("input",{type:"text",value:o.category,onChange:m=>a({...o,category:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descripción"}),v.jsx("textarea",{value:o.description,onChange:m=>a({...o,description:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descuento (%)"}),v.jsx("input",{type:"number",value:o.discount,onChange:m=>a({...o,discount:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Ventas"}),v.jsx("input",{type:"number",value:o.sales,onChange:m=>a({...o,sales:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Stock"}),v.jsx("input",{type:"number",value:o.stock,onChange:m=>a({...o,stock:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Cupón"}),v.jsx("input",{type:"text",value:o.coupon,onChange:m=>a({...o,coupon:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),v.jsx("div",{className:"md:col-span-2",children:v.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00] w-full",children:"Añadir Producto"})})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Gestionar Productos"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(m=>v.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[v.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-full h-40 object-cover rounded-md mb-4"}),v.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:m.name}),v.jsxs("p",{className:"text-md text-[#f90] mb-2",children:["$",m.price]}),v.jsxs("p",{style:{color:"var(--text-color)"},children:["Stock: ",m.stock]}),v.jsxs("div",{className:"flex items-center mt-2 gap-2",children:[v.jsx("input",{type:"number",defaultValue:m.stock,onBlur:_=>f(m.id,Number(_.target.value)),className:"w-20 p-2 rounded-md bg-gray-200 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}}),v.jsx("button",{onClick:()=>h(m.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Eliminar"})]})]},m.id))})]})]})})},cL=()=>{const{search:n}=Bl(),e=an(),[t,i]=Z.useState([]),[o,a]=Z.useState(!0),h=new URLSearchParams(n).get("q");return Z.useEffect(()=>{if(!h){e("/");return}a(!0);const f=h.toLowerCase().trim(),m=Ea(pn(Nt,"products"),Mm("searchKeywords","array-contains",f)),_=tr(m,S=>{const A=S.docs.map(V=>({id:V.id,...V.data()}));i(A),a(!1)},S=>{console.error("Error fetching search results:",S),a(!1)});return()=>_()},[h,e]),o?v.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):h?v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsxs("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:["Resultados de búsqueda para: ",h]}),t.length>0?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(f=>v.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg border border-gray-700 bg-white justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-full h-40 object-cover rounded-md mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-black truncate",children:f.name})]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("p",{className:"text-2x1 text-button text-black mb-2",children:["$",zn(f.price)," "]}),v.jsx("button",{onClick:()=>e(`/product/${f.id}`),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Ver detalles"})]})]},f.id))}):v.jsxs("p",{style:{color:"var(--text-color)"},children:['No se encontraron productos para "',h,'".']})]}):v.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"No se proporcionó término de búsqueda"})},dL="6Le6wP8qAAAAAIV6aM1kbahFnM3jH8Z5ieJ_pGMQ",hL=()=>{const{executeRecaptcha:n}=NS(),e=an(),{auth:t}=ao(),[i,o]=Z.useState(""),[a,u]=Z.useState(""),[h,f]=Z.useState(""),[m,_]=Z.useState(!1),S=async V=>{if(V.preventDefault(),!n){be.error("Error al cargar reCAPTCHA. Intenta de nuevo.");return}_(!0);try{const q=await n("register");if(!q)throw new Error("No se pudo obtener el token de reCAPTCHA.");console.log("reCAPTCHA Token:",q);const L=await fetch("https://us-central1-ecommerce-pc-parts.cloudfunctions.net/registerUserWithRecaptcha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{email:i,password:a,recaptchaToken:q}})});if(!L.ok){const H=await L.json();throw new Error(H.error||"Error al registrarse")}const M=await L.json(),{success:G,message:U}=M.data;if(G){be.success("Registro exitoso. ¡Bienvenido!");const H=await fetch("https://us-central1-ecommerce-pc-parts.cloudfunctions.net/sendWelcomeEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{email:i,fullName:h}})});if(H.ok){const Q=await H.json(),{success:D,message:z}=Q.data;D?(console.log("Correo de bienvenida enviado:",z),be.info("Se ha enviado un correo de bienvenida.")):(console.error("Error al enviar correo:",z),be.error("Registro exitoso, pero falló el envío del correo."))}else{const Q=await H.json();console.error("Error al enviar correo:",Q.error),be.error("Registro exitoso, pero falló el envío del correo.")}e("/auth")}else throw new Error(U||"Error al registrarse")}catch(q){const L=q.message||"Error al registrarse";L.includes("reCAPTCHA")?be.error("Error al verificar reCAPTCHA. Intenta de nuevo."):L.includes("auth/email-already-in-use")?be.error("El correo ya está registrado. Intenta iniciar sesión."):be.error(L)}finally{_(!1)}},A=async()=>{_(!0);try{const V=new Mr,L=(await WT(t,V)).user;if(L){const M=await fetch("https://us-central1-ecommerce-pc-parts.cloudfunctions.net/sendWelcomeEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{email:L.email||"",fullName:L.displayName||"Usuario"}})});if(M.ok){const G=await M.json(),{success:U,message:H}=G.data;U?(console.log("Correo de bienvenida enviado:",H),be.info("Se ha enviado un correo de bienvenida.")):(console.error("Error al enviar correo:",H),be.error("Registro exitoso, pero falló el envío del correo."))}else{const G=await M.json();console.error("Error al enviar correo:",G.error),be.error("Registro exitoso, pero falló el envío del correo.")}be.success("Registro con Google exitoso"),e("/")}else throw new Error("No se pudo obtener el usuario de Google.")}catch(V){const q=V.message||"Error al registrarse con Google";be.error(q)}finally{_(!1)}};return v.jsxs("div",{className:"space-y-4 max-w-md mx-auto p-6 rounded-lg shadow-lg",children:[v.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"var(--text-color)"},children:"Registro"}),v.jsxs("form",{onSubmit:S,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Nombre Completo"}),v.jsx("input",{type:"text",id:"fullName",value:h,onChange:V=>f(V.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Email"}),v.jsx("input",{type:"email",id:"email",value:i,onChange:V=>o(V.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Contraseña"}),v.jsx("input",{type:"password",id:"password",value:a,onChange:V=>u(V.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),v.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] py-2 px-4 rounded-md hover:bg-[var (--button-bg-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f90] disabled:bg-gray-400 dark:disabled:bg-gray-600",children:m?"Registrando...":"Registrarse"})]}),v.jsx("div",{className:"mt-4",children:v.jsxs("button",{onClick:A,disabled:m,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[v.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:v.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.032,2,12.545,2C6.735,2,2,6.735,2,12.545c0,5.81,4.735,10.545,10.545,10.545c5.81,0,10.545-4.735,10.545-10.545c0-0.641-0.057-1.265-0.163-1.871H12.545z"})}),m?"Registrando...":"Registrarse con Google"]})}),v.jsxs("p",{className:"text-center text-sm",style:{color:"var(--text-color)"},children:["¿Ya tienes cuenta?"," ",v.jsx("a",{href:"/auth",className:"text-[var(--button-bg)] hover:underline",children:"Inicia sesión"})]})]})},fL=()=>v.jsx(AS,{reCaptchaKey:dL,children:v.jsx("div",{className:"min-h-screen bg-[var(--background-color)] flex items-center justify-center",children:v.jsx(hL,{})})}),DS=Z.createContext(void 0),pL=({children:n})=>{const[e,t]=Z.useState("dark");Z.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;t(o?"dark":"light")},[]),Z.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return v.jsx(DS.Provider,{value:{theme:e,toggleTheme:i},children:n})},mL=()=>{const n=Z.useContext(DS);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},gL=()=>{const[n,e]=Z.useState(""),[t,i]=Z.useState([]),{cartItems:o}=Ir(),{currentUser:a,signOut:u}=ao(),h=an(),[f,m]=Z.useState(!1),{theme:_,toggleTheme:S}=mL(),A=o.reduce((M,G)=>M+G.quantity,0);Z.useEffect(()=>{if(n.length===0){i([]);return}const M=n.toLowerCase().trim();console.log("Buscando término:",M);const G=Ea(pn(Nt,"products"),Um("nameLowercase"),wR(M),ER(M+""),$m(5)),U=tr(G,H=>{console.log("Snapshot recibido:",H.docs.length);const Q=H.docs.map(D=>({id:D.id,...D.data()}));console.log("Resultados encontrados:",Q),i(Q)},H=>{console.error("Error en la búsqueda:",H),be.error("Error al buscar productos. Intenta de nuevo.")});return()=>U()},[n]);const V=M=>{e(M.target.value)},q=M=>{if(M.key==="Enter"){const G=n.toLowerCase().trim();G.length>0&&(console.log("Redirigiendo a /search con término:",G),h(`/search?q=${G}`),e(""),i([]))}},L=async()=>{try{await u(),be.success("Sesión cerrada exitosamente"),h("/"),m(!1)}catch(M){console.error("Error al cerrar sesión:",M.message),be.error("Error al cerrar sesión. Intenta de nuevo.")}};return v.jsx("header",{className:"bg-menu p-4 shadow-lg",style:{position:"sticky",top:0,zIndex:1e3,width:"100%"},children:v.jsxs("div",{className:"container mx-auto flex flex-wrap gap-5 items-center",children:[v.jsx("div",{className:"basis-3/24",children:v.jsx(Rt,{to:"/",className:"flex-shrink-0",children:v.jsx("img",{src:"https://github.com/carlosarley/ecommercev2/raw/main/src/assets/img/Recurso-1.svg",alt:"Logo",className:"h-10 md:h-12"})})}),v.jsxs("div",{className:"basis-14/24 relative",children:[v.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:V,onKeyDown:q,className:"w-full p-3 rounded-full bg-gray-800 dark:bg-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f90] text-base md:text-lg",style:{color:"black"},"aria-label":"Buscar productos"}),t.length>0&&v.jsx("ul",{className:"absolute w-full bg-gray-900 dark:bg-gray-100 border border-gray-700 dark:border-gray-300 mt-2 rounded-lg shadow-lg z-10",style:{color:"black"},children:t.map(M=>v.jsx("li",{className:"p-3 hover:bg-gray-700 dark:hover:bg-gray-200 cursor-pointer",style:{color:"black"},onClick:()=>{h(`/product/${M.id}`),e(""),i([])},children:M.name},M.id))})]}),v.jsx("div",{className:"basis-1/24",children:v.jsx("button",{onClick:S,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)] text-sm flex items-center justify-center","aria-label":_==="light"?"Cambiar a modo oscuro":"Cambiar a modo claro",children:_==="light"?"🌙":"☀️"})}),v.jsx("div",{className:"basis-1/24",children:a?v.jsx("button",{onClick:L,className:"w-full bg-[var(--button-bg)] text-white px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)] text-sm flex items-center justify-center","aria-label":"Cerrar sesión",children:"Cerrar Sesión"}):v.jsx(Rt,{to:"/auth",children:v.jsx("span",{className:"w-full bg-[var(--button-bg)] text-white px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)] text-sm flex items-center justify-center",children:"Iniciar Sesión"})})}),a&&v.jsx("div",{className:"basis-1/24 text-white",children:v.jsx(Rt,{to:"/account",children:"Mi Cuenta"})}),!a&&v.jsx("div",{className:"basis-1/24 text-white",children:v.jsx(Rt,{to:"/auth/register",children:"Registrarse"})}),v.jsx("div",{className:"basis-1/24",children:v.jsx(Rt,{to:"/cart",className:"flex items-center justify-center",children:v.jsxs("span",{className:"bg-orange relative flex items-center justify-center bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]","aria-label":`Carrito con ${A} productos`,children:["🛒",A>0&&v.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:A})]})})}),f&&v.jsxs("div",{className:"md:hidden mt-2 w-full bg-menu p-2 rounded-lg shadow-lg",children:[a&&v.jsx("div",{className:"mb-2",children:v.jsx("span",{style:{color:"black"},children:`Bienvenido, ${a.email}`})}),a&&a.email==="admin@example.com"&&v.jsx(Rt,{to:"/admin",className:"block w-full text-center mb-2",children:v.jsx("span",{className:"bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]",children:"Panel Admin"})}),a&&v.jsx(Rt,{to:"/account",className:"block w-full text-center mb-2",children:v.jsx("span",{className:"bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]",children:"Mi Cuenta"})}),a&&v.jsx(Rt,{to:"/wishlist",className:"block w-full text-center mb-2",children:v.jsx("span",{className:"bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]",children:"Lista de Deseados"})})]})]})})},yL=()=>{const[n,e]=Z.useState(!1);return v.jsx("nav",{className:"bg-menu text-white p-4",children:v.jsx("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:v.jsxs("div",{className:"flex items-center w-full justify-between",children:[v.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:()=>e(!n),"aria-label":"Toggle menu",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),v.jsxs("div",{className:`md:flex space-x-6 ${n?"block":"hidden"} md:block`,children:[v.jsx(Rt,{to:"/offers",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Ofertas"}),v.jsx(Rt,{to:"/categories",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Categorías"})]})]})})})},vL=()=>{const[n,e]=Z.useState(new Date().getFullYear());return Z.useEffect(()=>{e(new Date().getFullYear())},[]),v.jsx("footer",{className:"bg-menu text-white p-8 mt-8",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[v.jsxs("div",{children:[v.jsx(Rt,{to:"/",className:"flex-shrink-0 pb",children:v.jsx("img",{src:"https://github.com/carlosarley/ecommercev2/raw/main/src/assets/img/Recurso-1.svg",alt:"Logo",className:"h-10 md:h-12"})}),v.jsx("p",{children:"Tu tienda favorita para componentes de PC y más."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("a",{href:"/",className:"hover:text-button",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{href:"/offers",className:"hover:text-button",children:"Ofertas"})}),v.jsx("li",{children:v.jsx("a",{href:"/categories",className:"hover:text-button",children:"Categorías"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-button",children:"Facebook"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-button",children:"Twitter"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-button",children:"Instagram"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),v.jsx("p",{children:"Email: support@ecommercepcparts.com"}),v.jsx("p",{children:"Teléfono: +123 456 7890"})]})]}),v.jsxs("p",{className:"text-center mt-8",children:["© ",n," PC HUB. Todos los derechos reservados."]})]})})},_L=()=>{const{currentUser:n}=ao(),e=an();return Z.useEffect(()=>{n||e("/auth")},[n,e]),n?v.jsx("div",{className:"p-6 min-h-screen",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-6",style:{color:"var(--text-color)"},children:"Mi Cuenta"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"text-3xl",children:"📦"}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-black",children:"Tus Pedidos"}),v.jsx("p",{className:"text-black",children:"Rastrea, devuelve o compra de nuevo"}),v.jsx(Rt,{to:"/orders",className:"text-[#f90] hover:underline mt-2 block",children:"Ver Pedidos"})]})]})}),v.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"text-3xl",children:"❤️"}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-black",children:"Lista de Deseados"}),v.jsx("p",{className:"text-black",children:"Revisa los productos que te interesan"}),v.jsx(Rt,{to:"/wishlist",className:"text-[#f90] hover:underline mt-2 block",children:"Ver Lista de Deseados"})]})]})}),v.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"text-3xl",children:"🏠"}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-black",children:"Tus Direcciones"}),v.jsx("p",{className:"text-black",children:"Edita, elimina o establece una dirección predeterminada"}),v.jsx(Rt,{to:"/addresses",className:"text-[#f90] hover:underline mt-2 block",children:"Gestionar Direcciones"})]})]})}),v.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"text-3xl",children:"⚙️"}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-black",children:"Configuración de Cuenta"}),v.jsx("p",{className:"text-black",children:"Edita tu nombre, correo y contraseña"}),v.jsx(Rt,{to:"/settings",className:"text-[#f90] hover:underline mt-2 block",children:"Configurar Cuenta"})]})]})})]})]})}):null};var Wc={exports:{}};function wL(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gc={exports:{}};const EL={},TL=Object.freeze(Object.defineProperty({__proto__:null,default:EL},Symbol.toStringTag,{value:"Module"})),SL=J0(TL);var IL=Gc.exports,Y0;function bL(){return Y0||(Y0=1,function(n,e){(function(t,i){n.exports=i()})(IL,function(){var t=t||function(i,o){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof zs<"u"&&zs.crypto&&(a=zs.crypto),!a&&typeof wL=="function")try{a=SL}catch{}var u=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function U(){}return function(H){var Q;return U.prototype=H,Q=new U,U.prototype=null,Q}}(),f={},m=f.lib={},_=m.Base=function(){return{extend:function(U){var H=h(this);return U&&H.mixIn(U),(!H.hasOwnProperty("init")||this.init===H.init)&&(H.init=function(){H.$super.init.apply(this,arguments)}),H.init.prototype=H,H.$super=this,H},create:function(){var U=this.extend();return U.init.apply(U,arguments),U},init:function(){},mixIn:function(U){for(var H in U)U.hasOwnProperty(H)&&(this[H]=U[H]);U.hasOwnProperty("toString")&&(this.toString=U.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),S=m.WordArray=_.extend({init:function(U,H){U=this.words=U||[],H!=o?this.sigBytes=H:this.sigBytes=U.length*4},toString:function(U){return(U||V).stringify(this)},concat:function(U){var H=this.words,Q=U.words,D=this.sigBytes,z=U.sigBytes;if(this.clamp(),D%4)for(var k=0;k<z;k++){var R=Q[k>>>2]>>>24-k%4*8&255;H[D+k>>>2]|=R<<24-(D+k)%4*8}else for(var I=0;I<z;I+=4)H[D+I>>>2]=Q[I>>>2];return this.sigBytes+=z,this},clamp:function(){var U=this.words,H=this.sigBytes;U[H>>>2]&=4294967295<<32-H%4*8,U.length=i.ceil(H/4)},clone:function(){var U=_.clone.call(this);return U.words=this.words.slice(0),U},random:function(U){for(var H=[],Q=0;Q<U;Q+=4)H.push(u());return new S.init(H,U)}}),A=f.enc={},V=A.Hex={stringify:function(U){for(var H=U.words,Q=U.sigBytes,D=[],z=0;z<Q;z++){var k=H[z>>>2]>>>24-z%4*8&255;D.push((k>>>4).toString(16)),D.push((k&15).toString(16))}return D.join("")},parse:function(U){for(var H=U.length,Q=[],D=0;D<H;D+=2)Q[D>>>3]|=parseInt(U.substr(D,2),16)<<24-D%8*4;return new S.init(Q,H/2)}},q=A.Latin1={stringify:function(U){for(var H=U.words,Q=U.sigBytes,D=[],z=0;z<Q;z++){var k=H[z>>>2]>>>24-z%4*8&255;D.push(String.fromCharCode(k))}return D.join("")},parse:function(U){for(var H=U.length,Q=[],D=0;D<H;D++)Q[D>>>2]|=(U.charCodeAt(D)&255)<<24-D%4*8;return new S.init(Q,H)}},L=A.Utf8={stringify:function(U){try{return decodeURIComponent(escape(q.stringify(U)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(U){return q.parse(unescape(encodeURIComponent(U)))}},M=m.BufferedBlockAlgorithm=_.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(U){typeof U=="string"&&(U=L.parse(U)),this._data.concat(U),this._nDataBytes+=U.sigBytes},_process:function(U){var H,Q=this._data,D=Q.words,z=Q.sigBytes,k=this.blockSize,R=k*4,I=z/R;U?I=i.ceil(I):I=i.max((I|0)-this._minBufferSize,0);var w=I*k,N=i.min(w*4,z);if(w){for(var j=0;j<w;j+=k)this._doProcessBlock(D,j);H=D.splice(0,w),Q.sigBytes-=N}return new S.init(H,N)},clone:function(){var U=_.clone.call(this);return U._data=this._data.clone(),U},_minBufferSize:0});m.Hasher=M.extend({cfg:_.extend(),init:function(U){this.cfg=this.cfg.extend(U),this.reset()},reset:function(){M.reset.call(this),this._doReset()},update:function(U){return this._append(U),this._process(),this},finalize:function(U){U&&this._append(U);var H=this._doFinalize();return H},blockSize:16,_createHelper:function(U){return function(H,Q){return new U.init(Q).finalize(H)}},_createHmacHelper:function(U){return function(H,Q){return new G.HMAC.init(U,Q).finalize(H)}}});var G=f.algo={};return f}(Math);return t})}(Gc)),Gc.exports}var xL=Wc.exports,X0;function kL(){return X0||(X0=1,function(n,e){(function(t,i){n.exports=i(bL())})(xL,function(t){return function(i){var o=t,a=o.lib,u=a.WordArray,h=a.Hasher,f=o.algo,m=[],_=[];(function(){function V(G){for(var U=i.sqrt(G),H=2;H<=U;H++)if(!(G%H))return!1;return!0}function q(G){return(G-(G|0))*4294967296|0}for(var L=2,M=0;M<64;)V(L)&&(M<8&&(m[M]=q(i.pow(L,1/2))),_[M]=q(i.pow(L,1/3)),M++),L++})();var S=[],A=f.SHA256=h.extend({_doReset:function(){this._hash=new u.init(m.slice(0))},_doProcessBlock:function(V,q){for(var L=this._hash.words,M=L[0],G=L[1],U=L[2],H=L[3],Q=L[4],D=L[5],z=L[6],k=L[7],R=0;R<64;R++){if(R<16)S[R]=V[q+R]|0;else{var I=S[R-15],w=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,N=S[R-2],j=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;S[R]=w+S[R-7]+j+S[R-16]}var C=Q&D^~Q&z,X=M&G^M&U^G&U,pe=(M<<30|M>>>2)^(M<<19|M>>>13)^(M<<10|M>>>22),de=(Q<<26|Q>>>6)^(Q<<21|Q>>>11)^(Q<<7|Q>>>25),b=k+de+C+_[R]+S[R],se=pe+X;k=z,z=D,D=Q,Q=H+b|0,H=U,U=G,G=M,M=b+se|0}L[0]=L[0]+M|0,L[1]=L[1]+G|0,L[2]=L[2]+U|0,L[3]=L[3]+H|0,L[4]=L[4]+Q|0,L[5]=L[5]+D|0,L[6]=L[6]+z|0,L[7]=L[7]+k|0},_doFinalize:function(){var V=this._data,q=V.words,L=this._nDataBytes*8,M=V.sigBytes*8;return q[M>>>5]|=128<<24-M%32,q[(M+64>>>9<<4)+14]=i.floor(L/4294967296),q[(M+64>>>9<<4)+15]=L,V.sigBytes=q.length*4,this._process(),this._hash},clone:function(){var V=h.clone.call(this);return V._hash=this._hash.clone(),V}});o.SHA256=h._createHelper(A),o.HmacSHA256=h._createHmacHelper(A)}(Math),t.SHA256})}(Wc)),Wc.exports}var CL=kL();const PL=Sd(CL),RL=()=>{const{cartItems:n}=Ir(),[e,t]=Z.useState(!1),[i,o]=Z.useState(null),[a,u]=Z.useState({fullName:"",email:"",phoneNumber:"",legalId:"",legalIdType:"CC",addressLine1:"",city:"",region:"",country:"CO"}),[h,f]=Z.useState(!1),m=n.reduce((D,z)=>D+z.price*z.quantity,0),_=m*.19,S=m+_,A=Math.round(S*100),V="pub_prod_YvzwsKQJJGHLKvhbPXcc8GrHDVzf2Dfw",q="prod_integrity_WYldkU1ZmlmMb1eAdcE7JYkqratHPswh",L="COP",M="https://pchub.net/success",G=`order_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,U=Z.useMemo(()=>{const D=`${G}${A}${L}${q}`;return PL(D).toString()},[G,A,L]),H=D=>{const{name:z,value:k}=D.target;u(R=>({...R,[z]:k}))},Q=D=>{if(D.preventDefault(),t(!0),o(null),!h){o("Debes aceptar los términos y condiciones para continuar."),t(!1);return}if(!a.fullName||!a.email||!a.phoneNumber||!a.legalId||!a.addressLine1||!a.city||!a.region){o("Por favor, completa todos los campos requeridos."),t(!1);return}};return v.jsxs("div",{className:"container mx-auto p-4",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Página de Pago"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Resumen de tu compra"}),n.length===0?v.jsx("p",{children:"Tu carrito está vacío."}):v.jsxs("ul",{className:"border p-4 rounded",children:[n.map(D=>v.jsxs("li",{className:"flex justify-between py-2",children:[v.jsxs("span",{children:[D.name," (x",D.quantity,")"]}),v.jsxs("span",{children:["$",(D.price*D.quantity).toLocaleString("es-CO")]})]},D.id)),v.jsxs("li",{className:"flex justify-between py-2",children:[v.jsx("span",{children:"Subtotal:"}),v.jsxs("span",{children:["$",m.toLocaleString("es-CO")]})]}),v.jsxs("li",{className:"flex justify-between py-2",children:[v.jsx("span",{children:"IVA (19%):"}),v.jsxs("span",{children:["$",_.toLocaleString("es-CO")]})]}),v.jsxs("li",{className:"flex justify-between font-bold pt-2 border-t",children:[v.jsx("span",{children:"Total:"}),v.jsxs("span",{children:["$",S.toLocaleString("es-CO")]})]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Datos del cliente"}),v.jsxs("form",{action:"https://checkout.wompi.co/p/",method:"GET",onSubmit:Q,children:[v.jsx("input",{type:"hidden",name:"public-key",value:V}),v.jsx("input",{type:"hidden",name:"currency",value:L}),v.jsx("input",{type:"hidden",name:"amount-in-cents",value:A.toString()}),v.jsx("input",{type:"hidden",name:"reference",value:G}),v.jsx("input",{type:"hidden",name:"signature:integrity",value:U}),v.jsx("input",{type:"hidden",name:"redirect-url",value:M}),v.jsx("input",{type:"hidden",name:"expiration-time",value:new Date(Date.now()+24*60*60*1e3).toISOString()}),v.jsx("input",{type:"hidden",name:"tax-in-cents:vat",value:Math.round(_*100).toString()}),v.jsx("input",{type:"hidden",name:"tax-in-cents:consumption",value:"0"})," ",v.jsx("input",{type:"hidden",name:"customer-data:email",value:a.email}),v.jsx("input",{type:"hidden",name:"customer-data:full-name",value:a.fullName}),v.jsx("input",{type:"hidden",name:"customer-data:phone-number",value:a.phoneNumber}),v.jsx("input",{type:"hidden",name:"customer-data:legal-id",value:a.legalId}),v.jsx("input",{type:"hidden",name:"customer-data:legal-id-type",value:a.legalIdType}),v.jsx("input",{type:"hidden",name:"shipping-address:address-line-1",value:a.addressLine1}),v.jsx("input",{type:"hidden",name:"shipping-address:country",value:a.country}),v.jsx("input",{type:"hidden",name:"shipping-address:phone-number",value:a.phoneNumber}),v.jsx("input",{type:"hidden",name:"shipping-address:city",value:a.city}),v.jsx("input",{type:"hidden",name:"shipping-address:region",value:a.region}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Nombre completo"}),v.jsx("input",{type:"text",name:"fullName",value:a.fullName,onChange:H,className:"border p-2 w-full rounded",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Correo electrónico"}),v.jsx("input",{type:"email",name:"email",value:a.email,onChange:H,className:"border p-2 w-full rounded",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Número de teléfono"}),v.jsx("input",{type:"tel",name:"phoneNumber",value:a.phoneNumber,onChange:H,className:"border p-2 w-full rounded",placeholder:"Ej: 3001234567",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Documento de identidad"}),v.jsx("input",{type:"text",name:"legalId",value:a.legalId,onChange:H,className:"border p-2 w-full rounded",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Tipo de documento"}),v.jsxs("select",{name:"legalIdType",value:a.legalIdType,onChange:H,className:"border p-2 w-full rounded",children:[v.jsx("option",{value:"CC",children:"Cédula de Ciudadanía (CC)"}),v.jsx("option",{value:"CE",children:"Cédula de Extranjería (CE)"}),v.jsx("option",{value:"NIT",children:"NIT"}),v.jsx("option",{value:"PP",children:"Pasaporte (PP)"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Dirección de envío"}),v.jsx("input",{type:"text",name:"addressLine1",value:a.addressLine1,onChange:H,className:"border p-2 w-full rounded",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Ciudad"}),v.jsx("input",{type:"text",name:"city",value:a.city,onChange:H,className:"border p-2 w-full rounded",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"Región/Departamento"}),v.jsx("input",{type:"text",name:"region",value:a.region,onChange:H,className:"border p-2 w-full rounded",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1",children:"País"}),v.jsx("select",{name:"country",value:a.country,onChange:H,className:"border p-2 w-full rounded",children:v.jsx("option",{value:"CO",children:"Colombia"})})]}),v.jsx("div",{className:"mb-4",children:v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",checked:h,onChange:D=>f(D.target.checked),required:!0}),v.jsxs("span",{className:"ml-2",children:["Acepto los"," ",v.jsx("a",{href:"https://wompi.co/terminos",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"términos y condiciones"})]})]})}),v.jsxs("div",{className:"flex space-x-4",children:[i&&v.jsx("p",{className:"text-red-500 mb-4",children:i}),v.jsx("button",{type:"submit",disabled:e||n.length===0,className:`bg-blue-500 text-white px-6 py-2 rounded ${e||n.length===0?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:e?"Procesando...":"Pagar con Wompi"}),v.jsx(Rt,{to:"/cart",className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600",children:"Volver al carrito"})]})]})]})]})},AL=()=>{const{clearCart:n}=Ir(),[e,t]=Z.useState(null),[i,o]=Z.useState(!0),[a,u]=Z.useState(null);return Z.useEffect(()=>{(async()=>{const f=localStorage.getItem("transactionId");if(!f){u("No se encontró el ID de la transacción."),o(!1);return}try{const m=await fetch("https://us-central1-ecommerce-pc-parts.cloudfunctions.net/checkWompiTransactionStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{transactionId:f}})});if(!m.ok){const A=await m.json();throw new Error(A.error||"Error al verificar el estado de la transacción")}const _=await m.json(),{status:S}=_.data;t(S),S==="APPROVED"?(n(),be.success("Pago exitoso. ¡Gracias por tu compra!"),localStorage.removeItem("transactionId")):S==="DECLINED"?(u("El pago fue rechazado. Por favor, intenta de nuevo."),be.error("El pago fue rechazado.")):(u("El estado del pago está pendiente. Por favor, espera unos minutos."),be.warn("El estado del pago está pendiente."))}catch(m){u(m.message||"Error al verificar el estado del pago."),be.error(m.message||"Error al verificar el estado del pago.")}finally{o(!1)}})()},[n]),i?v.jsx("div",{className:"container mx-auto p-4",children:"Verificando el estado del pago..."}):v.jsxs("div",{className:"container mx-auto p-4",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Resultado del Pago"}),a?v.jsxs("div",{children:[v.jsx("p",{className:"text-red-500 mb-4",children:a}),v.jsx(Rt,{to:"/cart",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Volver al carrito"})]}):v.jsxs("div",{children:[v.jsx("p",{className:"text-green-500 mb-4",children:e==="APPROVED"?"¡Tu pago fue exitoso! Gracias por tu compra.":"El estado del pago está pendiente. Te notificaremos pronto."}),v.jsx(Rt,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Volver al inicio"})]})]})},NL=()=>{const{currentUser:n}=ao(),e=an(),[t,i]=Z.useState([]),[o,a]=Z.useState(!0);Z.useEffect(()=>{if(!n){e("/auth");return}const h=pn(Nt,"wishlists",n.uid,"products"),f=tr(h,async m=>{const _=m.docs.map(A=>({id:A.id,...A.data()})),S=await Promise.all(_.map(async A=>{const V=await dT(Ks(Nt,"products",A.productId)),q=V.exists()?{id:V.id,...V.data()}:void 0;return{...A,product:q}}));i(S),a(!1)},m=>{console.error("Error al obtener la lista de deseados:",m),a(!1)});return()=>f()},[n,e]);const u=async h=>{try{await Hm(Ks(Nt,"wishlists",n.uid,"products",h)),be.success("Producto eliminado de la lista de deseados")}catch(f){console.error("Error al eliminar de la lista de deseados:",f),be.error("Error al eliminar de la lista de deseados")}};return o?v.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-6",style:{color:"var(--text-color)"},children:"Mi Lista de Deseados"}),t.length>0?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>v.jsx("div",{className:"bg-white  p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-600",children:h.product?v.jsxs(v.Fragment,{children:[v.jsx("img",{src:h.product.image||"/placeholder.jpg",alt:h.product.name,className:"w-full h-40 object-cover rounded-md mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-black",children:h.product.name}),v.jsxs("p",{className:"text-md text-[#f90] mb-2",children:["$",h.product.price]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>e(`/product/${h.productId}`),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00] flex-1",children:"Ver Producto"}),v.jsx("button",{onClick:()=>u(h.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Eliminar"})]})]}):v.jsx("p",{style:{color:"var(--text-color)"},children:"Producto no disponible"})},h.id))}):v.jsx("p",{style:{color:"var(--text-color)"},children:"Tu lista de deseados está vacía."})]})},OL=()=>v.jsx(GD,{children:v.jsx(FD,{children:v.jsxs(Gb,{children:[v.jsx(gL,{}),v.jsx(yL,{}),v.jsxs(Ub,{children:[v.jsx(fn,{path:"/",element:v.jsx(qD,{})}),v.jsx(fn,{path:"/payment",element:v.jsx(RL,{})}),v.jsx(fn,{path:"/success",element:v.jsx(AL,{})}),v.jsx(fn,{path:"/offers",element:v.jsx(HD,{})}),v.jsx(fn,{path:"/categories",element:v.jsx(WD,{})}),v.jsx(fn,{path:"/product/:id",element:v.jsx(KD,{})}),v.jsx(fn,{path:"/wishlist",element:v.jsx(NL,{})}),v.jsx(fn,{path:"/cart",element:v.jsx(QD,{})}),v.jsx(fn,{path:"/admin",element:v.jsx(uL,{})}),v.jsx(fn,{path:"/account",element:v.jsx(_L,{})}),v.jsx(fn,{path:"/search",element:v.jsx(cL,{})}),v.jsxs(fn,{path:"/auth",children:[v.jsx(fn,{index:!0,element:v.jsx(lL,{})}),v.jsx(fn,{path:"register",element:v.jsx(fL,{})})]})]}),v.jsx(vL,{}),v.jsx(VD,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})})});KI.createRoot(document.getElementById("root")).render(v.jsx(rt.StrictMode,{children:v.jsx(pL,{children:v.jsx(OL,{})})}));
