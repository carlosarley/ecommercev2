function NI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function OI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Rh={exports:{}},fl={},Nh={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function DI(){if(mv)return Be;mv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function O(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,L={};function U(b,F,te){this.props=b,this.context=F,this.refs=L,this.updater=te||M}U.prototype.isReactComponent={},U.prototype.setState=function(b,F){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,F,"setState")},U.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=U.prototype;function X(b,F,te){this.props=b,this.context=F,this.refs=L,this.updater=te||M}var J=X.prototype=new W;J.constructor=X,$(J,U.prototype),J.isPureReactComponent=!0;var re=Array.isArray,j=Object.prototype.hasOwnProperty,B={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(b,F,te){var ie,ae={},le=null,ce=null;if(F!=null)for(ie in F.ref!==void 0&&(ce=F.ref),F.key!==void 0&&(le=""+F.key),F)j.call(F,ie)&&!A.hasOwnProperty(ie)&&(ae[ie]=F[ie]);var Te=arguments.length-2;if(Te===1)ae.children=te;else if(1<Te){for(var be=Array(Te),Pe=0;Pe<Te;Pe++)be[Pe]=arguments[Pe+2];ae.children=be}if(b&&b.defaultProps)for(ie in Te=b.defaultProps,Te)ae[ie]===void 0&&(ae[ie]=Te[ie]);return{$$typeof:n,type:b,key:le,ref:ce,props:ae,_owner:B.current}}function I(b,F){return{$$typeof:n,type:b.type,key:F,ref:b.ref,props:b.props,_owner:b._owner}}function w(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function N(b){var F={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(te){return F[te]})}var D=/\/+/g;function x(b,F){return typeof b=="object"&&b!==null&&b.key!=null?N(""+b.key):F.toString(36)}function Q(b,F,te,ie,ae){var le=typeof b;(le==="undefined"||le==="boolean")&&(b=null);var ce=!1;if(b===null)ce=!0;else switch(le){case"string":case"number":ce=!0;break;case"object":switch(b.$$typeof){case n:case e:ce=!0}}if(ce)return ce=b,ae=ae(ce),b=ie===""?"."+x(ce,0):ie,re(ae)?(te="",b!=null&&(te=b.replace(D,"$&/")+"/"),Q(ae,F,te,"",function(Pe){return Pe})):ae!=null&&(w(ae)&&(ae=I(ae,te+(!ae.key||ce&&ce.key===ae.key?"":(""+ae.key).replace(D,"$&/")+"/")+b)),F.push(ae)),1;if(ce=0,ie=ie===""?".":ie+":",re(b))for(var Te=0;Te<b.length;Te++){le=b[Te];var be=ie+x(le,Te);ce+=Q(le,F,te,be,ae)}else if(be=O(b),typeof be=="function")for(b=be.call(b),Te=0;!(le=b.next()).done;)le=le.value,be=ie+x(le,Te++),ce+=Q(le,F,te,be,ae);else if(le==="object")throw F=String(b),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ce}function pe(b,F,te){if(b==null)return b;var ie=[],ae=0;return Q(b,ie,"","",function(le){return F.call(te,le,ae++)}),ie}function fe(b){if(b._status===-1){var F=b._result;F=F(),F.then(function(te){(b._status===0||b._status===-1)&&(b._status=1,b._result=te)},function(te){(b._status===0||b._status===-1)&&(b._status=2,b._result=te)}),b._status===-1&&(b._status=0,b._result=F)}if(b._status===1)return b._result.default;throw b._result}var T={current:null},se={transition:null},z={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:se,ReactCurrentOwner:B};function E(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:pe,forEach:function(b,F,te){pe(b,function(){F.apply(this,arguments)},te)},count:function(b){var F=0;return pe(b,function(){F++}),F},toArray:function(b){return pe(b,function(F){return F})||[]},only:function(b){if(!w(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Be.Component=U,Be.Fragment=t,Be.Profiler=o,Be.PureComponent=X,Be.StrictMode=i,Be.Suspense=h,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Be.act=E,Be.cloneElement=function(b,F,te){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ie=$({},b.props),ae=b.key,le=b.ref,ce=b._owner;if(F!=null){if(F.ref!==void 0&&(le=F.ref,ce=B.current),F.key!==void 0&&(ae=""+F.key),b.type&&b.type.defaultProps)var Te=b.type.defaultProps;for(be in F)j.call(F,be)&&!A.hasOwnProperty(be)&&(ie[be]=F[be]===void 0&&Te!==void 0?Te[be]:F[be])}var be=arguments.length-2;if(be===1)ie.children=te;else if(1<be){Te=Array(be);for(var Pe=0;Pe<be;Pe++)Te[Pe]=arguments[Pe+2];ie.children=Te}return{$$typeof:n,type:b.type,key:ae,ref:le,props:ie,_owner:ce}},Be.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:a,_context:b},b.Consumer=b},Be.createElement=P,Be.createFactory=function(b){var F=P.bind(null,b);return F.type=b,F},Be.createRef=function(){return{current:null}},Be.forwardRef=function(b){return{$$typeof:f,render:b}},Be.isValidElement=w,Be.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:fe}},Be.memo=function(b,F){return{$$typeof:m,type:b,compare:F===void 0?null:F}},Be.startTransition=function(b){var F=se.transition;se.transition={};try{b()}finally{se.transition=F}},Be.unstable_act=E,Be.useCallback=function(b,F){return T.current.useCallback(b,F)},Be.useContext=function(b){return T.current.useContext(b)},Be.useDebugValue=function(){},Be.useDeferredValue=function(b){return T.current.useDeferredValue(b)},Be.useEffect=function(b,F){return T.current.useEffect(b,F)},Be.useId=function(){return T.current.useId()},Be.useImperativeHandle=function(b,F,te){return T.current.useImperativeHandle(b,F,te)},Be.useInsertionEffect=function(b,F){return T.current.useInsertionEffect(b,F)},Be.useLayoutEffect=function(b,F){return T.current.useLayoutEffect(b,F)},Be.useMemo=function(b,F){return T.current.useMemo(b,F)},Be.useReducer=function(b,F,te){return T.current.useReducer(b,F,te)},Be.useRef=function(b){return T.current.useRef(b)},Be.useState=function(b){return T.current.useState(b)},Be.useSyncExternalStore=function(b,F,te){return T.current.useSyncExternalStore(b,F,te)},Be.useTransition=function(){return T.current.useTransition()},Be.version="18.3.1",Be}var gv;function zr(){return gv||(gv=1,Nh.exports=DI()),Nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function LI(){if(yv)return fl;yv=1;var n=zr(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,S={},O=null,M=null;m!==void 0&&(O=""+m),h.key!==void 0&&(O=""+h.key),h.ref!==void 0&&(M=h.ref);for(v in h)i.call(h,v)&&!a.hasOwnProperty(v)&&(S[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)S[v]===void 0&&(S[v]=h[v]);return{$$typeof:e,type:f,key:O,ref:M,props:S,_owner:o.current}}return fl.Fragment=t,fl.jsx=u,fl.jsxs=u,fl}var vv;function MI(){return vv||(vv=1,Rh.exports=LI()),Rh.exports}var C=MI(),Z=zr();const rt=Jp(Z),VI=NI({__proto__:null,default:rt},[Z]);var vc={},Oh={exports:{}},wn={},Dh={exports:{}},Lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function jI(){return _v||(_v=1,function(n){function e(se,z){var E=se.length;se.push(z);e:for(;0<E;){var b=E-1>>>1,F=se[b];if(0<o(F,z))se[b]=z,se[E]=F,E=b;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var z=se[0],E=se.pop();if(E!==z){se[0]=E;e:for(var b=0,F=se.length,te=F>>>1;b<te;){var ie=2*(b+1)-1,ae=se[ie],le=ie+1,ce=se[le];if(0>o(ae,E))le<F&&0>o(ce,ae)?(se[b]=ce,se[le]=E,b=le):(se[b]=ae,se[ie]=E,b=ie);else if(le<F&&0>o(ce,E))se[b]=ce,se[le]=E,b=le;else break e}}return z}function o(se,z){var E=se.sortIndex-z.sortIndex;return E!==0?E:se.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,S=null,O=3,M=!1,$=!1,L=!1,U=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(se){for(var z=t(m);z!==null;){if(z.callback===null)i(m);else if(z.startTime<=se)i(m),z.sortIndex=z.expirationTime,e(h,z);else break;z=t(m)}}function re(se){if(L=!1,J(se),!$)if(t(h)!==null)$=!0,fe(j);else{var z=t(m);z!==null&&T(re,z.startTime-se)}}function j(se,z){$=!1,L&&(L=!1,W(P),P=-1),M=!0;var E=O;try{for(J(z),S=t(h);S!==null&&(!(S.expirationTime>z)||se&&!N());){var b=S.callback;if(typeof b=="function"){S.callback=null,O=S.priorityLevel;var F=b(S.expirationTime<=z);z=n.unstable_now(),typeof F=="function"?S.callback=F:S===t(h)&&i(h),J(z)}else i(h);S=t(h)}if(S!==null)var te=!0;else{var ie=t(m);ie!==null&&T(re,ie.startTime-z),te=!1}return te}finally{S=null,O=E,M=!1}}var B=!1,A=null,P=-1,I=5,w=-1;function N(){return!(n.unstable_now()-w<I)}function D(){if(A!==null){var se=n.unstable_now();w=se;var z=!0;try{z=A(!0,se)}finally{z?x():(B=!1,A=null)}}else B=!1}var x;if(typeof X=="function")x=function(){X(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,pe=Q.port2;Q.port1.onmessage=D,x=function(){pe.postMessage(null)}}else x=function(){U(D,0)};function fe(se){A=se,B||(B=!0,x())}function T(se,z){P=U(function(){se(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){$||M||($=!0,fe(j))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return O},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(se){switch(O){case 1:case 2:case 3:var z=3;break;default:z=O}var E=O;O=z;try{return se()}finally{O=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,z){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var E=O;O=se;try{return z()}finally{O=E}},n.unstable_scheduleCallback=function(se,z,E){var b=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?b+E:b):E=b,se){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=E+F,se={id:v++,callback:z,priorityLevel:se,startTime:E,expirationTime:F,sortIndex:-1},E>b?(se.sortIndex=E,e(m,se),t(h)===null&&se===t(m)&&(L?(W(P),P=-1):L=!0,T(re,E-b))):(se.sortIndex=F,e(h,se),$||M||($=!0,fe(j))),se},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(se){var z=O;return function(){var E=O;O=z;try{return se.apply(this,arguments)}finally{O=E}}}}(Lh)),Lh}var wv;function FI(){return wv||(wv=1,Dh.exports=jI()),Dh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function UI(){if(Ev)return wn;Ev=1;var n=zr(),e=FI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function O(r){return h.call(S,r)?!0:h.call(v,r)?!1:m.test(r)?S[r]=!0:(v[r]=!0,!1)}function M(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function $(r,s,l,d){if(s===null||typeof s>"u"||M(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,l,d,p,y,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=k}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){U[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];U[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){U[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){U[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){U[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){U[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){U[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){U[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){U[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,X);U[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,X);U[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,X);U[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){U[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),U.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){U[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,l,d){var p=U.hasOwnProperty(s)?U[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&($(s,l,p,d)&&(l=null),d||p===null?O(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),B=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),se=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var E=Object.assign,b;function F(r){if(b===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var te=!1;function ie(r,s){if(!r||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ee){var d=ee}Reflect.construct(r,[],s)}else{try{s.call()}catch(ee){d=ee}r.call(s.prototype)}else{try{throw Error()}catch(ee){d=ee}r()}}catch(ee){if(ee&&d&&typeof ee.stack=="string"){for(var p=ee.stack.split(`
`),y=d.stack.split(`
`),k=p.length-1,V=y.length-1;1<=k&&0<=V&&p[k]!==y[V];)V--;for(;1<=k&&0<=V;k--,V--)if(p[k]!==y[V]){if(k!==1||V!==1)do if(k--,V--,0>V||p[k]!==y[V]){var q=`
`+p[k].replace(" at new "," at ");return r.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",r.displayName)),q}while(1<=k&&0<=V);break}}}finally{te=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?F(r):""}function ae(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case B:return"Portal";case I:return"Profiler";case P:return"StrictMode";case x:return"Suspense";case Q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case w:return(r._context.displayName||"Context")+".Provider";case D:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pe:return s=r.displayName||null,s!==null?s:le(r.type)||"Memo";case fe:s=r._payload,r=r._init;try{return le(r(s))}catch{}}return null}function ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pe(r){var s=be(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(k){d=""+k,y.call(this,k)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $e(r){r._valueTracker||(r._valueTracker=Pe(r))}function He(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=be(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ue(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ve(r,s){var l=s.checked;return E({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function qe(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Te(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ct(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function Fe(r,s){ct(r,s);var l=Te(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ft(r,s.type,l):s.hasOwnProperty("defaultValue")&&ft(r,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ft(r,s,l){(s!=="number"||Ue(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var it=Array.isArray;function yt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Te(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function kn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function tr(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(it(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Te(l)}}function Wr(r,s){var l=Te(s.value),d=Te(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function nr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var sn,Ta=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(sn=sn||document.createElement("div"),sn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=sn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function yi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(r){hs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),fs[s]=fs[r]})});function Sa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||fs.hasOwnProperty(r)&&fs[r]?(""+s).trim():s+"px"}function Ia(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Sa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var ba=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(r,s){if(s){if(ba[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ka(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ao=null,zn=null,Tr=null;function lo(r){if(r=Xa(r)){if(typeof ao!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Nu(s),ao(r.stateNode,r.type,s))}}function Sr(r){zn?Tr?Tr.push(r):Tr=[r]:zn=r}function Ca(){if(zn){var r=zn,s=Tr;if(Tr=zn=null,lo(r),s)for(r=0;r<s.length;r++)lo(s[r])}}function ms(r,s){return r(s)}function Pa(){}var Gr=!1;function Aa(r,s,l){if(Gr)return r(s,l);Gr=!0;try{return ms(r,s,l)}finally{Gr=!1,(zn!==null||Tr!==null)&&(Pa(),Ca())}}function St(r,s){var l=r.stateNode;if(l===null)return null;var d=Nu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var uo=!1;if(f)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){uo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{uo=!1}function gs(r,s,l,d,p,y,k,V,q){var ee=Array.prototype.slice.call(arguments,3);try{s.apply(l,ee)}catch(he){this.onError(he)}}var ys=!1,co=null,ir=!1,Ra=null,sf={onError:function(r){ys=!0,co=r}};function fo(r,s,l,d,p,y,k,V,q){ys=!1,co=null,gs.apply(sf,arguments)}function ru(r,s,l,d,p,y,k,V,q){if(fo.apply(this,arguments),ys){if(ys){var ee=co;ys=!1,co=null}else throw Error(t(198));ir||(ir=!0,Ra=ee)}}function sr(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function vs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function or(r){if(sr(r)!==r)throw Error(t(188))}function iu(r){var s=r.alternate;if(!s){if(s=sr(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return or(p),r;if(y===d)return or(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var k=!1,V=p.child;V;){if(V===l){k=!0,l=p,d=y;break}if(V===d){k=!0,d=p,l=y;break}V=V.sibling}if(!k){for(V=y.child;V;){if(V===l){k=!0,l=y,d=p;break}if(V===d){k=!0,d=y,l=p;break}V=V.sibling}if(!k)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Na(r){return r=iu(r),r!==null?ho(r):null}function ho(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ho(r);if(s!==null)return s;r=r.sibling}return null}var po=e.unstable_scheduleCallback,Oa=e.unstable_cancelCallback,su=e.unstable_shouldYield,of=e.unstable_requestPaint,ot=e.unstable_now,ou=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,Da=e.unstable_LowPriority,au=e.unstable_IdlePriority,ws=null,Cn=null;function lu(r){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ws,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:cu,La=Math.log,uu=Math.LN2;function cu(r){return r>>>=0,r===0?32:31-(La(r)/uu|0)|0}var mo=64,go=4194304;function _i(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Es(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,k=l&268435455;if(k!==0){var V=k&~p;V!==0?d=_i(V):(y&=k,y!==0&&(d=_i(y)))}else k=l&~p,k!==0?d=_i(k):y!==0&&(d=_i(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-on(s),p=1<<l,d|=r[l],s&=~p;return d}function af(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var k=31-on(y),V=1<<k,q=p[k];q===-1?((V&l)===0||(V&d)!==0)&&(p[k]=af(V,s)):q<=s&&(r.expiredLanes|=V),y&=~V}}function Pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ts(){var r=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),r}function wi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ei(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-on(s),r[s]=l}function st(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-on(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Ti(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-on(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ke=0;function Si(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var du,yo,fu,hu,pu,Ma=!1,Ir=[],$t=null,ar=null,lr=null,Ii=new Map,Bn=new Map,br=[],lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(r,s){switch(r){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(s.pointerId)}}function hn(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Xa(s),s!==null&&yo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function uf(r,s,l,d,p){switch(s){case"focusin":return $t=hn($t,r,s,l,d,p),!0;case"dragenter":return ar=hn(ar,r,s,l,d,p),!0;case"mouseover":return lr=hn(lr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Ii.set(y,hn(Ii.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Bn.set(y,hn(Bn.get(y)||null,r,s,l,d,p)),!0}return!1}function gu(r){var s=ks(r.target);if(s!==null){var l=sr(s);if(l!==null){if(s=l.tag,s===13){if(s=vs(l),s!==null){r.blockedOn=s,pu(r.priority,function(){fu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=vo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ps=d,l.target.dispatchEvent(d),ps=null}else return s=Xa(l),s!==null&&yo(s),r.blockedOn=l,!1;s.shift()}return!0}function Ss(r,s,l){Qr(r)&&l.delete(s)}function yu(){Ma=!1,$t!==null&&Qr($t)&&($t=null),ar!==null&&Qr(ar)&&(ar=null),lr!==null&&Qr(lr)&&(lr=null),Ii.forEach(Ss),Bn.forEach(Ss)}function ur(r,s){r.blockedOn===s&&(r.blockedOn=null,Ma||(Ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yu)))}function cr(r){function s(p){return ur(p,r)}if(0<Ir.length){ur(Ir[0],r);for(var l=1;l<Ir.length;l++){var d=Ir[l];d.blockedOn===r&&(d.blockedOn=null)}}for($t!==null&&ur($t,r),ar!==null&&ur(ar,r),lr!==null&&ur(lr,r),Ii.forEach(s),Bn.forEach(s),l=0;l<br.length;l++)d=br[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<br.length&&(l=br[0],l.blockedOn===null);)gu(l),l.blockedOn===null&&br.shift()}var Yr=re.ReactCurrentBatchConfig,bi=!0;function mt(r,s,l,d){var p=Ke,y=Yr.transition;Yr.transition=null;try{Ke=1,Va(r,s,l,d)}finally{Ke=p,Yr.transition=y}}function cf(r,s,l,d){var p=Ke,y=Yr.transition;Yr.transition=null;try{Ke=4,Va(r,s,l,d)}finally{Ke=p,Yr.transition=y}}function Va(r,s,l,d){if(bi){var p=vo(r,s,l,d);if(p===null)Ef(r,s,d,Is,l),mu(r,d);else if(uf(p,r,s,l,d))d.stopPropagation();else if(mu(r,d),s&4&&-1<lf.indexOf(r)){for(;p!==null;){var y=Xa(p);if(y!==null&&du(y),y=vo(r,s,l,d),y===null&&Ef(r,s,d,Is,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Ef(r,s,d,null,l)}}var Is=null;function vo(r,s,l,d){if(Is=null,r=oo(d),r=ks(r),r!==null)if(s=sr(r),s===null)r=null;else if(l=s.tag,l===13){if(r=vs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Is=r,null}function ja(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ou()){case _s:return 1;case vi:return 4;case $n:case Da:return 16;case au:return 536870912;default:return 16}default:return 16}}var An=null,_o=null,pn=null;function Fa(){if(pn)return pn;var r,s=_o,l=s.length,d,p="value"in An?An.value:An.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var k=l-r;for(d=1;d<=k&&s[l-d]===p[y-d];d++);return pn=p.slice(r,1<d?1-d:void 0)}function wo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xr(){return!0}function Ua(){return!1}function Bt(r){function s(l,d,p,y,k){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var V in r)r.hasOwnProperty(V)&&(l=r[V],this[V]=l?l(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xr:Ua,this.isPropagationStopped=Ua,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=Bt(dr),kr=E({},dr,{view:0,detail:0}),df=Bt(kr),To,Xr,xi,bs=E({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xi&&(xi&&r.type==="mousemove"?(To=r.screenX-xi.screenX,Xr=r.screenY-xi.screenY):Xr=To=0,xi=r),To)},movementY:function(r){return"movementY"in r?r.movementY:Xr}}),So=Bt(bs),za=E({},bs,{dataTransfer:0}),vu=Bt(za),Io=E({},kr,{relatedTarget:0}),bo=Bt(Io),_u=E({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jr=Bt(_u),wu=E({},dr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Eu=Bt(wu),Tu=E({},dr,{data:0}),$a=Bt(Tu),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Su[r])?!!s[r]:!1}function Cr(){return Iu}var c=E({},kr,{key:function(r){if(r.key){var s=xo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=wo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?an[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(r){return r.type==="keypress"?wo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Bt(c),_=E({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=Bt(_),G=E({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),ne=Bt(G),ye=E({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Bt(ye),Nt=E({},bs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Bt(Nt),Mt=[9,13,27,32],xt=f&&"CompositionEvent"in window,qn=null;f&&"documentMode"in document&&(qn=document.documentMode);var Rn=f&&"TextEvent"in window&&!qn,xs=f&&(!xt||qn&&8<qn&&11>=qn),ko=" ",ug=!1;function cg(r,s){switch(r){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Co=!1;function PS(r,s){switch(r){case"compositionend":return dg(s);case"keypress":return s.which!==32?null:(ug=!0,ko);case"textInput":return r=s.data,r===ko&&ug?null:r;default:return null}}function AS(r,s){if(Co)return r==="compositionend"||!xt&&cg(r,s)?(r=Fa(),pn=_o=An=null,Co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xs&&s.locale!=="ko"?null:s.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!RS[r.type]:s==="textarea"}function hg(r,s,l,d){Sr(d),s=Pu(s,"onChange"),0<s.length&&(l=new Eo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ba=null,qa=null;function NS(r){Rg(r,0)}function bu(r){var s=Oo(r);if(He(s))return r}function OS(r,s){if(r==="change")return s}var pg=!1;if(f){var ff;if(f){var hf="oninput"in document;if(!hf){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),hf=typeof mg.oninput=="function"}ff=hf}else ff=!1;pg=ff&&(!document.documentMode||9<document.documentMode)}function gg(){Ba&&(Ba.detachEvent("onpropertychange",yg),qa=Ba=null)}function yg(r){if(r.propertyName==="value"&&bu(qa)){var s=[];hg(s,qa,r,oo(r)),Aa(NS,s)}}function DS(r,s,l){r==="focusin"?(gg(),Ba=s,qa=l,Ba.attachEvent("onpropertychange",yg)):r==="focusout"&&gg()}function LS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return bu(qa)}function MS(r,s){if(r==="click")return bu(s)}function VS(r,s){if(r==="input"||r==="change")return bu(s)}function jS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fr=typeof Object.is=="function"?Object.is:jS;function Ha(r,s){if(fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!h.call(s,p)||!fr(r[p],s[p]))return!1}return!0}function vg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _g(r,s){var l=vg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vg(l)}}function wg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Eg(){for(var r=window,s=Ue();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ue(r.document)}return s}function pf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function FS(r){var s=Eg(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&wg(l.ownerDocument.documentElement,l)){if(d!==null&&pf(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=_g(l,y);var k=_g(l,d);p&&k&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var US=f&&"documentMode"in document&&11>=document.documentMode,Po=null,mf=null,Wa=null,gf=!1;function Tg(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gf||Po==null||Po!==Ue(d)||(d=Po,"selectionStart"in d&&pf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wa&&Ha(Wa,d)||(Wa=d,d=Pu(mf,"onSelect"),0<d.length&&(s=new Eo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Po)))}function xu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ao={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},yf={},Sg={};f&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function ku(r){if(yf[r])return yf[r];if(!Ao[r])return r;var s=Ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Sg)return yf[r]=s[l];return r}var Ig=ku("animationend"),bg=ku("animationiteration"),xg=ku("animationstart"),kg=ku("transitionend"),Cg=new Map,Pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(r,s){Cg.set(r,s),a(s,[r])}for(var vf=0;vf<Pg.length;vf++){var _f=Pg[vf],zS=_f.toLowerCase(),$S=_f[0].toUpperCase()+_f.slice(1);ki(zS,"on"+$S)}ki(Ig,"onAnimationEnd"),ki(bg,"onAnimationIteration"),ki(xg,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(kg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function Ag(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,ru(d,s,void 0,r),r.currentTarget=null}function Rg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var k=d.length-1;0<=k;k--){var V=d[k],q=V.instance,ee=V.currentTarget;if(V=V.listener,q!==y&&p.isPropagationStopped())break e;Ag(p,V,ee),y=q}else for(k=0;k<d.length;k++){if(V=d[k],q=V.instance,ee=V.currentTarget,V=V.listener,q!==y&&p.isPropagationStopped())break e;Ag(p,V,ee),y=q}}}if(ir)throw r=Ra,ir=!1,Ra=null,r}function ht(r,s){var l=s[kf];l===void 0&&(l=s[kf]=new Set);var d=r+"__bubble";l.has(d)||(Ng(s,r,2,!1),l.add(d))}function wf(r,s,l){var d=0;s&&(d|=4),Ng(l,r,d,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Ka(r){if(!r[Cu]){r[Cu]=!0,i.forEach(function(l){l!=="selectionchange"&&(BS.has(l)||wf(l,!1,r),wf(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,wf("selectionchange",!1,s))}}function Ng(r,s,l,d){switch(ja(s)){case 1:var p=mt;break;case 4:p=cf;break;default:p=Va}l=p.bind(null,s,l,r),p=void 0,!uo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Ef(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var V=d.stateNode.containerInfo;if(V===p||V.nodeType===8&&V.parentNode===p)break;if(k===4)for(k=d.return;k!==null;){var q=k.tag;if((q===3||q===4)&&(q=k.stateNode.containerInfo,q===p||q.nodeType===8&&q.parentNode===p))return;k=k.return}for(;V!==null;){if(k=ks(V),k===null)return;if(q=k.tag,q===5||q===6){d=y=k;continue e}V=V.parentNode}}d=d.return}Aa(function(){var ee=y,he=oo(l),me=[];e:{var de=Cg.get(r);if(de!==void 0){var we=Eo,Ie=r;switch(r){case"keypress":if(wo(l)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":Ie="focus",we=bo;break;case"focusout":Ie="blur",we=bo;break;case"beforeblur":case"afterblur":we=bo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case Ig:case bg:case xg:we=Jr;break;case kg:we=et;break;case"scroll":we=df;break;case"wheel":we=Qe;break;case"copy":case"cut":case"paste":we=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=R}var xe=(s&4)!==0,It=!xe&&r==="scroll",K=xe?de!==null?de+"Capture":null:de;xe=[];for(var H=ee,Y;H!==null;){Y=H;var ge=Y.stateNode;if(Y.tag===5&&ge!==null&&(Y=ge,K!==null&&(ge=St(H,K),ge!=null&&xe.push(Qa(H,ge,Y)))),It)break;H=H.return}0<xe.length&&(de=new we(de,Ie,null,l,he),me.push({event:de,listeners:xe}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",de&&l!==ps&&(Ie=l.relatedTarget||l.fromElement)&&(ks(Ie)||Ie[Zr]))break e;if((we||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,we?(Ie=l.relatedTarget||l.toElement,we=ee,Ie=Ie?ks(Ie):null,Ie!==null&&(It=sr(Ie),Ie!==It||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(we=null,Ie=ee),we!==Ie)){if(xe=So,ge="onMouseLeave",K="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(xe=R,ge="onPointerLeave",K="onPointerEnter",H="pointer"),It=we==null?de:Oo(we),Y=Ie==null?de:Oo(Ie),de=new xe(ge,H+"leave",we,l,he),de.target=It,de.relatedTarget=Y,ge=null,ks(he)===ee&&(xe=new xe(K,H+"enter",Ie,l,he),xe.target=Y,xe.relatedTarget=It,ge=xe),It=ge,we&&Ie)t:{for(xe=we,K=Ie,H=0,Y=xe;Y;Y=Ro(Y))H++;for(Y=0,ge=K;ge;ge=Ro(ge))Y++;for(;0<H-Y;)xe=Ro(xe),H--;for(;0<Y-H;)K=Ro(K),Y--;for(;H--;){if(xe===K||K!==null&&xe===K.alternate)break t;xe=Ro(xe),K=Ro(K)}xe=null}else xe=null;we!==null&&Og(me,de,we,xe,!1),Ie!==null&&It!==null&&Og(me,It,Ie,xe,!0)}}e:{if(de=ee?Oo(ee):window,we=de.nodeName&&de.nodeName.toLowerCase(),we==="select"||we==="input"&&de.type==="file")var ke=OS;else if(fg(de))if(pg)ke=VS;else{ke=LS;var Re=DS}else(we=de.nodeName)&&we.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(ke=MS);if(ke&&(ke=ke(r,ee))){hg(me,ke,l,he);break e}Re&&Re(r,de,ee),r==="focusout"&&(Re=de._wrapperState)&&Re.controlled&&de.type==="number"&&ft(de,"number",de.value)}switch(Re=ee?Oo(ee):window,r){case"focusin":(fg(Re)||Re.contentEditable==="true")&&(Po=Re,mf=ee,Wa=null);break;case"focusout":Wa=mf=Po=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Tg(me,l,he);break;case"selectionchange":if(US)break;case"keydown":case"keyup":Tg(me,l,he)}var Ne;if(xt)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Co?cg(r,l)&&(Le="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(xs&&l.locale!=="ko"&&(Co||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Co&&(Ne=Fa()):(An=he,_o="value"in An?An.value:An.textContent,Co=!0)),Re=Pu(ee,Le),0<Re.length&&(Le=new $a(Le,r,null,l,he),me.push({event:Le,listeners:Re}),Ne?Le.data=Ne:(Ne=dg(l),Ne!==null&&(Le.data=Ne)))),(Ne=Rn?PS(r,l):AS(r,l))&&(ee=Pu(ee,"onBeforeInput"),0<ee.length&&(he=new $a("onBeforeInput","beforeinput",null,l,he),me.push({event:he,listeners:ee}),he.data=Ne))}Rg(me,s)})}function Qa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Pu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=St(r,l),y!=null&&d.unshift(Qa(r,y,p)),y=St(r,s),y!=null&&d.push(Qa(r,y,p))),r=r.return}return d}function Ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Og(r,s,l,d,p){for(var y=s._reactName,k=[];l!==null&&l!==d;){var V=l,q=V.alternate,ee=V.stateNode;if(q!==null&&q===d)break;V.tag===5&&ee!==null&&(V=ee,p?(q=St(l,y),q!=null&&k.unshift(Qa(l,q,V))):p||(q=St(l,y),q!=null&&k.push(Qa(l,q,V)))),l=l.return}k.length!==0&&r.push({event:s,listeners:k})}var qS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function Dg(r){return(typeof r=="string"?r:""+r).replace(qS,`
`).replace(HS,"")}function Au(r,s,l){if(s=Dg(s),Dg(r)!==s&&l)throw Error(t(425))}function Ru(){}var Tf=null,Sf=null;function If(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bf=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(r){return Lg.resolve(null).then(r).catch(KS)}:bf;function KS(r){setTimeout(function(){throw r})}function xf(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),cr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);cr(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Mg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var No=Math.random().toString(36).slice(2),Pr="__reactFiber$"+No,Ya="__reactProps$"+No,Zr="__reactContainer$"+No,kf="__reactEvents$"+No,QS="__reactListeners$"+No,YS="__reactHandles$"+No;function ks(r){var s=r[Pr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Zr]||l[Pr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Mg(r);r!==null;){if(l=r[Pr])return l;r=Mg(r)}return s}r=l,l=r.parentNode}return null}function Xa(r){return r=r[Pr]||r[Zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Oo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Nu(r){return r[Ya]||null}var Cf=[],Do=-1;function Pi(r){return{current:r}}function pt(r){0>Do||(r.current=Cf[Do],Cf[Do]=null,Do--)}function at(r,s){Do++,Cf[Do]=r.current,r.current=s}var Ai={},Qt=Pi(Ai),mn=Pi(!1),Cs=Ai;function Lo(r,s){var l=r.type.contextTypes;if(!l)return Ai;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function gn(r){return r=r.childContextTypes,r!=null}function Ou(){pt(mn),pt(Qt)}function Vg(r,s,l){if(Qt.current!==Ai)throw Error(t(168));at(Qt,s),at(mn,l)}function jg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ce(r)||"Unknown",p));return E({},l,d)}function Du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ai,Cs=Qt.current,at(Qt,r),at(mn,mn.current),!0}function Fg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=jg(r,s,Cs),d.__reactInternalMemoizedMergedChildContext=r,pt(mn),pt(Qt),at(Qt,r)):pt(mn),at(mn,l)}var ei=null,Lu=!1,Pf=!1;function Ug(r){ei===null?ei=[r]:ei.push(r)}function XS(r){Lu=!0,Ug(r)}function Ri(){if(!Pf&&ei!==null){Pf=!0;var r=0,s=Ke;try{var l=ei;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}ei=null,Lu=!1}catch(p){throw ei!==null&&(ei=ei.slice(r+1)),po(_s,Ri),p}finally{Ke=s,Pf=!1}}return null}var Mo=[],Vo=0,Mu=null,Vu=0,Hn=[],Wn=0,Ps=null,ti=1,ni="";function As(r,s){Mo[Vo++]=Vu,Mo[Vo++]=Mu,Mu=r,Vu=s}function zg(r,s,l){Hn[Wn++]=ti,Hn[Wn++]=ni,Hn[Wn++]=Ps,Ps=r;var d=ti;r=ni;var p=32-on(d)-1;d&=~(1<<p),l+=1;var y=32-on(s)+p;if(30<y){var k=p-p%5;y=(d&(1<<k)-1).toString(32),d>>=k,p-=k,ti=1<<32-on(s)+p|l<<p|d,ni=y+r}else ti=1<<y|l<<p|d,ni=r}function Af(r){r.return!==null&&(As(r,1),zg(r,1,0))}function Rf(r){for(;r===Mu;)Mu=Mo[--Vo],Mo[Vo]=null,Vu=Mo[--Vo],Mo[Vo]=null;for(;r===Ps;)Ps=Hn[--Wn],Hn[Wn]=null,ni=Hn[--Wn],Hn[Wn]=null,ti=Hn[--Wn],Hn[Wn]=null}var Nn=null,On=null,gt=!1,hr=null;function $g(r,s){var l=Yn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Bg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Nn=r,On=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Nn=r,On=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ps!==null?{id:ti,overflow:ni}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Yn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Nn=r,On=null,!0):!1;default:return!1}}function Nf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Of(r){if(gt){var s=On;if(s){var l=s;if(!Bg(r,s)){if(Nf(r))throw Error(t(418));s=Ci(l.nextSibling);var d=Nn;s&&Bg(r,s)?$g(d,l):(r.flags=r.flags&-4097|2,gt=!1,Nn=r)}}else{if(Nf(r))throw Error(t(418));r.flags=r.flags&-4097|2,gt=!1,Nn=r}}}function qg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Nn=r}function ju(r){if(r!==Nn)return!1;if(!gt)return qg(r),gt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!If(r.type,r.memoizedProps)),s&&(s=On)){if(Nf(r))throw Hg(),Error(t(418));for(;s;)$g(r,s),s=Ci(s.nextSibling)}if(qg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){On=Ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}On=null}}else On=Nn?Ci(r.stateNode.nextSibling):null;return!0}function Hg(){for(var r=On;r;)r=Ci(r.nextSibling)}function jo(){On=Nn=null,gt=!1}function Df(r){hr===null?hr=[r]:hr.push(r)}var JS=re.ReactCurrentBatchConfig;function Ja(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(k){var V=p.refs;k===null?delete V[y]:V[y]=k},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Fu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Wg(r){var s=r._init;return s(r._payload)}function Gg(r){function s(K,H){if(r){var Y=K.deletions;Y===null?(K.deletions=[H],K.flags|=16):Y.push(H)}}function l(K,H){if(!r)return null;for(;H!==null;)s(K,H),H=H.sibling;return null}function d(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function p(K,H){return K=Fi(K,H),K.index=0,K.sibling=null,K}function y(K,H,Y){return K.index=Y,r?(Y=K.alternate,Y!==null?(Y=Y.index,Y<H?(K.flags|=2,H):Y):(K.flags|=2,H)):(K.flags|=1048576,H)}function k(K){return r&&K.alternate===null&&(K.flags|=2),K}function V(K,H,Y,ge){return H===null||H.tag!==6?(H=bh(Y,K.mode,ge),H.return=K,H):(H=p(H,Y),H.return=K,H)}function q(K,H,Y,ge){var ke=Y.type;return ke===A?he(K,H,Y.props.children,ge,Y.key):H!==null&&(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&Wg(ke)===H.type)?(ge=p(H,Y.props),ge.ref=Ja(K,H,Y),ge.return=K,ge):(ge=uc(Y.type,Y.key,Y.props,null,K.mode,ge),ge.ref=Ja(K,H,Y),ge.return=K,ge)}function ee(K,H,Y,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=xh(Y,K.mode,ge),H.return=K,H):(H=p(H,Y.children||[]),H.return=K,H)}function he(K,H,Y,ge,ke){return H===null||H.tag!==7?(H=js(Y,K.mode,ge,ke),H.return=K,H):(H=p(H,Y),H.return=K,H)}function me(K,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number")return H=bh(""+H,K.mode,Y),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return Y=uc(H.type,H.key,H.props,null,K.mode,Y),Y.ref=Ja(K,null,H),Y.return=K,Y;case B:return H=xh(H,K.mode,Y),H.return=K,H;case fe:var ge=H._init;return me(K,ge(H._payload),Y)}if(it(H)||z(H))return H=js(H,K.mode,Y,null),H.return=K,H;Fu(K,H)}return null}function de(K,H,Y,ge){var ke=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return ke!==null?null:V(K,H,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===ke?q(K,H,Y,ge):null;case B:return Y.key===ke?ee(K,H,Y,ge):null;case fe:return ke=Y._init,de(K,H,ke(Y._payload),ge)}if(it(Y)||z(Y))return ke!==null?null:he(K,H,Y,ge,null);Fu(K,Y)}return null}function we(K,H,Y,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return K=K.get(Y)||null,V(H,K,""+ge,ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case j:return K=K.get(ge.key===null?Y:ge.key)||null,q(H,K,ge,ke);case B:return K=K.get(ge.key===null?Y:ge.key)||null,ee(H,K,ge,ke);case fe:var Re=ge._init;return we(K,H,Y,Re(ge._payload),ke)}if(it(ge)||z(ge))return K=K.get(Y)||null,he(H,K,ge,ke,null);Fu(H,ge)}return null}function Ie(K,H,Y,ge){for(var ke=null,Re=null,Ne=H,Le=H=0,Ft=null;Ne!==null&&Le<Y.length;Le++){Ne.index>Le?(Ft=Ne,Ne=null):Ft=Ne.sibling;var Je=de(K,Ne,Y[Le],ge);if(Je===null){Ne===null&&(Ne=Ft);break}r&&Ne&&Je.alternate===null&&s(K,Ne),H=y(Je,H,Le),Re===null?ke=Je:Re.sibling=Je,Re=Je,Ne=Ft}if(Le===Y.length)return l(K,Ne),gt&&As(K,Le),ke;if(Ne===null){for(;Le<Y.length;Le++)Ne=me(K,Y[Le],ge),Ne!==null&&(H=y(Ne,H,Le),Re===null?ke=Ne:Re.sibling=Ne,Re=Ne);return gt&&As(K,Le),ke}for(Ne=d(K,Ne);Le<Y.length;Le++)Ft=we(Ne,K,Le,Y[Le],ge),Ft!==null&&(r&&Ft.alternate!==null&&Ne.delete(Ft.key===null?Le:Ft.key),H=y(Ft,H,Le),Re===null?ke=Ft:Re.sibling=Ft,Re=Ft);return r&&Ne.forEach(function(Ui){return s(K,Ui)}),gt&&As(K,Le),ke}function xe(K,H,Y,ge){var ke=z(Y);if(typeof ke!="function")throw Error(t(150));if(Y=ke.call(Y),Y==null)throw Error(t(151));for(var Re=ke=null,Ne=H,Le=H=0,Ft=null,Je=Y.next();Ne!==null&&!Je.done;Le++,Je=Y.next()){Ne.index>Le?(Ft=Ne,Ne=null):Ft=Ne.sibling;var Ui=de(K,Ne,Je.value,ge);if(Ui===null){Ne===null&&(Ne=Ft);break}r&&Ne&&Ui.alternate===null&&s(K,Ne),H=y(Ui,H,Le),Re===null?ke=Ui:Re.sibling=Ui,Re=Ui,Ne=Ft}if(Je.done)return l(K,Ne),gt&&As(K,Le),ke;if(Ne===null){for(;!Je.done;Le++,Je=Y.next())Je=me(K,Je.value,ge),Je!==null&&(H=y(Je,H,Le),Re===null?ke=Je:Re.sibling=Je,Re=Je);return gt&&As(K,Le),ke}for(Ne=d(K,Ne);!Je.done;Le++,Je=Y.next())Je=we(Ne,K,Le,Je.value,ge),Je!==null&&(r&&Je.alternate!==null&&Ne.delete(Je.key===null?Le:Je.key),H=y(Je,H,Le),Re===null?ke=Je:Re.sibling=Je,Re=Je);return r&&Ne.forEach(function(RI){return s(K,RI)}),gt&&As(K,Le),ke}function It(K,H,Y,ge){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var ke=Y.key,Re=H;Re!==null;){if(Re.key===ke){if(ke=Y.type,ke===A){if(Re.tag===7){l(K,Re.sibling),H=p(Re,Y.props.children),H.return=K,K=H;break e}}else if(Re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&Wg(ke)===Re.type){l(K,Re.sibling),H=p(Re,Y.props),H.ref=Ja(K,Re,Y),H.return=K,K=H;break e}l(K,Re);break}else s(K,Re);Re=Re.sibling}Y.type===A?(H=js(Y.props.children,K.mode,ge,Y.key),H.return=K,K=H):(ge=uc(Y.type,Y.key,Y.props,null,K.mode,ge),ge.ref=Ja(K,H,Y),ge.return=K,K=ge)}return k(K);case B:e:{for(Re=Y.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){l(K,H.sibling),H=p(H,Y.children||[]),H.return=K,K=H;break e}else{l(K,H);break}else s(K,H);H=H.sibling}H=xh(Y,K.mode,ge),H.return=K,K=H}return k(K);case fe:return Re=Y._init,It(K,H,Re(Y._payload),ge)}if(it(Y))return Ie(K,H,Y,ge);if(z(Y))return xe(K,H,Y,ge);Fu(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,H!==null&&H.tag===6?(l(K,H.sibling),H=p(H,Y),H.return=K,K=H):(l(K,H),H=bh(Y,K.mode,ge),H.return=K,K=H),k(K)):l(K,H)}return It}var Fo=Gg(!0),Kg=Gg(!1),Uu=Pi(null),zu=null,Uo=null,Lf=null;function Mf(){Lf=Uo=zu=null}function Vf(r){var s=Uu.current;pt(Uu),r._currentValue=s}function jf(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function zo(r,s){zu=r,Lf=Uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(yn=!0),r.firstContext=null)}function Gn(r){var s=r._currentValue;if(Lf!==r)if(r={context:r,memoizedValue:s,next:null},Uo===null){if(zu===null)throw Error(t(308));Uo=r,zu.dependencies={lanes:0,firstContext:r}}else Uo=Uo.next=r;return s}var Rs=null;function Ff(r){Rs===null?Rs=[r]:Rs.push(r)}function Qg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Ff(s)):(l.next=p.next,p.next=l),s.interleaved=l,ri(r,d)}function ri(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ni=!1;function Uf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ii(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Oi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,ri(r,l)}return p=d.interleaved,p===null?(s.next=s,Ff(d)):(s.next=p.next,p.next=s),d.interleaved=s,ri(r,l)}function $u(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ti(r,l)}}function Xg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var k={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=k:y=y.next=k,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Bu(r,s,l,d){var p=r.updateQueue;Ni=!1;var y=p.firstBaseUpdate,k=p.lastBaseUpdate,V=p.shared.pending;if(V!==null){p.shared.pending=null;var q=V,ee=q.next;q.next=null,k===null?y=ee:k.next=ee,k=q;var he=r.alternate;he!==null&&(he=he.updateQueue,V=he.lastBaseUpdate,V!==k&&(V===null?he.firstBaseUpdate=ee:V.next=ee,he.lastBaseUpdate=q))}if(y!==null){var me=p.baseState;k=0,he=ee=q=null,V=y;do{var de=V.lane,we=V.eventTime;if((d&de)===de){he!==null&&(he=he.next={eventTime:we,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ie=r,xe=V;switch(de=s,we=l,xe.tag){case 1:if(Ie=xe.payload,typeof Ie=="function"){me=Ie.call(we,me,de);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=xe.payload,de=typeof Ie=="function"?Ie.call(we,me,de):Ie,de==null)break e;me=E({},me,de);break e;case 2:Ni=!0}}V.callback!==null&&V.lane!==0&&(r.flags|=64,de=p.effects,de===null?p.effects=[V]:de.push(V))}else we={eventTime:we,lane:de,tag:V.tag,payload:V.payload,callback:V.callback,next:null},he===null?(ee=he=we,q=me):he=he.next=we,k|=de;if(V=V.next,V===null){if(V=p.shared.pending,V===null)break;de=V,V=de.next,de.next=null,p.lastBaseUpdate=de,p.shared.pending=null}}while(!0);if(he===null&&(q=me),p.baseState=q,p.firstBaseUpdate=ee,p.lastBaseUpdate=he,s=p.shared.interleaved,s!==null){p=s;do k|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ds|=k,r.lanes=k,r.memoizedState=me}}function Jg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Za={},Ar=Pi(Za),el=Pi(Za),tl=Pi(Za);function Ns(r){if(r===Za)throw Error(t(174));return r}function zf(r,s){switch(at(tl,s),at(el,r),at(Ar,Za),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=tt(s,r)}pt(Ar),at(Ar,s)}function $o(){pt(Ar),pt(el),pt(tl)}function Zg(r){Ns(tl.current);var s=Ns(Ar.current),l=tt(s,r.type);s!==l&&(at(el,r),at(Ar,l))}function $f(r){el.current===r&&(pt(Ar),pt(el))}var vt=Pi(0);function qu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bf=[];function qf(){for(var r=0;r<Bf.length;r++)Bf[r]._workInProgressVersionPrimary=null;Bf.length=0}var Hu=re.ReactCurrentDispatcher,Hf=re.ReactCurrentBatchConfig,Os=0,_t=null,Ot=null,Vt=null,Wu=!1,nl=!1,rl=0,ZS=0;function Yt(){throw Error(t(321))}function Wf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!fr(r[l],s[l]))return!1;return!0}function Gf(r,s,l,d,p,y){if(Os=y,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Hu.current=r===null||r.memoizedState===null?rI:iI,r=l(d,p),nl){y=0;do{if(nl=!1,rl=0,25<=y)throw Error(t(301));y+=1,Vt=Ot=null,s.updateQueue=null,Hu.current=sI,r=l(d,p)}while(nl)}if(Hu.current=Qu,s=Ot!==null&&Ot.next!==null,Os=0,Vt=Ot=_t=null,Wu=!1,s)throw Error(t(300));return r}function Kf(){var r=rl!==0;return rl=0,r}function Rr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Kn(){if(Ot===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Ot.next;var s=Vt===null?_t.memoizedState:Vt.next;if(s!==null)Vt=s,Ot=r;else{if(r===null)throw Error(t(310));Ot=r,r={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function il(r,s){return typeof s=="function"?s(r):s}function Qf(r){var s=Kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Ot,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var k=p.next;p.next=y.next,y.next=k}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var V=k=null,q=null,ee=y;do{var he=ee.lane;if((Os&he)===he)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),d=ee.hasEagerState?ee.eagerState:r(d,ee.action);else{var me={lane:he,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(V=q=me,k=d):q=q.next=me,_t.lanes|=he,Ds|=he}ee=ee.next}while(ee!==null&&ee!==y);q===null?k=d:q.next=V,fr(d,s.memoizedState)||(yn=!0),s.memoizedState=d,s.baseState=k,s.baseQueue=q,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,_t.lanes|=y,Ds|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Yf(r){var s=Kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var k=p=p.next;do y=r(y,k.action),k=k.next;while(k!==p);fr(y,s.memoizedState)||(yn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function ey(){}function ty(r,s){var l=_t,d=Kn(),p=s(),y=!fr(d.memoizedState,p);if(y&&(d.memoizedState=p,yn=!0),d=d.queue,Xf(iy.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,sl(9,ry.bind(null,l,d,p,s),void 0,null),jt===null)throw Error(t(349));(Os&30)!==0||ny(l,s,p)}return p}function ny(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ry(r,s,l,d){s.value=l,s.getSnapshot=d,sy(s)&&oy(r)}function iy(r,s,l){return l(function(){sy(s)&&oy(r)})}function sy(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!fr(r,l)}catch{return!0}}function oy(r){var s=ri(r,1);s!==null&&yr(s,r,1,-1)}function ay(r){var s=Rr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:r},s.queue=r,r=r.dispatch=nI.bind(null,_t,r),[s.memoizedState,r]}function sl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function ly(){return Kn().memoizedState}function Gu(r,s,l,d){var p=Rr();_t.flags|=r,p.memoizedState=sl(1|s,l,void 0,d===void 0?null:d)}function Ku(r,s,l,d){var p=Kn();d=d===void 0?null:d;var y=void 0;if(Ot!==null){var k=Ot.memoizedState;if(y=k.destroy,d!==null&&Wf(d,k.deps)){p.memoizedState=sl(s,l,y,d);return}}_t.flags|=r,p.memoizedState=sl(1|s,l,y,d)}function uy(r,s){return Gu(8390656,8,r,s)}function Xf(r,s){return Ku(2048,8,r,s)}function cy(r,s){return Ku(4,2,r,s)}function dy(r,s){return Ku(4,4,r,s)}function fy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function hy(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4,4,fy.bind(null,s,r),l)}function Jf(){}function py(r,s){var l=Kn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Wf(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function my(r,s){var l=Kn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Wf(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function gy(r,s,l){return(Os&21)===0?(r.baseState&&(r.baseState=!1,yn=!0),r.memoizedState=l):(fr(l,s)||(l=Ts(),_t.lanes|=l,Ds|=l,r.baseState=!0),s)}function eI(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=Hf.transition;Hf.transition={};try{r(!1),s()}finally{Ke=l,Hf.transition=d}}function yy(){return Kn().memoizedState}function tI(r,s,l){var d=Vi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},vy(r))_y(s,l);else if(l=Qg(r,s,l,d),l!==null){var p=un();yr(l,r,d,p),wy(l,s,d)}}function nI(r,s,l){var d=Vi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(vy(r))_y(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var k=s.lastRenderedState,V=y(k,l);if(p.hasEagerState=!0,p.eagerState=V,fr(V,k)){var q=s.interleaved;q===null?(p.next=p,Ff(s)):(p.next=q.next,q.next=p),s.interleaved=p;return}}catch{}finally{}l=Qg(r,s,p,d),l!==null&&(p=un(),yr(l,r,d,p),wy(l,s,d))}}function vy(r){var s=r.alternate;return r===_t||s!==null&&s===_t}function _y(r,s){nl=Wu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function wy(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ti(r,l)}}var Qu={readContext:Gn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},rI={readContext:Gn,useCallback:function(r,s){return Rr().memoizedState=[r,s===void 0?null:s],r},useContext:Gn,useEffect:uy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Gu(4194308,4,fy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Gu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Gu(4,2,r,s)},useMemo:function(r,s){var l=Rr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Rr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=tI.bind(null,_t,r),[d.memoizedState,r]},useRef:function(r){var s=Rr();return r={current:r},s.memoizedState=r},useState:ay,useDebugValue:Jf,useDeferredValue:function(r){return Rr().memoizedState=r},useTransition:function(){var r=ay(!1),s=r[0];return r=eI.bind(null,r[1]),Rr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=_t,p=Rr();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),jt===null)throw Error(t(349));(Os&30)!==0||ny(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,uy(iy.bind(null,d,y,r),[r]),d.flags|=2048,sl(9,ry.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Rr(),s=jt.identifierPrefix;if(gt){var l=ni,d=ti;l=(d&~(1<<32-on(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=rl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=ZS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},iI={readContext:Gn,useCallback:py,useContext:Gn,useEffect:Xf,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:dy,useMemo:my,useReducer:Qf,useRef:ly,useState:function(){return Qf(il)},useDebugValue:Jf,useDeferredValue:function(r){var s=Kn();return gy(s,Ot.memoizedState,r)},useTransition:function(){var r=Qf(il)[0],s=Kn().memoizedState;return[r,s]},useMutableSource:ey,useSyncExternalStore:ty,useId:yy,unstable_isNewReconciler:!1},sI={readContext:Gn,useCallback:py,useContext:Gn,useEffect:Xf,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:dy,useMemo:my,useReducer:Yf,useRef:ly,useState:function(){return Yf(il)},useDebugValue:Jf,useDeferredValue:function(r){var s=Kn();return Ot===null?s.memoizedState=r:gy(s,Ot.memoizedState,r)},useTransition:function(){var r=Yf(il)[0],s=Kn().memoizedState;return[r,s]},useMutableSource:ey,useSyncExternalStore:ty,useId:yy,unstable_isNewReconciler:!1};function pr(r,s){if(r&&r.defaultProps){s=E({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Zf(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:E({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Yu={isMounted:function(r){return(r=r._reactInternals)?sr(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=un(),p=Vi(r),y=ii(d,p);y.payload=s,l!=null&&(y.callback=l),s=Oi(r,y,p),s!==null&&(yr(s,r,p,d),$u(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=un(),p=Vi(r),y=ii(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Oi(r,y,p),s!==null&&(yr(s,r,p,d),$u(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=un(),d=Vi(r),p=ii(l,d);p.tag=2,s!=null&&(p.callback=s),s=Oi(r,p,d),s!==null&&(yr(s,r,d,l),$u(s,r,d))}};function Ey(r,s,l,d,p,y,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,k):s.prototype&&s.prototype.isPureReactComponent?!Ha(l,d)||!Ha(p,y):!0}function Ty(r,s,l){var d=!1,p=Ai,y=s.contextType;return typeof y=="object"&&y!==null?y=Gn(y):(p=gn(s)?Cs:Qt.current,d=s.contextTypes,y=(d=d!=null)?Lo(r,p):Ai),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Yu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Sy(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Yu.enqueueReplaceState(s,s.state,null)}function eh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Uf(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Gn(y):(y=gn(s)?Cs:Qt.current,p.context=Lo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Zf(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Yu.enqueueReplaceState(p,p.state,null),Bu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Bo(r,s){try{var l="",d=s;do l+=ae(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function th(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function nh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var oI=typeof WeakMap=="function"?WeakMap:Map;function Iy(r,s,l){l=ii(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){rc||(rc=!0,yh=d),nh(r,s)},l}function by(r,s,l){l=ii(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){nh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){nh(r,s),typeof d!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),l}function xy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new oI;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=wI.bind(null,r,s,l),s.then(r,r))}function ky(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Cy(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ii(-1,1),s.tag=2,Oi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var aI=re.ReactCurrentOwner,yn=!1;function ln(r,s,l,d){s.child=r===null?Kg(s,null,l,d):Fo(s,r.child,l,d)}function Py(r,s,l,d,p){l=l.render;var y=s.ref;return zo(s,p),d=Gf(r,s,l,d,y,p),l=Kf(),r!==null&&!yn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,si(r,s,p)):(gt&&l&&Af(s),s.flags|=1,ln(r,s,d,p),s.child)}function Ay(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!Ih(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Ry(r,s,y,d,p)):(r=uc(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var k=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(k,d)&&r.ref===s.ref)return si(r,s,p)}return s.flags|=1,r=Fi(y,d),r.ref=s.ref,r.return=s,s.child=r}function Ry(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(Ha(y,d)&&r.ref===s.ref)if(yn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(yn=!0);else return s.lanes=r.lanes,si(r,s,p)}return rh(r,s,l,d,p)}function Ny(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ho,Dn),Dn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(Ho,Dn),Dn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,at(Ho,Dn),Dn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,at(Ho,Dn),Dn|=d;return ln(r,s,p,l),s.child}function Oy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function rh(r,s,l,d,p){var y=gn(l)?Cs:Qt.current;return y=Lo(s,y),zo(s,p),l=Gf(r,s,l,d,y,p),d=Kf(),r!==null&&!yn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,si(r,s,p)):(gt&&d&&Af(s),s.flags|=1,ln(r,s,l,p),s.child)}function Dy(r,s,l,d,p){if(gn(l)){var y=!0;Du(s)}else y=!1;if(zo(s,p),s.stateNode===null)Ju(r,s),Ty(s,l,d),eh(s,l,d,p),d=!0;else if(r===null){var k=s.stateNode,V=s.memoizedProps;k.props=V;var q=k.context,ee=l.contextType;typeof ee=="object"&&ee!==null?ee=Gn(ee):(ee=gn(l)?Cs:Qt.current,ee=Lo(s,ee));var he=l.getDerivedStateFromProps,me=typeof he=="function"||typeof k.getSnapshotBeforeUpdate=="function";me||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(V!==d||q!==ee)&&Sy(s,k,d,ee),Ni=!1;var de=s.memoizedState;k.state=de,Bu(s,d,k,p),q=s.memoizedState,V!==d||de!==q||mn.current||Ni?(typeof he=="function"&&(Zf(s,l,he,d),q=s.memoizedState),(V=Ni||Ey(s,l,V,d,de,q,ee))?(me||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=q),k.props=d,k.state=q,k.context=ee,d=V):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{k=s.stateNode,Yg(r,s),V=s.memoizedProps,ee=s.type===s.elementType?V:pr(s.type,V),k.props=ee,me=s.pendingProps,de=k.context,q=l.contextType,typeof q=="object"&&q!==null?q=Gn(q):(q=gn(l)?Cs:Qt.current,q=Lo(s,q));var we=l.getDerivedStateFromProps;(he=typeof we=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(V!==me||de!==q)&&Sy(s,k,d,q),Ni=!1,de=s.memoizedState,k.state=de,Bu(s,d,k,p);var Ie=s.memoizedState;V!==me||de!==Ie||mn.current||Ni?(typeof we=="function"&&(Zf(s,l,we,d),Ie=s.memoizedState),(ee=Ni||Ey(s,l,ee,d,de,Ie,q)||!1)?(he||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,Ie,q),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,Ie,q)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||V===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ie),k.props=d,k.state=Ie,k.context=q,d=ee):(typeof k.componentDidUpdate!="function"||V===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),d=!1)}return ih(r,s,l,d,y,p)}function ih(r,s,l,d,p,y){Oy(r,s);var k=(s.flags&128)!==0;if(!d&&!k)return p&&Fg(s,l,!1),si(r,s,y);d=s.stateNode,aI.current=s;var V=k&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&k?(s.child=Fo(s,r.child,null,y),s.child=Fo(s,null,V,y)):ln(r,s,V,y),s.memoizedState=d.state,p&&Fg(s,l,!0),s.child}function Ly(r){var s=r.stateNode;s.pendingContext?Vg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Vg(r,s.context,!1),zf(r,s.containerInfo)}function My(r,s,l,d,p){return jo(),Df(p),s.flags|=256,ln(r,s,l,d),s.child}var sh={dehydrated:null,treeContext:null,retryLane:0};function oh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Vy(r,s,l){var d=s.pendingProps,p=vt.current,y=!1,k=(s.flags&128)!==0,V;if((V=k)||(V=r!==null&&r.memoizedState===null?!1:(p&2)!==0),V?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),at(vt,p&1),r===null)return Of(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(k=d.children,r=d.fallback,y?(d=s.mode,y=s.child,k={mode:"hidden",children:k},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=cc(k,d,0,null),r=js(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=oh(l),s.memoizedState=sh,r):ah(s,k));if(p=r.memoizedState,p!==null&&(V=p.dehydrated,V!==null))return lI(r,s,k,d,V,p,l);if(y){y=d.fallback,k=s.mode,p=r.child,V=p.sibling;var q={mode:"hidden",children:d.children};return(k&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=q,s.deletions=null):(d=Fi(p,q),d.subtreeFlags=p.subtreeFlags&14680064),V!==null?y=Fi(V,y):(y=js(y,k,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,k=r.child.memoizedState,k=k===null?oh(l):{baseLanes:k.baseLanes|l,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=r.childLanes&~l,s.memoizedState=sh,d}return y=r.child,r=y.sibling,d=Fi(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function ah(r,s){return s=cc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Xu(r,s,l,d){return d!==null&&Df(d),Fo(s,r.child,null,l),r=ah(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function lI(r,s,l,d,p,y,k){if(l)return s.flags&256?(s.flags&=-257,d=th(Error(t(422))),Xu(r,s,k,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=cc({mode:"visible",children:d.children},p,0,null),y=js(y,p,k,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&Fo(s,r.child,null,k),s.child.memoizedState=oh(k),s.memoizedState=sh,y);if((s.mode&1)===0)return Xu(r,s,k,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var V=d.dgst;return d=V,y=Error(t(419)),d=th(y,d,void 0),Xu(r,s,k,d)}if(V=(k&r.childLanes)!==0,yn||V){if(d=jt,d!==null){switch(k&-k){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|k))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ri(r,p),yr(d,r,p,-1))}return Sh(),d=th(Error(t(421))),Xu(r,s,k,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=EI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,On=Ci(p.nextSibling),Nn=s,gt=!0,hr=null,r!==null&&(Hn[Wn++]=ti,Hn[Wn++]=ni,Hn[Wn++]=Ps,ti=r.id,ni=r.overflow,Ps=s),s=ah(s,d.children),s.flags|=4096,s)}function jy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),jf(r.return,s,l)}function lh(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Fy(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(ln(r,s,d.children,l),d=vt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jy(r,l,s);else if(r.tag===19)jy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(at(vt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&qu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),lh(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&qu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}lh(s,!0,l,null,y);break;case"together":lh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ju(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function si(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ds|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Fi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Fi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function uI(r,s,l){switch(s.tag){case 3:Ly(s),jo();break;case 5:Zg(s);break;case 1:gn(s.type)&&Du(s);break;case 4:zf(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;at(Uu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(vt,vt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Vy(r,s,l):(at(vt,vt.current&1),r=si(r,s,l),r!==null?r.sibling:null);at(vt,vt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Fy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(vt,vt.current),d)break;return null;case 22:case 23:return s.lanes=0,Ny(r,s,l)}return si(r,s,l)}var Uy,uh,zy,$y;Uy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},uh=function(){},zy=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Ns(Ar.current);var y=null;switch(l){case"input":p=Ve(r,p),d=Ve(r,d),y=[];break;case"select":p=E({},p,{value:void 0}),d=E({},d,{value:void 0}),y=[];break;case"textarea":p=kn(r,p),d=kn(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Ru)}xa(l,d);var k;l=null;for(ee in p)if(!d.hasOwnProperty(ee)&&p.hasOwnProperty(ee)&&p[ee]!=null)if(ee==="style"){var V=p[ee];for(k in V)V.hasOwnProperty(k)&&(l||(l={}),l[k]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?y||(y=[]):(y=y||[]).push(ee,null));for(ee in d){var q=d[ee];if(V=p!=null?p[ee]:void 0,d.hasOwnProperty(ee)&&q!==V&&(q!=null||V!=null))if(ee==="style")if(V){for(k in V)!V.hasOwnProperty(k)||q&&q.hasOwnProperty(k)||(l||(l={}),l[k]="");for(k in q)q.hasOwnProperty(k)&&V[k]!==q[k]&&(l||(l={}),l[k]=q[k])}else l||(y||(y=[]),y.push(ee,l)),l=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,V=V?V.__html:void 0,q!=null&&V!==q&&(y=y||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(y=y||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&ht("scroll",r),y||V===q||(y=[])):(y=y||[]).push(ee,q))}l&&(y=y||[]).push("style",l);var ee=y;(s.updateQueue=ee)&&(s.flags|=4)}},$y=function(r,s,l,d){l!==d&&(s.flags|=4)};function ol(r,s){if(!gt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function cI(r,s,l){var d=s.pendingProps;switch(Rf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return gn(s.type)&&Ou(),Xt(s),null;case 3:return d=s.stateNode,$o(),pt(mn),pt(Qt),qf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ju(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hr!==null&&(wh(hr),hr=null))),uh(r,s),Xt(s),null;case 5:$f(s);var p=Ns(tl.current);if(l=s.type,r!==null&&s.stateNode!=null)zy(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Xt(s),null}if(r=Ns(Ar.current),ju(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Pr]=s,d[Ya]=y,r=(s.mode&1)!==0,l){case"dialog":ht("cancel",d),ht("close",d);break;case"iframe":case"object":case"embed":ht("load",d);break;case"video":case"audio":for(p=0;p<Ga.length;p++)ht(Ga[p],d);break;case"source":ht("error",d);break;case"img":case"image":case"link":ht("error",d),ht("load",d);break;case"details":ht("toggle",d);break;case"input":qe(d,y),ht("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ht("invalid",d);break;case"textarea":tr(d,y),ht("invalid",d)}xa(l,y),p=null;for(var k in y)if(y.hasOwnProperty(k)){var V=y[k];k==="children"?typeof V=="string"?d.textContent!==V&&(y.suppressHydrationWarning!==!0&&Au(d.textContent,V,r),p=["children",V]):typeof V=="number"&&d.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&Au(d.textContent,V,r),p=["children",""+V]):o.hasOwnProperty(k)&&V!=null&&k==="onScroll"&&ht("scroll",d)}switch(l){case"input":$e(d),dt(d,y,!0);break;case"textarea":$e(d),nr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Ru)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{k=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=k.createElement(l,{is:d.is}):(r=k.createElement(l),l==="select"&&(k=r,d.multiple?k.multiple=!0:d.size&&(k.size=d.size))):r=k.createElementNS(r,l),r[Pr]=s,r[Ya]=d,Uy(r,s,!1,!1),s.stateNode=r;e:{switch(k=ka(l,d),l){case"dialog":ht("cancel",r),ht("close",r),p=d;break;case"iframe":case"object":case"embed":ht("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ga.length;p++)ht(Ga[p],r);p=d;break;case"source":ht("error",r),p=d;break;case"img":case"image":case"link":ht("error",r),ht("load",r),p=d;break;case"details":ht("toggle",r),p=d;break;case"input":qe(r,d),p=Ve(r,d),ht("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=E({},d,{value:void 0}),ht("invalid",r);break;case"textarea":tr(r,d),p=kn(r,d),ht("invalid",r);break;default:p=d}xa(l,p),V=p;for(y in V)if(V.hasOwnProperty(y)){var q=V[y];y==="style"?Ia(r,q):y==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Ta(r,q)):y==="children"?typeof q=="string"?(l!=="textarea"||q!=="")&&yi(r,q):typeof q=="number"&&yi(r,""+q):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?q!=null&&y==="onScroll"&&ht("scroll",r):q!=null&&J(r,y,q,k))}switch(l){case"input":$e(r),dt(r,d,!1);break;case"textarea":$e(r),nr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Te(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?yt(r,!!d.multiple,y,!1):d.defaultValue!=null&&yt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Ru)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(r&&s.stateNode!=null)$y(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ns(tl.current),Ns(Ar.current),ju(s)){if(d=s.stateNode,l=s.memoizedProps,d[Pr]=s,(y=d.nodeValue!==l)&&(r=Nn,r!==null))switch(r.tag){case 3:Au(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Au(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Pr]=s,s.stateNode=d}return Xt(s),null;case 13:if(pt(vt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&On!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hg(),jo(),s.flags|=98560,y=!1;else if(y=ju(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Pr]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),y=!1}else hr!==null&&(wh(hr),hr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(vt.current&1)!==0?Dt===0&&(Dt=3):Sh())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return $o(),uh(r,s),r===null&&Ka(s.stateNode.containerInfo),Xt(s),null;case 10:return Vf(s.type._context),Xt(s),null;case 17:return gn(s.type)&&Ou(),Xt(s),null;case 19:if(pt(vt),y=s.memoizedState,y===null)return Xt(s),null;if(d=(s.flags&128)!==0,k=y.rendering,k===null)if(d)ol(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(k=qu(r),k!==null){for(s.flags|=128,ol(y,!1),d=k.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,r=k.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return at(vt,vt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ot()>Wo&&(s.flags|=128,d=!0,ol(y,!1),s.lanes=4194304)}else{if(!d)if(r=qu(k),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ol(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!gt)return Xt(s),null}else 2*ot()-y.renderingStartTime>Wo&&l!==1073741824&&(s.flags|=128,d=!0,ol(y,!1),s.lanes=4194304);y.isBackwards?(k.sibling=s.child,s.child=k):(l=y.last,l!==null?l.sibling=k:s.child=k,y.last=k)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ot(),s.sibling=null,l=vt.current,at(vt,d?l&1|2:l&1),s):(Xt(s),null);case 22:case 23:return Th(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Dn&1073741824)!==0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function dI(r,s){switch(Rf(s),s.tag){case 1:return gn(s.type)&&Ou(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return $o(),pt(mn),pt(Qt),qf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return $f(s),null;case 13:if(pt(vt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));jo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(vt),null;case 4:return $o(),null;case 10:return Vf(s.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var Zu=!1,Jt=!1,fI=typeof WeakSet=="function"?WeakSet:Set,Se=null;function qo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Et(r,s,d)}else l.current=null}function ch(r,s,l){try{l()}catch(d){Et(r,s,d)}}var By=!1;function hI(r,s){if(Tf=bi,r=Eg(),pf(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var k=0,V=-1,q=-1,ee=0,he=0,me=r,de=null;t:for(;;){for(var we;me!==l||p!==0&&me.nodeType!==3||(V=k+p),me!==y||d!==0&&me.nodeType!==3||(q=k+d),me.nodeType===3&&(k+=me.nodeValue.length),(we=me.firstChild)!==null;)de=me,me=we;for(;;){if(me===r)break t;if(de===l&&++ee===p&&(V=k),de===y&&++he===d&&(q=k),(we=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=we}l=V===-1||q===-1?null:{start:V,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sf={focusedElem:r,selectionRange:l},bi=!1,Se=s;Se!==null;)if(s=Se,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Se=r;else for(;Se!==null;){s=Se;try{var Ie=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var xe=Ie.memoizedProps,It=Ie.memoizedState,K=s.stateNode,H=K.getSnapshotBeforeUpdate(s.elementType===s.type?xe:pr(s.type,xe),It);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Et(s,s.return,ge)}if(r=s.sibling,r!==null){r.return=s.return,Se=r;break}Se=s.return}return Ie=By,By=!1,Ie}function al(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&ch(s,l,y)}p=p.next}while(p!==d)}}function ec(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function dh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function qy(r){var s=r.alternate;s!==null&&(r.alternate=null,qy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Pr],delete s[Ya],delete s[kf],delete s[QS],delete s[YS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hy(r){return r.tag===5||r.tag===3||r.tag===4}function Wy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function fh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ru));else if(d!==4&&(r=r.child,r!==null))for(fh(r,s,l),r=r.sibling;r!==null;)fh(r,s,l),r=r.sibling}function hh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(hh(r,s,l),r=r.sibling;r!==null;)hh(r,s,l),r=r.sibling}var qt=null,mr=!1;function Di(r,s,l){for(l=l.child;l!==null;)Gy(r,s,l),l=l.sibling}function Gy(r,s,l){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ws,l)}catch{}switch(l.tag){case 5:Jt||qo(l,s);case 6:var d=qt,p=mr;qt=null,Di(r,s,l),qt=d,mr=p,qt!==null&&(mr?(r=qt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):qt.removeChild(l.stateNode));break;case 18:qt!==null&&(mr?(r=qt,l=l.stateNode,r.nodeType===8?xf(r.parentNode,l):r.nodeType===1&&xf(r,l),cr(r)):xf(qt,l.stateNode));break;case 4:d=qt,p=mr,qt=l.stateNode.containerInfo,mr=!0,Di(r,s,l),qt=d,mr=p;break;case 0:case 11:case 14:case 15:if(!Jt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&ch(l,s,k),p=p.next}while(p!==d)}Di(r,s,l);break;case 1:if(!Jt&&(qo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(V){Et(l,s,V)}Di(r,s,l);break;case 21:Di(r,s,l);break;case 22:l.mode&1?(Jt=(d=Jt)||l.memoizedState!==null,Di(r,s,l),Jt=d):Di(r,s,l);break;default:Di(r,s,l)}}function Ky(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new fI),s.forEach(function(d){var p=TI.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function gr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,k=s,V=k;e:for(;V!==null;){switch(V.tag){case 5:qt=V.stateNode,mr=!1;break e;case 3:qt=V.stateNode.containerInfo,mr=!0;break e;case 4:qt=V.stateNode.containerInfo,mr=!0;break e}V=V.return}if(qt===null)throw Error(t(160));Gy(y,k,p),qt=null,mr=!1;var q=p.alternate;q!==null&&(q.return=null),p.return=null}catch(ee){Et(p,s,ee)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qy(s,r),s=s.sibling}function Qy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(gr(s,r),Nr(r),d&4){try{al(3,r,r.return),ec(3,r)}catch(xe){Et(r,r.return,xe)}try{al(5,r,r.return)}catch(xe){Et(r,r.return,xe)}}break;case 1:gr(s,r),Nr(r),d&512&&l!==null&&qo(l,l.return);break;case 5:if(gr(s,r),Nr(r),d&512&&l!==null&&qo(l,l.return),r.flags&32){var p=r.stateNode;try{yi(p,"")}catch(xe){Et(r,r.return,xe)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,k=l!==null?l.memoizedProps:y,V=r.type,q=r.updateQueue;if(r.updateQueue=null,q!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&ct(p,y),ka(V,k);var ee=ka(V,y);for(k=0;k<q.length;k+=2){var he=q[k],me=q[k+1];he==="style"?Ia(p,me):he==="dangerouslySetInnerHTML"?Ta(p,me):he==="children"?yi(p,me):J(p,he,me,ee)}switch(V){case"input":Fe(p,y);break;case"textarea":Wr(p,y);break;case"select":var de=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?yt(p,!!y.multiple,we,!1):de!==!!y.multiple&&(y.defaultValue!=null?yt(p,!!y.multiple,y.defaultValue,!0):yt(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ya]=y}catch(xe){Et(r,r.return,xe)}}break;case 6:if(gr(s,r),Nr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(xe){Et(r,r.return,xe)}}break;case 3:if(gr(s,r),Nr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{cr(s.containerInfo)}catch(xe){Et(r,r.return,xe)}break;case 4:gr(s,r),Nr(r);break;case 13:gr(s,r),Nr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(gh=ot())),d&4&&Ky(r);break;case 22:if(he=l!==null&&l.memoizedState!==null,r.mode&1?(Jt=(ee=Jt)||he,gr(s,r),Jt=ee):gr(s,r),Nr(r),d&8192){if(ee=r.memoizedState!==null,(r.stateNode.isHidden=ee)&&!he&&(r.mode&1)!==0)for(Se=r,he=r.child;he!==null;){for(me=Se=he;Se!==null;){switch(de=Se,we=de.child,de.tag){case 0:case 11:case 14:case 15:al(4,de,de.return);break;case 1:qo(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){d=de,l=de.return;try{s=d,Ie.props=s.memoizedProps,Ie.state=s.memoizedState,Ie.componentWillUnmount()}catch(xe){Et(d,l,xe)}}break;case 5:qo(de,de.return);break;case 22:if(de.memoizedState!==null){Jy(me);continue}}we!==null?(we.return=de,Se=we):Jy(me)}he=he.sibling}e:for(he=null,me=r;;){if(me.tag===5){if(he===null){he=me;try{p=me.stateNode,ee?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=me.stateNode,q=me.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null,V.style.display=Sa("display",k))}catch(xe){Et(r,r.return,xe)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ee?"":me.memoizedProps}catch(xe){Et(r,r.return,xe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:gr(s,r),Nr(r),d&4&&Ky(r);break;case 21:break;default:gr(s,r),Nr(r)}}function Nr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Hy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(yi(p,""),d.flags&=-33);var y=Wy(r);hh(r,y,p);break;case 3:case 4:var k=d.stateNode.containerInfo,V=Wy(r);fh(r,V,k);break;default:throw Error(t(161))}}catch(q){Et(r,r.return,q)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function pI(r,s,l){Se=r,Yy(r)}function Yy(r,s,l){for(var d=(r.mode&1)!==0;Se!==null;){var p=Se,y=p.child;if(p.tag===22&&d){var k=p.memoizedState!==null||Zu;if(!k){var V=p.alternate,q=V!==null&&V.memoizedState!==null||Jt;V=Zu;var ee=Jt;if(Zu=k,(Jt=q)&&!ee)for(Se=p;Se!==null;)k=Se,q=k.child,k.tag===22&&k.memoizedState!==null?Zy(p):q!==null?(q.return=k,Se=q):Zy(p);for(;y!==null;)Se=y,Yy(y),y=y.sibling;Se=p,Zu=V,Jt=ee}Xy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Se=y):Xy(r)}}function Xy(r){for(;Se!==null;){var s=Se;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Jt||ec(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Jt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:pr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Jg(s,y,d);break;case 3:var k=s.updateQueue;if(k!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Jg(s,k,l)}break;case 5:var V=s.stateNode;if(l===null&&s.flags&4){l=V;var q=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&l.focus();break;case"img":q.src&&(l.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ee=s.alternate;if(ee!==null){var he=ee.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&cr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||s.flags&512&&dh(s)}catch(de){Et(s,s.return,de)}}if(s===r){Se=null;break}if(l=s.sibling,l!==null){l.return=s.return,Se=l;break}Se=s.return}}function Jy(r){for(;Se!==null;){var s=Se;if(s===r){Se=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Se=l;break}Se=s.return}}function Zy(r){for(;Se!==null;){var s=Se;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ec(4,s)}catch(q){Et(s,l,q)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(q){Et(s,p,q)}}var y=s.return;try{dh(s)}catch(q){Et(s,y,q)}break;case 5:var k=s.return;try{dh(s)}catch(q){Et(s,k,q)}}}catch(q){Et(s,s.return,q)}if(s===r){Se=null;break}var V=s.sibling;if(V!==null){V.return=s.return,Se=V;break}Se=s.return}}var mI=Math.ceil,tc=re.ReactCurrentDispatcher,ph=re.ReactCurrentOwner,Qn=re.ReactCurrentBatchConfig,Xe=0,jt=null,kt=null,Ht=0,Dn=0,Ho=Pi(0),Dt=0,ll=null,Ds=0,nc=0,mh=0,ul=null,vn=null,gh=0,Wo=1/0,oi=null,rc=!1,yh=null,Li=null,ic=!1,Mi=null,sc=0,cl=0,vh=null,oc=-1,ac=0;function un(){return(Xe&6)!==0?ot():oc!==-1?oc:oc=ot()}function Vi(r){return(r.mode&1)===0?1:(Xe&2)!==0&&Ht!==0?Ht&-Ht:JS.transition!==null?(ac===0&&(ac=Ts()),ac):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:ja(r.type)),r)}function yr(r,s,l,d){if(50<cl)throw cl=0,vh=null,Error(t(185));Ei(r,l,d),((Xe&2)===0||r!==jt)&&(r===jt&&((Xe&2)===0&&(nc|=l),Dt===4&&ji(r,Ht)),_n(r,d),l===1&&Xe===0&&(s.mode&1)===0&&(Wo=ot()+500,Lu&&Ri()))}function _n(r,s){var l=r.callbackNode;Kr(r,s);var d=Es(r,r===jt?Ht:0);if(d===0)l!==null&&Oa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Oa(l),s===1)r.tag===0?XS(tv.bind(null,r)):Ug(tv.bind(null,r)),GS(function(){(Xe&6)===0&&Ri()}),l=null;else{switch(Si(d)){case 1:l=_s;break;case 4:l=vi;break;case 16:l=$n;break;case 536870912:l=au;break;default:l=$n}l=uv(l,ev.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function ev(r,s){if(oc=-1,ac=0,(Xe&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Go()&&r.callbackNode!==l)return null;var d=Es(r,r===jt?Ht:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=lc(r,d);else{s=d;var p=Xe;Xe|=2;var y=rv();(jt!==r||Ht!==s)&&(oi=null,Wo=ot()+500,Ms(r,s));do try{vI();break}catch(V){nv(r,V)}while(!0);Mf(),tc.current=y,Xe=p,kt!==null?s=0:(jt=null,Ht=0,s=Dt)}if(s!==0){if(s===2&&(p=Pn(r),p!==0&&(d=p,s=_h(r,p))),s===1)throw l=ll,Ms(r,0),ji(r,d),_n(r,ot()),l;if(s===6)ji(r,d);else{if(p=r.current.alternate,(d&30)===0&&!gI(p)&&(s=lc(r,d),s===2&&(y=Pn(r),y!==0&&(d=y,s=_h(r,y))),s===1))throw l=ll,Ms(r,0),ji(r,d),_n(r,ot()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Vs(r,vn,oi);break;case 3:if(ji(r,d),(d&130023424)===d&&(s=gh+500-ot(),10<s)){if(Es(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){un(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=bf(Vs.bind(null,r,vn,oi),s);break}Vs(r,vn,oi);break;case 4:if(ji(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var k=31-on(d);y=1<<k,k=s[k],k>p&&(p=k),d&=~y}if(d=p,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*mI(d/1960))-d,10<d){r.timeoutHandle=bf(Vs.bind(null,r,vn,oi),d);break}Vs(r,vn,oi);break;case 5:Vs(r,vn,oi);break;default:throw Error(t(329))}}}return _n(r,ot()),r.callbackNode===l?ev.bind(null,r):null}function _h(r,s){var l=ul;return r.current.memoizedState.isDehydrated&&(Ms(r,s).flags|=256),r=lc(r,s),r!==2&&(s=vn,vn=l,s!==null&&wh(s)),r}function wh(r){vn===null?vn=r:vn.push.apply(vn,r)}function gI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!fr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(r,s){for(s&=~mh,s&=~nc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-on(s),d=1<<l;r[l]=-1,s&=~d}}function tv(r){if((Xe&6)!==0)throw Error(t(327));Go();var s=Es(r,0);if((s&1)===0)return _n(r,ot()),null;var l=lc(r,s);if(r.tag!==0&&l===2){var d=Pn(r);d!==0&&(s=d,l=_h(r,d))}if(l===1)throw l=ll,Ms(r,0),ji(r,s),_n(r,ot()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Vs(r,vn,oi),_n(r,ot()),null}function Eh(r,s){var l=Xe;Xe|=1;try{return r(s)}finally{Xe=l,Xe===0&&(Wo=ot()+500,Lu&&Ri())}}function Ls(r){Mi!==null&&Mi.tag===0&&(Xe&6)===0&&Go();var s=Xe;Xe|=1;var l=Qn.transition,d=Ke;try{if(Qn.transition=null,Ke=1,r)return r()}finally{Ke=d,Qn.transition=l,Xe=s,(Xe&6)===0&&Ri()}}function Th(){Dn=Ho.current,pt(Ho)}function Ms(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,WS(l)),kt!==null)for(l=kt.return;l!==null;){var d=l;switch(Rf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ou();break;case 3:$o(),pt(mn),pt(Qt),qf();break;case 5:$f(d);break;case 4:$o();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:Vf(d.type._context);break;case 22:case 23:Th()}l=l.return}if(jt=r,kt=r=Fi(r.current,null),Ht=Dn=s,Dt=0,ll=null,mh=nc=Ds=0,vn=ul=null,Rs!==null){for(s=0;s<Rs.length;s++)if(l=Rs[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var k=y.next;y.next=p,d.next=k}l.pending=d}Rs=null}return r}function nv(r,s){do{var l=kt;try{if(Mf(),Hu.current=Qu,Wu){for(var d=_t.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Wu=!1}if(Os=0,Vt=Ot=_t=null,nl=!1,rl=0,ph.current=null,l===null||l.return===null){Dt=1,ll=s,kt=null;break}e:{var y=r,k=l.return,V=l,q=s;if(s=Ht,V.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,he=V,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var we=ky(k);if(we!==null){we.flags&=-257,Cy(we,k,V,y,s),we.mode&1&&xy(y,ee,s),s=we,q=ee;var Ie=s.updateQueue;if(Ie===null){var xe=new Set;xe.add(q),s.updateQueue=xe}else Ie.add(q);break e}else{if((s&1)===0){xy(y,ee,s),Sh();break e}q=Error(t(426))}}else if(gt&&V.mode&1){var It=ky(k);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),Cy(It,k,V,y,s),Df(Bo(q,V));break e}}y=q=Bo(q,V),Dt!==4&&(Dt=2),ul===null?ul=[y]:ul.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var K=Iy(y,q,s);Xg(y,K);break e;case 1:V=q;var H=y.type,Y=y.stateNode;if((y.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Li===null||!Li.has(Y)))){y.flags|=65536,s&=-s,y.lanes|=s;var ge=by(y,V,s);Xg(y,ge);break e}}y=y.return}while(y!==null)}sv(l)}catch(ke){s=ke,kt===l&&l!==null&&(kt=l=l.return);continue}break}while(!0)}function rv(){var r=tc.current;return tc.current=Qu,r===null?Qu:r}function Sh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),jt===null||(Ds&268435455)===0&&(nc&268435455)===0||ji(jt,Ht)}function lc(r,s){var l=Xe;Xe|=2;var d=rv();(jt!==r||Ht!==s)&&(oi=null,Ms(r,s));do try{yI();break}catch(p){nv(r,p)}while(!0);if(Mf(),Xe=l,tc.current=d,kt!==null)throw Error(t(261));return jt=null,Ht=0,Dt}function yI(){for(;kt!==null;)iv(kt)}function vI(){for(;kt!==null&&!su();)iv(kt)}function iv(r){var s=lv(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,s===null?sv(r):kt=s,ph.current=null}function sv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=cI(l,s,Dn),l!==null){kt=l;return}}else{if(l=dI(l,s),l!==null){l.flags&=32767,kt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Dt=6,kt=null;return}}if(s=s.sibling,s!==null){kt=s;return}kt=s=r}while(s!==null);Dt===0&&(Dt=5)}function Vs(r,s,l){var d=Ke,p=Qn.transition;try{Qn.transition=null,Ke=1,_I(r,s,l,d)}finally{Qn.transition=p,Ke=d}return null}function _I(r,s,l,d){do Go();while(Mi!==null);if((Xe&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(st(r,y),r===jt&&(kt=jt=null,Ht=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ic||(ic=!0,uv($n,function(){return Go(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var k=Ke;Ke=1;var V=Xe;Xe|=4,ph.current=null,hI(r,l),Qy(l,r),FS(Sf),bi=!!Tf,Sf=Tf=null,r.current=l,pI(l),of(),Xe=V,Ke=k,Qn.transition=y}else r.current=l;if(ic&&(ic=!1,Mi=r,sc=p),y=r.pendingLanes,y===0&&(Li=null),lu(l.stateNode),_n(r,ot()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(rc)throw rc=!1,r=yh,yh=null,r;return(sc&1)!==0&&r.tag!==0&&Go(),y=r.pendingLanes,(y&1)!==0?r===vh?cl++:(cl=0,vh=r):cl=0,Ri(),null}function Go(){if(Mi!==null){var r=Si(sc),s=Qn.transition,l=Ke;try{if(Qn.transition=null,Ke=16>r?16:r,Mi===null)var d=!1;else{if(r=Mi,Mi=null,sc=0,(Xe&6)!==0)throw Error(t(331));var p=Xe;for(Xe|=4,Se=r.current;Se!==null;){var y=Se,k=y.child;if((Se.flags&16)!==0){var V=y.deletions;if(V!==null){for(var q=0;q<V.length;q++){var ee=V[q];for(Se=ee;Se!==null;){var he=Se;switch(he.tag){case 0:case 11:case 15:al(8,he,y)}var me=he.child;if(me!==null)me.return=he,Se=me;else for(;Se!==null;){he=Se;var de=he.sibling,we=he.return;if(qy(he),he===ee){Se=null;break}if(de!==null){de.return=we,Se=de;break}Se=we}}}var Ie=y.alternate;if(Ie!==null){var xe=Ie.child;if(xe!==null){Ie.child=null;do{var It=xe.sibling;xe.sibling=null,xe=It}while(xe!==null)}}Se=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,Se=k;else e:for(;Se!==null;){if(y=Se,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:al(9,y,y.return)}var K=y.sibling;if(K!==null){K.return=y.return,Se=K;break e}Se=y.return}}var H=r.current;for(Se=H;Se!==null;){k=Se;var Y=k.child;if((k.subtreeFlags&2064)!==0&&Y!==null)Y.return=k,Se=Y;else e:for(k=H;Se!==null;){if(V=Se,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:ec(9,V)}}catch(ke){Et(V,V.return,ke)}if(V===k){Se=null;break e}var ge=V.sibling;if(ge!==null){ge.return=V.return,Se=ge;break e}Se=V.return}}if(Xe=p,Ri(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ws,r)}catch{}d=!0}return d}finally{Ke=l,Qn.transition=s}}return!1}function ov(r,s,l){s=Bo(l,s),s=Iy(r,s,1),r=Oi(r,s,1),s=un(),r!==null&&(Ei(r,1,s),_n(r,s))}function Et(r,s,l){if(r.tag===3)ov(r,r,l);else for(;s!==null;){if(s.tag===3){ov(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))){r=Bo(l,r),r=by(s,r,1),s=Oi(s,r,1),r=un(),s!==null&&(Ei(s,1,r),_n(s,r));break}}s=s.return}}function wI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=un(),r.pingedLanes|=r.suspendedLanes&l,jt===r&&(Ht&l)===l&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>ot()-gh?Ms(r,0):mh|=l),_n(r,s)}function av(r,s){s===0&&((r.mode&1)===0?s=1:(s=go,go<<=1,(go&130023424)===0&&(go=4194304)));var l=un();r=ri(r,s),r!==null&&(Ei(r,s,l),_n(r,l))}function EI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),av(r,l)}function TI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),av(r,l)}var lv;lv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||mn.current)yn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return yn=!1,uI(r,s,l);yn=(r.flags&131072)!==0}else yn=!1,gt&&(s.flags&1048576)!==0&&zg(s,Vu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ju(r,s),r=s.pendingProps;var p=Lo(s,Qt.current);zo(s,l),p=Gf(null,s,d,r,p,l);var y=Kf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gn(d)?(y=!0,Du(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Uf(s),p.updater=Yu,s.stateNode=p,p._reactInternals=s,eh(s,d,r,l),s=ih(null,s,d,!0,y,l)):(s.tag=0,gt&&y&&Af(s),ln(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Ju(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=II(d),r=pr(d,r),p){case 0:s=rh(null,s,d,r,l);break e;case 1:s=Dy(null,s,d,r,l);break e;case 11:s=Py(null,s,d,r,l);break e;case 14:s=Ay(null,s,d,pr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),rh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),Dy(r,s,d,p,l);case 3:e:{if(Ly(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Yg(r,s),Bu(s,d,null,l);var k=s.memoizedState;if(d=k.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Bo(Error(t(423)),s),s=My(r,s,d,l,p);break e}else if(d!==p){p=Bo(Error(t(424)),s),s=My(r,s,d,l,p);break e}else for(On=Ci(s.stateNode.containerInfo.firstChild),Nn=s,gt=!0,hr=null,l=Kg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jo(),d===p){s=si(r,s,l);break e}ln(r,s,d,l)}s=s.child}return s;case 5:return Zg(s),r===null&&Of(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,k=p.children,If(d,p)?k=null:y!==null&&If(d,y)&&(s.flags|=32),Oy(r,s),ln(r,s,k,l),s.child;case 6:return r===null&&Of(s),null;case 13:return Vy(r,s,l);case 4:return zf(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Fo(s,null,d,l):ln(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),Py(r,s,d,p,l);case 7:return ln(r,s,s.pendingProps,l),s.child;case 8:return ln(r,s,s.pendingProps.children,l),s.child;case 12:return ln(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,k=p.value,at(Uu,d._currentValue),d._currentValue=k,y!==null)if(fr(y.value,k)){if(y.children===p.children&&!mn.current){s=si(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var V=y.dependencies;if(V!==null){k=y.child;for(var q=V.firstContext;q!==null;){if(q.context===d){if(y.tag===1){q=ii(-1,l&-l),q.tag=2;var ee=y.updateQueue;if(ee!==null){ee=ee.shared;var he=ee.pending;he===null?q.next=q:(q.next=he.next,he.next=q),ee.pending=q}}y.lanes|=l,q=y.alternate,q!==null&&(q.lanes|=l),jf(y.return,l,s),V.lanes|=l;break}q=q.next}}else if(y.tag===10)k=y.type===s.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(t(341));k.lanes|=l,V=k.alternate,V!==null&&(V.lanes|=l),jf(k,l,s),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===s){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}ln(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,zo(s,l),p=Gn(p),d=d(p),s.flags|=1,ln(r,s,d,l),s.child;case 14:return d=s.type,p=pr(d,s.pendingProps),p=pr(d.type,p),Ay(r,s,d,p,l);case 15:return Ry(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:pr(d,p),Ju(r,s),s.tag=1,gn(d)?(r=!0,Du(s)):r=!1,zo(s,l),Ty(s,d,p),eh(s,d,p,l),ih(null,s,d,!0,r,l);case 19:return Fy(r,s,l);case 22:return Ny(r,s,l)}throw Error(t(156,s.tag))};function uv(r,s){return po(r,s)}function SI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,l,d){return new SI(r,s,l,d)}function Ih(r){return r=r.prototype,!(!r||!r.isReactComponent)}function II(r){if(typeof r=="function")return Ih(r)?1:0;if(r!=null){if(r=r.$$typeof,r===D)return 11;if(r===pe)return 14}return 2}function Fi(r,s){var l=r.alternate;return l===null?(l=Yn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function uc(r,s,l,d,p,y){var k=2;if(d=r,typeof r=="function")Ih(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case A:return js(l.children,p,y,s);case P:k=8,p|=8;break;case I:return r=Yn(12,l,s,p|2),r.elementType=I,r.lanes=y,r;case x:return r=Yn(13,l,s,p),r.elementType=x,r.lanes=y,r;case Q:return r=Yn(19,l,s,p),r.elementType=Q,r.lanes=y,r;case T:return cc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:k=10;break e;case N:k=9;break e;case D:k=11;break e;case pe:k=14;break e;case fe:k=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Yn(k,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function js(r,s,l,d){return r=Yn(7,r,d,s),r.lanes=l,r}function cc(r,s,l,d){return r=Yn(22,r,d,s),r.elementType=T,r.lanes=l,r.stateNode={isHidden:!1},r}function bh(r,s,l){return r=Yn(6,r,null,s),r.lanes=l,r}function xh(r,s,l){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function bI(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function kh(r,s,l,d,p,y,k,V,q){return r=new bI(r,s,l,V,q),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Yn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(y),r}function xI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function cv(r){if(!r)return Ai;r=r._reactInternals;e:{if(sr(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(gn(l))return jg(r,l,s)}return s}function dv(r,s,l,d,p,y,k,V,q){return r=kh(l,d,!0,r,p,y,k,V,q),r.context=cv(null),l=r.current,d=un(),p=Vi(l),y=ii(d,p),y.callback=s??null,Oi(l,y,p),r.current.lanes=p,Ei(r,p,d),_n(r,d),r}function dc(r,s,l,d){var p=s.current,y=un(),k=Vi(p);return l=cv(l),s.context===null?s.context=l:s.pendingContext=l,s=ii(y,k),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Oi(p,s,k),r!==null&&(yr(r,p,k,y),$u(r,p,k)),k}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Ch(r,s){fv(r,s),(r=r.alternate)&&fv(r,s)}function kI(){return null}var hv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ph(r){this._internalRoot=r}hc.prototype.render=Ph.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));dc(r,s,null,null)},hc.prototype.unmount=Ph.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ls(function(){dc(null,r,null,null)}),s[Zr]=null}};function hc(r){this._internalRoot=r}hc.prototype.unstable_scheduleHydration=function(r){if(r){var s=hu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<br.length&&s!==0&&s<br[l].priority;l++);br.splice(l,0,r),l===0&&gu(r)}};function Ah(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function pc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function pv(){}function CI(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var ee=fc(k);y.call(ee)}}var k=dv(s,d,r,0,null,!1,!1,"",pv);return r._reactRootContainer=k,r[Zr]=k.current,Ka(r.nodeType===8?r.parentNode:r),Ls(),k}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var V=d;d=function(){var ee=fc(q);V.call(ee)}}var q=kh(r,0,!1,null,null,!1,!1,"",pv);return r._reactRootContainer=q,r[Zr]=q.current,Ka(r.nodeType===8?r.parentNode:r),Ls(function(){dc(s,q,l,d)}),q}function mc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var k=y;if(typeof p=="function"){var V=p;p=function(){var q=fc(k);V.call(q)}}dc(s,k,r,p)}else k=CI(l,s,r,p,d);return fc(k)}du=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=_i(s.pendingLanes);l!==0&&(Ti(s,l|1),_n(s,ot()),(Xe&6)===0&&(Wo=ot()+500,Ri()))}break;case 13:Ls(function(){var d=ri(r,1);if(d!==null){var p=un();yr(d,r,1,p)}}),Ch(r,1)}},yo=function(r){if(r.tag===13){var s=ri(r,134217728);if(s!==null){var l=un();yr(s,r,134217728,l)}Ch(r,134217728)}},fu=function(r){if(r.tag===13){var s=Vi(r),l=ri(r,s);if(l!==null){var d=un();yr(l,r,s,d)}Ch(r,s)}},hu=function(){return Ke},pu=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},ao=function(r,s,l){switch(s){case"input":if(Fe(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=Nu(d);if(!p)throw Error(t(90));He(d),Fe(d,p)}}}break;case"textarea":Wr(r,l);break;case"select":s=l.value,s!=null&&yt(r,!!l.multiple,s,!1)}},ms=Eh,Pa=Ls;var PI={usingClientEntryPoint:!1,Events:[Xa,Oo,Nu,Sr,Ca,Eh]},dl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AI={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Na(r),r===null?null:r.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||kI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{ws=gc.inject(AI),Cn=gc}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI,wn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ah(s))throw Error(t(200));return xI(r,s,null,l)},wn.createRoot=function(r,s){if(!Ah(r))throw Error(t(299));var l=!1,d="",p=hv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=kh(r,1,!1,null,null,l,!1,d,p),r[Zr]=s.current,Ka(r.nodeType===8?r.parentNode:r),new Ph(s)},wn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Na(s),r=r===null?null:r.stateNode,r},wn.flushSync=function(r){return Ls(r)},wn.hydrate=function(r,s,l){if(!pc(s))throw Error(t(200));return mc(null,r,s,!0,l)},wn.hydrateRoot=function(r,s,l){if(!Ah(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",k=hv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),s=dv(s,null,r,1,l??null,p,!1,y,k),r[Zr]=s.current,Ka(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new hc(s)},wn.render=function(r,s,l){if(!pc(s))throw Error(t(200));return mc(null,r,s,!1,l)},wn.unmountComponentAtNode=function(r){if(!pc(r))throw Error(t(40));return r._reactRootContainer?(Ls(function(){mc(null,null,r,!1,function(){r._reactRootContainer=null,r[Zr]=null})}),!0):!1},wn.unstable_batchedUpdates=Eh,wn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!pc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return mc(r,s,l,!1,d)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var Tv;function K0(){if(Tv)return Oh.exports;Tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Oh.exports=UI(),Oh.exports}var Sv;function zI(){if(Sv)return vc;Sv=1;var n=K0();return vc.createRoot=n.createRoot,vc.hydrateRoot=n.hydrateRoot,vc}var $I=zI();const BI=Jp($I);K0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cl.apply(this,arguments)}var Hi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Hi||(Hi={}));const Iv="popstate";function qI(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:u,hash:f}=i.location;return dp("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Wc(o)}return WI(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Q0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HI(){return Math.random().toString(36).substr(2,8)}function bv(n,e){return{usr:n.state,key:n.key,idx:e}}function dp(n,e,t,i){return t===void 0&&(t=null),Cl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?pa(e):e,{state:t,key:e&&e.key||i||HI()})}function Wc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function WI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f=Hi.Pop,h=null,m=v();m==null&&(m=0,u.replaceState(Cl({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function S(){f=Hi.Pop;let U=v(),W=U==null?null:U-m;m=U,h&&h({action:f,location:L.location,delta:W})}function O(U,W){f=Hi.Push;let X=dp(L.location,U,W);m=v()+1;let J=bv(X,m),re=L.createHref(X);try{u.pushState(J,"",re)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(re)}a&&h&&h({action:f,location:L.location,delta:1})}function M(U,W){f=Hi.Replace;let X=dp(L.location,U,W);m=v();let J=bv(X,m),re=L.createHref(X);u.replaceState(J,"",re),a&&h&&h({action:f,location:L.location,delta:0})}function $(U){let W=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof U=="string"?U:Wc(U);return X=X.replace(/ $/,"%20"),At(W,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,W)}let L={get action(){return f},get location(){return n(o,u)},listen(U){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Iv,S),h=U,()=>{o.removeEventListener(Iv,S),h=null}},createHref(U){return e(o,U)},createURL:$,encodeLocation(U){let W=$(U);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:O,replace:M,go(U){return u.go(U)}};return L}var xv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(xv||(xv={}));function GI(n,e,t){return t===void 0&&(t="/"),KI(n,e,t)}function KI(n,e,t,i){let o=typeof e=="string"?pa(e):e,a=Zp(o.pathname||"/",t);if(a==null)return null;let u=Y0(n);QI(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=ab(a);f=ib(u[h],m)}return f}function Y0(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(At(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let m=Gi([i,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(At(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Y0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:nb(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of X0(a.path))o(a,u,h)}),e}function X0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=X0(i.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function QI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rb(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const YI=/^:[\w-]+$/,XI=3,JI=2,ZI=1,eb=10,tb=-2,kv=n=>n==="*";function nb(n,e){let t=n.split("/"),i=t.length;return t.some(kv)&&(i+=tb),e&&(i+=JI),t.filter(o=>!kv(o)).reduce((o,a)=>o+(YI.test(a)?XI:a===""?ZI:eb),i)}function rb(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function ib(n,e,t){let{routesMeta:i}=n,o={},a="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",S=sb({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),O=h.route;if(!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:Gi([a,S.pathname]),pathnameBase:db(Gi([a,S.pathnameBase])),route:O}),S.pathnameBase!=="/"&&(a=Gi([a,S.pathnameBase]))}return u}function sb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=ob(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,v,S)=>{let{paramName:O,isOptional:M}=v;if(O==="*"){let L=f[S]||"";u=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const $=f[S];return M&&!$?m[O]=void 0:m[O]=($||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function ob(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Q0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ab(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Zp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function lb(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?pa(n):n;return{pathname:t?t.startsWith("/")?t:ub(t,e):e,search:fb(i),hash:hb(o)}}function ub(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Mh(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function J0(n,e){let t=cb(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Z0(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=pa(n):(o=Cl({},n),At(!o.pathname||!o.pathname.includes("?"),Mh("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),Mh("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),Mh("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let S=e.length-1;if(!i&&u.startsWith("..")){let O=u.split("/");for(;O[0]==="..";)O.shift(),S-=1;o.pathname=O.join("/")}f=S>=0?e[S]:"/"}let h=lb(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}const Gi=n=>n.join("/").replace(/\/\/+/g,"/"),db=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const ew=["post","put","patch","delete"];new Set(ew);const mb=["get",...ew];new Set(mb);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pl.apply(this,arguments)}const em=Z.createContext(null),gb=Z.createContext(null),Zs=Z.createContext(null),Sd=Z.createContext(null),as=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),tw=Z.createContext(null);function yb(n,e){let{relative:t}=e===void 0?{}:e;zl()||At(!1);let{basename:i,navigator:o}=Z.useContext(Zs),{hash:a,pathname:u,search:f}=rw(n,{relative:t}),h=u;return i!=="/"&&(h=u==="/"?i:Gi([i,u])),o.createHref({pathname:h,search:f,hash:a})}function zl(){return Z.useContext(Sd)!=null}function ma(){return zl()||At(!1),Z.useContext(Sd).location}function nw(n){Z.useContext(Zs).static||Z.useLayoutEffect(n)}function xn(){let{isDataRoute:n}=Z.useContext(as);return n?Rb():vb()}function vb(){zl()||At(!1);let n=Z.useContext(em),{basename:e,future:t,navigator:i}=Z.useContext(Zs),{matches:o}=Z.useContext(as),{pathname:a}=ma(),u=JSON.stringify(J0(o,t.v7_relativeSplatPath)),f=Z.useRef(!1);return nw(()=>{f.current=!0}),Z.useCallback(function(m,v){if(v===void 0&&(v={}),!f.current)return;if(typeof m=="number"){i.go(m);return}let S=Z0(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Gi([e,S.pathname])),(v.replace?i.replace:i.push)(S,v.state,v)},[e,i,u,a,n])}function _b(){let{matches:n}=Z.useContext(as),e=n[n.length-1];return e?e.params:{}}function rw(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=Z.useContext(Zs),{matches:o}=Z.useContext(as),{pathname:a}=ma(),u=JSON.stringify(J0(o,i.v7_relativeSplatPath));return Z.useMemo(()=>Z0(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function wb(n,e){return Eb(n,e)}function Eb(n,e,t,i){zl()||At(!1);let{navigator:o,static:a}=Z.useContext(Zs),{matches:u}=Z.useContext(as),f=u[u.length-1],h=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let v=ma(),S;if(e){var O;let W=typeof e=="string"?pa(e):e;m==="/"||(O=W.pathname)!=null&&O.startsWith(m)||At(!1),S=W}else S=v;let M=S.pathname||"/",$=M;if(m!=="/"){let W=m.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=GI(n,{pathname:$}),U=xb(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},h,W.params),pathname:Gi([m,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?m:Gi([m,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,t,i);return e&&U?Z.createElement(Sd.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Hi.Pop}},U):U}function Tb(){let n=Ab(),e=pb(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,null)}const Sb=Z.createElement(Tb,null);class Ib extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Z.createElement(as.Provider,{value:this.props.routeContext},Z.createElement(tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bb(n){let{routeContext:e,match:t,children:i}=n,o=Z.useContext(em);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(as.Provider,{value:e},i)}function xb(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let v=u.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);v>=0||At(!1),u=u.slice(0,Math.min(u.length,v+1))}let h=!1,m=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<u.length;v++){let S=u[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=v),S.route.id){let{loaderData:O,errors:M}=t,$=S.route.loader&&O[S.route.id]===void 0&&(!M||M[S.route.id]===void 0);if(S.route.lazy||$){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,S,O)=>{let M,$=!1,L=null,U=null;t&&(M=f&&S.route.id?f[S.route.id]:void 0,L=S.route.errorElement||Sb,h&&(m<0&&O===0?(Nb("route-fallback"),$=!0,U=null):m===O&&($=!0,U=S.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,O+1)),X=()=>{let J;return M?J=L:$?J=U:S.route.Component?J=Z.createElement(S.route.Component,null):S.route.element?J=S.route.element:J=v,Z.createElement(bb,{match:S,routeContext:{outlet:v,matches:W,isDataRoute:t!=null},children:J})};return t&&(S.route.ErrorBoundary||S.route.errorElement||O===0)?Z.createElement(Ib,{location:t.location,revalidation:t.revalidation,component:L,error:M,children:X(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):X()},null)}var iw=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(iw||{}),sw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(sw||{});function kb(n){let e=Z.useContext(em);return e||At(!1),e}function Cb(n){let e=Z.useContext(gb);return e||At(!1),e}function Pb(n){let e=Z.useContext(as);return e||At(!1),e}function ow(n){let e=Pb(),t=e.matches[e.matches.length-1];return t.route.id||At(!1),t.route.id}function Ab(){var n;let e=Z.useContext(tw),t=Cb(),i=ow();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function Rb(){let{router:n}=kb(iw.UseNavigateStable),e=ow(sw.UseNavigateStable),t=Z.useRef(!1);return nw(()=>{t.current=!0}),Z.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Pl({fromRouteId:e},a)))},[n,e])}const Cv={};function Nb(n,e,t){Cv[n]||(Cv[n]=!0)}function Ob(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Xn(n){At(!1)}function Db(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Hi.Pop,navigator:a,static:u=!1,future:f}=n;zl()&&At(!1);let h=e.replace(/^\/*/,"/"),m=Z.useMemo(()=>({basename:h,navigator:a,static:u,future:Pl({v7_relativeSplatPath:!1},f)}),[h,f,a,u]);typeof i=="string"&&(i=pa(i));let{pathname:v="/",search:S="",hash:O="",state:M=null,key:$="default"}=i,L=Z.useMemo(()=>{let U=Zp(v,h);return U==null?null:{location:{pathname:U,search:S,hash:O,state:M,key:$},navigationType:o}},[h,v,S,O,M,$,o]);return L==null?null:Z.createElement(Zs.Provider,{value:m},Z.createElement(Sd.Provider,{children:t,value:L}))}function Lb(n){let{children:e,location:t}=n;return wb(fp(e),t)}new Promise(()=>{});function fp(n,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(n,(i,o)=>{if(!Z.isValidElement(i))return;let a=[...e,o];if(i.type===Z.Fragment){t.push.apply(t,fp(i.props.children,a));return}i.type!==Xn&&At(!1),!i.props.index||!i.props.children||At(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=fp(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hp.apply(this,arguments)}function Mb(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Vb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jb(n,e){return n.button===0&&(!e||e==="_self")&&!Vb(n)}const Fb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ub="6";try{window.__reactRouterVersion=Ub}catch{}const zb="startTransition",Pv=VI[zb];function $b(n){let{basename:e,children:t,future:i,window:o}=n,a=Z.useRef();a.current==null&&(a.current=qI({window:o,v5Compat:!0}));let u=a.current,[f,h]=Z.useState({action:u.action,location:u.location}),{v7_startTransition:m}=i||{},v=Z.useCallback(S=>{m&&Pv?Pv(()=>h(S)):h(S)},[h,m]);return Z.useLayoutEffect(()=>u.listen(v),[u,v]),Z.useEffect(()=>Ob(i),[i]),Z.createElement(Db,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:u,future:i})}const Bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=Z.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:S}=e,O=Mb(e,Fb),{basename:M}=Z.useContext(Zs),$,L=!1;if(typeof m=="string"&&qb.test(m)&&($=m,Bb))try{let J=new URL(window.location.href),re=m.startsWith("//")?new URL(J.protocol+m):new URL(m),j=Zp(re.pathname,M);re.origin===J.origin&&j!=null?m=j+re.search+re.hash:L=!0}catch{}let U=yb(m,{relative:o}),W=Hb(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:S});function X(J){i&&i(J),J.defaultPrevented||W(J)}return Z.createElement("a",hp({},O,{href:$||U,onClick:L||a?i:X,ref:t,target:h}))});var Av;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Av||(Av={}));var Rv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Rv||(Rv={}));function Hb(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:f}=e===void 0?{}:e,h=xn(),m=ma(),v=rw(n,{relative:u});return Z.useCallback(S=>{if(jb(S,t)){S.preventDefault();let O=i!==void 0?i:Wc(m)===Wc(v);h(n,{replace:O,state:o,preventScrollReset:a,relative:u,viewTransition:f})}},[m,h,v,i,o,t,n,a,u,f])}var Vh={},jh={},hl={},Fh={},Nv;function Wb(){return Nv||(Nv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(Fh)),Fh}var Uh,Ov;function Gb(){if(Ov)return Uh;Ov=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,h=typeof yc=="object"&&yc&&yc.Object===Object&&yc,m=typeof self=="object"&&self&&self.Object===Object&&self,v=h||m||Function("return this")(),S=Object.prototype,O=S.toString,M=Math.max,$=Math.min,L=function(){return v.Date.now()};function U(j,B,A){var P,I,w,N,D,x,Q=0,pe=!1,fe=!1,T=!0;if(typeof j!="function")throw new TypeError(n);B=re(B)||0,W(A)&&(pe=!!A.leading,fe="maxWait"in A,w=fe?M(re(A.maxWait)||0,B):w,T="trailing"in A?!!A.trailing:T);function se(ce){var Te=P,be=I;return P=I=void 0,Q=ce,N=j.apply(be,Te),N}function z(ce){return Q=ce,D=setTimeout(F,B),pe?se(ce):N}function E(ce){var Te=ce-x,be=ce-Q,Pe=B-Te;return fe?$(Pe,w-be):Pe}function b(ce){var Te=ce-x,be=ce-Q;return x===void 0||Te>=B||Te<0||fe&&be>=w}function F(){var ce=L();if(b(ce))return te(ce);D=setTimeout(F,E(ce))}function te(ce){return D=void 0,T&&P?se(ce):(P=I=void 0,N)}function ie(){D!==void 0&&clearTimeout(D),Q=0,P=x=I=D=void 0}function ae(){return D===void 0?N:te(L())}function le(){var ce=L(),Te=b(ce);if(P=arguments,I=this,x=ce,Te){if(D===void 0)return z(x);if(fe)return D=setTimeout(F,B),se(x)}return D===void 0&&(D=setTimeout(F,B)),N}return le.cancel=ie,le.flush=ae,le}function W(j){var B=typeof j;return!!j&&(B=="object"||B=="function")}function X(j){return!!j&&typeof j=="object"}function J(j){return typeof j=="symbol"||X(j)&&O.call(j)==t}function re(j){if(typeof j=="number")return j;if(J(j))return e;if(W(j)){var B=typeof j.valueOf=="function"?j.valueOf():j;j=W(B)?B+"":B}if(typeof j!="string")return j===0?j:+j;j=j.replace(i,"");var A=a.test(j);return A||u.test(j)?f(j.slice(2),A?2:8):o.test(j)?e:+j}return Uh=U,Uh}var zh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Dv;function Id(){return Dv||(Dv=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=o(a,i(f)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=o(u,f));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(zh)),zh.exports}var _e={},$h={},Lv;function aw(){return Lv||(Lv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(zr());function t(o){return o&&o.__esModule?o:{default:o}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}($h)),$h}var Mv;function $l(){if(Mv)return _e;Mv=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkSpecKeys=_e.checkNavigable=_e.changeSlide=_e.canUseDOM=_e.canGoNext=void 0,_e.clamp=m,_e.extractObject=void 0,_e.filterSettings=se,_e.validSettings=_e.swipeStart=_e.swipeMove=_e.swipeEnd=_e.slidesOnRight=_e.slidesOnLeft=_e.slideHandler=_e.siblingDirection=_e.safePreventDefault=_e.lazyStartIndex=_e.lazySlidesOnRight=_e.lazySlidesOnLeft=_e.lazyEndIndex=_e.keyHandler=_e.initializedState=_e.getWidth=_e.getTrackLeft=_e.getTrackCSS=_e.getTrackAnimateCSS=_e.getTotalSlides=_e.getSwipeDirection=_e.getSlideCount=_e.getRequiredLazySlides=_e.getPreClones=_e.getPostClones=_e.getOnDemandLazySlides=_e.getNavigableIndexes=_e.getHeight=void 0;var n=t(zr()),e=t(aw());function t(z){return z&&z.__esModule?z:{default:z}}function i(z){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(z)}function o(z,E){var b=Object.keys(z);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(z);E&&(F=F.filter(function(te){return Object.getOwnPropertyDescriptor(z,te).enumerable})),b.push.apply(b,F)}return b}function a(z){for(var E=1;E<arguments.length;E++){var b=arguments[E]!=null?arguments[E]:{};E%2?o(Object(b),!0).forEach(function(F){u(z,F,b[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(b)):o(Object(b)).forEach(function(F){Object.defineProperty(z,F,Object.getOwnPropertyDescriptor(b,F))})}return z}function u(z,E,b){return E=f(E),E in z?Object.defineProperty(z,E,{value:b,enumerable:!0,configurable:!0,writable:!0}):z[E]=b,z}function f(z){var E=h(z,"string");return i(E)=="symbol"?E:String(E)}function h(z,E){if(i(z)!="object"||!z)return z;var b=z[Symbol.toPrimitive];if(b!==void 0){var F=b.call(z,E);if(i(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(z)}function m(z,E,b){return Math.max(E,Math.min(z,b))}var v=_e.safePreventDefault=function(E){var b=["onTouchStart","onTouchMove","onWheel"];b.includes(E._reactName)||E.preventDefault()},S=_e.getOnDemandLazySlides=function(E){for(var b=[],F=O(E),te=M(E),ie=F;ie<te;ie++)E.lazyLoadedList.indexOf(ie)<0&&b.push(ie);return b};_e.getRequiredLazySlides=function(E){for(var b=[],F=O(E),te=M(E),ie=F;ie<te;ie++)b.push(ie);return b};var O=_e.lazyStartIndex=function(E){return E.currentSlide-$(E)},M=_e.lazyEndIndex=function(E){return E.currentSlide+L(E)},$=_e.lazySlidesOnLeft=function(E){return E.centerMode?Math.floor(E.slidesToShow/2)+(parseInt(E.centerPadding)>0?1:0):0},L=_e.lazySlidesOnRight=function(E){return E.centerMode?Math.floor((E.slidesToShow-1)/2)+1+(parseInt(E.centerPadding)>0?1:0):E.slidesToShow},U=_e.getWidth=function(E){return E&&E.offsetWidth||0},W=_e.getHeight=function(E){return E&&E.offsetHeight||0},X=_e.getSwipeDirection=function(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F,te,ie,ae;return F=E.startX-E.curX,te=E.startY-E.curY,ie=Math.atan2(te,F),ae=Math.round(ie*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":b===!0?ae>=35&&ae<=135?"up":"down":"vertical"},J=_e.canGoNext=function(E){var b=!0;return E.infinite||(E.centerMode&&E.currentSlide>=E.slideCount-1||E.slideCount<=E.slidesToShow||E.currentSlide>=E.slideCount-E.slidesToShow)&&(b=!1),b};_e.extractObject=function(E,b){var F={};return b.forEach(function(te){return F[te]=E[te]}),F},_e.initializedState=function(E){var b=n.default.Children.count(E.children),F=E.listRef,te=Math.ceil(U(F)),ie=E.trackRef&&E.trackRef.node,ae=Math.ceil(U(ie)),le;if(E.vertical)le=te;else{var ce=E.centerMode&&parseInt(E.centerPadding)*2;typeof E.centerPadding=="string"&&E.centerPadding.slice(-1)==="%"&&(ce*=te/100),le=Math.ceil((te-ce)/E.slidesToShow)}var Te=F&&W(F.querySelector('[data-index="0"]')),be=Te*E.slidesToShow,Pe=E.currentSlide===void 0?E.initialSlide:E.currentSlide;E.rtl&&E.currentSlide===void 0&&(Pe=b-1-E.initialSlide);var $e=E.lazyLoadedList||[],He=S(a(a({},E),{},{currentSlide:Pe,lazyLoadedList:$e}));$e=$e.concat(He);var Ue={slideCount:b,slideWidth:le,listWidth:te,trackWidth:ae,currentSlide:Pe,slideHeight:Te,listHeight:be,lazyLoadedList:$e};return E.autoplaying===null&&E.autoplay&&(Ue.autoplaying="playing"),Ue},_e.slideHandler=function(E){var b=E.waitForAnimate,F=E.animating,te=E.fade,ie=E.infinite,ae=E.index,le=E.slideCount,ce=E.lazyLoad,Te=E.currentSlide,be=E.centerMode,Pe=E.slidesToScroll,$e=E.slidesToShow,He=E.useCSS,Ue=E.lazyLoadedList;if(b&&F)return{};var Ve=ae,qe,ct,Fe,dt={},ft={},it=ie?ae:m(ae,0,le-1);if(te){if(!ie&&(ae<0||ae>=le))return{};ae<0?Ve=ae+le:ae>=le&&(Ve=ae-le),ce&&Ue.indexOf(Ve)<0&&(Ue=Ue.concat(Ve)),dt={animating:!0,currentSlide:Ve,lazyLoadedList:Ue,targetSlide:Ve},ft={animating:!1,targetSlide:Ve}}else qe=Ve,Ve<0?(qe=Ve+le,ie?le%Pe!==0&&(qe=le-le%Pe):qe=0):!J(E)&&Ve>Te?Ve=qe=Te:be&&Ve>=le?(Ve=ie?le:le-1,qe=ie?0:le-1):Ve>=le&&(qe=Ve-le,ie?le%Pe!==0&&(qe=0):qe=le-$e),!ie&&Ve+$e>=le&&(qe=le-$e),ct=w(a(a({},E),{},{slideIndex:Ve})),Fe=w(a(a({},E),{},{slideIndex:qe})),ie||(ct===Fe&&(Ve=qe),ct=Fe),ce&&(Ue=Ue.concat(S(a(a({},E),{},{currentSlide:Ve})))),He?(dt={animating:!0,currentSlide:qe,trackStyle:I(a(a({},E),{},{left:ct})),lazyLoadedList:Ue,targetSlide:it},ft={animating:!1,currentSlide:qe,trackStyle:P(a(a({},E),{},{left:Fe})),swipeLeft:null,targetSlide:it}):dt={currentSlide:qe,trackStyle:P(a(a({},E),{},{left:Fe})),lazyLoadedList:Ue,targetSlide:it};return{state:dt,nextState:ft}},_e.changeSlide=function(E,b){var F,te,ie,ae,le,ce=E.slidesToScroll,Te=E.slidesToShow,be=E.slideCount,Pe=E.currentSlide,$e=E.targetSlide,He=E.lazyLoad,Ue=E.infinite;if(ae=be%ce!==0,F=ae?0:(be-Pe)%ce,b.message==="previous")ie=F===0?ce:Te-F,le=Pe-ie,He&&!Ue&&(te=Pe-ie,le=te===-1?be-1:te),Ue||(le=$e-ce);else if(b.message==="next")ie=F===0?ce:F,le=Pe+ie,He&&!Ue&&(le=(Pe+ce)%be+F),Ue||(le=$e+ce);else if(b.message==="dots")le=b.index*b.slidesToScroll;else if(b.message==="children"){if(le=b.index,Ue){var Ve=Q(a(a({},E),{},{targetSlide:le}));le>b.currentSlide&&Ve==="left"?le=le-be:le<b.currentSlide&&Ve==="right"&&(le=le+be)}}else b.message==="index"&&(le=Number(b.index));return le},_e.keyHandler=function(E,b,F){return E.target.tagName.match("TEXTAREA|INPUT|SELECT")||!b?"":E.keyCode===37?F?"next":"previous":E.keyCode===39?F?"previous":"next":""},_e.swipeStart=function(E,b,F){return E.target.tagName==="IMG"&&v(E),!b||!F&&E.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:E.touches?E.touches[0].pageX:E.clientX,startY:E.touches?E.touches[0].pageY:E.clientY,curX:E.touches?E.touches[0].pageX:E.clientX,curY:E.touches?E.touches[0].pageY:E.clientY}}},_e.swipeMove=function(E,b){var F=b.scrolling,te=b.animating,ie=b.vertical,ae=b.swipeToSlide,le=b.verticalSwiping,ce=b.rtl,Te=b.currentSlide,be=b.edgeFriction,Pe=b.edgeDragged,$e=b.onEdge,He=b.swiped,Ue=b.swiping,Ve=b.slideCount,qe=b.slidesToScroll,ct=b.infinite,Fe=b.touchObject,dt=b.swipeEvent,ft=b.listHeight,it=b.listWidth;if(!F){if(te)return v(E);ie&&ae&&le&&v(E);var yt,kn={},tr=w(b);Fe.curX=E.touches?E.touches[0].pageX:E.clientX,Fe.curY=E.touches?E.touches[0].pageY:E.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var Wr=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!le&&!Ue&&Wr>10)return{scrolling:!0};le&&(Fe.swipeLength=Wr);var nr=(ce?-1:1)*(Fe.curX>Fe.startX?1:-1);le&&(nr=Fe.curY>Fe.startY?1:-1);var Tt=Math.ceil(Ve/qe),tt=X(b.touchObject,le),sn=Fe.swipeLength;return ct||(Te===0&&(tt==="right"||tt==="down")||Te+1>=Tt&&(tt==="left"||tt==="up")||!J(b)&&(tt==="left"||tt==="up"))&&(sn=Fe.swipeLength*be,Pe===!1&&$e&&($e(tt),kn.edgeDragged=!0)),!He&&dt&&(dt(tt),kn.swiped=!0),ie?yt=tr+sn*(ft/it)*nr:ce?yt=tr-sn*nr:yt=tr+sn*nr,le&&(yt=tr+sn*nr),kn=a(a({},kn),{},{touchObject:Fe,swipeLeft:yt,trackStyle:P(a(a({},b),{},{left:yt}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(kn.swiping=!0,v(E)),kn}},_e.swipeEnd=function(E,b){var F=b.dragging,te=b.swipe,ie=b.touchObject,ae=b.listWidth,le=b.touchThreshold,ce=b.verticalSwiping,Te=b.listHeight,be=b.swipeToSlide,Pe=b.scrolling,$e=b.onSwipe,He=b.targetSlide,Ue=b.currentSlide,Ve=b.infinite;if(!F)return te&&v(E),{};var qe=ce?Te/le:ae/le,ct=X(ie,ce),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Pe||!ie.swipeLength)return Fe;if(ie.swipeLength>qe){v(E),$e&&$e(ct);var dt,ft,it=Ve?Ue:He;switch(ct){case"left":case"up":ft=it+B(b),dt=be?j(b,ft):ft,Fe.currentDirection=0;break;case"right":case"down":ft=it-B(b),dt=be?j(b,ft):ft,Fe.currentDirection=1;break;default:dt=it}Fe.triggerSlideHandler=dt}else{var yt=w(b);Fe.trackStyle=I(a(a({},b),{},{left:yt}))}return Fe};var re=_e.getNavigableIndexes=function(E){for(var b=E.infinite?E.slideCount*2:E.slideCount,F=E.infinite?E.slidesToShow*-1:0,te=E.infinite?E.slidesToShow*-1:0,ie=[];F<b;)ie.push(F),F=te+E.slidesToScroll,te+=Math.min(E.slidesToScroll,E.slidesToShow);return ie},j=_e.checkNavigable=function(E,b){var F=re(E),te=0;if(b>F[F.length-1])b=F[F.length-1];else for(var ie in F){if(b<F[ie]){b=te;break}te=F[ie]}return b},B=_e.getSlideCount=function(E){var b=E.centerMode?E.slideWidth*Math.floor(E.slidesToShow/2):0;if(E.swipeToSlide){var F,te=E.listRef,ie=te.querySelectorAll&&te.querySelectorAll(".slick-slide")||[];if(Array.from(ie).every(function(ce){if(E.vertical){if(ce.offsetTop+W(ce)/2>E.swipeLeft*-1)return F=ce,!1}else if(ce.offsetLeft-b+U(ce)/2>E.swipeLeft*-1)return F=ce,!1;return!0}),!F)return 0;var ae=E.rtl===!0?E.slideCount-E.currentSlide:E.currentSlide,le=Math.abs(F.dataset.index-ae)||1;return le}else return E.slidesToScroll},A=_e.checkSpecKeys=function(E,b){return b.reduce(function(F,te){return F&&E.hasOwnProperty(te)},!0)?null:console.error("Keys Missing:",E)},P=_e.getTrackCSS=function(E){A(E,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var b,F,te=E.slideCount+2*E.slidesToShow;E.vertical?F=te*E.slideHeight:b=x(E)*E.slideWidth;var ie={opacity:1,transition:"",WebkitTransition:""};if(E.useTransform){var ae=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",le=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",ce=E.vertical?"translateY("+E.left+"px)":"translateX("+E.left+"px)";ie=a(a({},ie),{},{WebkitTransform:ae,transform:le,msTransform:ce})}else E.vertical?ie.top=E.left:ie.left=E.left;return E.fade&&(ie={opacity:1}),b&&(ie.width=b),F&&(ie.height=F),window&&!window.addEventListener&&window.attachEvent&&(E.vertical?ie.marginTop=E.left+"px":ie.marginLeft=E.left+"px"),ie},I=_e.getTrackAnimateCSS=function(E){A(E,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var b=P(E);return E.useTransform?(b.WebkitTransition="-webkit-transform "+E.speed+"ms "+E.cssEase,b.transition="transform "+E.speed+"ms "+E.cssEase):E.vertical?b.transition="top "+E.speed+"ms "+E.cssEase:b.transition="left "+E.speed+"ms "+E.cssEase,b},w=_e.getTrackLeft=function(E){if(E.unslick)return 0;A(E,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var b=E.slideIndex,F=E.trackRef,te=E.infinite,ie=E.centerMode,ae=E.slideCount,le=E.slidesToShow,ce=E.slidesToScroll,Te=E.slideWidth,be=E.listWidth,Pe=E.variableWidth,$e=E.slideHeight,He=E.fade,Ue=E.vertical,Ve=0,qe,ct,Fe=0;if(He||E.slideCount===1)return 0;var dt=0;if(te?(dt=-N(E),ae%ce!==0&&b+ce>ae&&(dt=-(b>ae?le-(b-ae):ae%ce)),ie&&(dt+=parseInt(le/2))):(ae%ce!==0&&b+ce>ae&&(dt=le-ae%ce),ie&&(dt=parseInt(le/2))),Ve=dt*Te,Fe=dt*$e,Ue?qe=b*$e*-1+Fe:qe=b*Te*-1+Ve,Pe===!0){var ft,it=F&&F.node;if(ft=b+N(E),ct=it&&it.childNodes[ft],qe=ct?ct.offsetLeft*-1:0,ie===!0){ft=te?b+N(E):b,ct=it&&it.children[ft],qe=0;for(var yt=0;yt<ft;yt++)qe-=it&&it.children[yt]&&it.children[yt].offsetWidth;qe-=parseInt(E.centerPadding),qe+=ct&&(be-ct.offsetWidth)/2}}return qe},N=_e.getPreClones=function(E){return E.unslick||!E.infinite?0:E.variableWidth?E.slideCount:E.slidesToShow+(E.centerMode?1:0)},D=_e.getPostClones=function(E){return E.unslick||!E.infinite?0:E.slideCount},x=_e.getTotalSlides=function(E){return E.slideCount===1?1:N(E)+E.slideCount+D(E)},Q=_e.siblingDirection=function(E){return E.targetSlide>E.currentSlide?E.targetSlide>E.currentSlide+pe(E)?"left":"right":E.targetSlide<E.currentSlide-fe(E)?"right":"left"},pe=_e.slidesOnRight=function(E){var b=E.slidesToShow,F=E.centerMode,te=E.rtl,ie=E.centerPadding;if(F){var ae=(b-1)/2+1;return parseInt(ie)>0&&(ae+=1),te&&b%2===0&&(ae+=1),ae}return te?0:b-1},fe=_e.slidesOnLeft=function(E){var b=E.slidesToShow,F=E.centerMode,te=E.rtl,ie=E.centerPadding;if(F){var ae=(b-1)/2+1;return parseInt(ie)>0&&(ae+=1),!te&&b%2===0&&(ae+=1),ae}return te?b-1:0};_e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=_e.validSettings=Object.keys(e.default);function se(z){return T.reduce(function(E,b){return z.hasOwnProperty(b)&&(E[b]=z[b]),E},{})}return _e}var pl={},Vv;function Kb(){if(Vv)return pl;Vv=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.Track=void 0;var n=i(zr()),e=i(Id()),t=$l();function i(I){return I&&I.__esModule?I:{default:I}}function o(I){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o(I)}function a(){return a=Object.assign?Object.assign.bind():function(I){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(I[D]=N[D])}return I},a.apply(this,arguments)}function u(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function f(I,w){for(var N=0;N<w.length;N++){var D=w[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,J(D.key),D)}}function h(I,w,N){return w&&f(I.prototype,w),Object.defineProperty(I,"prototype",{writable:!1}),I}function m(I,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(w&&w.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),w&&v(I,w)}function v(I,w){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,x){return D.__proto__=x,D},v(I,w)}function S(I){var w=$();return function(){var D=L(I),x;if(w){var Q=L(this).constructor;x=Reflect.construct(D,arguments,Q)}else x=D.apply(this,arguments);return O(this,x)}}function O(I,w){if(w&&(o(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(I)}function M(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function $(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!I})()}function L(I){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},L(I)}function U(I,w){var N=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);w&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(I,x).enumerable})),N.push.apply(N,D)}return N}function W(I){for(var w=1;w<arguments.length;w++){var N=arguments[w]!=null?arguments[w]:{};w%2?U(Object(N),!0).forEach(function(D){X(I,D,N[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):U(Object(N)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(N,D))})}return I}function X(I,w,N){return w=J(w),w in I?Object.defineProperty(I,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[w]=N,I}function J(I){var w=re(I,"string");return o(w)=="symbol"?w:String(w)}function re(I,w){if(o(I)!="object"||!I)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var D=N.call(I,w);if(o(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(I)}var j=function(w){var N,D,x,Q,pe;w.rtl?pe=w.slideCount-1-w.index:pe=w.index,x=pe<0||pe>=w.slideCount,w.centerMode?(Q=Math.floor(w.slidesToShow/2),D=(pe-w.currentSlide)%w.slideCount===0,pe>w.currentSlide-Q-1&&pe<=w.currentSlide+Q&&(N=!0)):N=w.currentSlide<=pe&&pe<w.currentSlide+w.slidesToShow;var fe;w.targetSlide<0?fe=w.targetSlide+w.slideCount:w.targetSlide>=w.slideCount?fe=w.targetSlide-w.slideCount:fe=w.targetSlide;var T=pe===fe;return{"slick-slide":!0,"slick-active":N,"slick-center":D,"slick-cloned":x,"slick-current":T}},B=function(w){var N={};return(w.variableWidth===void 0||w.variableWidth===!1)&&(N.width=w.slideWidth),w.fade&&(N.position="relative",w.vertical?N.top=-w.index*parseInt(w.slideHeight):N.left=-w.index*parseInt(w.slideWidth),N.opacity=w.currentSlide===w.index?1:0,N.zIndex=w.currentSlide===w.index?999:998,w.useCSS&&(N.transition="opacity "+w.speed+"ms "+w.cssEase+", visibility "+w.speed+"ms "+w.cssEase)),N},A=function(w,N){return w.key||N},P=function(w){var N,D=[],x=[],Q=[],pe=n.default.Children.count(w.children),fe=(0,t.lazyStartIndex)(w),T=(0,t.lazyEndIndex)(w);return n.default.Children.forEach(w.children,function(se,z){var E,b={message:"children",index:z,slidesToScroll:w.slidesToScroll,currentSlide:w.currentSlide};!w.lazyLoad||w.lazyLoad&&w.lazyLoadedList.indexOf(z)>=0?E=se:E=n.default.createElement("div",null);var F=B(W(W({},w),{},{index:z})),te=E.props.className||"",ie=j(W(W({},w),{},{index:z}));if(D.push(n.default.cloneElement(E,{key:"original"+A(E,z),"data-index":z,className:(0,e.default)(ie,te),tabIndex:"-1","aria-hidden":!ie["slick-active"],style:W(W({outline:"none"},E.props.style||{}),F),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(b)}})),w.infinite&&w.fade===!1){var ae=pe-z;ae<=(0,t.getPreClones)(w)&&(N=-ae,N>=fe&&(E=se),ie=j(W(W({},w),{},{index:N})),x.push(n.default.cloneElement(E,{key:"precloned"+A(E,N),"data-index":N,tabIndex:"-1",className:(0,e.default)(ie,te),"aria-hidden":!ie["slick-active"],style:W(W({},E.props.style||{}),F),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(b)}}))),N=pe+z,N<T&&(E=se),ie=j(W(W({},w),{},{index:N})),Q.push(n.default.cloneElement(E,{key:"postcloned"+A(E,N),"data-index":N,tabIndex:"-1",className:(0,e.default)(ie,te),"aria-hidden":!ie["slick-active"],style:W(W({},E.props.style||{}),F),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),w.focusOnSelect&&w.focusOnSelect(b)}}))}}),w.rtl?x.concat(D,Q).reverse():x.concat(D,Q)};return pl.Track=function(I){m(N,I);var w=S(N);function N(){var D;u(this,N);for(var x=arguments.length,Q=new Array(x),pe=0;pe<x;pe++)Q[pe]=arguments[pe];return D=w.call.apply(w,[this].concat(Q)),X(M(D),"node",null),X(M(D),"handleRef",function(fe){D.node=fe}),D}return h(N,[{key:"render",value:function(){var x=P(this.props),Q=this.props,pe=Q.onMouseEnter,fe=Q.onMouseOver,T=Q.onMouseLeave,se={onMouseEnter:pe,onMouseOver:fe,onMouseLeave:T};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},se),x)}}]),N}(n.default.PureComponent),pl}var ml={},jv;function Qb(){if(jv)return ml;jv=1;function n(j){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},n(j)}Object.defineProperty(ml,"__esModule",{value:!0}),ml.Dots=void 0;var e=o(zr()),t=o(Id()),i=$l();function o(j){return j&&j.__esModule?j:{default:j}}function a(j,B){var A=Object.keys(j);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(j);B&&(P=P.filter(function(I){return Object.getOwnPropertyDescriptor(j,I).enumerable})),A.push.apply(A,P)}return A}function u(j){for(var B=1;B<arguments.length;B++){var A=arguments[B]!=null?arguments[B]:{};B%2?a(Object(A),!0).forEach(function(P){f(j,P,A[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(A)):a(Object(A)).forEach(function(P){Object.defineProperty(j,P,Object.getOwnPropertyDescriptor(A,P))})}return j}function f(j,B,A){return B=S(B),B in j?Object.defineProperty(j,B,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[B]=A,j}function h(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}function m(j,B){for(var A=0;A<B.length;A++){var P=B[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,S(P.key),P)}}function v(j,B,A){return B&&m(j.prototype,B),Object.defineProperty(j,"prototype",{writable:!1}),j}function S(j){var B=O(j,"string");return n(B)=="symbol"?B:String(B)}function O(j,B){if(n(j)!="object"||!j)return j;var A=j[Symbol.toPrimitive];if(A!==void 0){var P=A.call(j,B);if(n(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function M(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),B&&$(j,B)}function $(j,B){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,I){return P.__proto__=I,P},$(j,B)}function L(j){var B=X();return function(){var P=J(j),I;if(B){var w=J(this).constructor;I=Reflect.construct(P,arguments,w)}else I=P.apply(this,arguments);return U(this,I)}}function U(j,B){if(B&&(n(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(j)}function W(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function X(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!j})()}function J(j){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},J(j)}var re=function(B){var A;return B.infinite?A=Math.ceil(B.slideCount/B.slidesToScroll):A=Math.ceil((B.slideCount-B.slidesToShow)/B.slidesToScroll)+1,A};return ml.Dots=function(j){M(A,j);var B=L(A);function A(){return h(this,A),B.apply(this,arguments)}return v(A,[{key:"clickHandler",value:function(I,w){w.preventDefault(),this.props.clickHandler(I)}},{key:"render",value:function(){for(var I=this.props,w=I.onMouseEnter,N=I.onMouseOver,D=I.onMouseLeave,x=I.infinite,Q=I.slidesToScroll,pe=I.slidesToShow,fe=I.slideCount,T=I.currentSlide,se=re({slideCount:fe,slidesToScroll:Q,slidesToShow:pe,infinite:x}),z={onMouseEnter:w,onMouseOver:N,onMouseLeave:D},E=[],b=0;b<se;b++){var F=(b+1)*Q-1,te=x?F:(0,i.clamp)(F,0,fe-1),ie=te-(Q-1),ae=x?ie:(0,i.clamp)(ie,0,fe-1),le=(0,t.default)({"slick-active":x?T>=ae&&T<=te:T===ae}),ce={message:"dots",index:b,slidesToScroll:Q,currentSlide:T},Te=this.clickHandler.bind(this,ce);E=E.concat(e.default.createElement("li",{key:b,className:le},e.default.cloneElement(this.props.customPaging(b),{onClick:Te})))}return e.default.cloneElement(this.props.appendDots(E),u({className:this.props.dotsClass},z))}}]),A}(e.default.PureComponent),ml}var Fs={},Fv;function Yb(){if(Fv)return Fs;Fv=1;function n(j){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},n(j)}Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.PrevArrow=Fs.NextArrow=void 0;var e=o(zr()),t=o(Id()),i=$l();function o(j){return j&&j.__esModule?j:{default:j}}function a(){return a=Object.assign?Object.assign.bind():function(j){for(var B=1;B<arguments.length;B++){var A=arguments[B];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(j[P]=A[P])}return j},a.apply(this,arguments)}function u(j,B){var A=Object.keys(j);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(j);B&&(P=P.filter(function(I){return Object.getOwnPropertyDescriptor(j,I).enumerable})),A.push.apply(A,P)}return A}function f(j){for(var B=1;B<arguments.length;B++){var A=arguments[B]!=null?arguments[B]:{};B%2?u(Object(A),!0).forEach(function(P){h(j,P,A[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(A)):u(Object(A)).forEach(function(P){Object.defineProperty(j,P,Object.getOwnPropertyDescriptor(A,P))})}return j}function h(j,B,A){return B=O(B),B in j?Object.defineProperty(j,B,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[B]=A,j}function m(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}function v(j,B){for(var A=0;A<B.length;A++){var P=B[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,O(P.key),P)}}function S(j,B,A){return B&&v(j.prototype,B),Object.defineProperty(j,"prototype",{writable:!1}),j}function O(j){var B=M(j,"string");return n(B)=="symbol"?B:String(B)}function M(j,B){if(n(j)!="object"||!j)return j;var A=j[Symbol.toPrimitive];if(A!==void 0){var P=A.call(j,B);if(n(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function $(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),B&&L(j,B)}function L(j,B){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,I){return P.__proto__=I,P},L(j,B)}function U(j){var B=J();return function(){var P=re(j),I;if(B){var w=re(this).constructor;I=Reflect.construct(P,arguments,w)}else I=P.apply(this,arguments);return W(this,I)}}function W(j,B){if(B&&(n(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X(j)}function X(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function J(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!j})()}function re(j){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},re(j)}return Fs.PrevArrow=function(j){$(A,j);var B=U(A);function A(){return m(this,A),B.apply(this,arguments)}return S(A,[{key:"clickHandler",value:function(I,w){w&&w.preventDefault(),this.props.clickHandler(I,w)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-prev":!0},w=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(I["slick-disabled"]=!0,w=null);var N={key:"0","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:w},D={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},x;return this.props.prevArrow?x=e.default.cloneElement(this.props.prevArrow,f(f({},N),D)):x=e.default.createElement("button",a({key:"0",type:"button"},N)," ","Previous"),x}}]),A}(e.default.PureComponent),Fs.NextArrow=function(j){$(A,j);var B=U(A);function A(){return m(this,A),B.apply(this,arguments)}return S(A,[{key:"clickHandler",value:function(I,w){w&&w.preventDefault(),this.props.clickHandler(I,w)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-next":!0},w=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(I["slick-disabled"]=!0,w=null);var N={key:"1","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:w},D={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},x;return this.props.nextArrow?x=e.default.cloneElement(this.props.nextArrow,f(f({},N),D)):x=e.default.createElement("button",a({key:"1",type:"button"},N)," ","Next"),x}}]),A}(e.default.PureComponent),Fs}var lw=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(o,a){return o[0]===t?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(t,i){var o=n(this.__entries__,t);~o?this.__entries__[o][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,o=n(i,t);~o&&i.splice(o,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var o=0,a=this.__entries__;o<a.length;o++){var u=a[o];t.call(i,u[1],u[0])}},e}()}(),pp=typeof window<"u"&&typeof document<"u"&&window.document===document,Gc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Xb=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Gc):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Jb=2;function Zb(n,e){var t=!1,i=!1,o=0;function a(){t&&(t=!1,n()),i&&f()}function u(){Xb(a)}function f(){var h=Date.now();if(t){if(h-o<Jb)return;i=!0}else t=!0,i=!1,setTimeout(u,e);o=h}return f}var ex=20,tx=["top","right","bottom","left","width","height","size","weight"],nx=typeof MutationObserver<"u",rx=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Zb(this.refresh.bind(this),ex)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!pp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),nx?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!pp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,o=tx.some(function(a){return!!~i.indexOf(a)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),uw=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var o=i[t];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},ra=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Gc},cw=bd(0,0,0,0);function Kc(n){return parseFloat(n)||0}function Uv(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,o){var a=n["border-"+o+"-width"];return i+Kc(a)},0)}function ix(n){for(var e=["top","right","bottom","left"],t={},i=0,o=e;i<o.length;i++){var a=o[i],u=n["padding-"+a];t[a]=Kc(u)}return t}function sx(n){var e=n.getBBox();return bd(0,0,e.width,e.height)}function ox(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return cw;var i=ra(n).getComputedStyle(n),o=ix(i),a=o.left+o.right,u=o.top+o.bottom,f=Kc(i.width),h=Kc(i.height);if(i.boxSizing==="border-box"&&(Math.round(f+a)!==e&&(f-=Uv(i,"left","right")+a),Math.round(h+u)!==t&&(h-=Uv(i,"top","bottom")+u)),!lx(n)){var m=Math.round(f+a)-e,v=Math.round(h+u)-t;Math.abs(m)!==1&&(f-=m),Math.abs(v)!==1&&(h-=v)}return bd(o.left,o.top,f,h)}var ax=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof ra(n).SVGGraphicsElement}:function(n){return n instanceof ra(n).SVGElement&&typeof n.getBBox=="function"}}();function lx(n){return n===ra(n).document.documentElement}function ux(n){return pp?ax(n)?sx(n):ox(n):cw}function cx(n){var e=n.x,t=n.y,i=n.width,o=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(a.prototype);return uw(u,{x:e,y:t,width:i,height:o,top:t,right:e+i,bottom:o+t,left:e}),u}function bd(n,e,t,i){return{x:n,y:e,width:t,height:i}}var dx=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=bd(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=ux(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),fx=function(){function n(e,t){var i=cx(t);uw(this,{target:e,contentRect:i})}return n}(),hx=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new lw,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ra(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new dx(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ra(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new fx(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),dw=typeof WeakMap<"u"?new WeakMap:new lw,fw=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=rx.getInstance(),i=new hx(e,t,this);dw.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){fw.prototype[n]=function(){var e;return(e=dw.get(this))[n].apply(e,arguments)}});var px=function(){return typeof Gc.ResizeObserver<"u"?Gc.ResizeObserver:fw}();const mx=Object.freeze(Object.defineProperty({__proto__:null,default:px},Symbol.toStringTag,{value:"Module"})),gx=OI(mx);var zv;function yx(){if(zv)return hl;zv=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.InnerSlider=void 0;var n=m(zr()),e=m(Wb()),t=m(Gb()),i=m(Id()),o=$l(),a=Kb(),u=Qb(),f=Yb(),h=m(gx);function m(x){return x&&x.__esModule?x:{default:x}}function v(x){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},v(x)}function S(){return S=Object.assign?Object.assign.bind():function(x){for(var Q=1;Q<arguments.length;Q++){var pe=arguments[Q];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(x[fe]=pe[fe])}return x},S.apply(this,arguments)}function O(x,Q){if(x==null)return{};var pe=M(x,Q),fe,T;if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(x);for(T=0;T<se.length;T++)fe=se[T],!(Q.indexOf(fe)>=0)&&Object.prototype.propertyIsEnumerable.call(x,fe)&&(pe[fe]=x[fe])}return pe}function M(x,Q){if(x==null)return{};var pe={},fe=Object.keys(x),T,se;for(se=0;se<fe.length;se++)T=fe[se],!(Q.indexOf(T)>=0)&&(pe[T]=x[T]);return pe}function $(x,Q){var pe=Object.keys(x);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(x);Q&&(fe=fe.filter(function(T){return Object.getOwnPropertyDescriptor(x,T).enumerable})),pe.push.apply(pe,fe)}return pe}function L(x){for(var Q=1;Q<arguments.length;Q++){var pe=arguments[Q]!=null?arguments[Q]:{};Q%2?$(Object(pe),!0).forEach(function(fe){w(x,fe,pe[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(pe)):$(Object(pe)).forEach(function(fe){Object.defineProperty(x,fe,Object.getOwnPropertyDescriptor(pe,fe))})}return x}function U(x,Q){if(!(x instanceof Q))throw new TypeError("Cannot call a class as a function")}function W(x,Q){for(var pe=0;pe<Q.length;pe++){var fe=Q[pe];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(x,N(fe.key),fe)}}function X(x,Q,pe){return Q&&W(x.prototype,Q),Object.defineProperty(x,"prototype",{writable:!1}),x}function J(x,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(Q&&Q.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),Q&&re(x,Q)}function re(x,Q){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(fe,T){return fe.__proto__=T,fe},re(x,Q)}function j(x){var Q=P();return function(){var fe=I(x),T;if(Q){var se=I(this).constructor;T=Reflect.construct(fe,arguments,se)}else T=fe.apply(this,arguments);return B(this,T)}}function B(x,Q){if(Q&&(v(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(x)}function A(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function P(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!x})()}function I(x){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},I(x)}function w(x,Q,pe){return Q=N(Q),Q in x?Object.defineProperty(x,Q,{value:pe,enumerable:!0,configurable:!0,writable:!0}):x[Q]=pe,x}function N(x){var Q=D(x,"string");return v(Q)=="symbol"?Q:String(Q)}function D(x,Q){if(v(x)!="object"||!x)return x;var pe=x[Symbol.toPrimitive];if(pe!==void 0){var fe=pe.call(x,Q);if(v(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(x)}return hl.InnerSlider=function(x){J(pe,x);var Q=j(pe);function pe(fe){var T;U(this,pe),T=Q.call(this,fe),w(A(T),"listRefHandler",function(z){return T.list=z}),w(A(T),"trackRefHandler",function(z){return T.track=z}),w(A(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var z=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,o.getHeight)(z)+"px"}}),w(A(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var z=(0,o.getOnDemandLazySlides)(L(L({},T.props),T.state));z.length>0&&(T.setState(function(b){return{lazyLoadedList:b.lazyLoadedList.concat(z)}}),T.props.onLazyLoad&&T.props.onLazyLoad(z))}var E=L({listRef:T.list,trackRef:T.track},T.props);T.updateState(E,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new h.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(b){b.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,b.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),w(A(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(z){return clearTimeout(z)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),w(A(T),"componentDidUpdate",function(z){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var E=(0,o.getOnDemandLazySlides)(L(L({},T.props),T.state));E.length>0&&(T.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(E)}}),T.props.onLazyLoad&&T.props.onLazyLoad(E))}T.adaptHeight();var b=L(L({listRef:T.list,trackRef:T.track},T.props),T.state),F=T.didPropsChange(z);F&&T.updateState(b,F,function(){T.state.currentSlide>=n.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:n.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),w(A(T),"onWindowResized",function(z){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,t.default)(function(){return T.resizeWindow(z)},50),T.debouncedResize()}),w(A(T),"resizeWindow",function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=!!(T.track&&T.track.node);if(E){var b=L(L({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(b,z,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),w(A(T),"updateState",function(z,E,b){var F=(0,o.initializedState)(z);z=L(L(L({},z),F),{},{slideIndex:F.currentSlide});var te=(0,o.getTrackLeft)(z);z=L(L({},z),{},{left:te});var ie=(0,o.getTrackCSS)(z);(E||n.default.Children.count(T.props.children)!==n.default.Children.count(z.children))&&(F.trackStyle=ie),T.setState(F,b)}),w(A(T),"ssrInit",function(){if(T.props.variableWidth){var z=0,E=0,b=[],F=(0,o.getPreClones)(L(L(L({},T.props),T.state),{},{slideCount:T.props.children.length})),te=(0,o.getPostClones)(L(L(L({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function(ct){b.push(ct.props.style.width),z+=ct.props.style.width});for(var ie=0;ie<F;ie++)E+=b[b.length-1-ie],z+=b[b.length-1-ie];for(var ae=0;ae<te;ae++)z+=b[ae];for(var le=0;le<T.state.currentSlide;le++)E+=b[le];var ce={width:z+"px",left:-E+"px"};if(T.props.centerMode){var Te="".concat(b[T.state.currentSlide],"px");ce.left="calc(".concat(ce.left," + (100% - ").concat(Te,") / 2 ) ")}return{trackStyle:ce}}var be=n.default.Children.count(T.props.children),Pe=L(L(L({},T.props),T.state),{},{slideCount:be}),$e=(0,o.getPreClones)(Pe)+(0,o.getPostClones)(Pe)+be,He=100/T.props.slidesToShow*$e,Ue=100/$e,Ve=-Ue*((0,o.getPreClones)(Pe)+T.state.currentSlide)*He/100;T.props.centerMode&&(Ve+=(100-Ue*He/100)/2);var qe={width:He+"%",left:Ve+"%"};return{slideWidth:Ue+"%",trackStyle:qe}}),w(A(T),"checkImagesLoad",function(){var z=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],E=z.length,b=0;Array.prototype.forEach.call(z,function(F){var te=function(){return++b&&b>=E&&T.onWindowResized()};if(!F.onclick)F.onclick=function(){return F.parentNode.focus()};else{var ie=F.onclick;F.onclick=function(ae){ie(ae),F.parentNode.focus()}}F.onload||(T.props.lazyLoad?F.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(F.onload=te,F.onerror=function(){te(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),w(A(T),"progressiveLazyLoad",function(){for(var z=[],E=L(L({},T.props),T.state),b=T.state.currentSlide;b<T.state.slideCount+(0,o.getPostClones)(E);b++)if(T.state.lazyLoadedList.indexOf(b)<0){z.push(b);break}for(var F=T.state.currentSlide-1;F>=-(0,o.getPreClones)(E);F--)if(T.state.lazyLoadedList.indexOf(F)<0){z.push(F);break}z.length>0?(T.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(z)}}),T.props.onLazyLoad&&T.props.onLazyLoad(z)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),w(A(T),"slideHandler",function(z){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=T.props,F=b.asNavFor,te=b.beforeChange,ie=b.onLazyLoad,ae=b.speed,le=b.afterChange,ce=T.state.currentSlide,Te=(0,o.slideHandler)(L(L(L({index:z},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!E})),be=Te.state,Pe=Te.nextState;if(be){te&&te(ce,be.currentSlide);var $e=be.lazyLoadedList.filter(function(He){return T.state.lazyLoadedList.indexOf(He)<0});ie&&$e.length>0&&ie($e),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),le&&le(ce),delete T.animationEndCallback),T.setState(be,function(){F&&T.asNavForIndex!==z&&(T.asNavForIndex=z,F.innerSlider.slideHandler(z)),Pe&&(T.animationEndCallback=setTimeout(function(){var He=Pe.animating,Ue=O(Pe,["animating"]);T.setState(Ue,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:He})},10)),le&&le(be.currentSlide),delete T.animationEndCallback})},ae))})}}),w(A(T),"changeSlide",function(z){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=L(L({},T.props),T.state),F=(0,o.changeSlide)(b,z);if(!(F!==0&&!F)&&(E===!0?T.slideHandler(F,E):T.slideHandler(F),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var te=T.list.querySelectorAll(".slick-current");te[0]&&te[0].focus()}}),w(A(T),"clickHandler",function(z){T.clickable===!1&&(z.stopPropagation(),z.preventDefault()),T.clickable=!0}),w(A(T),"keyHandler",function(z){var E=(0,o.keyHandler)(z,T.props.accessibility,T.props.rtl);E!==""&&T.changeSlide({message:E})}),w(A(T),"selectHandler",function(z){T.changeSlide(z)}),w(A(T),"disableBodyScroll",function(){var z=function(b){b=b||window.event,b.preventDefault&&b.preventDefault(),b.returnValue=!1};window.ontouchmove=z}),w(A(T),"enableBodyScroll",function(){window.ontouchmove=null}),w(A(T),"swipeStart",function(z){T.props.verticalSwiping&&T.disableBodyScroll();var E=(0,o.swipeStart)(z,T.props.swipe,T.props.draggable);E!==""&&T.setState(E)}),w(A(T),"swipeMove",function(z){var E=(0,o.swipeMove)(z,L(L(L({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));E&&(E.swiping&&(T.clickable=!1),T.setState(E))}),w(A(T),"swipeEnd",function(z){var E=(0,o.swipeEnd)(z,L(L(L({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(E){var b=E.triggerSlideHandler;delete E.triggerSlideHandler,T.setState(E),b!==void 0&&(T.slideHandler(b),T.props.verticalSwiping&&T.enableBodyScroll())}}),w(A(T),"touchEnd",function(z){T.swipeEnd(z),T.clickable=!0}),w(A(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),w(A(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),w(A(T),"slickGoTo",function(z){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z=Number(z),isNaN(z))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:z,currentSlide:T.state.currentSlide},E)},0))}),w(A(T),"play",function(){var z;if(T.props.rtl)z=T.state.currentSlide-T.props.slidesToScroll;else if((0,o.canGoNext)(L(L({},T.props),T.state)))z=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(z)}),w(A(T),"autoPlay",function(z){T.autoplayTimer&&clearInterval(T.autoplayTimer);var E=T.state.autoplaying;if(z==="update"){if(E==="hovered"||E==="focused"||E==="paused")return}else if(z==="leave"){if(E==="paused"||E==="focused")return}else if(z==="blur"&&(E==="paused"||E==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),w(A(T),"pause",function(z){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var E=T.state.autoplaying;z==="paused"?T.setState({autoplaying:"paused"}):z==="focused"?(E==="hovered"||E==="playing")&&T.setState({autoplaying:"focused"}):E==="playing"&&T.setState({autoplaying:"hovered"})}),w(A(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),w(A(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),w(A(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),w(A(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),w(A(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),w(A(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),w(A(T),"render",function(){var z=(0,i.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),E=L(L({},T.props),T.state),b=(0,o.extractObject)(E,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),F=T.props.pauseOnHover;b=L(L({},b),{},{onMouseEnter:F?T.onTrackOver:null,onMouseLeave:F?T.onTrackLeave:null,onMouseOver:F?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var te;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var ie=(0,o.extractObject)(E,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=T.props.pauseOnDotsHover;ie=L(L({},ie),{},{clickHandler:T.changeSlide,onMouseEnter:ae?T.onDotsLeave:null,onMouseOver:ae?T.onDotsOver:null,onMouseLeave:ae?T.onDotsLeave:null}),te=n.default.createElement(u.Dots,ie)}var le,ce,Te=(0,o.extractObject)(E,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Te.clickHandler=T.changeSlide,T.props.arrows&&(le=n.default.createElement(f.PrevArrow,Te),ce=n.default.createElement(f.NextArrow,Te));var be=null;T.props.vertical&&(be={height:T.state.listHeight});var Pe=null;T.props.vertical===!1?T.props.centerMode===!0&&(Pe={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(Pe={padding:T.props.centerPadding+" 0px"});var $e=L(L({},be),Pe),He=T.props.touchMove,Ue={className:"slick-list",style:$e,onClick:T.clickHandler,onMouseDown:He?T.swipeStart:null,onMouseMove:T.state.dragging&&He?T.swipeMove:null,onMouseUp:He?T.swipeEnd:null,onMouseLeave:T.state.dragging&&He?T.swipeEnd:null,onTouchStart:He?T.swipeStart:null,onTouchMove:T.state.dragging&&He?T.swipeMove:null,onTouchEnd:He?T.touchEnd:null,onTouchCancel:T.state.dragging&&He?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},Ve={className:z,dir:"ltr",style:T.props.style};return T.props.unslick&&(Ue={className:"slick-list"},Ve={className:z}),n.default.createElement("div",Ve,T.props.unslick?"":le,n.default.createElement("div",S({ref:T.listRefHandler},Ue),n.default.createElement(a.Track,S({ref:T.trackRefHandler},b),T.props.children)),T.props.unslick?"":ce,T.props.unslick?"":te)}),T.list=null,T.track=null,T.state=L(L({},e.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:n.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var se=T.ssrInit();return T.state=L(L({},T.state),se),T}return X(pe,[{key:"didPropsChange",value:function(T){for(var se=!1,z=0,E=Object.keys(this.props);z<E.length;z++){var b=E[z];if(!T.hasOwnProperty(b)){se=!0;break}if(!(v(T[b])==="object"||typeof T[b]=="function"||isNaN(T[b]))&&T[b]!==this.props[b]){se=!0;break}}return se||n.default.Children.count(this.props.children)!==n.default.Children.count(T.children)}}]),pe}(n.default.Component),hl}var Bh,$v;function vx(){if($v)return Bh;$v=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return Bh=n,Bh}var qh,Bv;function _x(){if(Bv)return qh;Bv=1;var n=vx(),e=function(o){var a=/[height|width]$/;return a.test(o)},t=function(o){var a="",u=Object.keys(o);return u.forEach(function(f,h){var m=o[f];f=n(f),e(f)&&typeof m=="number"&&(m=m+"px"),m===!0?a+=f:m===!1?a+="not "+f:a+="("+f+": "+m+")",h<u.length-1&&(a+=" and ")}),a},i=function(o){var a="";return typeof o=="string"?o:o instanceof Array?(o.forEach(function(u,f){a+=t(u),f<o.length-1&&(a+=", ")}),a):t(o)};return qh=i,qh}var Hh,qv;function wx(){if(qv)return Hh;qv=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Hh=n,Hh}var Wh,Hv;function hw(){if(Hv)return Wh;Hv=1;function n(i,o){var a=0,u=i.length,f;for(a;a<u&&(f=o(i[a],a),f!==!1);a++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return Wh={isFunction:t,isArray:e,each:n},Wh}var Gh,Wv;function Ex(){if(Wv)return Gh;Wv=1;var n=wx(),e=hw().each;function t(i,o){this.query=i,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(i);var a=this;this.listener=function(u){a.mql=u.currentTarget||u,a.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var o=new n(i);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(i){var o=this.handlers;e(o,function(a,u){if(a.equals(i))return a.destroy(),!o.splice(u,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(o){o[i]()})}},Gh=t,Gh}var Kh,Gv;function Tx(){if(Gv)return Kh;Gv=1;var n=Ex(),e=hw(),t=e.each,i=e.isFunction,o=e.isArray;function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return a.prototype={constructor:a,register:function(u,f,h){var m=this.queries,v=h&&this.browserIsIncapable;return m[u]||(m[u]=new n(u,v)),i(f)&&(f={match:f}),o(f)||(f=[f]),t(f,function(S){i(S)&&(S={match:S}),m[u].addHandler(S)}),this},unregister:function(u,f){var h=this.queries[u];return h&&(f?h.removeHandler(f):(h.clear(),delete this.queries[u])),this}},Kh=a,Kh}var Qh,Kv;function Sx(){if(Kv)return Qh;Kv=1;var n=Tx();return Qh=new n,Qh}var Qv;function Ix(){return Qv||(Qv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=u(zr()),t=yx(),i=u(_x()),o=u(aw()),a=$l();function u(I){return I&&I.__esModule?I:{default:I}}function f(I){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},f(I)}function h(){return h=Object.assign?Object.assign.bind():function(I){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(I[D]=N[D])}return I},h.apply(this,arguments)}function m(I,w){var N=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);w&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(I,x).enumerable})),N.push.apply(N,D)}return N}function v(I){for(var w=1;w<arguments.length;w++){var N=arguments[w]!=null?arguments[w]:{};w%2?m(Object(N),!0).forEach(function(D){j(I,D,N[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(N)):m(Object(N)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(N,D))})}return I}function S(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function O(I,w){for(var N=0;N<w.length;N++){var D=w[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,B(D.key),D)}}function M(I,w,N){return w&&O(I.prototype,w),Object.defineProperty(I,"prototype",{writable:!1}),I}function $(I,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(w&&w.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),w&&L(I,w)}function L(I,w){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,x){return D.__proto__=x,D},L(I,w)}function U(I){var w=J();return function(){var D=re(I),x;if(w){var Q=re(this).constructor;x=Reflect.construct(D,arguments,Q)}else x=D.apply(this,arguments);return W(this,x)}}function W(I,w){if(w&&(f(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X(I)}function X(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function J(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!I})()}function re(I){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},re(I)}function j(I,w,N){return w=B(w),w in I?Object.defineProperty(I,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[w]=N,I}function B(I){var w=A(I,"string");return f(w)=="symbol"?w:String(w)}function A(I,w){if(f(I)!="object"||!I)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var D=N.call(I,w);if(f(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(I)}var P=(0,a.canUseDOM)()&&Sx();n.default=function(I){$(N,I);var w=U(N);function N(D){var x;return S(this,N),x=w.call(this,D),j(X(x),"innerSliderRefHandler",function(Q){return x.innerSlider=Q}),j(X(x),"slickPrev",function(){return x.innerSlider.slickPrev()}),j(X(x),"slickNext",function(){return x.innerSlider.slickNext()}),j(X(x),"slickGoTo",function(Q){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return x.innerSlider.slickGoTo(Q,pe)}),j(X(x),"slickPause",function(){return x.innerSlider.pause("paused")}),j(X(x),"slickPlay",function(){return x.innerSlider.autoPlay("play")}),x.state={breakpoint:null},x._responsiveMediaHandlers=[],x}return M(N,[{key:"media",value:function(x,Q){P.register(x,Q),this._responsiveMediaHandlers.push({query:x,handler:Q})}},{key:"componentDidMount",value:function(){var x=this;if(this.props.responsive){var Q=this.props.responsive.map(function(fe){return fe.breakpoint});Q.sort(function(fe,T){return fe-T}),Q.forEach(function(fe,T){var se;T===0?se=(0,i.default)({minWidth:0,maxWidth:fe}):se=(0,i.default)({minWidth:Q[T-1]+1,maxWidth:fe}),(0,a.canUseDOM)()&&x.media(se,function(){x.setState({breakpoint:fe})})});var pe=(0,i.default)({minWidth:Q.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(pe,function(){x.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(x){P.unregister(x.query,x.handler)})}},{key:"render",value:function(){var x=this,Q,pe;this.state.breakpoint?(pe=this.props.responsive.filter(function(ae){return ae.breakpoint===x.state.breakpoint}),Q=pe[0].settings==="unslick"?"unslick":v(v(v({},o.default),this.props),pe[0].settings)):Q=v(v({},o.default),this.props),Q.centerMode&&(Q.slidesToScroll>1,Q.slidesToScroll=1),Q.fade&&(Q.slidesToShow>1,Q.slidesToScroll>1,Q.slidesToShow=1,Q.slidesToScroll=1);var fe=e.default.Children.toArray(this.props.children);fe=fe.filter(function(ae){return typeof ae=="string"?!!ae.trim():!!ae}),Q.variableWidth&&(Q.rows>1||Q.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Q.variableWidth=!1);for(var T=[],se=null,z=0;z<fe.length;z+=Q.rows*Q.slidesPerRow){for(var E=[],b=z;b<z+Q.rows*Q.slidesPerRow;b+=Q.slidesPerRow){for(var F=[],te=b;te<b+Q.slidesPerRow&&(Q.variableWidth&&fe[te].props.style&&(se=fe[te].props.style.width),!(te>=fe.length));te+=1)F.push(e.default.cloneElement(fe[te],{key:100*z+10*b+te,tabIndex:-1,style:{width:"".concat(100/Q.slidesPerRow,"%"),display:"inline-block"}}));E.push(e.default.createElement("div",{key:10*z+b},F))}Q.variableWidth?T.push(e.default.createElement("div",{key:z,style:{width:se}},E)):T.push(e.default.createElement("div",{key:z},E))}if(Q==="unslick"){var ie="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ie},fe)}else T.length<=Q.slidesToShow&&!Q.infinite&&(Q.unslick=!0);return e.default.createElement(t.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(Q)),T)}}]),N}(e.default.Component)}(jh)),jh}var Yv;function bx(){return Yv||(Yv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Ix());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(Vh)),Vh}var xx=bx();const xd=Jp(xx),kx=()=>{const n=[{id:1,image:"banner1.jpg",title:"Oferta Especial! 35% OFF"},{id:2,image:"banner2.jpg",title:"Nuevos Lanzamientos"},{id:3,image:"banner3.jpg",title:"Envos Gratis Hoy"},{id:4,image:"banner4.jpg",title:"Descuentos Exclusivos"}],e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,nextArrow:C.jsx(Cx,{}),prevArrow:C.jsx(Px,{})};return C.jsx("div",{className:"text-white",children:C.jsx(xd,{...e,children:n.map(t=>C.jsxs("div",{className:"relative outline-none",children:[C.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[500px] md:h-[400px] sm:h-[300px] object-cover"}),C.jsx("div",{className:"absolute inset-0 bg-opacity-40 flex items-center justify-center",children:C.jsx("h2",{className:"text-4xl md:text-3xl sm:text-2xl font-bold text-center",children:t.title})})]},t.id))})})},Cx=n=>{const{className:e,style:t,onClick:i}=n;return C.jsx("button",{className:e,style:{...t,display:"block",right:"10px",zIndex:10},onClick:i,children:""})},Px=n=>{const{className:e,style:t,onClick:i}=n;return C.jsx("button",{className:e,style:{...t,display:"block",left:"10px",zIndex:10},onClick:i,children:""})},Ax=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Rx=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,S=(a&3)<<4|f>>4;let O=(f&15)<<2|m>>6,M=m&63;h||(M=64,u||(O=64)),i.push(t[v],t[S],t[O],t[M])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Rx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||S==null)throw new Nx;const O=a<<2|f>>4;if(i.push(O),m!==64){const M=f<<4&240|m>>2;if(i.push(M),S!==64){const $=m<<6&192|S;i.push($)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ox=function(n){const e=pw(n);return mw.encodeByteArray(e,!0)},Qc=function(n){return Ox(n).replace(/\./g,"")},gw=function(n){try{return mw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=()=>Dx().__FIREBASE_DEFAULTS__,Mx=()=>{if(typeof process>"u"||typeof Xv>"u")return;const n=Xv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Vx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gw(n[1]);return e&&JSON.parse(e)},kd=()=>{try{return Ax()||Lx()||Mx()||Vx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yw=n=>{var e,t;return(t=(e=kd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tm=n=>{const e=yw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},vw=()=>{var n;return(n=kd())===null||n===void 0?void 0:n.config},_w=n=>{var e;return(e=kd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qc(JSON.stringify(t)),Qc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Ux(){var n;const e=(n=kd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ew(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qx(){return!Ux()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tw(){try{return typeof indexedDB=="object"}catch{return!1}}function Sw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Hx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="FirebaseError";class Un extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Wx,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Gx(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Un(o,f,i)}}function Gx(n,e){return n.replace(Kx,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Kx=/\{\$([^}]+)}/g;function Qx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function es(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(Jv(a)&&Jv(u)){if(!es(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Jv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function yl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Yx(n,e){const t=new Xx(n,e);return t.subscribe.bind(t)}class Xx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Jx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Yh),o.error===void 0&&(o.error=Yh),o.complete===void 0&&(o.complete=Yh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=1e3,ek=2,tk=4*60*60*1e3,nk=.5;function Zv(n,e=Zx,t=ek){const i=e*Math.pow(t,n),o=Math.round(nk*i*(Math.random()-.5)*2);return Math.min(tk,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n){return n&&n._delegate?n._delegate:n}class Fn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new jx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sk(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ik(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ik(n){return n===Us?void 0:n}function sk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const ak={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},lk=We.INFO,uk={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},ck=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=uk[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cd{constructor(e){this.name=e,this._logLevel=lk,this._logHandler=ck,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const dk=(n,e)=>e.some(t=>n instanceof t);let e_,t_;function fk(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hk(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iw=new WeakMap,mp=new WeakMap,bw=new WeakMap,Xh=new WeakMap,nm=new WeakMap;function pk(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ki(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Iw.set(t,n)}).catch(()=>{}),nm.set(e,n),e}function mk(n){if(mp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});mp.set(n,e)}let gp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gk(n){gp=n(gp)}function yk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Jh(this),e,...t);return bw.set(i,e.sort?e.sort():[e]),Ki(i)}:hk().includes(n)?function(...e){return n.apply(Jh(this),e),Ki(Iw.get(this))}:function(...e){return Ki(n.apply(Jh(this),e))}}function vk(n){return typeof n=="function"?yk(n):(n instanceof IDBTransaction&&mk(n),dk(n,fk())?new Proxy(n,gp):n)}function Ki(n){if(n instanceof IDBRequest)return pk(n);if(Xh.has(n))return Xh.get(n);const e=vk(n);return e!==n&&(Xh.set(n,e),nm.set(e,n)),e}const Jh=n=>nm.get(n);function xw(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Ki(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Ki(u.result),h.oldVersion,h.newVersion,Ki(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const _k=["get","getKey","getAll","getAllKeys","count"],wk=["put","add","delete","clear"],Zh=new Map;function n_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zh.get(e))return Zh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=wk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||_k.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return Zh.set(e,a),a}gk(n=>({...n,get:(e,t,i)=>n_(e,t)||n.get(e,t,i),has:(e,t)=>!!n_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Tk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Tk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",r_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Cd("@firebase/app"),Sk="@firebase/app-compat",Ik="@firebase/analytics-compat",bk="@firebase/analytics",xk="@firebase/app-check-compat",kk="@firebase/app-check",Ck="@firebase/auth",Pk="@firebase/auth-compat",Ak="@firebase/database",Rk="@firebase/data-connect",Nk="@firebase/database-compat",Ok="@firebase/functions",Dk="@firebase/functions-compat",Lk="@firebase/installations",Mk="@firebase/installations-compat",Vk="@firebase/messaging",jk="@firebase/messaging-compat",Fk="@firebase/performance",Uk="@firebase/performance-compat",zk="@firebase/remote-config",$k="@firebase/remote-config-compat",Bk="@firebase/storage",qk="@firebase/storage-compat",Hk="@firebase/firestore",Wk="@firebase/vertexai",Gk="@firebase/firestore-compat",Kk="firebase",Qk="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",Yk={[yp]:"fire-core",[Sk]:"fire-core-compat",[bk]:"fire-analytics",[Ik]:"fire-analytics-compat",[kk]:"fire-app-check",[xk]:"fire-app-check-compat",[Ck]:"fire-auth",[Pk]:"fire-auth-compat",[Ak]:"fire-rtdb",[Rk]:"fire-data-connect",[Nk]:"fire-rtdb-compat",[Ok]:"fire-fn",[Dk]:"fire-fn-compat",[Lk]:"fire-iid",[Mk]:"fire-iid-compat",[Vk]:"fire-fcm",[jk]:"fire-fcm-compat",[Fk]:"fire-perf",[Uk]:"fire-perf-compat",[zk]:"fire-rc",[$k]:"fire-rc-compat",[Bk]:"fire-gcs",[qk]:"fire-gcs-compat",[Hk]:"fire-fst",[Gk]:"fire-fst-compat",[Wk]:"fire-vertex","fire-js":"fire-js",[Kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,Xk=new Map,_p=new Map;function i_(n,e){try{n.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jn(n){const e=n.name;if(_p.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,n);for(const t of Yc.values())i_(t,n);for(const t of Xk.values())i_(t,n);return!0}function gi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new eo("app","Firebase",Jk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=Qk;function kw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:vp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(t||(t=vw()),!t)throw Qi.create("no-options");const a=Yc.get(o);if(a){if(es(t,a.options)&&es(i,a.config))return a;throw Qi.create("duplicate-app",{appName:o})}const u=new ok(o);for(const h of _p.values())u.addComponent(h);const f=new Zk(t,i,u);return Yc.set(o,f),f}function ql(n=vp){const e=Yc.get(n);if(!e&&n===vp&&vw())return kw();if(!e)throw Qi.create("no-app",{appName:n});return e}function nn(n,e,t){var i;let o=(i=Yk[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(f.join(" "));return}Jn(new Fn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebase-heartbeat-database",tC=1,Al="firebase-heartbeat-store";let ep=null;function Cw(){return ep||(ep=xw(eC,tC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),ep}async function nC(n){try{const t=(await Cw()).transaction(Al),i=await t.objectStore(Al).get(Pw(n));return await t.done,i}catch(e){if(e instanceof Un)di.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(t.message)}}}async function s_(n,e){try{const i=(await Cw()).transaction(Al,"readwrite");await i.objectStore(Al).put(e,Pw(n)),await i.done}catch(t){if(t instanceof Un)di.warn(t.message);else{const i=Qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});di.warn(i.message)}}}function Pw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,iC=30;class sC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>iC){const u=lC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o_(),{heartbeatsToSend:i,unsentEntries:o}=oC(this._heartbeatsCache.heartbeats),a=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return di.warn(t),""}}}function o_(){return new Date().toISOString().substring(0,10)}function oC(n,e=rC){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),a_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),a_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tw()?Sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return s_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function a_(n){return Qc(JSON.stringify({version:2,heartbeats:n})).length}function lC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){Jn(new Fn("platform-logger",e=>new Ek(e),"PRIVATE")),Jn(new Fn("heartbeat",e=>new sC(e),"PRIVATE")),nn(yp,r_,n),nn(yp,r_,"esm2017"),nn("fire-js","")}uC("");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,Aw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function I(){}I.prototype=P.prototype,A.D=P.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(w,N,D){for(var x=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)x[Q-2]=arguments[Q];return P.prototype[N].apply(w,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,P,I){I||(I=0);var w=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)w[N]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for(N=0;16>N;++N)w[N]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=A.g[0],I=A.g[1],N=A.g[2];var D=A.g[3],x=P+(D^I&(N^D))+w[0]+3614090360&4294967295;P=I+(x<<7&4294967295|x>>>25),x=D+(N^P&(I^N))+w[1]+3905402710&4294967295,D=P+(x<<12&4294967295|x>>>20),x=N+(I^D&(P^I))+w[2]+606105819&4294967295,N=D+(x<<17&4294967295|x>>>15),x=I+(P^N&(D^P))+w[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=P+(D^I&(N^D))+w[4]+4118548399&4294967295,P=I+(x<<7&4294967295|x>>>25),x=D+(N^P&(I^N))+w[5]+1200080426&4294967295,D=P+(x<<12&4294967295|x>>>20),x=N+(I^D&(P^I))+w[6]+2821735955&4294967295,N=D+(x<<17&4294967295|x>>>15),x=I+(P^N&(D^P))+w[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=P+(D^I&(N^D))+w[8]+1770035416&4294967295,P=I+(x<<7&4294967295|x>>>25),x=D+(N^P&(I^N))+w[9]+2336552879&4294967295,D=P+(x<<12&4294967295|x>>>20),x=N+(I^D&(P^I))+w[10]+4294925233&4294967295,N=D+(x<<17&4294967295|x>>>15),x=I+(P^N&(D^P))+w[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=P+(D^I&(N^D))+w[12]+1804603682&4294967295,P=I+(x<<7&4294967295|x>>>25),x=D+(N^P&(I^N))+w[13]+4254626195&4294967295,D=P+(x<<12&4294967295|x>>>20),x=N+(I^D&(P^I))+w[14]+2792965006&4294967295,N=D+(x<<17&4294967295|x>>>15),x=I+(P^N&(D^P))+w[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=P+(N^D&(I^N))+w[1]+4129170786&4294967295,P=I+(x<<5&4294967295|x>>>27),x=D+(I^N&(P^I))+w[6]+3225465664&4294967295,D=P+(x<<9&4294967295|x>>>23),x=N+(P^I&(D^P))+w[11]+643717713&4294967295,N=D+(x<<14&4294967295|x>>>18),x=I+(D^P&(N^D))+w[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=P+(N^D&(I^N))+w[5]+3593408605&4294967295,P=I+(x<<5&4294967295|x>>>27),x=D+(I^N&(P^I))+w[10]+38016083&4294967295,D=P+(x<<9&4294967295|x>>>23),x=N+(P^I&(D^P))+w[15]+3634488961&4294967295,N=D+(x<<14&4294967295|x>>>18),x=I+(D^P&(N^D))+w[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=P+(N^D&(I^N))+w[9]+568446438&4294967295,P=I+(x<<5&4294967295|x>>>27),x=D+(I^N&(P^I))+w[14]+3275163606&4294967295,D=P+(x<<9&4294967295|x>>>23),x=N+(P^I&(D^P))+w[3]+4107603335&4294967295,N=D+(x<<14&4294967295|x>>>18),x=I+(D^P&(N^D))+w[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=P+(N^D&(I^N))+w[13]+2850285829&4294967295,P=I+(x<<5&4294967295|x>>>27),x=D+(I^N&(P^I))+w[2]+4243563512&4294967295,D=P+(x<<9&4294967295|x>>>23),x=N+(P^I&(D^P))+w[7]+1735328473&4294967295,N=D+(x<<14&4294967295|x>>>18),x=I+(D^P&(N^D))+w[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=P+(I^N^D)+w[5]+4294588738&4294967295,P=I+(x<<4&4294967295|x>>>28),x=D+(P^I^N)+w[8]+2272392833&4294967295,D=P+(x<<11&4294967295|x>>>21),x=N+(D^P^I)+w[11]+1839030562&4294967295,N=D+(x<<16&4294967295|x>>>16),x=I+(N^D^P)+w[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=P+(I^N^D)+w[1]+2763975236&4294967295,P=I+(x<<4&4294967295|x>>>28),x=D+(P^I^N)+w[4]+1272893353&4294967295,D=P+(x<<11&4294967295|x>>>21),x=N+(D^P^I)+w[7]+4139469664&4294967295,N=D+(x<<16&4294967295|x>>>16),x=I+(N^D^P)+w[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=P+(I^N^D)+w[13]+681279174&4294967295,P=I+(x<<4&4294967295|x>>>28),x=D+(P^I^N)+w[0]+3936430074&4294967295,D=P+(x<<11&4294967295|x>>>21),x=N+(D^P^I)+w[3]+3572445317&4294967295,N=D+(x<<16&4294967295|x>>>16),x=I+(N^D^P)+w[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=P+(I^N^D)+w[9]+3654602809&4294967295,P=I+(x<<4&4294967295|x>>>28),x=D+(P^I^N)+w[12]+3873151461&4294967295,D=P+(x<<11&4294967295|x>>>21),x=N+(D^P^I)+w[15]+530742520&4294967295,N=D+(x<<16&4294967295|x>>>16),x=I+(N^D^P)+w[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=P+(N^(I|~D))+w[0]+4096336452&4294967295,P=I+(x<<6&4294967295|x>>>26),x=D+(I^(P|~N))+w[7]+1126891415&4294967295,D=P+(x<<10&4294967295|x>>>22),x=N+(P^(D|~I))+w[14]+2878612391&4294967295,N=D+(x<<15&4294967295|x>>>17),x=I+(D^(N|~P))+w[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=P+(N^(I|~D))+w[12]+1700485571&4294967295,P=I+(x<<6&4294967295|x>>>26),x=D+(I^(P|~N))+w[3]+2399980690&4294967295,D=P+(x<<10&4294967295|x>>>22),x=N+(P^(D|~I))+w[10]+4293915773&4294967295,N=D+(x<<15&4294967295|x>>>17),x=I+(D^(N|~P))+w[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=P+(N^(I|~D))+w[8]+1873313359&4294967295,P=I+(x<<6&4294967295|x>>>26),x=D+(I^(P|~N))+w[15]+4264355552&4294967295,D=P+(x<<10&4294967295|x>>>22),x=N+(P^(D|~I))+w[6]+2734768916&4294967295,N=D+(x<<15&4294967295|x>>>17),x=I+(D^(N|~P))+w[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=P+(N^(I|~D))+w[4]+4149444226&4294967295,P=I+(x<<6&4294967295|x>>>26),x=D+(I^(P|~N))+w[11]+3174756917&4294967295,D=P+(x<<10&4294967295|x>>>22),x=N+(P^(D|~I))+w[2]+718787259&4294967295,N=D+(x<<15&4294967295|x>>>17),x=I+(D^(N|~P))+w[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+D&4294967295}i.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var I=P-this.blockSize,w=this.B,N=this.h,D=0;D<P;){if(N==0)for(;D<=I;)o(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<P;)if(w[N++]=A.charCodeAt(D++),N==this.blockSize){o(this,w),N=0;break}}else for(;D<P;)if(w[N++]=A[D++],N==this.blockSize){o(this,w),N=0;break}}this.h=N,this.o+=P},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var I=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=I&255,I/=256;for(this.u(A),A=Array(16),P=I=0;4>P;++P)for(var w=0;32>w;w+=8)A[I++]=this.g[P]>>>w&255;return A};function a(A,P){var I=f;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=P(A)}function u(A,P){this.h=P;for(var I=[],w=!0,N=A.length-1;0<=N;N--){var D=A[N]|0;w&&D==P||(I[N]=D,w=!1)}this.g=I}var f={};function h(A){return-128<=A&&128>A?a(A,function(P){return new u([P|0],0>P?-1:0)}):new u([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return S;if(0>A)return U(m(-A));for(var P=[],I=1,w=0;A>=I;w++)P[w]=A/I|0,I*=4294967296;return new u(P,0)}function v(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return U(v(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(P,8)),w=S,N=0;N<A.length;N+=8){var D=Math.min(8,A.length-N),x=parseInt(A.substring(N,N+D),P);8>D?(D=m(Math.pow(P,D)),w=w.j(D).add(m(x))):(w=w.j(I),w=w.add(m(x)))}return w}var S=h(0),O=h(1),M=h(16777216);n=u.prototype,n.m=function(){if(L(this))return-U(this).m();for(var A=0,P=1,I=0;I<this.g.length;I++){var w=this.i(I);A+=(0<=w?w:4294967296+w)*P,P*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if($(this))return"0";if(L(this))return"-"+U(this).toString(A);for(var P=m(Math.pow(A,6)),I=this,w="";;){var N=re(I,P).g;I=W(I,N.j(P));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=N,$(I))return D+w;for(;6>D.length;)D="0"+D;w=D+w}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function $(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function L(A){return A.h==-1}n.l=function(A){return A=W(this,A),L(A)?-1:$(A)?0:1};function U(A){for(var P=A.g.length,I=[],w=0;w<P;w++)I[w]=~A.g[w];return new u(I,~A.h).add(O)}n.abs=function(){return L(this)?U(this):this},n.add=function(A){for(var P=Math.max(this.g.length,A.g.length),I=[],w=0,N=0;N<=P;N++){var D=w+(this.i(N)&65535)+(A.i(N)&65535),x=(D>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);w=x>>>16,D&=65535,x&=65535,I[N]=x<<16|D}return new u(I,I[I.length-1]&-2147483648?-1:0)};function W(A,P){return A.add(U(P))}n.j=function(A){if($(this)||$(A))return S;if(L(this))return L(A)?U(this).j(U(A)):U(U(this).j(A));if(L(A))return U(this.j(U(A)));if(0>this.l(M)&&0>A.l(M))return m(this.m()*A.m());for(var P=this.g.length+A.g.length,I=[],w=0;w<2*P;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var N=0;N<A.g.length;N++){var D=this.i(w)>>>16,x=this.i(w)&65535,Q=A.i(N)>>>16,pe=A.i(N)&65535;I[2*w+2*N]+=x*pe,X(I,2*w+2*N),I[2*w+2*N+1]+=D*pe,X(I,2*w+2*N+1),I[2*w+2*N+1]+=x*Q,X(I,2*w+2*N+1),I[2*w+2*N+2]+=D*Q,X(I,2*w+2*N+2)}for(w=0;w<P;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=P;w<2*P;w++)I[w]=0;return new u(I,0)};function X(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function J(A,P){this.g=A,this.h=P}function re(A,P){if($(P))throw Error("division by zero");if($(A))return new J(S,S);if(L(A))return P=re(U(A),P),new J(U(P.g),U(P.h));if(L(P))return P=re(A,U(P)),new J(U(P.g),P.h);if(30<A.g.length){if(L(A)||L(P))throw Error("slowDivide_ only works with positive integers.");for(var I=O,w=P;0>=w.l(A);)I=j(I),w=j(w);var N=B(I,1),D=B(w,1);for(w=B(w,2),I=B(I,2);!$(w);){var x=D.add(w);0>=x.l(A)&&(N=N.add(I),D=x),w=B(w,1),I=B(I,1)}return P=W(A,N.j(P)),new J(N,P)}for(N=S;0<=A.l(P);){for(I=Math.max(1,Math.floor(A.m()/P.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),D=m(I),x=D.j(P);L(x)||0<x.l(A);)I-=w,D=m(I),x=D.j(P);$(D)&&(D=O),N=N.add(D),A=W(A,x)}return new J(N,A)}n.A=function(A){return re(this,A).h},n.and=function(A){for(var P=Math.max(this.g.length,A.g.length),I=[],w=0;w<P;w++)I[w]=this.i(w)&A.i(w);return new u(I,this.h&A.h)},n.or=function(A){for(var P=Math.max(this.g.length,A.g.length),I=[],w=0;w<P;w++)I[w]=this.i(w)|A.i(w);return new u(I,this.h|A.h)},n.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),I=[],w=0;w<P;w++)I[w]=this.i(w)^A.i(w);return new u(I,this.h^A.h)};function j(A){for(var P=A.g.length+1,I=[],w=0;w<P;w++)I[w]=A.i(w)<<1|A.i(w-1)>>>31;return new u(I,A.h)}function B(A,P){var I=P>>5;P%=32;for(var w=A.g.length-I,N=[],D=0;D<w;D++)N[D]=0<P?A.i(D+I)>>>P|A.i(D+I+1)<<32-P:A.i(D+I);return new u(N,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Aw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Yi=u}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rw,vl,Nw,kc,wp,Ow,Dw,Lw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var R=0;R<c.length-1;R++){var G=c[R];if(!(G in _))break e;_=_[G]}c=c[c.length-1],R=_[c],g=g(R),g!=R&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,R=!1,G={next:function(){if(!R&&_<c.length){var ne=_++;return{value:g(ne,c[ne]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),c.apply(g,G)}}return function(){return c.apply(g,arguments)}}function O(c,g,_){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,O.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function $(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,G,ne){for(var ye=Array(arguments.length-2),et=2;et<arguments.length;et++)ye[et-2]=arguments[et];return g.prototype[G].apply(R,ye)}}function L(c){const g=c.length;if(0<g){const _=Array(g);for(let R=0;R<g;R++)_[R]=c[R];return _}return[]}function U(c,g){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(h(R)){const G=c.length||0,ne=R.length||0;c.length=G+ne;for(let ye=0;ye<ne;ye++)c[G+ye]=R[ye]}else c.push(R)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var j=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function B(c,g,_){for(const R in c)g.call(_,c[R],R,c)}function A(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function P(c){const g={};for(const _ in c)g[_]=c[_];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,g){let _,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(_ in R)c[_]=R[_];for(let ne=0;ne<I.length;ne++)_=I[ne],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function N(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function D(c){f.setTimeout(()=>{throw c},0)}function x(){var c=z;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Q{constructor(){this.h=this.g=null}add(g,_){const R=pe.get();R.set(g,_),this.h?this.h.next=R:this.g=R,this.h=R}}var pe=new W(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let T,se=!1,z=new Q,E=()=>{const c=f.Promise.resolve(void 0);T=()=>{c.then(b)}};var b=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){D(_)}var g=pe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function ae(c,g){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(j){e:{try{re(g.nodeName);var G=!0;break e}catch{}G=!1}G||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}$(ae,te);var le={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Te=0;function be(c,g,_,R,G){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!R,this.ha=G,this.key=++Te,this.da=this.fa=!1}function Pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,g,_,R,G){var ne=c.toString();c=this.g[ne],c||(c=this.g[ne]=[],this.h++);var ye=Ue(c,g,R,G);return-1<ye?(g=c[ye],_||(g.fa=!1)):(g=new be(g,this.src,ne,!!R,G),g.fa=_,c.push(g)),g};function He(c,g){var _=g.type;if(_ in c.g){var R=c.g[_],G=Array.prototype.indexOf.call(R,g,void 0),ne;(ne=0<=G)&&Array.prototype.splice.call(R,G,1),ne&&(Pe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ue(c,g,_,R){for(var G=0;G<c.length;++G){var ne=c[G];if(!ne.da&&ne.listener==g&&ne.capture==!!_&&ne.ha==R)return G}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),qe={};function ct(c,g,_,R,G){if(Array.isArray(g)){for(var ne=0;ne<g.length;ne++)ct(c,g[ne],_,R,G);return null}return _=nr(_),c&&c[ce]?c.K(g,_,m(R)?!!R.capture:!1,G):Fe(c,g,_,!1,R,G)}function Fe(c,g,_,R,G,ne){if(!g)throw Error("Invalid event type");var ye=m(G)?!!G.capture:!!G,et=tr(c);if(et||(c[Ve]=et=new $e(c)),_=et.add(g,_,R,ye,ne),_.proxy)return _;if(R=dt(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)ie||(G=ye),G===void 0&&(G=!1),c.addEventListener(g.toString(),R,G);else if(c.attachEvent)c.attachEvent(yt(g.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function dt(){function c(_){return g.call(c.src,c.listener,_)}const g=kn;return c}function ft(c,g,_,R,G){if(Array.isArray(g))for(var ne=0;ne<g.length;ne++)ft(c,g[ne],_,R,G);else R=m(R)?!!R.capture:!!R,_=nr(_),c&&c[ce]?(c=c.i,g=String(g).toString(),g in c.g&&(ne=c.g[g],_=Ue(ne,_,R,G),-1<_&&(Pe(ne[_]),Array.prototype.splice.call(ne,_,1),ne.length==0&&(delete c.g[g],c.h--)))):c&&(c=tr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ue(g,_,R,G)),(_=-1<c?g[c]:null)&&it(_))}function it(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ce])He(g.i,c);else{var _=c.type,R=c.proxy;g.removeEventListener?g.removeEventListener(_,R,c.capture):g.detachEvent?g.detachEvent(yt(_),R):g.addListener&&g.removeListener&&g.removeListener(R),(_=tr(g))?(He(_,c),_.h==0&&(_.src=null,g[Ve]=null)):Pe(c)}}}function yt(c){return c in qe?qe[c]:qe[c]="on"+c}function kn(c,g){if(c.da)c=!0;else{g=new ae(g,this);var _=c.listener,R=c.ha||c.src;c.fa&&it(c),c=_.call(R,g)}return c}function tr(c){return c=c[Ve],c instanceof $e?c:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function nr(c){return typeof c=="function"?c:(c[Wr]||(c[Wr]=function(g){return c.handleEvent(g)}),c[Wr])}function Tt(){F.call(this),this.i=new $e(this),this.M=this,this.F=null}$(Tt,F),Tt.prototype[ce]=!0,Tt.prototype.removeEventListener=function(c,g,_,R){ft(this,c,g,_,R)};function tt(c,g){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=g.type||g,typeof g=="string")g=new te(g,c);else if(g instanceof te)g.target=g.target||c;else{var G=g;g=new te(R,c),w(g,G)}if(G=!0,_)for(var ne=_.length-1;0<=ne;ne--){var ye=g.g=_[ne];G=sn(ye,R,!0,g)&&G}if(ye=g.g=c,G=sn(ye,R,!0,g)&&G,G=sn(ye,R,!1,g)&&G,_)for(ne=0;ne<_.length;ne++)ye=g.g=_[ne],G=sn(ye,R,!1,g)&&G}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],R=0;R<_.length;R++)Pe(_[R]);delete c.g[g],c.h--}}this.F=null},Tt.prototype.K=function(c,g,_,R){return this.i.add(String(c),g,!1,_,R)},Tt.prototype.L=function(c,g,_,R){return this.i.add(String(c),g,!0,_,R)};function sn(c,g,_,R){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var G=!0,ne=0;ne<g.length;++ne){var ye=g[ne];if(ye&&!ye.da&&ye.capture==_){var et=ye.listener,Nt=ye.ha||ye.src;ye.fa&&He(c.i,ye),G=et.call(Nt,R)!==!1&&G}}return G&&!R.defaultPrevented}function Ta(c,g,_){if(typeof c=="function")_&&(c=O(c,_));else if(c&&typeof c.handleEvent=="function")c=O(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function yi(c){c.g=Ta(()=>{c.g=null,c.i&&(c.i=!1,yi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class fs extends F{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){F.call(this),this.h=c,this.g={}}$(hs,F);var Sa=[];function Ia(c){B(c.g,function(g,_){this.g.hasOwnProperty(_)&&it(g)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Ia(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=f.JSON.stringify,xa=f.JSON.parse,ka=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ps(){}ps.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function ao(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){te.call(this,"d")}$(Tr,te);function lo(){te.call(this,"c")}$(lo,te);var Sr={},Ca=null;function ms(){return Ca=Ca||new Tt}Sr.La="serverreachability";function Pa(c){te.call(this,Sr.La,c)}$(Pa,te);function Gr(c){const g=ms();tt(g,new Pa(g))}Sr.STAT_EVENT="statevent";function Aa(c,g){te.call(this,Sr.STAT_EVENT,c),this.stat=g}$(Aa,te);function St(c){const g=ms();tt(g,new Aa(g,c))}Sr.Ma="timingevent";function uo(c,g){te.call(this,Sr.Ma,c),this.size=g}$(uo,te);function rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function ys(c,g,_,R,G,ne){c.info(function(){if(c.g)if(ne)for(var ye="",et=ne.split("&"),Nt=0;Nt<et.length;Nt++){var Qe=et[Nt].split("=");if(1<Qe.length){var Mt=Qe[0];Qe=Qe[1];var xt=Mt.split("_");ye=2<=xt.length&&xt[1]=="type"?ye+(Mt+"="+Qe+"&"):ye+(Mt+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+g+`
`+_+`
`+ye})}function co(c,g,_,R,G,ne,ye){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+g+`
`+_+`
`+ne+" "+ye})}function ir(c,g,_,R){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+sf(c,_)+(R?" "+R:"")})}function Ra(c,g){c.info(function(){return"TIMEOUT: "+g})}gs.prototype.info=function(){};function sf(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<G.length;ye++)G[ye]=""}}}}return ba(_)}catch{return g}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ru={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function vs(){}$(vs,ps),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},sr=new vs;function or(c,g,_,R){this.j=c,this.i=g,this.l=_,this.R=R||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var Na={},ho={};function po(c,g,_){c.L=1,c.v=Ti(Pn(g)),c.m=_,c.P=!0,Oa(c,null)}function Oa(c,g){c.F=Date.now(),ot(c),c.A=Pn(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Ii(_.i,"t",R),c.C=0,_=c.j.J,c.h=new iu,c.g=Tu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new fs(O(c.Y,c,c.g),c.O)),g=c.U,_=c.g,R=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Sa[0]=G.toString()),G=Sa);for(var ne=0;ne<G.length;ne++){var ye=ct(_,G[ne],R||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Gr(),ys(c.i,c.u,c.A,c.l,c.R,c.m)}or.prototype.ca=function(c){c=c.target;const g=this.M;g&&pn(c)==3?g.j():this.Y(c)},or.prototype.Y=function(c){try{if(c==this.g)e:{const xt=pn(this.g);var g=this.g.Ba();const qn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||xt!=4||g==7||(g==8||0>=qn?Gr(3):Gr(2)),_s(this);var _=this.g.Z();this.X=_;t:if(su(this)){var R=Fa(this.g);c="";var G=R.length,ne=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),vi(this);var ye="";break t}this.h.i=new f.TextDecoder}for(g=0;g<G;g++)this.h.h=!0,c+=this.h.i.decode(R[g],{stream:!(ne&&g==G-1)});R.length=0,this.h.g+=c,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=_==200,co(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Nt=this.g;if((et=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(et)){var Qe=et;break t}}Qe=null}if(_=Qe)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,_);else{this.o=!1,this.s=3,St(12),$n(this),vi(this);break e}}if(this.P){_=!0;let Rn;for(;!this.J&&this.C<ye.length;)if(Rn=of(this,ye),Rn==ho){xt==4&&(this.s=4,St(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Na){this.s=4,St(15),ir(this.i,this.l,ye,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Rn,null),Da(this,Rn);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ye.length!=0||this.h.h||(this.s=1,St(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,ye,"[Invalid Chunked Response]"),$n(this),vi(this);else if(0<ye.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),za(Mt),Mt.M=!0,St(11))}}else ir(this.i,this.l,ye,null),Da(this,ye);xt==4&&$n(this),this.o&&!this.J&&(xt==4?bo(this.j,this):(this.o=!1,ot(this)))}else wo(this.g),_==400&&0<ye.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),$n(this),vi(this)}}}catch{}finally{}};function su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function of(c,g){var _=c.C,R=g.indexOf(`
`,_);return R==-1?ho:(_=Number(g.substring(_,R)),isNaN(_)?Na:(R+=1,R+_>g.length?ho:(g=g.slice(R,R+_),c.C=R+_,g)))}or.prototype.cancel=function(){this.J=!0,$n(this)};function ot(c){c.S=Date.now()+c.I,ou(c,c.I)}function ou(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rr(O(c.ba,c),g)}function _s(c){c.B&&(f.clearTimeout(c.B),c.B=null)}or.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ra(this.i,this.A),this.L!=2&&(Gr(),St(17)),$n(this),this.s=2,vi(this)):ou(this,this.S-c)};function vi(c){c.j.G==0||c.J||bo(c.j,c)}function $n(c){_s(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ia(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Da(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||on(_.h,c))){if(!c.K&&on(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Io(_),dr(_);else break e;So(_),St(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=rr(O(_.Za,_),6e3));if(1>=lu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Jr(_,11)}else if((c.K||_.g==c)&&Io(_),!X(g))for(G=_.Da.g.parse(g),g=0;g<G.length;g++){let Qe=G[g];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const Mt=Qe[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const xt=Qe[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const qn=Qe[5];qn!=null&&typeof qn=="number"&&0<qn&&(R=1.5*qn,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const Rn=c.g;if(Rn){const xs=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var ne=R.h;ne.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(La(ne,ne.h),ne.h=null))}if(R.D){const ko=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(R.ya=ko,st(R.I,R.D,ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var ye=c;if(R.qa=Eu(R,R.J?R.ia:null,R.W),ye.K){uu(R.h,ye);var et=ye,Nt=R.L;Nt&&(et.I=Nt),et.B&&(_s(et),ot(et)),R.g=ye}else bs(R);0<_.i.length&&kr(_)}else Qe[0]!="stop"&&Qe[0]!="close"||Jr(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Jr(_,7):Bt(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}Gr(4)}catch{}}var au=class{constructor(c,g){this.g=c,this.map=g}};function ws(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lu(c){return c.h?1:c.g?c.g.size:0}function on(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function La(c,g){c.g?c.g.add(g):c.h=g}function uu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ws.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return L(c.i)}function mo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],_=c.length,R=0;R<_;R++)g.push(c[R]);return g}g=[],_=0;for(R in c)g[_++]=c[R];return g}function go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const R in c)g[_++]=R;return g}}}function _i(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=go(c),R=mo(c),G=R.length,ne=0;ne<G;ne++)g.call(void 0,R[ne],_&&_[ne],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),G=null;if(0<=R){var ne=c[_].substring(0,R);G=c[_].substring(R+1)}else ne=c[_];g(ne,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Kr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Kr){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var g=c.i,_=new Ir;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ei(this,_),this.m=c.m}else c&&(g=String(c).match(Es))?(this.h=!1,Ts(this,g[1]||"",!0),this.o=Ke(g[2]||""),this.g=Ke(g[3]||"",!0),wi(this,g[4]),this.l=Ke(g[5]||"",!0),Ei(this,g[6]||"",!0),this.m=Ke(g[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Kr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Si(g,yo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Si(g,yo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Si(_,_.charAt(0)=="/"?hu:fu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Si(_,Ma)),c.join("")};function Pn(c){return new Kr(c)}function Ts(c,g,_){c.j=_?Ke(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ei(c,g,_){g instanceof Ir?(c.i=g,br(c.i,c.h)):(_||(g=Si(g,pu)),c.i=new Ir(g,c.h))}function st(c,g,_){c.i.set(g,_)}function Ti(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ke(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,fu=/[#\?:]/g,hu=/[#\?]/g,pu=/[#\?@]/g,Ma=/#/g;function Ir(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function $t(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Ir.prototype,n.add=function(c,g){$t(this),this.i=null,c=Bn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ar(c,g){$t(c),g=Bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function lr(c,g){return $t(c),g=Bn(c,g),c.g.has(g)}n.forEach=function(c,g){$t(this),this.g.forEach(function(_,R){_.forEach(function(G){c.call(g,G,R,this)},this)},this)},n.na=function(){$t(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let R=0;R<g.length;R++){const G=c[R];for(let ne=0;ne<G.length;ne++)_.push(g[R])}return _},n.V=function(c){$t(this);let g=[];if(typeof c=="string")lr(this,c)&&(g=g.concat(this.g.get(Bn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return $t(this),this.i=null,c=Bn(this,c),lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ii(c,g,_){ar(c,g),0<_.length&&(c.i=null,c.g.set(Bn(c,g),L(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var R=g[_];const ne=encodeURIComponent(String(R)),ye=this.V(R);for(R=0;R<ye.length;R++){var G=ne;ye[R]!==""&&(G+="="+encodeURIComponent(String(ye[R]))),c.push(G)}}return this.i=c.join("&")};function Bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function br(c,g){g&&!c.j&&($t(c),c.i=null,c.g.forEach(function(_,R){var G=R.toLowerCase();R!=G&&(ar(this,R),Ii(this,G,_))},c)),c.j=g}function lf(c,g){const _=new gs;if(f.Image){const R=new Image;R.onload=M(hn,_,"TestLoadImage: loaded",!0,g,R),R.onerror=M(hn,_,"TestLoadImage: error",!1,g,R),R.onabort=M(hn,_,"TestLoadImage: abort",!1,g,R),R.ontimeout=M(hn,_,"TestLoadImage: timeout",!1,g,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else g(!1)}function mu(c,g){const _=new gs,R=new AbortController,G=setTimeout(()=>{R.abort(),hn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:R.signal}).then(ne=>{clearTimeout(G),ne.ok?hn(_,"TestPingServer: ok",!0,g):hn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(G),hn(_,"TestPingServer: error",!1,g)})}function hn(c,g,_,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(_)}catch{}}function uf(){this.g=new ka}function gu(c,g,_){const R=_||"";try{_i(c,function(G,ne){let ye=G;m(G)&&(ye=ba(G)),g.push(R+ne+"="+encodeURIComponent(ye))})}catch(G){throw g.push(R+"type="+encodeURIComponent("_badmap")),G}}function Qr(c){this.l=c.Ub||null,this.j=c.eb||!1}$(Qr,ps),Qr.prototype.g=function(){return new Ss(this.l,this.j)},Qr.prototype.i=function(c){return function(){return c}}({});function Ss(c,g){Tt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ss,Tt),n=Ss.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,cr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ur(this):cr(this),this.readyState==3&&yu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},n.Qa=function(c){this.g&&(this.response=c,ur(this))},n.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yr(c){let g="";return B(c,function(_,R){g+=R,g+=":",g+=_,g+=`\r
`}),g}function bi(c,g,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=Yr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):st(c,g,_))}function mt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(mt,Tt);var cf=/^https?$/i,Va=["POST","PUT"];n=mt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?oo(this.o):oo(sr),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(ne){Is(this,ne);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)_.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ne of R.keys())_.set(ne,R.get(ne));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(ne=>ne.toLowerCase()=="content-type"),G=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Va,g,void 0))||R||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of _)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(c),this.u=!1}catch(ne){Is(this,ne)}};function Is(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,vo(c),An(c)}function vo(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),An(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),An(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(c){if(c.h&&typeof u<"u"&&(!c.v[1]||pn(c)!=4||c.Z()!=2)){if(c.u&&pn(c)==4)Ta(c.Ea,0,c);else if(tt(c,"readystatechange"),pn(c)==4){c.h=!1;try{const ye=c.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var R;if(R=ye===0){var G=String(c.D).match(Es)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),R=!cf.test(G?G.toLowerCase():"")}_=R}if(_)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var ne=2<pn(c)?c.g.statusText:""}catch{ne=""}c.l=ne+" ["+c.Z()+"]",vo(c)}}finally{An(c)}}}}function An(c,g){if(c.g){_o(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||tt(c,"ready");try{_.onreadystatechange=R}catch{}}}function _o(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function pn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),xa(g)}};function Fa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(c){const g={};c=(c.g&&2<=pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(X(c[R]))continue;var _=N(c[R]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ne=g[G]||[];g[G]=ne,ne.push(_)}A(g,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ua(c){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,c),this.cb=xr("retryDelaySeedMs",1e4,c),this.Wa=xr("forwardChannelMaxRetries",2,c),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(c&&c.concurrentRequestLimit),this.Da=new uf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ua.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,R){St(0),this.W=c,this.H=g||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Eu(this,null,this.W),kr(this)};function Bt(c){if(Eo(c),c.G==3){var g=c.U++,_=Pn(c.I);if(st(_,"SID",c.K),st(_,"RID",g),st(_,"TYPE","terminate"),Xr(c,_),g=new or(c,c.j,g),g.L=2,g.v=Ti(Pn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=Tu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}wu(c)}function dr(c){c.g&&(za(c),c.g.cancel(),c.g=null)}function Eo(c){dr(c),c.u&&(f.clearTimeout(c.u),c.u=null),Io(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function kr(c){if(!Cn(c.h)&&!c.s){c.s=!0;var g=c.Ga;T||E(),se||(T(),se=!0),z.add(g,c),c.B=0}}function df(c,g){return lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rr(O(c.Ga,c,g),_u(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new or(this,this.j,c);let ne=this.o;if(this.S&&(ne?(ne=P(ne),w(ne,this.S)):ne=this.S),this.m!==null||this.O||(G.H=ne,ne=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=xi(this,G,g),_=Pn(this.I),st(_,"RID",c),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),Xr(this,_),ne&&(this.O?g="headers="+encodeURIComponent(String(Yr(ne)))+"&"+g:this.m&&bi(_,this.m,ne)),La(this.h,G),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",g),st(_,"SID","null"),G.T=!0,po(G,_,null)):po(G,_,g),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||Cn(this.h)||To(this))};function To(c,g){var _;g?_=g.l:_=c.U++;const R=Pn(c.I);st(R,"SID",c.K),st(R,"RID",_),st(R,"AID",c.T),Xr(c,R),c.m&&c.o&&bi(R,c.m,c.o),_=new or(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=xi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),La(c.h,_),po(_,R,g)}function Xr(c,g){c.H&&B(c.H,function(_,R){st(g,R,_)}),c.l&&_i({},function(_,R){st(g,R,_)})}function xi(c,g,_){_=Math.min(c.i.length,_);var R=c.l?O(c.l.Na,c.l,c):null;e:{var G=c.i;let ne=-1;for(;;){const ye=["count="+_];ne==-1?0<_?(ne=G[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let et=!0;for(let Nt=0;Nt<_;Nt++){let Qe=G[Nt].g;const Mt=G[Nt].map;if(Qe-=ne,0>Qe)ne=Math.max(0,G[Nt].g-100),et=!1;else try{gu(Mt,ye,"req"+Qe+"_")}catch{R&&R(Mt)}}if(et){R=ye.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,R}function bs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;T||E(),se||(T(),se=!0),z.add(g,c),c.v=0}}function So(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rr(O(c.Fa,c),_u(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rr(O(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),dr(this),vu(this))};function za(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function vu(c){c.g=new or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Pn(c.qa);st(g,"RID","rpc"),st(g,"SID",c.K),st(g,"AID",c.T),st(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(g,"TO",c.ja),st(g,"TYPE","xmlhttp"),Xr(c,g),c.m&&c.o&&bi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ti(Pn(g)),_.m=null,_.P=!0,Oa(_,c)}n.Za=function(){this.C!=null&&(this.C=null,dr(this),So(this),St(19))};function Io(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function bo(c,g){var _=null;if(c.g==g){Io(c),za(c),c.g=null;var R=2}else if(on(c.h,g))_=g.D,uu(c.h,g),R=1;else return;if(c.G!=0){if(g.o)if(R==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var G=c.B;R=ms(),tt(R,new uo(R,_)),kr(c)}else bs(c);else if(G=g.s,G==3||G==0&&0<g.X||!(R==1&&df(c,g)||R==2&&So(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),G){case 1:Jr(c,5);break;case 4:Jr(c,10);break;case 3:Jr(c,6);break;default:Jr(c,2)}}}function _u(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Jr(c,g){if(c.j.info("Error code "+g),g==2){var _=O(c.fb,c),R=c.Xa;const G=!R;R=new Kr(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ts(R,"https"),Ti(R),G?lf(R.toString(),_):mu(R.toString(),_)}else St(2);c.G=0,c.l&&c.l.sa(g),wu(c),Eo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function wu(c){if(c.G=0,c.ka=[],c.l){const g=cu(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ka,g),U(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Eu(c,g,_){var R=_ instanceof Kr?Pn(_):new Kr(_);if(R.g!="")g&&(R.g=g+"."+R.g),wi(R,R.s);else{var G=f.location;R=G.protocol,g=g?g+"."+G.hostname:G.hostname,G=+G.port;var ne=new Kr(null);R&&Ts(ne,R),g&&(ne.g=g),G&&wi(ne,G),_&&(ne.l=_),R=ne}return _=c.D,g=c.ya,_&&g&&st(R,_,g),st(R,"VER",c.la),Xr(c,R),R}function Tu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new mt(new Qr({eb:_})):new mt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $a(){}n=$a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xo(){}xo.prototype.g=function(c,g){return new an(c,g)};function an(c,g){Tt.call(this),this.g=new Ua(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!X(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Cr(this)}$(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Bt(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ba(c),c=_);g.i.push(new au(g.Ya++,c)),g.G==3&&kr(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,an.aa.N.call(this)};function Su(c){Tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}$(Su,Tr);function Iu(){lo.call(this),this.status=1}$(Iu,lo);function Cr(c){this.g=c}$(Cr,$a),Cr.prototype.ua=function(){tt(this.g,"a")},Cr.prototype.ta=function(c){tt(this.g,new Su(c))},Cr.prototype.sa=function(c){tt(this.g,new Iu)},Cr.prototype.ra=function(){tt(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Lw=function(){return new xo},Dw=function(){return ms()},Ow=Sr,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,kc=fo,ru.COMPLETE="complete",Nw=ru,ao.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,vl=ao,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,Rw=mt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const u_="@firebase/firestore",c_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Cd("@firebase/firestore");function Ko(){return Hs.logLevel}function Ee(n,...e){if(Hs.logLevel<=We.DEBUG){const t=e.map(rm);Hs.debug(`Firestore (${ga}): ${n}`,...t)}}function fi(n,...e){if(Hs.logLevel<=We.ERROR){const t=e.map(rm);Hs.error(`Firestore (${ga}): ${n}`,...t)}}function ia(n,...e){if(Hs.logLevel<=We.WARN){const t=e.map(rm);Hs.warn(`Firestore (${ga}): ${n}`,...t)}}function rm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+n;throw fi(e),new Error(e)}function Ze(n,e){n||De()}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new Mw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new en(e)}}class hC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new hC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mC{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new d_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new d_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=gC(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Ep(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return ze(i,o);{const a=Vw(),u=yC(a.encode(f_(n,t)),a.encode(f_(e,t)));return u!==0?u:ze(i,o)}}t+=i>65535?2:1}return ze(n.length,e.length)}function f_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function yC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function sa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-62135596800,p_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*p_);return new Rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<h_)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Rt(0,0))}static max(){return new Me(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__name__";class Or{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Or.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return ze(e.length,t.length)}static compareSegments(e,t){const i=Or.isNumericId(e),o=Or.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Or.extractNumericId(e).compare(Or.extractNumericId(t)):Ep(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class lt extends Or{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const vC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Or{construct(e,t,i){return new Gt(e,t,i)}static isValidIdentifier(e){return vC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new Gt([m_])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(lt.fromString(e))}static fromName(e){return new Ce(lt.fromString(e).popFirst(5))}static empty(){return new Ce(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function _C(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(i===1e9?new Rt(t+1,0):new Rt(t,i));return new ts(o,Ce.empty(),e)}function wC(n){return new ts(n.readTime,n.key,Rl)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(Me.min(),Ce.empty(),Rl)}static max(){return new ts(Me.max(),Ce.empty(),Rl)}}function EC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==TC)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>i(h))}),u=!0,a===o&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(o=>o?ue.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new ue((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function IC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Pd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function Ad(n){return n==null}function Xc(n){return n===0&&1/n==-1/0}function bC(n){return typeof n=="number"&&Number.isInteger(n)&&!Xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="";function xC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=g_(e)),e=kC(n.get(t),e);return g_(e)}function kC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Fw:t+="";break;default:t+=a}}return t}function g_(n){return n+Fw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Uw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Wt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Lt(Gt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zw("Invalid base64 string: "+a):a}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const CC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=CC.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",Bw="__type__",qw="__previous_value__",Hw="__local_write_time__";function Rd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bw])===null||t===void 0?void 0:t.stringValue)===$w}function Nd(n){const e=n.mapValue.fields[qw];return Rd(e)?Nd(e):e}function Nl(n){const e=ns(n.mapValue.fields[Hw].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,i,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const Jc="(default)";class Ol{constructor(e,t){this.projectId=e,this.database=t||Jc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__type__",AC="__max__",Ec={mapValue:{}},Gw="__vector__",Zc="value";function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rd(n)?4:NC(n)?9007199254740991:RC(n)?10:11:De()}function Fr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nl(n).isEqual(Nl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ns(o.timestampValue),f=ns(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return bt(o.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return bt(o.integerValue)===bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=bt(o.doubleValue),f=bt(a.doubleValue);return u===f?Xc(u)===Xc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return sa(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(y_(u)!==y_(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Fr(u[h],f[h])))return!1;return!0}(n,e);default:return De()}}function Dl(n,e){return(n.values||[]).find(t=>Fr(t,e))!==void 0}function oa(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=bt(a.integerValue||a.doubleValue),h=bt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return __(n.timestampValue,e.timestampValue);case 4:return __(Nl(n),Nl(e));case 5:return Ep(n.stringValue,e.stringValue);case 6:return function(a,u){const f=rs(a),h=rs(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=ze(f[m],h[m]);if(v!==0)return v}return ze(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=ze(bt(a.latitude),bt(u.latitude));return f!==0?f:ze(bt(a.longitude),bt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return w_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const S=a.fields||{},O=u.fields||{},M=(f=S[Zc])===null||f===void 0?void 0:f.arrayValue,$=(h=O[Zc])===null||h===void 0?void 0:h.arrayValue,L=ze(((m=M==null?void 0:M.values)===null||m===void 0?void 0:m.length)||0,((v=$==null?void 0:$.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:w_(M,$)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Ec.mapValue&&u===Ec.mapValue)return 0;if(a===Ec.mapValue)return 1;if(u===Ec.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let S=0;S<h.length&&S<v.length;++S){const O=Ep(h[S],v[S]);if(O!==0)return O;const M=oa(f[h[S]],m[v[S]]);if(M!==0)return M}return ze(h.length,v.length)}(n.mapValue,e.mapValue);default:throw De()}}function __(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=ns(n),i=ns(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function w_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=oa(t[o],i[o]);if(a)return a}return ze(t.length,i.length)}function aa(n){return Tp(n)}function Tp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Tp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Tp(t.fields[u])}`;return o+"}"}(n.mapValue):De()}function Cc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(n);return e?16+Cc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Cc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ls(i.fields,(a,u)=>{o+=a.length+Cc(u)}),o}(n.mapValue);default:throw De()}}function ed(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sp(n){return!!n&&"integerValue"in n}function sm(n){return!!n&&"arrayValue"in n}function E_(n){return!!n&&"nullValue"in n}function T_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pc(n){return!!n&&"mapValue"in n}function RC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ww])===null||t===void 0?void 0:t.stringValue)===Gw}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ls(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Gt.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=Tl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ls(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Sn(Tl(this.value))}}function Kw(n){const e=[];return ls(n.fields,(t,i)=>{const o=new Gt([t]);if(Pc(i)){const a=Kw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,o,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new tn(e,0,Me.min(),Me.min(),Me.min(),Sn.empty(),0)}static newFoundDocument(e,t,i,o){return new tn(e,1,t,Me.min(),i,o,0)}static newNoDocument(e,t){return new tn(e,2,t,Me.min(),Me.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Me.min(),Me.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.position=e,this.inclusive=t}}function S_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Ce.comparator(Ce.fromName(u.referenceValue),t.key):i=oa(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function I_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function OC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{}class Pt extends Qw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LC(e,t,i):t==="array-contains"?new jC(e,i):t==="in"?new FC(e,i):t==="not-in"?new UC(e,i):t==="array-contains-any"?new zC(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new MC(e,i):new VC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(oa(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends Qw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Er(e,t)}matches(e){return Yw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Yw(n){return n.op==="and"}function Xw(n){return DC(n)&&Yw(n)}function DC(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function Ip(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+aa(n.value);if(Xw(n))return n.filters.map(e=>Ip(e)).join(",");{const e=n.filters.map(t=>Ip(t)).join(",");return`${n.op}(${e})`}}function Jw(n,e){return n instanceof Pt?function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&Fr(i.value,o.value)}(n,e):n instanceof Er?function(i,o){return o instanceof Er&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,f)=>a&&Jw(u,o.filters[f]),!0):!1}(n,e):void De()}function Zw(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${aa(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(Zw).join(" ,")+"}"}(n):"Filter"}class LC extends Pt{constructor(e,t,i){super(e,t,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class MC extends Pt{constructor(e,t){super(e,"in",t),this.keys=eE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VC extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=eE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ce.fromName(i.referenceValue))}class jC extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sm(t)&&Dl(t.arrayValue,this.value)}}class FC extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dl(this.value.arrayValue,t)}}class UC extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Dl(this.value.arrayValue,t)}}class zC extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function b_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new $C(n,e,t,i,o,a,u)}function om(n){const e=je(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ip(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>aa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>aa(i)).join(",")),e.le=t}return e.le}function am(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Jw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!I_(n.startAt,e.startAt)&&I_(n.endAt,e.endAt)}function bp(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t=null,i=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BC(n,e,t,i,o,a,u,f){return new us(n,e,t,i,o,a,u,f)}function Od(n){return new us(n)}function x_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lm(n){return n.collectionGroup!==null}function Jo(n){const e=je(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Lt(Gt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ll(a,i))}),t.has(Gt.keyField().canonicalString())||e.he.push(new Ll(Gt.keyField(),i))}return e.he}function Lr(n){const e=je(n);return e.Pe||(e.Pe=qC(e,Jo(n))),e.Pe}function qC(n,e){if(n.limitType==="F")return b_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ll(o.field,a)});const t=n.endAt?new la(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new la(n.startAt.position,n.startAt.inclusive):null;return b_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xp(n,e){const t=n.filters.concat([e]);return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function td(n,e,t){return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dd(n,e){return am(Lr(n),Lr(e))&&n.limitType===e.limitType}function tE(n){return`${om(Lr(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Zw(o)).join(", ")}]`),Ad(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>aa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>aa(o)).join(",")),`Target(${i})`}(Lr(n))}; limitType=${n.limitType})`}function Ld(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ce.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Jo(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,f,h){const m=S_(u,f,h);return u.inclusive?m<=0:m<0}(i.startAt,Jo(i),o)||i.endAt&&!function(u,f,h){const m=S_(u,f,h);return u.inclusive?m>=0:m>0}(i.endAt,Jo(i),o))}(n,e)}function HC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nE(n){return(e,t)=>{let i=!1;for(const o of Jo(n)){const a=WC(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function WC(n,e,t){const i=n.field.isKeyField()?Ce.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?oa(h,m):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new wt(Ce.comparator);function hi(){return GC}const rE=new wt(Ce.comparator);function _l(...n){let e=rE;for(const t of n)e=e.insert(t.key,t);return e}function iE(n){let e=rE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function zs(){return Sl()}function sE(){return Sl()}function Sl(){return new no(n=>n.toString(),(n,e)=>n.isEqual(e))}const KC=new wt(Ce.comparator),QC=new Lt(Ce.comparator);function Ge(...n){let e=QC;for(const t of n)e=e.add(t);return e}const YC=new Lt(ze);function XC(){return YC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function oE(n){return{integerValue:""+n}}function JC(n,e){return bC(e)?oE(e):um(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function ZC(n,e,t){return n instanceof nd?function(o,a){const u={fields:{[Bw]:{stringValue:$w},[Hw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Rd(a)&&(a=Nd(a)),a&&(u.fields[qw]=a),{mapValue:u}}(t,e):n instanceof Ml?lE(n,e):n instanceof Vl?uE(n,e):function(o,a){const u=aE(o,a),f=k_(u)+k_(o.Ie);return Sp(u)&&Sp(o.Ie)?oE(f):um(o.serializer,f)}(n,e)}function e1(n,e,t){return n instanceof Ml?lE(n,e):n instanceof Vl?uE(n,e):t}function aE(n,e){return n instanceof rd?function(i){return Sp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class nd extends Md{}class Ml extends Md{constructor(e){super(),this.elements=e}}function lE(n,e){const t=cE(e);for(const i of n.elements)t.some(o=>Fr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Vl extends Md{constructor(e){super(),this.elements=e}}function uE(n,e){let t=cE(e);for(const i of n.elements)t=t.filter(o=>!Fr(o,i));return{arrayValue:{values:t}}}class rd extends Md{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function k_(n){return bt(n.integerValue||n.doubleValue)}function cE(n){return sm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function t1(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ml&&o instanceof Ml||i instanceof Vl&&o instanceof Vl?sa(i.elements,o.elements,Fr):i instanceof rd&&o instanceof rd?Fr(i.Ie,o.Ie):i instanceof nd&&o instanceof nd}(n.transform,e.transform)}class n1{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vd{}function dE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cm(n.key,_r.none()):new Hl(n.key,n.data,_r.none());{const t=n.data,i=Sn.empty();let o=new Lt(Gt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new cs(n.key,i,new Mn(o.toArray()),_r.none())}}function r1(n,e,t){n instanceof Hl?function(o,a,u){const f=o.value.clone(),h=P_(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(o,a,u){if(!Ac(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=P_(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(fE(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Il(n,e,t,i){return n instanceof Hl?function(a,u,f,h){if(!Ac(a.precondition,u))return f;const m=a.value.clone(),v=A_(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof cs?function(a,u,f,h){if(!Ac(a.precondition,u))return f;const m=A_(a.fieldTransforms,h,u),v=u.data;return v.setAll(fE(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(a,u,f){return Ac(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function i1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=aE(i.transform,o||null);a!=null&&(t===null&&(t=Sn.empty()),t.set(i.field,a))}return t||null}function C_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&sa(i,o,(a,u)=>t1(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hl extends Vd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Vd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function P_(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,e1(u,f,t[o]))}return i}function A_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,ZC(a,u,e))}return i}class cm extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&r1(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=sE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=dE(u,f);h!==null&&i.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(t,i)=>C_(t,i))&&sa(this.baseMutations,e.baseMutations,(t,i)=>C_(t,i))}}class dm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return KC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new dm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ye;function u1(n){switch(n){case oe.OK:return De();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De()}}function hE(n){if(n===void 0)return fi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Ct.OK:return oe.OK;case Ct.CANCELLED:return oe.CANCELLED;case Ct.UNKNOWN:return oe.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return oe.INTERNAL;case Ct.UNAVAILABLE:return oe.UNAVAILABLE;case Ct.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ct.NOT_FOUND:return oe.NOT_FOUND;case Ct.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ct.ABORTED:return oe.ABORTED;case Ct.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ct.DATA_LOSS:return oe.DATA_LOSS;default:return De()}}(Ye=Ct||(Ct={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Yi([4294967295,4294967295],0);function R_(n){const e=Vw().encode(n),t=new Aw;return t.update(e),new Uint8Array(t.digest())}function N_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yi([t,i],0),new Yi([o,a],0)]}class fm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(i<0)throw new wl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Yi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Yi.fromNumber(i)));return o.compare(c1)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=R_(e),[i,o]=N_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new fm(a,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=R_(e),[i,o]=N_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new jd(Me.min(),o,new wt(ze),hi(),Ge())}}class Wl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Wl(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class pE{constructor(e,t){this.targetId=e,this.ge=t}}class mE{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class O_{constructor(){this.pe=0,this.ye=D_(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ge(),t=Ge(),i=Ge();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new Wl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=D_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class d1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hi(),this.$e=Tc(),this.Ue=Tc(),this.Ke=new wt(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(bp(a))if(i===0){const u=new Ce(a.path);this.ze(t,u,tn.newNoDocument(u,Me.min()))}else Ze(i===1);else{const u=this.et(t);if(u!==i){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=rs(i).toUint8Array()}catch(h){if(h instanceof zw)return ia("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new fm(u,o,a)}catch(h){return ia(h instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&bp(f.target)){const h=new Ce(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,tn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let i=Ge();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new jd(e,t,this.Ke,this.Qe,i);return this.Qe=hi(),this.$e=Tc(),this.Ue=Tc(),this.Ke=new wt(ze),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new O_,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Lt(ze),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Lt(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new O_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Tc(){return new wt(Ce.comparator)}function D_(){return new wt(Ce.comparator)}const f1={asc:"ASCENDING",desc:"DESCENDING"},h1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p1={and:"AND",or:"OR"};class m1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function g1(n,e){return id(n,e.toTimestamp())}function Mr(n){return Ze(!!n),Me.fromTimestamp(function(t){const i=ns(t);return new Rt(i.seconds,i.nanos)}(n))}function hm(n,e){return Cp(n,e).canonicalString()}function Cp(n,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yE(n){const e=lt.fromString(n);return Ze(TE(e)),e}function Pp(n,e){return hm(n.databaseId,e.path)}function tp(n,e){const t=yE(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(_E(t))}function vE(n,e){return hm(n.databaseId,e)}function y1(n){const e=yE(n);return e.length===4?lt.emptyPath():_E(e)}function Ap(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _E(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function L_(n,e,t){return{name:Pp(n,e),fields:t.value.mapValue.fields}}function v1(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Ze(v===void 0||typeof v=="string"),Kt.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Kt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?oe.UNKNOWN:hE(m.code);return new ve(v,m.message||"")}(u);t=new mE(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=tp(n,i.document.name),a=Mr(i.document.updateTime),u=i.document.createTime?Mr(i.document.createTime):Me.min(),f=new Sn({mapValue:{fields:i.document.fields}}),h=tn.newFoundDocument(o,a,u,f),m=i.targetIds||[],v=i.removedTargetIds||[];t=new Rc(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=tp(n,i.document),a=i.readTime?Mr(i.readTime):Me.min(),u=tn.newNoDocument(o,a),f=i.removedTargetIds||[];t=new Rc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=tp(n,i.document),a=i.removedTargetIds||[];t=new Rc([],a,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new l1(o,a),f=i.targetId;t=new pE(f,u)}}return t}function _1(n,e){let t;if(e instanceof Hl)t={update:L_(n,e.key,e.value)};else if(e instanceof cm)t={delete:Pp(n,e.key)};else if(e instanceof cs)t={update:L_(n,e.key,e.data),updateMask:C1(e.fieldMask)};else{if(!(e instanceof s1))return De();t={verify:Pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof nd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Vl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rd)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:g1(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De()}(n,e.precondition)),t}function w1(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Mr(o.updateTime):Mr(a);return u.isEqual(Me.min())&&(u=Mr(a)),new n1(u,o.transformResults||[])}(t,e))):[]}function E1(n,e){return{documents:[vE(n,e.path)]}}function T1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=vE(n,o);const a=function(m){if(m.length!==0)return EE(Er.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(O){return{field:Yo(O.field),direction:b1(O.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=kp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function S1(n){let e=y1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(S){const O=wE(S);return O instanceof Er&&Xw(O)?O.getFilters():[O]}(t.where));let u=[];t.orderBy&&(u=function(S){return S.map(O=>function($){return new Ll(Xo($.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(O))}(t.orderBy));let f=null;t.limit&&(f=function(S){let O;return O=typeof S=="object"?S.value:S,Ad(O)?null:O}(t.limit));let h=null;t.startAt&&(h=function(S){const O=!!S.before,M=S.values||[];return new la(M,O)}(t.startAt));let m=null;return t.endAt&&(m=function(S){const O=!S.before,M=S.values||[];return new la(M,O)}(t.endAt)),BC(e,o,u,a,f,"F",h,m)}function I1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Xo(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Xo(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xo(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xo(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Xo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(i=>wE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function b1(n){return f1[n]}function x1(n){return h1[n]}function k1(n){return p1[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Xo(n){return Gt.fromServerFormat(n.fieldPath)}function EE(n){return n instanceof Pt?function(t){if(t.op==="=="){if(T_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(E_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(T_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(E_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:x1(t.op),value:t.value}}}(n):n instanceof Er?function(t){const i=t.getFilters().map(o=>EE(o));return i.length===1?i[0]:{compositeFilter:{op:k1(t.op),filters:i}}}(n):De()}function C1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,i,o,a=Me.min(),u=Me.min(),f=Kt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.Tt=e}}function A1(n){const e=S1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.Tn=new N1}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ts.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class N1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Lt(lt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(SE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ua(0)}static Kn(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",O1=1048576;function j_([n,e],[t,i]){const o=ze(n,t);return o===0?ze(e,i):o}class D1{constructor(e){this.Hn=e,this.buffer=new Lt(j_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();j_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class L1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(V_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?Ee(V_,"Ignoring IndexedDB error during garbage collection: ",t):await ya(t)}await this.er(3e5)})}}class M1{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Pd.ae);const i=new D1(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(M_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(m=Date.now(),Ko()<=We.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${S} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:S})))}}function V1(n,e){return new M1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.changes=new no(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Il(i.mutation,o,Mn.empty(),Rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const o=zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=_l();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let a=hi();const u=Sl(),f=function(){return Sl()}();return t.forEach((h,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof cs)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Il(v.mutation,m,v.mutation.getFieldMask(),Rt.now())):u.set(m.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var S;return f.set(m,new F1(v,(S=u.get(m))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Sl();let o=new wt((u,f)=>u-f),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=i.get(h)||Mn.empty();v=f.applyToLocalView(m,v),i.set(h,v);const S=(o.get(f.batchId)||Ge()).add(h);o=o.insert(f.batchId,S)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,S=sE();v.forEach(O=>{if(!a.has(O)){const M=dE(t.get(O),i.get(O));M!==null&&S.set(O,M),a=a.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,S))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ue.resolve(zs());let f=Rl,h=a;return u.next(m=>ue.forEach(m,(v,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(O=>{h=h.insert(v,O)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Ge())).next(v=>({batchId:f,changes:iE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(i=>{let o=_l();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=_l();return this.indexManager.getCollectionParents(e,a).next(f=>ue.forEach(f,h=>{const m=function(S,O){return new us(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,tn.newInvalidDocument(v)))});let f=_l();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&Il(v.mutation,m,Mn.empty(),Rt.now()),Ld(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:A1(o.bundledQuery),readTime:Mr(o.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.overlays=new wt(Ce.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zs();return ue.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const o=zs(),a=t.length+1,u=new Ce(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>i&&o.set(h.getKey(),h)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new wt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=zs(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=zs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ue.resolve(f)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new a1(t,i));let a=this.Rr.get(t);a===void 0&&(a=Ge(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.Vr=new Lt(Ut.mr),this.gr=new Lt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ut(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ut(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ce(new lt([])),i=new Ut(t,e),o=new Ut(t,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ce(new lt([])),i=new Ut(t,e),o=new Ut(t,e+1);let a=Ge();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ut(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ce.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Ut.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new o1(a,t,i,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Ut(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?im:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(ze);return t.forEach(o=>{const a=new Ut(o,0),u=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{i=i.add(f.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ce.isDocumentKey(a)||(a=a.child(""));const u=new Ut(new Ce(a),0);let f=new Lt(ze);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ue.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,o=>{const a=new Ut(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ut(t,0),o=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.kr=e,this.docs=function(){return new wt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=hi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():tn.newInvalidDocument(o))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=hi();const u=t.path,f=new Ce(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||EC(wC(v),i)<=0||(o.has(v.key)||Ld(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,i,o){De()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new W1(this)}getSize(e){return ue.resolve(this.size)}}class W1 extends j1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.persistence=e,this.Qr=new no(t=>om(t),am),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.$r=0,this.Ur=new pm,this.targetCount=0,this.Kr=ua.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ua(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ue.waitFor(a).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Pd(0),this.zr=!1,this.zr=!0,this.jr=new B1,this.referenceDelegate=e(this),this.Hr=new G1(this),this.indexManager=new R1,this.remoteDocumentCache=function(o){return new H1(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new P1(t),this.Yr=new z1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new q1(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new K1(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class K1 extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.ti=new pm,this.ni=null}static ri(e){return new mm(e)}get ii(){if(this.ni)return this.ni;throw De()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const o=Ce.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Me.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sd{constructor(e,t){this.persistence=e,this.oi=new no(i=>xC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=V1(this,t)}static ri(e,t){return new sd(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ue.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(i++,a.removeEntry(u,Me.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cc(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ue.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=Ge(),o=Ge();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new gm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qx()?8:IC(rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Q1;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Ko()<=We.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Ko()<=We.DEBUG&&Ee("QueryEngine","Query:",Qo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Ko()<=We.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):ue.resolve())}rs(e,t){if(x_(t))return ue.resolve(null);let i=Lr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=td(t,null,"F"),i=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ge(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,td(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,i,o){return x_(t)||o.isEqual(Me.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(t,a);return this.ls(t,u,i,o)?ue.resolve(null):(Ko()<=We.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qo(t)),this.hs(e,u,t,_C(o,Rl)).next(f=>f))})}cs(e,t){let i=new Lt(nE(e));return t.forEach((o,a)=>{Ld(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return Ko()<=We.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ns.getDocumentsMatchingQuery(e,t,ts.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",X1=3e8;class J1{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new wt(ze),this.Is=new no(a=>om(a),am),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Z1(n,e,t,i){return new J1(n,e,t,i)}async function bE(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let h=Ge();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(i,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function eP(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const S=m.batch,O=S.keys();let M=ue.resolve();return O.forEach($=>{M=M.next(()=>v.getEntry(h,$)).next(L=>{const U=m.docVersions.get($);Ze(U!==null),L.version.compareTo(U)<0&&(S.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),v.addEntry(L)))})}),M.next(()=>f.mutationQueue.removeMutationBatch(h,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=Ge();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function xE(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function tP(n,e){const t=je(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,S)=>{const O=o.get(S);if(!O)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,S)));let M=O.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Kt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,i)),o=o.insert(S,M),function(L,U,W){return L.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=X1?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(O,M,v)&&f.push(t.Hr.updateTargetData(a,M))});let h=hi(),m=Ge();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(nP(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!i.isEqual(Me.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(S=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return ue.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function nP(n,e,t){let i=Ge(),o=Ge();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=hi();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Ee(ym,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function rP(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=im),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function iP(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,ue.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Wi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Rp(n,e,t){const i=je(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!va(u))throw u;Ee(ym,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function F_(n,e,t){const i=je(n);let o=Me.min(),a=Ge();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const S=je(h),O=S.Is.get(v);return O!==void 0?ue.resolve(S.Ts.get(O)):S.Hr.getTargetData(m,v)}(i,u,Lr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:Me.min(),t?a:Ge())).next(f=>(sP(i,HC(e),f),{documents:f,gs:a})))}function sP(n,e,t){let i=n.Es.get(e)||Me.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class U_{constructor(){this.activeTargetIds=XC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oP{constructor(){this.ho=new U_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new U_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class $_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(z_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function Np(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",lP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Jc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,a){const u=Np(),f=this.bo(e,t.toUriEncodedString());Ee(np,`Sending RPC '${e}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,i).then(m=>(Ee(np,`Received RPC '${e}' ${u}: `,m),m),m=>{throw ia(np,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",i),m})}Co(e,t,i,o,a,u){return this.So(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const i=lP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class dP extends uP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=Np();return new Promise((u,f)=>{const h=new Rw;h.setWithCredentials(!0),h.listenOnce(Nw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kc.NO_ERROR:const v=h.getResponseJson();Ee(Zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case kc.TIMEOUT:Ee(Zt,`RPC '${e}' ${a} timed out`),f(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const S=h.getStatus();if(Ee(Zt,`RPC '${e}' ${a} failed with status:`,S,"response text:",h.getResponseText()),S>0){let O=h.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O==null?void 0:O.error;if(M&&M.status&&M.message){const $=function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(W)>=0?W:oe.UNKNOWN}(M.status);f(new ve($,M.message))}else f(new ve(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{Ee(Zt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);Ee(Zt,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,i,15)})}Wo(e,t,i){const o=Np(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Lw(),f=Dw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const v=a.join("");Ee(Zt,`Creating RPC '${e}' stream ${o}: ${v}`,h);const S=u.createWebChannel(v,h);let O=!1,M=!1;const $=new cP({Fo:U=>{M?Ee(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(O||(Ee(Zt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),O=!0),Ee(Zt,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},Mo:()=>S.close()}),L=(U,W,X)=>{U.listen(W,J=>{try{X(J)}catch(re){setTimeout(()=>{throw re},0)}})};return L(S,vl.EventType.OPEN,()=>{M||(Ee(Zt,`RPC '${e}' stream ${o} transport opened.`),$.Qo())}),L(S,vl.EventType.CLOSE,()=>{M||(M=!0,Ee(Zt,`RPC '${e}' stream ${o} transport closed`),$.Uo())}),L(S,vl.EventType.ERROR,U=>{M||(M=!0,ia(Zt,`RPC '${e}' stream ${o} transport errored:`,U),$.Uo(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),L(S,vl.EventType.MESSAGE,U=>{var W;if(!M){const X=U.data[0];Ze(!!X);const J=X,re=(J==null?void 0:J.error)||((W=J[0])===null||W===void 0?void 0:W.error);if(re){Ee(Zt,`RPC '${e}' stream ${o} received error:`,re);const j=re.status;let B=function(I){const w=Ct[I];if(w!==void 0)return hE(w)}(j),A=re.message;B===void 0&&(B=oe.INTERNAL,A="Unknown error status: "+j+" with message "+re.message),M=!0,$.Uo(new ve(B,A)),S.close()}else Ee(Zt,`RPC '${e}' stream ${o} received:`,X),$.Ko(X)}}),L(f,Ow.STAT_EVENT,U=>{U.stat===wp.PROXY?Ee(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===wp.NOPROXY&&Ee(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){return new m1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="PersistentStream";class CE{constructor(e,t,i,o,a,u,f,h){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(B_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(B_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fP extends CE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=v1(this.serializer,e),i=function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Mr(u.readTime):Me.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Ap(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=bp(h)?{documents:E1(a,h)}:{query:T1(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=gE(a,u.resumeToken);const m=kp(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){f.readTime=id(a,u.snapshotVersion.toTimestamp());const m=kp(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=I1(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Ap(this.serializer),t.removeTarget=e,this.I_(t)}}class hP extends CE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=w1(e.writeResults,e.commitTime),i=Mr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Ap(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_1(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{}class mP extends pP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Cp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(oe.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Cp(t,i),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(fi(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class yP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{ro(this)&&(Ee(Ws,"Restarting streams for network reachability change."),await async function(h){const m=je(h);m.W_.add(4),await Gl(m),m.j_.set("Unknown"),m.W_.delete(4),await Ud(m)}(this))})}),this.j_=new gP(i,o)}}async function Ud(n){if(ro(n))for(const e of n.G_)await e(!0)}async function Gl(n){for(const e of n.G_)await e(!1)}function PE(n,e){const t=je(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Em(t)?wm(t):_a(t).c_()&&_m(t,e))}function vm(n,e){const t=je(n),i=_a(t);t.K_.delete(e),i.c_()&&AE(t,e),t.K_.size===0&&(i.c_()?i.P_():ro(t)&&t.j_.set("Unknown"))}function _m(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).y_(e)}function AE(n,e){n.H_.Ne(e),_a(n).w_(e)}function wm(n){n.H_=new d1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.j_.B_()}function Em(n){return ro(n)&&!_a(n).u_()&&n.K_.size>0}function ro(n){return je(n).W_.size===0}function RE(n){n.H_=void 0}async function vP(n){n.j_.set("Online")}async function _P(n){n.K_.forEach((e,t)=>{_m(n,e)})}async function wP(n,e){RE(n),Em(n)?(n.j_.q_(e),wm(n)):n.j_.set("Unknown")}async function EP(n,e,t){if(n.j_.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.K_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(i){Ee(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await od(n,i)}else if(e instanceof Rc?n.H_.We(e):e instanceof pE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Me.min()))try{const i=await xE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.K_.get(h);if(!v)return;a.K_.set(h,v.withResumeToken(Kt.EMPTY_BYTE_STRING,v.snapshotVersion)),AE(a,h);const S=new Wi(v.target,h,m,v.sequenceNumber);_m(a,S)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Ee(Ws,"Failed to raise snapshot:",i),await od(n,i)}}async function od(n,e,t){if(!va(e))throw e;n.W_.add(1),await Gl(n),n.j_.set("Offline"),t||(t=()=>xE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Ws,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Ud(n)})}function NE(n,e){return e().catch(t=>od(n,t,e))}async function zd(n){const e=je(n),t=ss(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:im;for(;TP(e);)try{const o=await rP(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,SP(e,o)}catch(o){await od(e,o)}OE(e)&&DE(e)}function TP(n){return ro(n)&&n.U_.length<10}function SP(n,e){n.U_.push(e);const t=ss(n);t.c_()&&t.S_&&t.b_(e.mutations)}function OE(n){return ro(n)&&!ss(n).u_()&&n.U_.length>0}function DE(n){ss(n).start()}async function IP(n){ss(n).C_()}async function bP(n){const e=ss(n);for(const t of n.U_)e.b_(t.mutations)}async function xP(n,e,t){const i=n.U_.shift(),o=dm.from(i,e,t);await NE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await zd(n)}async function kP(n,e){e&&ss(n).S_&&await async function(i,o){if(function(u){return u1(u)&&u!==oe.ABORTED}(o.code)){const a=i.U_.shift();ss(i).h_(),await NE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await zd(i)}}(n,e),OE(n)&&DE(n)}async function q_(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Ee(Ws,"RemoteStore received new credentials");const i=ro(t);t.W_.add(3),await Gl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ud(t)}async function CP(n,e){const t=je(n);e?(t.W_.delete(2),await Ud(t)):e||(t.W_.add(2),await Gl(t),t.j_.set("Unknown"))}function _a(n){return n.J_||(n.J_=function(t,i,o){const a=je(t);return a.M_(),new fP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:vP.bind(null,n),No:_P.bind(null,n),Lo:wP.bind(null,n),p_:EP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Em(n)?wm(n):n.j_.set("Unknown")):(await n.J_.stop(),RE(n))})),n.J_}function ss(n){return n.Y_||(n.Y_=function(t,i,o){const a=je(t);return a.M_(),new hP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:IP.bind(null,n),Lo:kP.bind(null,n),D_:bP.bind(null,n),v_:xP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await zd(n)):(await n.Y_.stop(),n.U_.length>0&&(Ee(Ws,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,f=new Tm(e,t,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(n,e){if(fi("AsyncQueue",`${e}: ${n}`),va(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ce.comparator(t.key,i.key):(t,i)=>Ce.comparator(t.key,i.key),this.keyedMap=_l(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.Z_=new wt(Ce.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):De():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ca{constructor(e,t,i,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new ca(e,t,Zo.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class AP{constructor(){this.queries=W_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=je(t),a=o.queries;o.queries=W_(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function W_(){return new no(n=>tE(n),Dd)}async function LE(n,e){const t=je(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new PP,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Sm(u,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Im(t)}async function ME(n,e){const t=je(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function RP(n,e){const t=je(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(i=!0);u.ea=o}}i&&Im(t)}function NP(n,e,t){const i=je(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function Im(n){n.ia.forEach(e=>{e.next()})}var Op,G_;(G_=Op||(Op={}))._a="default",G_.Cache="cache";class VE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.key=e}}class FE{constructor(e){this.key=e}}class OP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ge(),this.mutatedKeys=Ge(),this.ya=nE(e),this.wa=new Zo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new H_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const O=o.get(v),M=Ld(this.query,S)?S:null,$=!!O&&this.mutatedKeys.has(O.key),L=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;O&&M?O.data.isEqual(M.data)?$!==L&&(i.track({type:3,doc:M}),U=!0):this.va(O,M)||(i.track({type:2,doc:M}),U=!0,(h&&this.ya(M,h)>0||m&&this.ya(M,m)<0)&&(f=!0)):!O&&M?(i.track({type:0,doc:M}),U=!0):O&&!M&&(i.track({type:1,doc:O}),U=!0,(h||m)&&(f=!0)),U&&(M?(u=u.add(M),a=L?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,S)=>function(M,$){const L=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return L(M)-L($)}(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(i),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new ca(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new H_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ge(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new FE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new jE(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ge();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ca.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bm="SyncEngine";class DP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LP{constructor(e){this.key=e,this.Ba=!1}}class MP{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new no(f=>tE(f),Dd),this.qa=new Map,this.Qa=new Set,this.$a=new wt(Ce.comparator),this.Ua=new Map,this.Ka=new pm,this.Wa={},this.Ga=new Map,this.za=ua.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function VP(n,e,t=!0){const i=HE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await UE(i,e,t,!0),o}async function jP(n,e){const t=HE(n);await UE(t,e,!0,!1)}async function UE(n,e,t,i){const o=await iP(n.localStore,Lr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await FP(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&PE(n.remoteStore,o),f}async function FP(n,e,t,i,o){n.Ha=(S,O,M)=>async function(L,U,W,X){let J=U.view.ba(W);J.ls&&(J=await F_(L.localStore,U.query,!1).then(({documents:A})=>U.view.ba(A,J)));const re=X&&X.targetChanges.get(U.targetId),j=X&&X.targetMismatches.get(U.targetId)!=null,B=U.view.applyChanges(J,L.isPrimaryClient,re,j);return Q_(L,U.targetId,B.Ma),B.snapshot}(n,S,O,M);const a=await F_(n.localStore,e,!0),u=new OP(e,a.gs),f=u.ba(a.documents),h=Wl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);Q_(n,t,m.Ma);const v=new DP(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function UP(n,e,t){const i=je(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!Dd(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Rp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&vm(i.remoteStore,o.targetId),Dp(i,o.targetId)}).catch(ya)):(Dp(i,o.targetId),await Rp(i.localStore,o.targetId,!0))}async function zP(n,e){const t=je(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),vm(t.remoteStore,i.targetId))}async function $P(n,e,t){const i=QP(n);try{const o=await function(u,f){const h=je(u),m=Rt.now(),v=f.reduce((M,$)=>M.add($.key),Ge());let S,O;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let $=hi(),L=Ge();return h.ds.getEntries(M,v).next(U=>{$=U,$.forEach((W,X)=>{X.isValidDocument()||(L=L.add(W))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,$)).next(U=>{S=U;const W=[];for(const X of f){const J=i1(X,S.get(X.key).overlayedDocument);J!=null&&W.push(new cs(X.key,J,Kw(J.value.mapValue),_r.exists(!0)))}return h.mutationQueue.addMutationBatch(M,m,W,f)}).next(U=>{O=U;const W=U.applyToLocalDocumentSet(S,L);return h.documentOverlayCache.saveOverlays(M,U.batchId,W)})}).then(()=>({batchId:O.batchId,changes:iE(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(ze)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(i,o.batchId,t),await Kl(i,o.changes),await zd(i.remoteStore)}catch(o){const a=Sm(o,"Failed to persist write");t.reject(a)}}async function zE(n,e){const t=je(n);try{const i=await tP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ze(u.Ba):o.removedDocuments.size>0&&(Ze(u.Ba),u.Ba=!1))}),await Kl(t,i,e)}catch(i){await ya(i)}}function K_(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=je(u);h.onlineState=f;let m=!1;h.queries.forEach((v,S)=>{for(const O of S.ta)O.sa(f)&&(m=!0)}),m&&Im(h)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function BP(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),a=o&&o.key;if(a){let u=new wt(Ce.comparator);u=u.insert(a,tn.newNoDocument(a,Me.min()));const f=Ge().add(a),h=new jd(Me.min(),new Map,new wt(ze),u,f);await zE(i,h),i.$a=i.$a.remove(a),i.Ua.delete(e),xm(i)}else await Rp(i.localStore,e,!1).then(()=>Dp(i,e,t)).catch(ya)}async function qP(n,e){const t=je(n),i=e.batch.batchId;try{const o=await eP(t.localStore,e);BE(t,i,null),$E(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Kl(t,o)}catch(o){await ya(o)}}async function HP(n,e,t){const i=je(n);try{const o=await function(u,f){const h=je(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(S=>(Ze(S!==null),v=S.keys(),h.mutationQueue.removeMutationBatch(m,S))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,e);BE(i,e,t),$E(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Kl(i,o)}catch(o){await ya(o)}}function $E(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function BE(n,e,t){const i=je(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Dp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||qE(n,i)})}function qE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(vm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),xm(n))}function Q_(n,e,t){for(const i of t)i instanceof jE?(n.Ka.addReference(i.key,e),WP(n,i)):i instanceof FE?(Ee(bm,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||qE(n,i.key)):De()}function WP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Ee(bm,"New document in limbo: "+t),n.Qa.add(i),xm(n))}function xm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ce(lt.fromString(e)),i=n.za.next();n.Ua.set(i,new LP(t)),n.$a=n.$a.insert(t,i),PE(n.remoteStore,new Wi(Lr(Od(t.path)),i,"TargetPurposeLimboResolution",Pd.ae))}}async function Kl(n,e,t){const i=je(n),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((f,h)=>{u.push(i.Ha(h,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const S=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,S?"current":"not-current")}if(m){o.push(m);const S=gm.Yi(h.targetId,m);a.push(S)}}))}),await Promise.all(u),i.La.p_(o),await async function(h,m){const v=je(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ue.forEach(m,O=>ue.forEach(O.Hi,M=>v.persistence.referenceDelegate.addReference(S,O.targetId,M)).next(()=>ue.forEach(O.Ji,M=>v.persistence.referenceDelegate.removeReference(S,O.targetId,M)))))}catch(S){if(!va(S))throw S;Ee(ym,"Failed to update sequence numbers: "+S)}for(const S of m){const O=S.targetId;if(!S.fromCache){const M=v.Ts.get(O),$=M.snapshotVersion,L=M.withLastLimboFreeSnapshotVersion($);v.Ts=v.Ts.insert(O,L)}}}(i.localStore,a))}async function GP(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Ee(bm,"User change. New user:",e.toKey());const i=await bE(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new ve(oe.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kl(t,i.Rs)}}function KP(n,e){const t=je(n),i=t.Ua.get(e);if(i&&i.Ba)return Ge().add(i.key);{let o=Ge();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.Sa)}return o}}function HE(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BP.bind(null,e),e.La.p_=RP.bind(null,e.eventManager),e.La.Ja=NP.bind(null,e.eventManager),e}function QP(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HP.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Z1(this.persistence,new Y1,e.initialUser,this.serializer)}Xa(e){return new IE(mm.ri,this.serializer)}Za(e){return new oP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class YP extends ad{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof sd);const i=this.persistence.referenceDelegate.garbageCollector;return new L1(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new IE(i=>sd.ri(i,t),this.serializer)}}class Lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>K_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await CP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AP}()}createDatastore(e){const t=Fd(e.databaseInfo.databaseId),i=function(a){return new dP(a)}(e.databaseInfo);return function(a,u,f,h){return new mP(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,f){return new yP(i,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>K_(this.syncEngine,t,0),function(){return $_.D()?new $_:new aP}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const S=new MP(o,a,u,f,h,m);return v&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=je(o);Ee(Ws,"RemoteStore shutting down."),a.W_.add(5),await Gl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class XP{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Ee(os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ee(os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Sm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ip(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await bE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Y_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JP(n);Ee(os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>q_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>q_(e.remoteStore,o)),n._onlineComponents=e}async function JP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(os,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ia("Error using user provided cache. Falling back to memory cache: "+t),await ip(n,new ad)}}else Ee(os,"Using default OfflineComponentProvider"),await ip(n,new YP(void 0));return n._offlineComponents}async function GE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(os,"Using user provided OnlineComponentProvider"),await Y_(n,n._uninitializedComponentsProvider._online)):(Ee(os,"Using default OnlineComponentProvider"),await Y_(n,new Lp))),n._onlineComponents}function ZP(n){return GE(n).then(e=>e.syncEngine)}async function Mp(n){const e=await GE(n),t=e.eventManager;return t.onListen=VP.bind(null,e.syncEngine),t.onUnlisten=UP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zP.bind(null,e.syncEngine),t}function eA(n,e,t={}){const i=new Xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new WE({next:O=>{v.su(),u.enqueueAndForget(()=>ME(a,S));const M=O.docs.has(f);!M&&O.fromCache?m.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&O.fromCache&&h&&h.source==="server"?m.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(O)},error:O=>m.reject(O)}),S=new VE(Od(f.path),v,{includeMetadataChanges:!0,Ta:!0});return LE(a,S)}(await Mp(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tA(n,e,t,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function J_(n){if(!Ce.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Z_(n){if(Ce.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$d(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nA(n,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firestore.googleapis.com",e0=!0;class t0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=e0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:e0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O1)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cC;switch(i.type){case"firstParty":return new pC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=X_.get(t);i&&(Ee("ComponentProvider","Removing Datastore"),X_.delete(t),i.terminate())}(this),Promise.resolve()}}function rA(n,e,t,i={}){var o;const a=(n=Vr(n,Bd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==YE&&a.host!==f&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:i});if(!es(h,u)&&(n._setSettings(h),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=en.MOCK_USER;else{m=ww(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(S)}n._authCredentials=new dC(new Mw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class fn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Ji extends $r{constructor(e,t,i){super(e,t,Od(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Ce(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function Zn(n,e,...t){if(n=ut(n),QE("collection","path",e),n instanceof Bd){const i=lt.fromString(e,...t);return Z_(i),new Ji(n,null,i)}{if(!(n instanceof fn||n instanceof Ji))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return Z_(i),new Ji(n.firestore,null,i)}}function ld(n,e,...t){if(n=ut(n),arguments.length===1&&(e=jw.newId()),QE("doc","path",e),n instanceof Bd){const i=lt.fromString(e,...t);return J_(i),new fn(n,null,new Ce(i))}{if(!(n instanceof fn||n instanceof Ji))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return J_(i),new fn(n.firestore,n instanceof Ji?n.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kE(this,"async_queue_retry"),this.Su=()=>{const i=rp();i&&Ee(n0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!va(e))throw e;Ee(n0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw fi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Tm.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&De()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function i0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Gs extends Bd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new r0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function iA(n,e){const t=typeof n=="object"?n:ql(),i=typeof n=="string"?n:Jc,o=gi(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=tm("firestore");a&&rA(o,...a)}return o}function km(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sA(n),n._firestoreClient}function sA(n){var e,t,i;const o=n._freezeSettings(),a=function(f,h,m,v){return new PC(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,KE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new XP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Kt.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=/^__.*__$/;class aA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hl(e,this.data,t,this.fieldTransforms)}}class XE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Rm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ud(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(JE(this.Lu)&&oA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fd(e)}ju(e,t,i,o=!1){return new Rm({Lu:e,methodName:t,zu:i,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(n){const e=n._freezeSettings(),t=Fd(n._databaseId);return new lA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uA(n,e,t,i,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Nm("Data must be an object, but it was:",u,i);const f=eT(i,u);let h,m;if(a.merge)h=new Mn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const S of a.mergeFields){const O=Vp(e,S,t);if(!u.contains(O))throw new ve(oe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);nT(v,O)||v.push(O)}h=new Mn(v),m=u.fieldTransforms.filter(S=>h.covers(S.field))}else h=null,m=u.fieldTransforms;return new aA(new Sn(f),h,m)}class Wd extends Cm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wd}}function cA(n,e,t,i){const o=n.ju(1,e,t);Nm("Data must be an object, but it was:",o,i);const a=[],u=Sn.empty();ls(i,(h,m)=>{const v=Om(e,h,t);m=ut(m);const S=o.Uu(v);if(m instanceof Wd)a.push(v);else{const O=Ql(m,S);O!=null&&(a.push(v),u.set(v,O))}});const f=new Mn(a);return new XE(u,f,o.fieldTransforms)}function dA(n,e,t,i,o,a){const u=n.ju(1,e,t),f=[Vp(e,i,t)],h=[o];if(a.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(Vp(e,a[O])),h.push(a[O+1]);const m=[],v=Sn.empty();for(let O=f.length-1;O>=0;--O)if(!nT(m,f[O])){const M=f[O];let $=h[O];$=ut($);const L=u.Uu(M);if($ instanceof Wd)m.push(M);else{const U=Ql($,L);U!=null&&(m.push(M),v.set(M,U))}}const S=new Mn(m);return new XE(v,S,u.fieldTransforms)}function ZE(n,e,t,i=!1){return Ql(t,n.ju(i?4:3,e))}function Ql(n,e){if(tT(n=ut(n)))return Nm("Unsupported field value:",e,n),eT(n,e);if(n instanceof Cm)return function(i,o){if(!JE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const f of i){let h=Ql(f,o.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Rt.fromDate(i);return{timestampValue:id(o.serializer,a)}}if(i instanceof Rt){const a=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:id(o.serializer,a)}}if(i instanceof Pm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof da)return{bytesValue:gE(o.serializer,i._byteString)};if(i instanceof fn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Am)return function(u,f){return{mapValue:{fields:{[Ww]:{stringValue:Gw},[Zc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return um(f.serializer,m)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${$d(i)}`)}(n,e)}function eT(n,e){const t={};return Uw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(n,(i,o)=>{const a=Ql(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function tT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof Pm||n instanceof da||n instanceof fn||n instanceof Cm||n instanceof Am)}function Nm(n,e,t){if(!tT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=$d(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Vp(n,e,t){if((e=ut(e))instanceof qd)return e._internalPath;if(typeof e=="string")return Om(n,e);throw ud("Field path arguments must be of type string or ",n,!1,void 0,t)}const fA=new RegExp("[~\\*/\\[\\]]");function Om(n,e,t){if(e.search(fA)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qd(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ud(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${i}`),u&&(h+=` in document ${o}`),h+=")"),new ve(oe.INVALID_ARGUMENT,f+n+h)}function nT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hA extends Dm{data(){return super.data()}}function Gd(n,e){return typeof e=="string"?Om(n,e):e instanceof qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class Yl extends Lm{}function wa(n,e,...t){let i=[];e instanceof Lm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(h=>h instanceof Vm).length,f=a.filter(h=>h instanceof Kd).length;if(u>1||u>0&&f>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Kd extends Yl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kd(e,t,i)}_apply(e){const t=this._parse(e);return iT(e._query,t),new $r(e.firestore,e.converter,xp(e._query,t))}_parse(e){const t=Hd(e.firestore);return function(a,u,f,h,m,v,S){let O;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){o0(S,v);const $=[];for(const L of S)$.push(s0(h,a,L));O={arrayValue:{values:$}}}else O=s0(h,a,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||o0(S,v),O=ZE(f,u,S,v==="in"||v==="not-in");return Pt.create(m,v,O)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mm(n,e,t){const i=e,o=Gd("where",n);return Kd._create(o,i,t)}class Vm extends Lm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const f=a.getFlattenedFilters();for(const h of f)iT(u,h),u=xp(u,h)}(e._query,t),new $r(e.firestore,e.converter,xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends Yl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jm(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(a,u)}(e._query,this._field,this._direction);return new $r(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new us(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Fm(n,e="asc"){const t=e,i=Gd("orderBy",n);return jm._create(i,t)}class Um extends Yl{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Um(e,t,i)}_apply(e){return new $r(e.firestore,e.converter,td(e._query,this._limit,this._limitType))}}function zm(n){return nA("limit",n),Um._create("limit",n,"F")}class $m extends Yl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new $m(e,t,i)}_apply(e){const t=rT(e,this.type,this._docOrFields,this._inclusive);return new $r(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function mA(...n){return $m._create("startAt",n,!0)}class Bm extends Yl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Bm(e,t,i)}_apply(e){const t=rT(e,this.type,this._docOrFields,this._inclusive);return new $r(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,t))}}function gA(...n){return Bm._create("endAt",n,!0)}function rT(n,e,t,i){if(t[0]=ut(t[0]),t[0]instanceof Dm)return function(a,u,f,h,m){if(!h)throw new ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const v=[];for(const S of Jo(a))if(S.field.isKeyField())v.push(ed(u,h.key));else{const O=h.data.field(S.field);if(Rd(O))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(O===null){const M=S.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(O)}return new la(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=Hd(n.firestore);return function(u,f,h,m,v,S){const O=u.explicitOrderBy;if(v.length>O.length)throw new ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let $=0;$<v.length;$++){const L=v[$];if(O[$].field.isKeyField()){if(typeof L!="string")throw new ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof L}`);if(!lm(u)&&L.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${L}' contains a slash.`);const U=u.path.child(lt.fromString(L));if(!Ce.isDocumentKey(U))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const W=new Ce(U);M.push(ed(f,W))}else{const U=ZE(h,m,L);M.push(U)}}return new la(M,S)}(n._query,n.firestore._databaseId,o,e,t,i)}}function s0(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lm(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!Ce.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ed(n,new Ce(i))}if(t instanceof fn)return ed(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(t)}.`)}function o0(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iT(n,e){const t=function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yA{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ls(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Zc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>bt(u.doubleValue));return new Am(a)}convertGeoPoint(e){return new Pm(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Nd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Ze(TE(i));const o=new Ol(i.get(1),i.get(3)),a=new Ce(i.popFirst(5));return o.isEqual(t)||fi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sT extends Dm{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Gd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nc extends sT{data(e={}){return super.data(e)}}class _A{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nc(this._firestore,this._userDataWriter,i.key,i,new El(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new El(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new El(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:wA(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n){n=Vr(n,fn);const e=Vr(n.firestore,Gs);return eA(km(e),n._key).then(t=>lT(e,n,t))}class oT extends yA{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function TA(n,e,t,...i){n=Vr(n,fn);const o=Vr(n.firestore,Gs),a=Hd(o);let u;return u=typeof(e=ut(e))=="string"||e instanceof qd?dA(a,"updateDoc",n._key,e,t,i):cA(a,"updateDoc",n._key,e),qm(o,[u.toMutation(n._key,_r.exists(!0))])}function SA(n){return qm(Vr(n.firestore,Gs),[new cm(n._key,_r.none())])}function aT(n,e){const t=Vr(n.firestore,Gs),i=ld(n),o=vA(n.converter,e);return qm(t,[uA(Hd(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,_r.exists(!1))]).then(()=>i)}function Br(n,...e){var t,i,o;n=ut(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||i0(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(i0(e[u])){const S=e[u];e[u]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[u+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[u+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let h,m,v;if(n instanceof fn)m=Vr(n.firestore,Gs),v=Od(n._key.path),h={next:S=>{e[u]&&e[u](lT(m,n,S))},error:e[u+1],complete:e[u+2]};else{const S=Vr(n,$r);m=Vr(S.firestore,Gs),v=S._query;const O=new oT(m);h={next:M=>{e[u]&&e[u](new _A(m,O,S,M))},error:e[u+1],complete:e[u+2]},pA(n._query)}return function(O,M,$,L){const U=new WE(L),W=new VE(M,U,$);return O.asyncQueue.enqueueAndForget(async()=>LE(await Mp(O),W)),()=>{U.su(),O.asyncQueue.enqueueAndForget(async()=>ME(await Mp(O),W))}}(km(m),v,f,h)}function qm(n,e){return function(i,o){const a=new Xi;return i.asyncQueue.enqueueAndForget(async()=>$P(await ZP(i),o,a)),a.promise}(km(n),e)}function lT(n,e,t){const i=t.docs.get(e._key),o=new oT(n);return new sT(n,o,e._key,i,new El(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ga=o})(to),Jn(new Fn("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new Gs(new fC(i.getProvider("auth-internal")),new mC(u,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),nn(u_,c_,e),nn(u_,c_,"esm2017")})();var IA="firebase",bA="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(IA,bA,"app");function Hm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xA=uT,cT=new eo("auth","Firebase",uT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Cd("@firebase/auth");function kA(n,...e){cd.logLevel<=We.WARN&&cd.warn(`Auth (${to}): ${n}`,...e)}function Oc(n,...e){cd.logLevel<=We.ERROR&&cd.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw Gm(n,...e)}function wr(n,...e){return Gm(n,...e)}function Wm(n,e,t){const i=Object.assign(Object.assign({},xA()),{[e]:t});return new eo("auth","Firebase",i).create(e,{appName:n.name})}function Zi(n){return Wm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CA(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&er(n,"argument-error"),Wm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return cT.create(n,...e)}function Oe(n,e,...t){if(!n)throw Gm(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Oc(e),new Error(e)}function pi(n,e){n||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function PA(){return a0()==="http:"||a0()==="https:"}function a0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PA()||Ew()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile=Fx()||$x()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n,e){pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Xl(3e4,6e4);function io(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ds(n,e,t,i,o={}){return fT(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const f=Bl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return zx()||(m.referrerPolicy="no-referrer"),dT.fetch()(hT(n,n.config.apiHost,t,f),m)})}async function fT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},NA),e);try{const o=new LA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ic(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Ic(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Ic(n,"user-disabled",u);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Wm(n,v,m);er(n,v)}}catch(o){if(o instanceof Un)throw o;er(n,"network-request-failed",{message:String(o)})}}async function Qd(n,e,t,i,o={}){const a=await ds(n,e,t,i,o);return"mfaPendingCredential"in a&&er(n,"multi-factor-auth-required",{_serverResponse:a}),a}function hT(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Km(n.config,o):`${n.config.apiScheme}://${o}`}function DA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),OA.get())})}}function Ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=wr(n,e,i);return o.customData._tokenResponse=t,o}function l0(n){return n!==void 0&&n.enterprise!==void 0}class MA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VA(n,e){return ds(n,"GET","/v2/recaptchaConfig",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(n,e){return ds(n,"POST","/v1/accounts:delete",e)}async function pT(n,e){return ds(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FA(n,e=!1){const t=ut(n),i=await t.getIdToken(e),o=Qm(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:bl(sp(o.auth_time)),issuedAtTime:bl(sp(o.iat)),expirationTime:bl(sp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sp(n){return Number(n)*1e3}function Qm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=gw(t);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function u0(n){const e=Qm(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Un&&UA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function UA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n){var e;const t=n.auth,i=await n.getIdToken(),o=await jl(n,pT(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?mT(a.providerUserInfo):[],f=BA(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Fp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,S)}async function $A(n){const e=ut(n);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function mT(n){return n.map(e=>{var{providerId:t}=e,i=Hm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(n,e){const t=await fT(n,{},async()=>{const i=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=hT(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",dT.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HA(n,e){return ds(n,"POST","/v2/accounts:revokeToken",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=u0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await qA(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new ea;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Oe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Fp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await jl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FA(this,e)}reload(){return $A(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await dd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await jl(this,jA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,f,h,m,v;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,O=(o=t.email)!==null&&o!==void 0?o:void 0,M=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,$=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(f=t.tenantId)!==null&&f!==void 0?f:void 0,U=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,W=(m=t.createdAt)!==null&&m!==void 0?m:void 0,X=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:re,isAnonymous:j,providerData:B,stsTokenManager:A}=t;Oe(J&&A,e,"internal-error");const P=ea.fromJSON(this.name,A);Oe(typeof J=="string",e,"internal-error"),zi(S,e.name),zi(O,e.name),Oe(typeof re=="boolean",e,"internal-error"),Oe(typeof j=="boolean",e,"internal-error"),zi(M,e.name),zi($,e.name),zi(L,e.name),zi(U,e.name),zi(W,e.name),zi(X,e.name);const I=new ui({uid:J,auth:e,email:O,emailVerified:re,displayName:S,isAnonymous:j,photoURL:$,phoneNumber:M,tenantId:L,stsTokenManager:P,createdAt:W,lastLoginAt:X});return B&&Array.isArray(B)&&(I.providerData=B.map(w=>Object.assign({},w))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(e,t,i=!1){const o=new ea;o.updateFromServerResponse(t);const a=new ui({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await dd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?mT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new ea;f.updateFromIdToken(i);const h=new ui({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function ci(n){pi(n instanceof Function,"Expected a class definition");let e=c0.get(n);return e?(pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gT.type="NONE";const d0=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n,e,t){return`firebase:${n}:${e}:${t}`}class ta{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Dc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ta(ci(d0),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ci(d0);const u=Dc(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const S=ui._fromJSON(e,v);m!==a&&(f=S),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ta(a,e,i):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ta(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(ST(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yT(n=rn()){return/firefox\//i.test(n)}function vT(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(n=rn()){return/crios\//i.test(n)}function wT(n=rn()){return/iemobile/i.test(n)}function ET(n=rn()){return/android/i.test(n)}function TT(n=rn()){return/blackberry/i.test(n)}function ST(n=rn()){return/webos/i.test(n)}function Ym(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WA(n=rn()){var e;return Ym(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GA(){return Bx()&&document.documentMode===10}function IT(n=rn()){return Ym(n)||ET(n)||ST(n)||TT(n)||/windows phone/i.test(n)||wT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n,e=[]){let t;switch(n){case"Browser":t=f0(rn());break;case"Worker":t=`${f0(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n,e={}){return ds(n,"GET","/v2/passwordPolicy",io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=6;class XA{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:YA,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new KA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pT(this,{idToken:e}),i=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Zi(this));const t=e?ut(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QA(this),t=new XA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await HA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function so(n){return ut(n)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yx(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZA(n){Yd=n}function xT(n){return Yd.loadJS(n)}function eR(){return Yd.recaptchaEnterpriseScript}function tR(){return Yd.gapiScript}function nR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rR{constructor(){this.enterprise=new iR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sR="recaptcha-enterprise",kT="NO_RECAPTCHA";class oR{constructor(e){this.type=sR,this.auth=so(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{VA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new MA(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{f(h)})})}function o(a,u,f){const h=window.grecaptcha;l0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(kT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(f=>{if(!t&&l0(window.grecaptcha))o(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eR();h.length!==0&&(h+=f),xT(h).then(()=>{o(f,a,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function p0(n,e,t,i=!1,o=!1){const a=new oR(n);let u;if(o)u=kT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function m0(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await p0(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await p0(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n,e){const t=gi(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(es(a,e??{}))return o;er(o,"already-initialized")}return t.initialize({options:e})}function lR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function uR(n,e,t){const i=so(n);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=CT(e),{host:u,port:f}=cR(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(es(m,i.config.emulator)&&es(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,dR()}function CT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cR(n){const e=CT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:g0(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:g0(u)}}}function g0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function fR(n,e){return ds(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(n,e){return Qd(n,"POST","/v1/accounts:signInWithPassword",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(n,e){return Qd(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}async function mR(n,e){return Qd(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Xm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m0(e,t,"signInWithPassword",hR);case"emailLink":return pR(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m0(e,i,"signUpPassword",fR);case"emailLink":return mR(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n,e){return Qd(n,"POST","/v1/accounts:signInWithIdp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="http://localhost";class Ks extends Xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Hm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Ks(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return na(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,na(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,na(e,t)}buildRequest(){const e={requestUri:gR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vR(n){const e=gl(yl(n)).link,t=e?gl(yl(e)).deep_link_id:null,i=gl(yl(n)).deep_link_id;return(i?gl(yl(i)).link:null)||i||t||e||n}class Jm{constructor(e){var t,i,o,a,u,f;const h=gl(yl(e)),m=(t=h.apiKey)!==null&&t!==void 0?t:null,v=(i=h.oobCode)!==null&&i!==void 0?i:null,S=yR((o=h.mode)!==null&&o!==void 0?o:null);Oe(m&&v&&S,"argument-error"),this.apiKey=m,this.operation=S,this.code=v,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=vR(e);try{return new Jm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,t){return Fl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Jm.parseLink(t);return Oe(i,"argument-error"),Fl._fromEmailAndCode(e,i.code,i.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Jl{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Dr.credential(t,i)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Jl{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Jl{constructor(){super("twitter.com")}static credential(e,t){return Ks._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qi.credential(t,i)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ui._fromIdTokenResponse(e,i,o),u=y0(i);return new fa({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=y0(i);return new fa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function y0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Un{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new fd(e,t,i,o)}}function PT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(n,a,e,i):a})}async function _R(n,e,t=!1){const i=await jl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(n,e,t=!1){const{auth:i}=n;if(Tn(i.app))return Promise.reject(Zi(i));const o="reauthenticate";try{const a=await jl(n,PT(i,o,e,n),t);Oe(a.idToken,i,"internal-error");const u=Qm(a.idToken);Oe(u,i,"internal-error");const{sub:f}=u;return Oe(n.uid===f,i,"user-mismatch"),fa._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&er(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(n,e,t=!1){if(Tn(n.app))return Promise.reject(Zi(n));const i="signIn",o=await PT(n,i,e),a=await fa._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function ER(n,e){return AT(so(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n){const e=so(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function SR(n,e,t){return Tn(n.app)?Promise.reject(Zi(n)):ER(ut(n),Ea.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TR(n),i})}function IR(n,e,t,i){return ut(n).onIdTokenChanged(e,t,i)}function bR(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function xR(n,e,t,i){return ut(n).onAuthStateChanged(e,t,i)}function kR(n){return ut(n).signOut()}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1e3,PR=10;class NT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);GA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NT.type="LOCAL";const AR=NT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OT.type="SESSION";const DT=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Xd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await RR(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=eg("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===m)switch(O.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(O.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function OR(n){jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function DR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function MR(){return LT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebaseLocalStorageDb",VR=1,pd="firebaseLocalStorage",VT="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jd(n,e){return n.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function jR(){const n=indexedDB.deleteDatabase(MT);return new Zl(n).toPromise()}function Up(){const n=indexedDB.open(MT,VR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(pd,{keyPath:VT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(pd)?e(i):(i.close(),await jR(),e(await Up()))})})}async function v0(n,e,t){const i=Jd(n,!0).put({[VT]:e,value:t});return new Zl(i).toPromise()}async function FR(n,e){const t=Jd(n,!1).get(e),i=await new Zl(t).toPromise();return i===void 0?null:i.value}function _0(n,e){const t=Jd(n,!0).delete(e);return new Zl(t).toPromise()}const UR=800,zR=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(MR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await DR(),!this.activeServiceWorker)return;this.sender=new NR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await v0(e,hd,"1"),await _0(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>FR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Jd(o,!1).getAll();return new Zl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const $R=jT;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n,e){return e?ci(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BR(n){return AT(n.auth,new tg(n),n.bypassAuthState)}function qR(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),wR(t,new tg(n),n.bypassAuthState)}async function HR(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),_R(t,new tg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return qR;default:er(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Xl(2e3,1e4);async function zT(n,e,t){if(Tn(n.app))return Promise.reject(wr(n,"operation-not-supported-in-this-environment"));const i=so(n);CA(n,e,Zm);const o=FT(i,t);return new $s(i,"signInViaPopup",e,o).executeNotNull()}class $s extends UT{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WR.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="pendingRedirect",Lc=new Map;class KR extends UT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const i=await QR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QR(n,e){const t=JR(e),i=XR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function YR(n,e){Lc.set(n._key(),e)}function XR(n){return ci(n._redirectPersistence)}function JR(n){return Dc(GR,n.config.apiKey,n.name)}async function ZR(n,e,t=!1){if(Tn(n.app))return Promise.reject(Zi(n));const i=so(n),o=FT(i,e),u=await new KR(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=10*60*1e3;class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!$T(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(e))}saveEventToCache(e){this.cachedEventUids.add(w0(e)),this.lastProcessedEventTime=Date.now()}}function w0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $T({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $T(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e={}){return ds(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function oN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rN(n);for(const t of e)try{if(aN(t))return}catch{}er(n,"unauthorized-domain")}function aN(n){const e=jp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!sN.test(t))return!1;if(iN.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Xl(3e4,6e4);function E0(){const n=jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uN(n){return new Promise((e,t)=>{var i,o,a;function u(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),t(wr(n,"network-request-failed"))},timeout:lN.get()})}if(!((o=(i=jr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=jr().gapi)===null||a===void 0)&&a.load)u();else{const f=nR("iframefcb");return jr()[f]=()=>{gapi.load?u():t(wr(n,"network-request-failed"))},xT(`${tR()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function cN(n){return Mc=Mc||uN(n),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Xl(5e3,15e3),fN="__/auth/iframe",hN="emulator/auth/iframe",pN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Km(e,hN):`https://${n.config.authDomain}/${fN}`,i={apiKey:e.apiKey,appName:n.name,v:to},o=mN.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Bl(i).slice(1)}`}async function yN(n){const e=await cN(n),t=jr().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:gN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pN,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=wr(n,"network-request-failed"),f=jr().setTimeout(()=>{a(u)},dN.get());function h(){jr().clearTimeout(f),o(i)}i.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,wN=600,EN="_blank",TN="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SN(n,e,t,i=_N,o=wN){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},vN),{width:i.toString(),height:o.toString(),top:a,left:u}),m=rn().toLowerCase();t&&(f=_T(m)?EN:t),yT(m)&&(e=e||TN,h.scrollbars="yes");const v=Object.entries(h).reduce((O,[M,$])=>`${O}${M}=${$},`,"");if(WA(m)&&f!=="_self")return IN(e||"",f),new T0(null);const S=window.open(e||"",f,v);Oe(S,n,"popup-blocked");try{S.focus()}catch{}return new T0(S)}function IN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",xN="emulator/auth/handler",kN=encodeURIComponent("fac");async function S0(n,e,t,i,o,a){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:to,eventId:o};if(e instanceof Zm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Qx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))u[v]=S}if(e instanceof Jl){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${kN}=${encodeURIComponent(h)}`:"";return`${CN(n)}?${Bl(f).slice(1)}${m}`}function CN({config:n}){return n.emulator?Km(n,xN):`https://${n.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class PN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=ZR,this._overrideRedirectResult=YR}async _openPopup(e,t,i,o){var a;pi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await S0(e,t,i,jp(),o);return SN(e,u,eg())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await S0(e,t,i,jp(),o);return OR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(pi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await yN(e),i=new tN(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[op];u!==void 0&&t(!!u),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IT()||vT()||Ym()}}const AN=PN;var I0="@firebase/auth",b0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(n){Jn(new Fn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(n)},m=new JA(i,o,a,h);return lR(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jn(new Fn("auth-internal",e=>{const t=so(e.getProvider("auth").getImmediate());return(i=>new RN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(I0,b0,NN(n)),nn(I0,b0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=5*60,LN=_w("authIdTokenMaxAge")||DN;let x0=null;const MN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>LN)return;const o=t==null?void 0:t.token;x0!==o&&(x0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VN(n=ql()){const e=gi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aR(n,{popupRedirectResolver:AN,persistence:[$R,AR,DT]}),i=_w("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=MN(a.toString());bR(t,u,()=>u(t.currentUser)),IR(t,f=>u(f))}}const o=yw("auth");return o&&uR(t,`http://${o}`),t}function jN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=wr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",jN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebasestorage.googleapis.com",FN="storageBucket",UN=2*60*1e3,zN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Un{constructor(e,t,i=0){super(ap(e),`Firebase Storage: ${t} (${ap(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ur;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ur||(Ur={}));function ap(n){return"storage/"+n}function $N(){const n="An unknown error occurred, please check the error payload for server response.";return new qr(Ur.UNKNOWN,n)}function BN(){return new qr(Ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qN(){return new qr(Ur.CANCELED,"User canceled the upload/download.")}function HN(n){return new qr(Ur.INVALID_URL,"Invalid URL '"+n+"'.")}function WN(n){return new qr(Ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function k0(n){return new qr(Ur.INVALID_ARGUMENT,n)}function qT(){return new qr(Ur.APP_DELETED,"The Firebase app was deleted.")}function GN(n){return new qr(Ur.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=vr.makeFromUrl(e,t)}catch{return new vr(e,"")}if(i.path==="")return i;throw WN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${v}/b/${o}/o${O}`,"i"),$={bucket:1,path:3},L=t===BT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",W=new RegExp(`^https?://${L}/${o}/${U}`,"i"),J=[{regex:f,indices:h,postModify:a},{regex:M,indices:$,postModify:m},{regex:W,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<J.length;re++){const j=J[re],B=j.regex.exec(e);if(B){const A=B[j.indices.bucket];let P=B[j.indices.path];P||(P=""),i=new vr(A,P),j.postModify(i);break}}if(i==null)throw HN(e);return i}}class KN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n,e,t){let i=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(...U){m||(m=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,n(M,h())},U)}function O(){a&&clearTimeout(a)}function M(U,...W){if(m){O();return}if(U){O(),v.call(null,U,...W);return}if(h()||u){O(),v.call(null,U,...W);return}i<64&&(i*=2);let J;f===1?(f=2,J=0):J=(i+Math.random())*1e3,S(J)}let $=!1;function L(U){$||($=!0,O(),!m&&(o!==null?(U||(f=2),clearTimeout(o),S(0)):U||(f=1)))}return S(0),a=setTimeout(()=>{u=!0,L(!0)},t),L}function YN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){return n!==void 0}function C0(n,e,t,i){if(i<e)throw k0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw k0(`Invalid value for '${n}'. Expected ${t} or less.`)}function JN(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var md;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(md||(md={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t,i,o,a,u,f,h,m,v,S,O=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=S,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,$)=>{this.resolve_=M,this.reject_=$,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new bc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===md.NO_ERROR,h=a.getStatus();if(!f||ZN(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===md.ABORT;i(!1,new bc(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;i(!0,new bc(m,a))})},t=(i,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());XN(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=$N();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?qT():qN();u(h)}else{const h=BN();u(h)}};this.canceled_?t(!1,new bc(!1,null,!0)):this.backoffId_=QN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function nO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function iO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function sO(n,e,t,i,o,a,u=!0){const f=JN(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return rO(m,e),tO(m,t),nO(m,a),iO(m,i),new eO(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function aO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this._service=e,t instanceof vr?this._location=t:this._location=vr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gd(e,t)}get root(){const e=new vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=oO(this._location.path);if(e===null)return null;const t=new vr(this._location.bucket,e);return new gd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw GN(e)}}function P0(n,e){const t=e==null?void 0:e[FN];return t==null?null:vr.makeFromBucketSpec(t,n)}function lO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:ww(o,n.app.options.projectId))}class uO{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=BT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UN,this._maxUploadRetryTime=zN,this._requests=new Set,o!=null?this._bucket=vr.makeFromBucketSpec(o,this._host):this._bucket=P0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vr.makeFromBucketSpec(this._url,e):this._bucket=P0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gd(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new KN(qT());{const u=sO(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const A0="@firebase/storage",R0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="storage";function cO(n=ql(),e){n=ut(n);const i=gi(n,HT).getImmediate({identifier:e}),o=tm("storage");return o&&dO(i,...o),i}function dO(n,e,t,i={}){lO(n,e,t,i)}function fO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new uO(t,i,o,e,to)}function hO(){Jn(new Fn(HT,fO,"PUBLIC").setMultipleInstances(!0)),nn(A0,R0,""),nn(A0,R0,"esm2017")}hO();const WT="@firebase/installations",ng="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1e4,KT=`w:${ng}`,QT="FIS_v2",pO="https://firebaseinstallations.googleapis.com/v1",mO=60*60*1e3,gO="installations",yO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qs=new eo(gO,yO,vO);function YT(n){return n instanceof Un&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT({projectId:n}){return`${pO}/projects/${n}/installations`}function JT(n){return{token:n.token,requestStatus:2,expiresIn:wO(n.expiresIn),creationTime:Date.now()}}async function ZT(n,e){const i=(await e.json()).error;return Qs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function eS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _O(n,{refreshToken:e}){const t=eS(n);return t.append("Authorization",EO(e)),t}async function tS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function wO(n){return Number(n.replace("s","000"))}function EO(n){return`${QT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=XT(n),o=eS(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:QT,appId:n.appId,sdkVersion:KT},f={method:"POST",headers:o,body:JSON.stringify(u)},h=await tS(()=>fetch(i,f));if(h.ok){const m=await h.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:JT(m.authToken)}}else throw await ZT("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^[cdef][\w-]{21}$/,zp="";function bO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=xO(n);return IO.test(t)?t:zp}catch{return zp}}function xO(n){return SO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Map;function iS(n,e){const t=Zd(n);sS(t,e),kO(t,e)}function sS(n,e){const t=rS.get(n);if(t)for(const i of t)i(e)}function kO(n,e){const t=CO();t&&t.postMessage({key:n,fid:e}),PO()}let Bs=null;function CO(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=n=>{sS(n.data.key,n.data.fid)}),Bs}function PO(){rS.size===0&&Bs&&(Bs.close(),Bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="firebase-installations-database",RO=1,Ys="firebase-installations-store";let lp=null;function rg(){return lp||(lp=xw(AO,RO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ys)}}})),lp}async function yd(n,e){const t=Zd(n),o=(await rg()).transaction(Ys,"readwrite"),a=o.objectStore(Ys),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&iS(n,e.fid),e}async function oS(n){const e=Zd(n),i=(await rg()).transaction(Ys,"readwrite");await i.objectStore(Ys).delete(e),await i.done}async function ef(n,e){const t=Zd(n),o=(await rg()).transaction(Ys,"readwrite"),a=o.objectStore(Ys),u=await a.get(t),f=e(u);return f===void 0?await a.delete(t):await a.put(f,t),await o.done,f&&(!u||u.fid!==f.fid)&&iS(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(n){let e;const t=await ef(n.appConfig,i=>{const o=NO(i),a=OO(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===zp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NO(n){const e=n||{fid:bO(),registrationStatus:0};return aS(e)}function OO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Qs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=DO(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:LO(n)}:{installationEntry:e}}async function DO(n,e){try{const t=await TO(n,e);return yd(n.appConfig,t)}catch(t){throw YT(t)&&t.customData.serverCode===409?await oS(n.appConfig):await yd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function LO(n){let e=await N0(n.appConfig);for(;e.registrationStatus===1;)await nS(100),e=await N0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await ig(n);return i||t}return e}function N0(n){return ef(n,e=>{if(!e)throw Qs.create("installation-not-found");return aS(e)})}function aS(n){return MO(n)?{fid:n.fid,registrationStatus:0}:n}function MO(n){return n.registrationStatus===1&&n.registrationTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO({appConfig:n,heartbeatServiceProvider:e},t){const i=jO(n,t),o=_O(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:KT,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(u)},h=await tS(()=>fetch(i,f));if(h.ok){const m=await h.json();return JT(m)}else throw await ZT("Generate Auth Token",h)}function jO(n,{fid:e}){return`${XT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(n,e=!1){let t;const i=await ef(n.appConfig,a=>{if(!lS(a))throw Qs.create("not-registered");const u=a.authToken;if(!e&&zO(u))return a;if(u.requestStatus===1)return t=FO(n,e),a;{if(!navigator.onLine)throw Qs.create("app-offline");const f=BO(a);return t=UO(n,f),f}});return t?await t:i.authToken}async function FO(n,e){let t=await O0(n.appConfig);for(;t.authToken.requestStatus===1;)await nS(100),t=await O0(n.appConfig);const i=t.authToken;return i.requestStatus===0?sg(n,e):i}function O0(n){return ef(n,e=>{if(!lS(e))throw Qs.create("not-registered");const t=e.authToken;return qO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UO(n,e){try{const t=await VO(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await yd(n.appConfig,i),t}catch(t){if(YT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await oS(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yd(n.appConfig,i)}throw t}}function lS(n){return n!==void 0&&n.registrationStatus===2}function zO(n){return n.requestStatus===2&&!$O(n)}function $O(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+mO}function BO(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function qO(n){return n.requestStatus===1&&n.requestTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(n){const e=n,{installationEntry:t,registrationPromise:i}=await ig(e);return i?i.catch(console.error):sg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(n,e=!1){const t=n;return await GO(t),(await sg(t,e)).token}async function GO(n){const{registrationPromise:e}=await ig(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n){if(!n||!n.options)throw up("App Configuration");if(!n.name)throw up("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw up(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function up(n){return Qs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="installations",QO="installations-internal",YO=n=>{const e=n.getProvider("app").getImmediate(),t=KO(e),i=gi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},XO=n=>{const e=n.getProvider("app").getImmediate(),t=gi(e,uS).getImmediate();return{getId:()=>HO(t),getToken:o=>WO(t,o)}};function JO(){Jn(new Fn(uS,YO,"PUBLIC")),Jn(new Fn(QO,XO,"PRIVATE"))}JO();nn(WT,ng);nn(WT,ng,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="analytics",ZO="firebase_id",eD="origin",tD=60*1e3,nD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Cd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new eo("analytics","Analytics",rD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){if(!n.startsWith(og)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return bn.warn(e.message),""}return n}function cS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function sD(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function oD(n,e){const t=sD("firebase-js-sdk-policy",{createScriptURL:iD}),i=document.createElement("script"),o=`${og}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function aD(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function lD(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const h=(await cS(t)).find(m=>m.measurementId===o);h&&await e[h.appId]}}catch(f){bn.error(f)}n("config",o,a)}async function uD(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const f=await cS(t);for(const h of u){const m=f.find(S=>S.measurementId===h),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){bn.error(a)}}function cD(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[f,h]=u;await uD(n,e,t,f,h)}else if(a==="config"){const[f,h]=u;await lD(n,e,t,i,f,h)}else if(a==="consent"){const[f,h]=u;n("consent",f,h)}else if(a==="get"){const[f,h,m]=u;n("get",f,h,m)}else if(a==="set"){const[f]=u;n("set",f)}else n(a,...u)}catch(f){bn.error(f)}}return o}function dD(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=cD(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function fD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(og)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=30,pD=1e3;class mD{constructor(e={},t=pD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dS=new mD;function gD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function yD(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:gD(i)},a=nD.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let f="";try{const h=await u.json();!((e=h.error)===null||e===void 0)&&e.message&&(f=h.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function vD(n,e=dS,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw Vn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Vn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new ED;return setTimeout(async()=>{f.abort()},tD),fS({appId:i,apiKey:o,measurementId:a},u,f,e)}async function fS(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=dS){var a;const{appId:u,measurementId:f}=n;try{await _D(i,e)}catch(h){if(f)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:u,measurementId:f};throw h}try{const h=await yD(n);return o.deleteThrottleMetadata(u),h}catch(h){const m=h;if(!wD(m)){if(o.deleteThrottleMetadata(u),f)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:f};throw h}const v=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?Zv(t,o.intervalMillis,hD):Zv(t,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(u,S),bn.debug(`Calling attemptFetch again in ${v} millis`),fS(n,S,i,o)}}function _D(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wD(n){if(!(n instanceof Un)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class ED{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TD(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(){if(Tw())try{await Sw()}catch(n){return bn.warn(Vn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return bn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ID(n,e,t,i,o,a,u){var f;const h=vD(n);h.then(M=>{t[M.measurementId]=M.appId,n.options.measurementId&&M.measurementId!==n.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>bn.error(M)),e.push(h);const m=SD().then(M=>{if(M)return i.getId()}),[v,S]=await Promise.all([h,m]);fD(a)||oD(a,v.measurementId),o("js",new Date);const O=(f=u==null?void 0:u.config)!==null&&f!==void 0?f:{};return O[eD]="firebase",O.update=!0,S!=null&&(O[ZO]=S),o("config",v.measurementId,O),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.app=e}_delete(){return delete xl[this.app.options.appId],Promise.resolve()}}let xl={},D0=[];const L0={};let cp="dataLayer",xD="gtag",M0,hS,V0=!1;function kD(){const n=[];if(Ew()&&n.push("This is a browser extension environment."),Hx()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});bn.warn(t.message)}}function CD(n,e,t){kD();const i=n.options.appId;if(!i)throw Vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(xl[i]!=null)throw Vn.create("already-exists",{id:i});if(!V0){aD(cp);const{wrappedGtag:a,gtagCore:u}=dD(xl,D0,L0,cp,xD);hS=a,M0=u,V0=!0}return xl[i]=ID(n,D0,L0,e,M0,cp,t),new bD(n)}function PD(n=ql()){n=ut(n);const e=gi(n,vd);return e.isInitialized()?e.getImmediate():AD(n)}function AD(n,e={}){const t=gi(n,vd);if(t.isInitialized()){const o=t.getImmediate();if(es(e,t.getOptions()))return o;throw Vn.create("already-initialized")}return t.initialize({options:e})}function RD(n,e,t,i){n=ut(n),TD(hS,xl[n.app.options.appId],e,t,i).catch(o=>bn.error(o))}const j0="@firebase/analytics",F0="0.10.12";function ND(){Jn(new Fn(vd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return CD(i,o,t)},"PUBLIC")),Jn(new Fn("analytics-internal",n,"PRIVATE")),nn(j0,F0),nn(j0,F0,"esm2017");function n(e){try{const t=e.getProvider(vd).getImmediate();return{logEvent:(i,o,a)=>RD(t,i,o,a)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}ND();const OD={apiKey:"AIzaSyCG_qXbdnlbUIa1QYkzkzto1L8SXFdLLN8",authDomain:"ecommerce-pc-parts.firebaseapp.com",projectId:"ecommerce-pc-parts",storageBucket:"ecommerce-pc-parts.firebasestorage.app",messagingSenderId:"153204523621",appId:"1:153204523621:web:4b1e4bde73cf058b6dfc8c",measurementId:"G-QJTMEYB4PD"},Xs=kw(OD),cn=iA(Xs),xc=VN(Xs);cO(Xs);PD(Xs);function pS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=pS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function qs(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=pS(n))&&(i&&(i+=" "),i+=e);return i}function DD(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}DD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var eu=n=>typeof n=="number"&&!isNaN(n),Js=n=>typeof n=="string",mi=n=>typeof n=="function",LD=n=>Js(n)||eu(n),$p=n=>Js(n)||mi(n)?n:null,MD=(n,e)=>n===!1||eu(n)&&n>0?n:e,Bp=n=>Z.isValidElement(n)||Js(n)||mi(n)||eu(n);function VD(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function jD({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:f,done:h,nodeRef:m,isIn:v,playToast:S}){let O=t?`${n}--${u}`:n,M=t?`${e}--${u}`:e,$=Z.useRef(0);return Z.useLayoutEffect(()=>{let L=m.current,U=O.split(" "),W=X=>{X.target===m.current&&(S(),L.removeEventListener("animationend",W),L.removeEventListener("animationcancel",W),$.current===0&&X.type!=="animationcancel"&&L.classList.remove(...U))};L.classList.add(...U),L.addEventListener("animationend",W),L.addEventListener("animationcancel",W)},[]),Z.useEffect(()=>{let L=m.current,U=()=>{L.removeEventListener("animationend",U),i?VD(L,h,o):h()};v||(f?U():($.current=1,L.className+=` ${M}`,L.addEventListener("animationend",U)))},[v]),rt.createElement(rt.Fragment,null,a)}}function U0(n,e){return{content:mS(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function mS(n,e,t=!1){return Z.isValidElement(n)&&!Js(n.type)?Z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):mi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function FD({closeToast:n,theme:e,ariaLabel:t="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function UD({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:f,rtl:h,isIn:m,theme:v}){let S=o||u&&f===0,O={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(O.transform=`scaleX(${f})`);let M=qs("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),$=mi(a)?a({rtl:h,type:i,defaultClassName:M}):qs(M,a),L={[u&&f>=1?"onTransitionEnd":"onAnimationEnd"]:u&&f<1?null:()=>{m&&t()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),rt.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:$,style:O,...L}))}var zD=1,gS=()=>`${zD++}`;function $D(n,e,t){let i=1,o=0,a=[],u=[],f=e,h=new Map,m=new Set,v=X=>(m.add(X),()=>m.delete(X)),S=()=>{u=Array.from(h.values()),m.forEach(X=>X())},O=({containerId:X,toastId:J,updateId:re})=>{let j=X?X!==n:n!==1,B=h.has(J)&&re==null;return j||B},M=(X,J)=>{h.forEach(re=>{var j;(J==null||J===re.props.toastId)&&((j=re.toggle)==null||j.call(re,X))})},$=X=>{var J,re;(re=(J=X.props)==null?void 0:J.onClose)==null||re.call(J,X.removalReason),X.isActive=!1},L=X=>{if(X==null)h.forEach($);else{let J=h.get(X);J&&$(J)}S()},U=()=>{o-=a.length,a=[]},W=X=>{var J,re;let{toastId:j,updateId:B}=X.props,A=B==null;X.staleId&&h.delete(X.staleId),X.isActive=!0,h.set(j,X),S(),t(U0(X,A?"added":"updated")),A&&((re=(J=X.props).onOpen)==null||re.call(J))};return{id:n,props:f,observe:v,toggle:M,removeToast:L,toasts:h,clearQueue:U,buildToast:(X,J)=>{if(O(J))return;let{toastId:re,updateId:j,data:B,staleId:A,delay:P}=J,I=j==null;I&&o++;let w={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(J).filter(([D,x])=>x!=null)),toastId:re,updateId:j,data:B,isIn:!1,className:$p(J.className||f.toastClassName),progressClassName:$p(J.progressClassName||f.progressClassName),autoClose:J.isLoading?!1:MD(J.autoClose,f.autoClose),closeToast(D){h.get(re).removalReason=D,L(re)},deleteToast(){let D=h.get(re);if(D!=null){if(t(U0(D,"removed")),h.delete(re),o--,o<0&&(o=0),a.length>0){W(a.shift());return}S()}}};w.closeButton=f.closeButton,J.closeButton===!1||Bp(J.closeButton)?w.closeButton=J.closeButton:J.closeButton===!0&&(w.closeButton=Bp(f.closeButton)?f.closeButton:!0);let N={content:X,props:w,staleId:A};f.limit&&f.limit>0&&o>f.limit&&I?a.push(N):eu(P)?setTimeout(()=>{W(N)},P):W(N)},setProps(X){f=X},setToggle:(X,J)=>{let re=h.get(X);re&&(re.toggle=J)},isToastActive:X=>{var J;return(J=h.get(X))==null?void 0:J.isActive},getSnapshot:()=>u}}var dn=new Map,Ul=[],qp=new Set,BD=n=>qp.forEach(e=>e(n)),yS=()=>dn.size>0;function qD(){Ul.forEach(n=>_S(n.content,n.options)),Ul=[]}var HD=(n,{containerId:e})=>{var t;return(t=dn.get(e||1))==null?void 0:t.toasts.get(n)};function vS(n,e){var t;if(e)return!!((t=dn.get(e))!=null&&t.isToastActive(n));let i=!1;return dn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function WD(n){if(!yS()){Ul=Ul.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||LD(n))dn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=dn.get(n.containerId);e?e.removeToast(n.id):dn.forEach(t=>{t.removeToast(n.id)})}}var GD=(n={})=>{dn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function _S(n,e){Bp(n)&&(yS()||Ul.push({content:n,options:e}),dn.forEach(t=>{t.buildToast(n,e)}))}function KD(n){var e;(e=dn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function wS(n,e){dn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function QD(n){let e=n.containerId||1;return{subscribe(t){let i=$D(e,n,BD);dn.set(e,i);let o=i.observe(t);return qD(),()=>{o(),dn.delete(e)}},setProps(t){var i;(i=dn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=dn.get(e))==null?void 0:t.getSnapshot()}}}function YD(n){return qp.add(n),()=>{qp.delete(n)}}function XD(n){return n&&(Js(n.toastId)||eu(n.toastId))?n.toastId:gS()}function tu(n,e){return _S(n,e),e.toastId}function tf(n,e){return{...e,type:e&&e.type||n,toastId:XD(e)}}function nf(n){return(e,t)=>tu(e,tf(n,t))}function Ae(n,e){return tu(n,tf("default",e))}Ae.loading=(n,e)=>tu(n,tf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function JD(n,{pending:e,error:t,success:i},o){let a;e&&(a=Js(e)?Ae.loading(e,o):Ae.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(m,v,S)=>{if(v==null){Ae.dismiss(a);return}let O={type:m,...u,...o,data:S},M=Js(v)?{render:v}:v;return a?Ae.update(a,{...O,...M}):Ae(M.render,{...O,...M}),S},h=mi(n)?n():n;return h.then(m=>f("success",i,m)).catch(m=>f("error",t,m)),h}Ae.promise=JD;Ae.success=nf("success");Ae.info=nf("info");Ae.error=nf("error");Ae.warning=nf("warning");Ae.warn=Ae.warning;Ae.dark=(n,e)=>tu(n,tf("default",{theme:"dark",...e}));function ZD(n){WD(n)}Ae.dismiss=ZD;Ae.clearWaitingQueue=GD;Ae.isActive=vS;Ae.update=(n,e={})=>{let t=HD(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:gS()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,tu(u,a)}};Ae.done=n=>{Ae.update(n,{progress:1})};Ae.onChange=YD;Ae.play=n=>wS(!0,n);Ae.pause=n=>wS(!1,n);function e2(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=Z.useRef(QD(n)).current;o(n);let a=(e=Z.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(f){if(!a)return[];let h=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:v}=m.props;h.has(v)||h.set(v,[]),h.get(v).push(m)}),Array.from(h,m=>f(m[0],m[1]))}return{getToastToRender:u,isToastActive:vS,count:a==null?void 0:a.length}}function t2(n){let[e,t]=Z.useState(!1),[i,o]=Z.useState(!1),a=Z.useRef(null),u=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:m,onClick:v,closeOnClick:S}=n;KD({id:n.toastId,containerId:n.containerId,fn:t}),Z.useEffect(()=>{if(n.pauseOnFocusLoss)return O(),()=>{M()}},[n.pauseOnFocusLoss]);function O(){document.hasFocus()||W(),window.addEventListener("focus",U),window.addEventListener("blur",W)}function M(){window.removeEventListener("focus",U),window.removeEventListener("blur",W)}function $(A){if(n.draggable===!0||n.draggable===A.pointerType){X();let P=a.current;u.canCloseOnClick=!0,u.canDrag=!0,P.style.transition="none",n.draggableDirection==="x"?(u.start=A.clientX,u.removalDistance=P.offsetWidth*(n.draggablePercent/100)):(u.start=A.clientY,u.removalDistance=P.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function L(A){let{top:P,bottom:I,left:w,right:N}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&n.pauseOnHover&&A.clientX>=w&&A.clientX<=N&&A.clientY>=P&&A.clientY<=I?W():U()}function U(){t(!0)}function W(){t(!1)}function X(){u.didMove=!1,document.addEventListener("pointermove",re),document.addEventListener("pointerup",j)}function J(){document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",j)}function re(A){let P=a.current;if(u.canDrag&&P){u.didMove=!0,e&&W(),n.draggableDirection==="x"?u.delta=A.clientX-u.start:u.delta=A.clientY-u.start,u.start!==A.clientX&&(u.canCloseOnClick=!1);let I=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;P.style.transform=`translate3d(${I},0)`,P.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function j(){J();let A=a.current;if(u.canDrag&&u.didMove&&A){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let B={onPointerDown:$,onPointerUp:L};return f&&h&&(B.onMouseEnter=W,n.stacked||(B.onMouseLeave=U)),S&&(B.onClick=A=>{v&&v(A),u.canCloseOnClick&&m(!0)}),{playToast:U,pauseToast:W,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:B}}var n2=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,rf=({theme:n,type:e,isLoading:t,...i})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function r2(n){return rt.createElement(rf,{...n},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function i2(n){return rt.createElement(rf,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function s2(n){return rt.createElement(rf,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function o2(n){return rt.createElement(rf,{...n},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function a2(){return rt.createElement("div",{className:"Toastify__spinner"})}var Hp={info:i2,warning:r2,success:s2,error:o2,spinner:a2},l2=n=>n in Hp;function u2({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(mi(i)?o=i({...a,isLoading:t}):Z.isValidElement(i)?o=Z.cloneElement(i,a):t?o=Hp.spinner():l2(e)&&(o=Hp[e](a))),o}var c2=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=t2(n),{closeButton:u,children:f,autoClose:h,onClick:m,type:v,hideProgressBar:S,closeToast:O,transition:M,position:$,className:L,style:U,progressClassName:W,updateId:X,role:J,progress:re,rtl:j,toastId:B,deleteToast:A,isIn:P,isLoading:I,closeOnClick:w,theme:N,ariaLabel:D}=n,x=qs("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":w}),Q=mi(L)?L({rtl:j,position:$,type:v,defaultClassName:x}):qs(x,L),pe=u2(n),fe=!!re||!h,T={closeToast:O,type:v,theme:N},se=null;return u===!1||(mi(u)?se=u(T):Z.isValidElement(u)?se=Z.cloneElement(u,T):se=FD(T)),rt.createElement(M,{isIn:P,done:A,position:$,preventExitTransition:t,nodeRef:i,playToast:a},rt.createElement("div",{id:B,tabIndex:0,onClick:m,"data-in":P,className:Q,...o,style:U,ref:i,...P&&{role:J,"aria-label":D}},pe!=null&&rt.createElement("div",{className:qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},pe),mS(f,n,!e),se,!n.customProgressBar&&rt.createElement(UD,{...X&&!fe?{key:`p-${X}`}:{},rtl:j,theme:N,delay:h,isRunning:e,isIn:P,closeToast:O,hide:S,type:v,className:W,controlledProgress:fe,progress:re||0})))},d2=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),f2=jD(d2("bounce",!0)),h2={position:"top-right",transition:f2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function p2(n){let e={...h2,...n},t=n.stacked,[i,o]=Z.useState(!0),a=Z.useRef(null),{getToastToRender:u,isToastActive:f,count:h}=e2(e),{className:m,style:v,rtl:S,containerId:O,hotKeys:M}=e;function $(U){let W=qs("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":S});return mi(m)?m({position:U,rtl:S,defaultClassName:W}):qs(W,$p(m))}function L(){t&&(o(!0),Ae.play())}return n2(()=>{var U;if(t){let W=a.current.querySelectorAll('[data-in="true"]'),X=12,J=(U=e.position)==null?void 0:U.includes("top"),re=0,j=0;Array.from(W).reverse().forEach((B,A)=>{let P=B;P.classList.add("Toastify__toast--stacked"),A>0&&(P.dataset.collapsed=`${i}`),P.dataset.pos||(P.dataset.pos=J?"top":"bot");let I=re*(i?.2:1)+(i?0:X*A);P.style.setProperty("--y",`${J?I:I*-1}px`),P.style.setProperty("--g",`${X}`),P.style.setProperty("--s",`${1-(i?j:0)}`),re+=P.offsetHeight,j+=.025})}},[i,h,t]),Z.useEffect(()=>{function U(W){var X;let J=a.current;M(W)&&((X=J.querySelector('[tabIndex="0"]'))==null||X.focus(),o(!1),Ae.pause()),W.key==="Escape"&&(document.activeElement===J||J!=null&&J.contains(document.activeElement))&&(o(!0),Ae.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[M]),rt.createElement("section",{ref:a,className:"Toastify",id:O,onMouseEnter:()=>{t&&(o(!1),Ae.pause())},onMouseLeave:L,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((U,W)=>{let X=W.length?{...v}:{...v,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:$(U),"data-stacked":t,style:X,key:`c-${U}`},W.map(({content:J,props:re})=>rt.createElement(c2,{...re,stacked:t,collapseAll:L,isIn:f(re.toastId,re.containerId),key:`t-${re.key}`},J)))}))}const ES=Z.createContext(void 0),m2=({children:n})=>{const e=()=>{try{const S=localStorage.getItem("cart");return console.log("Cargando carrito desde localStorage:",S),console.log("Dominio actual:",window.location.hostname),console.log("Protocolo:",window.location.protocol),S?JSON.parse(S):[]}catch(S){return console.error("Error al cargar el carrito desde localStorage:",S),[]}},[t,i]=Z.useState(e()),[o,a]=Z.useState(null);Z.useEffect(()=>{try{console.log("Guardando carrito en localStorage:",t),console.log("Dominio actual:",window.location.hostname),localStorage.setItem("cart",JSON.stringify(t))}catch(S){console.error("Error al guardar el carrito en localStorage:",S)}},[t]);const u=S=>{const O=t.find($=>$.id===S.id),M=O?O.quantity:0;if(S.stock!==void 0&&M>=S.stock){Ae.error(`No hay ms stock disponible para ${S.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}a(S),i($=>O?$.map(L=>L.id===S.id?{...L,quantity:L.quantity+1}:L):[...$,{...S,quantity:1}])},f=S=>{const O=t.find(M=>M.id===S);if(O){if(O.stock!==void 0&&O.quantity>=O.stock){Ae.error(`No hay ms stock disponible para ${O.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}i(M=>M.map($=>$.id===S?{...$,quantity:$.quantity+1}:$))}},h=S=>{i(O=>{const M=O.find($=>$.id===S);return M&&M.quantity>1?O.map($=>$.id===S?{...$,quantity:$.quantity-1}:$):O.filter($=>$.id!==S)})},m=S=>{i(O=>{const M=O.find($=>$.id===S);return M&&M.quantity>1?O.map($=>$.id===S?{...$,quantity:$.quantity-1}:$):O.filter($=>$.id!==S)})},v=()=>{i([])};return Z.useEffect(()=>{if(o){const S=t.find(O=>O.id===o.id);S?Ae.success(`${o.name} aadido al carrito (x${S.quantity})`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):Ae.success(`${o.name} aadido al carrito`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a(null)}},[t,o]),C.jsx(ES.Provider,{value:{cartItems:t,addToCart:u,removeFromCart:m,clearCart:v,increaseQuantity:f,decreaseQuantity:h},children:n})},Hr=()=>{const n=Z.useContext(ES);if(!n)throw new Error("useCart must be used within a CartProvider");return n},jn=n=>n.toLocaleString("es-CO",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),g2=()=>{const[n,e]=Z.useState([]),t=xn(),{addToCart:i}=Hr();Z.useEffect(()=>{const u=wa(Zn(cn,"products"),Fm("sales","desc"),zm(4)),f=Br(u,h=>{const m=h.docs.map(v=>({id:v.id,...v.data()}));e(m)},h=>{console.error("Error fetching recently viewed products:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a=u=>{i(u)};return C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Recientemente visto"}),n.length>0?C.jsx(xd,{dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}],children:n.map(u=>C.jsx("div",{className:"p-4",children:C.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),C.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),C.jsxs("div",{className:"mt-auto",children:[C.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",jn(u.price)]}),C.jsx("button",{onClick:()=>a(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]})},u.id))}):C.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos recientes."})]})})},y2=()=>{const[n,e]=Z.useState([]),[t,i]=Z.useState("all"),o=xn(),{addToCart:a}=Hr();Z.useEffect(()=>{const m=Br(Zn(cn,"products"),v=>{const S=v.docs.map(O=>({id:O.id,...O.data()}));S.forEach(O=>{console.log(`Producto: ${O.name}, Categora: ${O.category}`)}),e(S)});return()=>m()},[]);const u=["all","Almacenamiento Externo","Chass","Coolers","Diadema","Fuente de poder","Memoria Ram","Mouse","Mouse Pads","Motherboards","Procesadores","SSD","Tarjeta Grfica"],f=m=>{o(`/product/${m}`)},h=(m,v)=>m-m*v/100;return C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Productos"}),C.jsxs("div",{className:"mb-6 flex items-center",children:[C.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categora:"}),C.jsx("select",{value:t,onChange:m=>i(m.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button text-black bg-white",children:u.map(m=>C.jsx("option",{value:m,className:"",children:m},m))})]}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(m=>{if(t==="all")return!0;const v=m.category?m.category.toLowerCase():"",S=t.toLowerCase();return v===S}).map(m=>C.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>f(m.id)}),C.jsx("h3",{className:"text-lg font-medium text-black truncate",children:m.name})]}),C.jsxs("div",{className:"mt-auto",children:[m.discount&&m.discount>0?C.jsxs("div",{children:[C.jsxs("p",{className:"text-xl text-gray-500 line-through text-black mb-1",children:["$",jn(m.price)]}),C.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",jn(h(m.price,m.discount))," "," ",C.jsxs("span",{className:"text-red-500",children:["(-",m.discount,"%)"]})]})]}):C.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",jn(m.price)," "]}),C.jsx("button",{onClick:()=>a(m),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]},m.id))})]})})},v2=()=>{const[n,e]=Z.useState([]),t=xn(),{addToCart:i}=Hr();Z.useEffect(()=>{const u=wa(Zn(cn,"products"),Mm("discount",">",0)),f=Br(u,h=>{const m=h.docs.map(v=>({id:v.id,...v.data()}));e(m)},h=>{console.error("Error fetching offers:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas Especiales"}),n.length>0?C.jsx(xd,{...a,children:n.map(u=>C.jsx("div",{className:"p-4",children:C.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),C.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),C.jsxs("div",{className:"mt-auto",children:[C.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:[C.jsxs("span",{className:"text-red-500",children:["(-",u.discount,"%)"]}),C.jsx("br",{}),"$",jn(u.price)]}),C.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]})},u.id))}):C.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},_2=()=>{const[n,e]=Z.useState([]),t=xn(),{addToCart:i}=Hr();Z.useEffect(()=>{const u=wa(Zn(cn,"products"),Fm("sales","desc"),zm(4)),f=Br(u,h=>{const m=h.docs.map(v=>({id:v.id,...v.data()}));e(m)},h=>{console.error("Error fetching top selling products:",h)});return()=>f()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ms Vendidos"}),n.length>0?C.jsx(xd,{...a,children:n.map(u=>C.jsx("div",{className:"p-4",children:C.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),C.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),C.jsxs("div",{className:"mt-auto",children:[C.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",jn(u.price)," "]}),C.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]})},u.id))}):C.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos ms vendidos."})]})})},w2=()=>C.jsxs("div",{className:"container mx-auto",children:[C.jsx(kx,{}),C.jsx(g2,{}),C.jsx(v2,{}),C.jsx(_2,{}),C.jsx(y2,{})]}),E2=()=>{const[n,e]=Z.useState([]),t=xn(),{addToCart:i}=Hr();Z.useEffect(()=>{const a=wa(Zn(cn,"products"),Mm("discount",">",0)),u=Br(a,f=>{const h=f.docs.map(m=>({id:m.id,...m.data()}));e(h)},f=>{console.error("Error fetching offers:",f)});return()=>u()},[]);const o=a=>{t(`/product/${a}`)};return C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas"}),n.length>0?C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.map(a=>C.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("img",{src:a.image||"/placeholder.jpg",alt:a.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(a.id)}),C.jsx("h3",{className:"text-lg font-medium text-black truncate",children:a.name})]}),C.jsxs("div",{className:"mt-auto",children:[C.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:[C.jsxs("span",{className:"text-red-500",children:["(-",a.discount,"%)"]}),C.jsx("br",{}),"$",jn(a.price)]}),C.jsx("button",{onClick:()=>i(a),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]},a.id))}):C.jsx("p",{style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},T2=()=>{const[n,e]=Z.useState([]),[t,i]=Z.useState("all"),o=xn(),{addToCart:a}=Hr();Z.useEffect(()=>{const h=Br(Zn(cn,"products"),m=>{const v=m.docs.map(S=>({id:S.id,...S.data()}));e(v)});return()=>h()},[]);const u=["all","Almacenamiento Externo","Chass","Coolers","Diadema","Fuente de poder","Memoria Ram","Mouse","Mouse Pads","Motherboards","Procesadores","SSD","Tarjeta Grfica"],f=h=>{o(`/product/${h}`)};return C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Categoras"}),C.jsxs("div",{className:"mb-6 flex items-center",children:[C.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categora:"}),C.jsx("select",{value:t,onChange:h=>i(h.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button",style:{color:"var(--text-color)"},children:u.map(h=>C.jsx("option",{value:h,className:"text-black",children:h},h))})]}),n.length>0?C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(h=>t==="all"||h.category===t).map(h=>C.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>f(h.id)}),C.jsx("h3",{className:"text-lg font-medium text-black truncate",children:h.name})]}),C.jsxs("div",{className:"mt-auto",children:[C.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",jn(h.price)]}),C.jsx("button",{onClick:()=>a(h),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]},h.id))}):C.jsx("p",{style:{color:"var(--text-color)"},children:"No hay productos disponibles."})]})})},TS=Z.createContext(void 0),S2=({children:n})=>{const[e,t]=Z.useState(null),[i,o]=Z.useState(!0);Z.useEffect(()=>{const f=xR(xc,h=>{t(h),o(!1)});return()=>f()},[]);const a=async(f,h)=>{await SR(xc,f,h)},u=async()=>{await kR(xc)};return C.jsx(TS.Provider,{value:{currentUser:e,signIn:a,signOutUser:u,auth:xc},children:!i&&n})},nu=()=>{const n=Z.useContext(TS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},I2=()=>{const{id:n}=_b(),[e,t]=Z.useState(null),[i,o]=Z.useState([]),[a,u]=Z.useState(""),[f,h]=Z.useState(!0),{addToCart:m}=Hr(),{currentUser:v}=nu(),S=xn();Z.useEffect(()=>{const M=async()=>{if(n)try{const L=await EA(ld(cn,"products",n));L.exists()?t({id:L.id,...L.data()}):console.log("Producto no encontrado:",n)}catch(L){console.error("Error al obtener el producto:",L)}finally{h(!1)}},$=()=>{if(!n)return;const L=Zn(cn,"products",n,"reviews");return Br(L,W=>{const X=W.docs.map(J=>({id:J.id,...J.data()}));o(X)},W=>{console.error("Error al obtener reviews:",W)})};return M(),$()},[n]);const O=async M=>{if(M.preventDefault(),!v){S("/auth");return}if(!(!n||!a.trim()))try{await aT(Zn(cn,"products",n,"reviews"),{userId:v.uid,userEmail:v.email,comment:a.trim(),createdAt:Rt.fromDate(new Date)}),u("")}catch($){console.error("Error al enviar la resea:",$)}};return f?C.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):e?C.jsxs("div",{className:"container mx-auto p-6",children:[C.jsx("button",{onClick:()=>S(-1),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00]",children:" Volver"}),C.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:e.name}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsx("div",{children:C.jsx("img",{src:e.image||"/placeholder.jpg",alt:e.name,className:"w-full h-96 object-cover rounded-lg"})}),C.jsxs("div",{className:"flex flex-col justify-between",children:[C.jsxs("div",{children:[C.jsxs("p",{className:"text-2xl text-[#f90] mb-4",children:[jn(e.price)," COP"]}),e.discount&&e.discount>0&&C.jsxs("p",{className:"text-md text-red-500 mb-4",children:["Descuento: ",e.discount,"%"]}),C.jsx("p",{className:"mb-4",style:{color:"var(--text-color)"},children:e.description}),C.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[C.jsx("strong",{children:"Categora:"})," ",e.category]}),C.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[C.jsx("strong",{children:"Stock:"})," ",e.stock]}),e.coupon&&C.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[C.jsx("strong",{children:"Cupn:"})," ",e.coupon]})]}),C.jsx("button",{onClick:()=>m(e),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00]",children:"Aadir al carrito"})]})]}),C.jsxs("div",{className:"mt-8",children:[C.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Reseas"}),i.length>0?C.jsx("div",{className:"space-y-4",children:i.map(M=>C.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[C.jsx("p",{style:{color:"var(--text-color)"},children:C.jsx("strong",{children:M.userEmail})}),C.jsx("p",{style:{color:"var(--text-color)"},children:M.comment}),C.jsx("p",{className:"text-gray-400 text-sm",children:M.createdAt.toDate().toLocaleDateString()})]},M.id))}):C.jsx("p",{style:{color:"var(--text-color)"},children:"No hay reseas todava."}),v&&C.jsxs("form",{onSubmit:O,className:"mt-6 space-y-4",children:[C.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--text-color)"},children:"Deja tu resea"}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Comentario"}),C.jsx("textarea",{value:a,onChange:M=>u(M.target.value),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4,required:!0})]}),C.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Enviar Resea"})]})]})]}):C.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Producto no encontrado"})},b2=()=>{const{cartItems:n,removeFromCart:e,clearCart:t,increaseQuantity:i,decreaseQuantity:o}=Hr(),a=xn(),u=n.reduce((h,m)=>h+m.price*m.quantity,0),f=()=>{if(n.length===0){alert("El carrito est vaco. Agrega productos antes de pagar.");return}a("/payment",{state:{total:u,cartItems:n}})};return C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Carrito de Compras"}),n.length>0?C.jsxs("div",{children:[C.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(h=>C.jsxs("div",{className:"flex items-center bg-white p-4 rounded-lg border border-gray-300",children:[C.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"text-lg font-medium text-black",children:h.name}),C.jsxs("p",{className:"text-xl text-black",children:["$",jn(h.price)," x ",h.quantity]}),C.jsxs("p",{className:"text-md text-black",children:["Subtotal: $",jn(h.price*h.quantity)]}),C.jsxs("div",{className:"flex items-center mt-2",children:[C.jsx("button",{onClick:()=>o(h.id),className:"bg-gray-300 text-black px-3 py-1 rounded-md hover:bg-gray-400",children:""}),C.jsx("span",{className:"mx-3 text-black",children:h.quantity}),C.jsx("button",{onClick:()=>i(h.id),className:"bg-gray-300 text-black px-3 py-1 rounded-md hover:bg-gray-400",children:"+"})]})]}),C.jsx("button",{onClick:()=>e(h.id),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Eliminar"})]},h.id))}),C.jsxs("div",{className:"mt-6 text-right",children:[C.jsxs("p",{className:"text-2xl font-semibold text-black",children:["TOTAL: $",jn(u)]}),C.jsx("button",{onClick:t,className:"mt-4 bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600 mr-4",children:"Limpiar carrito"}),C.jsx("button",{onClick:f,className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Proceder al pago"})]})]}):C.jsx("p",{style:{color:"var(--text-color)"},children:"Tu carrito est vaco."})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wp=function(){return Wp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},Wp.apply(this,arguments)},Gp,x2=function(n){var e;n?function(t){if(t)for(;t.lastChild;)t.lastChild.remove()}(typeof n=="string"?document.getElementById(n):n):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},k2=function(n,e){x2(e),window.___grecaptcha_cfg=void 0;var t=document.querySelector("#"+n);t&&t.remove(),function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()}()},C2=function(n){var e=n.render,t=n.onLoadCallbackName,i=n.language,o=n.onLoad,a=n.useRecaptchaNet,u=n.useEnterprise,f=n.scriptProps,h=f===void 0?{}:f,m=h.nonce,v=m===void 0?"":m,S=h.defer,O=S!==void 0&&S,M=h.async,$=M!==void 0&&M,L=h.id,U=L===void 0?"":L,W=h.appendTo,X=U||"google-recaptcha-v3";if(function(j){return!!document.querySelector("#"+j)}(X))o();else{var J=function(j){return"https://www."+(j.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(j.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:u,useRecaptchaNet:a}),re=document.createElement("script");re.id=X,re.src=J+"?render="+e+(e==="explicit"?"&onload="+t:"")+(i?"&hl="+i:""),v&&(re.nonce=v),re.defer=!!O,re.async=!!$,re.onload=o,(W==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(re)}},z0=function(n){console.warn(n)};(function(n){n.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Gp||(Gp={}));var ag=Z.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});ag.Consumer;function SS(n){var e=n.reCaptchaKey,t=n.useEnterprise,i=t!==void 0&&t,o=n.useRecaptchaNet,a=o!==void 0&&o,u=n.scriptProps,f=n.language,h=n.container,m=n.children,v=Z.useState(null),S=v[0],O=v[1],M=Z.useRef(e),$=JSON.stringify(u),L=JSON.stringify(h==null?void 0:h.parameters);Z.useEffect(function(){if(e){var X=(u==null?void 0:u.id)||"google-recaptcha-v3",J=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[J]=function(){var re=i?window.grecaptcha.enterprise:window.grecaptcha,j=Wp({badge:"inline",size:"invisible",sitekey:e},(h==null?void 0:h.parameters)||{});M.current=re.render(h==null?void 0:h.element,j)},C2({render:h!=null&&h.element?"explicit":e,onLoadCallbackName:J,useEnterprise:i,useRecaptchaNet:a,scriptProps:u,language:f,onLoad:function(){if(window&&window.grecaptcha){var re=i?window.grecaptcha.enterprise:window.grecaptcha;re.ready(function(){O(re)})}else z0("<GoogleRecaptchaProvider /> "+Gp.SCRIPT_NOT_AVAILABLE)}}),function(){k2(X,h==null?void 0:h.element)}}z0("<GoogleReCaptchaProvider /> recaptcha key not provided")},[i,a,$,L,f,e,h==null?void 0:h.element]);var U=Z.useCallback(function(X){if(!S||!S.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return S.execute(M.current,{action:X})},[S,M]),W=Z.useMemo(function(){return{executeRecaptcha:S?U:void 0,container:h==null?void 0:h.element}},[U,S,h==null?void 0:h.element]);return rt.createElement(ag.Provider,{value:W},m)}var IS=function(){return Z.useContext(ag)};function bS(n,e){return n(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var zt=typeof Symbol=="function"&&Symbol.for,Kp=zt?Symbol.for("react.element"):60103,Qp=zt?Symbol.for("react.portal"):60106,Vc=zt?Symbol.for("react.fragment"):60107,jc=zt?Symbol.for("react.strict_mode"):60108,Fc=zt?Symbol.for("react.profiler"):60114,Uc=zt?Symbol.for("react.provider"):60109,zc=zt?Symbol.for("react.context"):60110,Yp=zt?Symbol.for("react.async_mode"):60111,_d=zt?Symbol.for("react.concurrent_mode"):60111,$c=zt?Symbol.for("react.forward_ref"):60112,Bc=zt?Symbol.for("react.suspense"):60113,P2=zt?Symbol.for("react.suspense_list"):60120,qc=zt?Symbol.for("react.memo"):60115,Hc=zt?Symbol.for("react.lazy"):60116,A2=zt?Symbol.for("react.block"):60121,R2=zt?Symbol.for("react.fundamental"):60117,N2=zt?Symbol.for("react.responder"):60118,O2=zt?Symbol.for("react.scope"):60119;function Ln(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Kp:switch(n=n.type){case Yp:case _d:case Vc:case Fc:case jc:case Bc:return n;default:switch(n=n&&n.$$typeof){case zc:case $c:case Hc:case qc:case Uc:return n;default:return e}}case Qp:return e}}}function $0(n){return Ln(n)===_d}var D2={AsyncMode:Yp,ConcurrentMode:_d,ContextConsumer:zc,ContextProvider:Uc,Element:Kp,ForwardRef:$c,Fragment:Vc,Lazy:Hc,Memo:qc,Portal:Qp,Profiler:Fc,StrictMode:jc,Suspense:Bc,isAsyncMode:function(n){return $0(n)||Ln(n)===Yp},isConcurrentMode:$0,isContextConsumer:function(n){return Ln(n)===zc},isContextProvider:function(n){return Ln(n)===Uc},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Kp},isForwardRef:function(n){return Ln(n)===$c},isFragment:function(n){return Ln(n)===Vc},isLazy:function(n){return Ln(n)===Hc},isMemo:function(n){return Ln(n)===qc},isPortal:function(n){return Ln(n)===Qp},isProfiler:function(n){return Ln(n)===Fc},isStrictMode:function(n){return Ln(n)===jc},isSuspense:function(n){return Ln(n)===Bc},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===Vc||n===_d||n===Fc||n===jc||n===Bc||n===P2||typeof n=="object"&&n!==null&&(n.$$typeof===Hc||n.$$typeof===qc||n.$$typeof===Uc||n.$$typeof===zc||n.$$typeof===$c||n.$$typeof===R2||n.$$typeof===N2||n.$$typeof===O2||n.$$typeof===A2)},typeOf:Ln},nt=bS(function(n,e){}),B0=(nt.AsyncMode,nt.ConcurrentMode,nt.ContextConsumer,nt.ContextProvider,nt.Element,nt.ForwardRef,nt.Fragment,nt.Lazy,nt.Memo,nt.Portal,nt.Profiler,nt.StrictMode,nt.Suspense,nt.isAsyncMode,nt.isConcurrentMode,nt.isContextConsumer,nt.isContextProvider,nt.isElement,nt.isForwardRef,nt.isFragment,nt.isLazy,nt.isMemo,nt.isPortal,nt.isProfiler,nt.isStrictMode,nt.isSuspense,nt.isValidElementType,nt.typeOf,bS(function(n){n.exports=D2})),L2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q0={};q0[B0.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},q0[B0.Memo]=L2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="type.googleapis.com/google.protobuf.Int64Value",V2="type.googleapis.com/google.protobuf.UInt64Value";function xS(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function wd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>wd(e));if(typeof n=="function"||typeof n=="object")return xS(n,e=>wd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function ha(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case M2:case V2:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>ha(e)):typeof n=="function"||typeof n=="object"?xS(n,e=>ha(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class In extends Un{constructor(e,t,i){super(`${lg}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,In.prototype)}}function j2(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ed(n,e){let t=j2(n),i=t,o;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!H0[u])return new In("internal","internal");t=H0[u],i=u}const f=a.message;typeof f=="string"&&(i=f),o=a.details,o!==void 0&&(o=ha(o))}}catch{}return t==="ok"?null:new In(t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Tn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o==null||o.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="us-central1",U2=/^data: (.*?)(?:\n|$)/;function z2(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new In("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class $2{constructor(e,t,i,o,a=Xp,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new F2(e,t,i,o),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(a);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=Xp}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function B2(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function q2(n,e,t){const i=o=>W2(n,e,o,{});return i.stream=(o,a)=>K2(n,e,o,a),i}async function H2(n,e,t,i){t["Content-Type"]="application/json";let o;try{o=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function kS(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function W2(n,e,t,i){const o=n._url(e);return G2(n,o,t,i)}async function G2(n,e,t,i){t=wd(t);const o={data:t},a=await kS(n,i),u=i.timeout||7e4,f=z2(u),h=await Promise.race([H2(e,o,a,n.fetchImpl),f.promise,n.cancelAllRequests]);if(f.cancel(),!h)throw new In("cancelled","Firebase Functions instance was deleted.");const m=Ed(h.status,h.json);if(m)throw m;if(!h.json)throw new In("internal","Response is not valid JSON object.");let v=h.json.data;if(typeof v>"u"&&(v=h.json.result),typeof v>"u")throw new In("internal","Response is missing data field.");return{data:ha(v)}}function K2(n,e,t,i){const o=n._url(e);return Q2(n,o,t,i||{})}async function Q2(n,e,t,i){var o;t=wd(t);const a={data:t},u=await kS(n,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:i==null?void 0:i.signal})}catch(M){if(M instanceof Error&&M.name==="AbortError"){const L=new In("cancelled","Request was cancelled.");return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}const $=Ed(0,null);return{data:Promise.reject($),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject($)}}}}}}let h,m;const v=new Promise((M,$)=>{h=M,m=$});(o=i==null?void 0:i.signal)===null||o===void 0||o.addEventListener("abort",()=>{const M=new In("cancelled","Request was cancelled.");m(M)});const S=f.body.getReader(),O=Y2(S,h,m,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const M=O.getReader();return{async next(){const{value:$,done:L}=await M.read();return{value:$,done:L}},async return(){return await M.cancel(),{done:!0,value:void 0}}}}},data:v}}function Y2(n,e,t,i){const o=(u,f)=>{const h=u.match(U2);if(!h)return;const m=h[1];try{const v=JSON.parse(m);if("result"in v){e(ha(v.result));return}if("message"in v){f.enqueue(ha(v.message));return}if("error"in v){const S=Ed(0,v);f.error(S),t(S);return}}catch(v){if(v instanceof In){f.error(v),t(v);return}}},a=new TextDecoder;return new ReadableStream({start(u){let f="";return h();async function h(){if(i!=null&&i.aborted){const m=new In("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:v}=await n.read();if(v){f.trim()&&o(f.trim(),u),u.close();return}if(i!=null&&i.aborted){const O=new In("cancelled","Request was cancelled");u.error(O),t(O),await n.cancel();return}f+=a.decode(m,{stream:!0});const S=f.split(`
`);f=S.pop()||"";for(const O of S)O.trim()&&o(O.trim(),u);return h()}catch(m){const v=m instanceof In?m:Ed(0,null);u.error(v),t(v)}}},cancel(){return n.cancel()}})}const W0="@firebase/functions",G0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="auth-internal",J2="app-check-internal",Z2="messaging-internal";function eL(n){const e=(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider(X2),u=t.getProvider(Z2),f=t.getProvider(J2);return new $2(o,a,u,f,i)};Jn(new Fn(lg,e,"PUBLIC").setMultipleInstances(!0)),nn(W0,G0,n),nn(W0,G0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n=ql(),e=Xp){const i=gi(ut(n),lg).getImmediate({identifier:e}),o=tm("functions");return o&&tL(i,...o),i}function tL(n,e,t){B2(ut(n),e,t)}function kl(n,e,t){return q2(ut(n),e)}eL();const nL="6Le6wP8qAAAAAIV6aM1kbahFnM3jH8Z5ieJ_pGMQ",rL=()=>{const[n,e]=Z.useState(""),[t,i]=Z.useState(""),[o,a]=Z.useState(""),{signIn:u,auth:f}=nu(),h=xn(),{executeRecaptcha:m}=IS(),[v,S]=Z.useState(!1),O=async $=>{if($.preventDefault(),a(""),!m){Ae.error("Error al cargar reCAPTCHA. Intenta de nuevo.");return}S(!0);try{const L=await m("login");if(!L)throw new Error("No se pudo obtener el token de reCAPTCHA.");console.log("reCAPTCHA Token:",L);const U=Td(Xs,"us-central1"),X=await kl(U,"loginUserWithRecaptcha")({email:n,password:t,recaptchaToken:L});if(X.data.success)await u(n,t),Ae.success("Inicio de sesin exitoso"),h("/");else throw new Error(X.data.message||"Error al iniciar sesin")}catch(L){const U=L.message||"Error al iniciar sesin";U.includes("reCAPTCHA")?(a("Error al verificar reCAPTCHA. Intenta de nuevo."),Ae.error("Error al verificar reCAPTCHA. Intenta de nuevo.")):U.includes("auth/")?(a("Correo o contrasea incorrectos."),Ae.error("Correo o contrasea incorrectos.")):(a(U),Ae.error(U))}finally{S(!1)}},M=async()=>{a(""),S(!0);try{const $=new Dr;if((await zT(f,$)).user)Ae.success("Inicio de sesin con Google exitoso"),h("/");else throw new Error("No se pudo obtener el usuario de Google.")}catch($){const L=$.message||"Error al iniciar sesin con Google";a(L),Ae.error(L)}finally{S(!1)}};return C.jsx("div",{className:"bg-body text-white p-6",children:C.jsxs("div",{className:"container mx-auto max-w-md",children:[C.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Iniciar Sesin"}),o&&C.jsx("p",{className:"text-red-500 mb-4",children:o}),C.jsxs("form",{onSubmit:O,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Correo Electrnico"}),C.jsx("input",{type:"email",value:n,onChange:$=>e($.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Contrasea"}),C.jsx("input",{type:"password",value:t,onChange:$=>i($.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),C.jsx("button",{type:"submit",disabled:v,className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00] disabled:opacity-50",children:v?"Iniciando...":"Iniciar Sesin"})]}),C.jsx("div",{className:"mt-4",children:C.jsxs("button",{onClick:M,disabled:v,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[C.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:C.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.032,2,12.545,2C6.735,2,2,6.735,2,12.545c0,5.81,4.735,10.545,10.545,10.545c5.81,0,10.545-4.735,10.545-10.545c0-0.641-0.057-1.265-0.163-1.871H12.545z"})}),v?"Iniciando...":"Iniciar Sesin con Google"]})}),C.jsxs("p",{className:"mt-4 text-center",children:["No tienes una cuenta?"," ",C.jsx(ai,{to:"/auth/register",className:"text-[#f90] hover:underline",children:"Regstrate"})]})]})})},iL=()=>C.jsx(SS,{reCaptchaKey:nL,children:C.jsx(rL,{})}),sL=()=>{const{currentUser:n}=nu(),e=xn(),[t,i]=Z.useState([]),[o,a]=Z.useState({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""});Z.useEffect(()=>{if(!n||n.email!=="admin@example.com"){e("/");return}const m=Br(Zn(cn,"products"),v=>{const S=v.docs.map(O=>({id:O.id,...O.data()}));i(S)});return()=>m()},[n,e]);const u=async m=>{m.preventDefault();try{await aT(Zn(cn,"products"),o),a({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""})}catch(v){console.error("Error al aadir producto:",v)}},f=async m=>{try{await SA(ld(cn,"products",m))}catch(v){console.error("Error al eliminar producto:",v)}},h=async(m,v)=>{try{await TA(ld(cn,"products",m),{stock:v})}catch(S){console.error("Error al actualizar stock:",S)}};return!n||n.email!=="admin@example.com"?null:C.jsx("div",{className:"p-6",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Panel Administrativo"}),C.jsxs("div",{className:"mb-8",children:[C.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Aadir Producto"}),C.jsxs("form",{onSubmit:u,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Nombre"}),C.jsx("input",{type:"text",value:o.name,onChange:m=>a({...o,name:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Precio"}),C.jsx("input",{type:"number",value:o.price,onChange:m=>a({...o,price:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Imagen (URL)"}),C.jsx("input",{type:"text",value:o.image,onChange:m=>a({...o,image:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Categora"}),C.jsx("input",{type:"text",value:o.category,onChange:m=>a({...o,category:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descripcin"}),C.jsx("textarea",{value:o.description,onChange:m=>a({...o,description:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descuento (%)"}),C.jsx("input",{type:"number",value:o.discount,onChange:m=>a({...o,discount:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Ventas"}),C.jsx("input",{type:"number",value:o.sales,onChange:m=>a({...o,sales:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Stock"}),C.jsx("input",{type:"number",value:o.stock,onChange:m=>a({...o,stock:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Cupn"}),C.jsx("input",{type:"text",value:o.coupon,onChange:m=>a({...o,coupon:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),C.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Aadir Producto"})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Gestionar Productos"}),C.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(m=>C.jsxs("div",{className:"flex items-center bg-menu p-4 rounded-lg border border-gray-700",children:[C.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:m.name}),C.jsxs("p",{className:"text-md text-[#f90]",children:["$",m.price]}),C.jsxs("p",{style:{color:"var(--text-color)"},children:["Stock: ",m.stock]}),C.jsxs("div",{className:"flex items-center mt-2",children:[C.jsx("input",{type:"number",defaultValue:m.stock,onBlur:v=>h(m.id,Number(v.target.value)),className:"w-20 p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90] mr-2",style:{color:"var(--text-color)"}}),C.jsx("button",{onClick:()=>f(m.id),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Eliminar"})]})]})]},m.id))})]})]})})},oL=()=>{const{search:n}=ma(),e=xn(),[t,i]=Z.useState([]),[o,a]=Z.useState(!0),f=new URLSearchParams(n).get("q");return Z.useEffect(()=>{if(!f){e("/");return}a(!0);const h=f.toLowerCase().trim(),m=wa(Zn(cn,"products"),Mm("searchKeywords","array-contains",h)),v=Br(m,S=>{const O=S.docs.map(M=>({id:M.id,...M.data()}));i(O),a(!1)},S=>{console.error("Error fetching search results:",S),a(!1)});return()=>v()},[f,e]),o?C.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):f?C.jsxs("div",{className:"container mx-auto p-6",children:[C.jsxs("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:["Resultados de bsqueda para: ",f]}),t.length>0?C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(h=>C.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg border border-gray-700 bg-white justify-between",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("img",{src:h.image||"/placeholder.jpg",alt:h.name,className:"w-full h-40 object-cover rounded-md mb-4"}),C.jsx("h3",{className:"text-lg font-medium text-black truncate",children:h.name})]}),C.jsxs("div",{className:"mt-auto",children:[C.jsxs("p",{className:"text-2x1 text-button text-black mb-2",children:["$",jn(h.price)," "]}),C.jsx("button",{onClick:()=>e(`/product/${h.id}`),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Ver detalles"})]})]},h.id))}):C.jsxs("p",{style:{color:"var(--text-color)"},children:['No se encontraron productos para "',f,'".']})]}):C.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"No se proporcion trmino de bsqueda"})},aL="6Le6wP8qAAAAAIV6aM1kbahFnM3jH8Z5ieJ_pGMQ",lL=()=>{const{executeRecaptcha:n}=IS(),e=xn(),{auth:t}=nu(),[i,o]=Z.useState(""),[a,u]=Z.useState(""),[f,h]=Z.useState(""),[m,v]=Z.useState(!1),S=async M=>{if(M.preventDefault(),!n){Ae.error("Error al cargar reCAPTCHA. Intenta de nuevo.");return}v(!0);try{const $=await n("register");if(!$)throw new Error("No se pudo obtener el token de reCAPTCHA.");console.log("reCAPTCHA Token:",$);const L=Td(Xs,"us-central1"),W=await kl(L,"registerUserWithRecaptcha")({email:i,password:a,recaptchaToken:$});if(W.data.success){Ae.success("Registro exitoso. Bienvenido!");const J=await kl(L,"sendWelcomeEmail")({email:i,fullName:f});J.data.success?(console.log("Correo de bienvenida enviado:",J.data.message),Ae.info("Se ha enviado un correo de bienvenida.")):(console.error("Error al enviar correo:",J.data.message),Ae.error("Registro exitoso, pero fall el envo del correo.")),e("/auth")}else throw new Error(W.data.message||"Error al registrarse")}catch($){const L=$.message||"Error al registrarse";L.includes("reCAPTCHA")?Ae.error("Error al verificar reCAPTCHA. Intenta de nuevo."):L.includes("auth/email-already-in-use")?Ae.error("El correo ya est registrado. Intenta iniciar sesin."):Ae.error(L)}finally{v(!1)}},O=async()=>{v(!0);try{const M=new Dr,L=(await zT(t,M)).user;if(L){const U=Td(Xs,"us-central1"),X=await kl(U,"sendWelcomeEmail")({email:L.email||"",fullName:L.displayName||"Usuario"});X.data.success?(console.log("Correo de bienvenida enviado:",X.data.message),Ae.info("Se ha enviado un correo de bienvenida.")):(console.error("Error al enviar correo:",X.data.message),Ae.error("Registro exitoso, pero fall el envo del correo.")),Ae.success("Registro con Google exitoso"),e("/")}else throw new Error("No se pudo obtener el usuario de Google.")}catch(M){const $=M.message||"Error al registrarse con Google";Ae.error($)}finally{v(!1)}};return C.jsxs("div",{className:"space-y-4 max-w-md mx-auto p-6 rounded-lg shadow-lg",children:[C.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"var(--text-color)"},children:"Registro"}),C.jsxs("form",{onSubmit:S,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Nombre Completo"}),C.jsx("input",{type:"text",id:"fullName",value:f,onChange:M=>h(M.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Email"}),C.jsx("input",{type:"email",id:"email",value:i,onChange:M=>o(M.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Contrasea"}),C.jsx("input",{type:"password",id:"password",value:a,onChange:M=>u(M.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),C.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] py-2 px-4 rounded-md hover:bg-[var (--button-bg-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f90] disabled:bg-gray-400 dark:disabled:bg-gray-600",children:m?"Registrando...":"Registrarse"})]}),C.jsx("div",{className:"mt-4",children:C.jsxs("button",{onClick:O,disabled:m,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[C.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:C.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.032,2,12.545,2C6.735,2,2,6.735,2,12.545c0,5.81,4.735,10.545,10.545,10.545c5.81,0,10.545-4.735,10.545-10.545c0-0.641-0.057-1.265-0.163-1.871H12.545z"})}),m?"Registrando...":"Registrarse con Google"]})}),C.jsxs("p",{className:"text-center text-sm",style:{color:"var(--text-color)"},children:["Ya tienes cuenta?"," ",C.jsx("a",{href:"/auth",className:"text-[var(--button-bg)] hover:underline",children:"Inicia sesin"})]})]})},uL=()=>C.jsx(SS,{reCaptchaKey:aL,children:C.jsx("div",{className:"min-h-screen bg-[var(--background-color)] flex items-center justify-center",children:C.jsx(lL,{})})}),CS=Z.createContext(void 0),cL=({children:n})=>{const[e,t]=Z.useState("dark");Z.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;t(o?"dark":"light")},[]),Z.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return C.jsx(CS.Provider,{value:{theme:e,toggleTheme:i},children:n})},dL=()=>{const n=Z.useContext(CS);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},fL=()=>{const[n,e]=Z.useState(""),[t,i]=Z.useState([]),{cartItems:o}=Hr(),{currentUser:a,signOutUser:u}=nu(),f=xn(),[h,m]=Z.useState(!1),{theme:v,toggleTheme:S}=dL(),O=o.reduce((U,W)=>U+W.quantity,0),M=U=>{const W=U.target.value.toLowerCase().trim();if(e(W),W.length>0){console.log("Buscando trmino:",W);const X=wa(Zn(cn,"products"),Fm("nameLowercase"),mA(W),gA(W+""),zm(5)),J=Br(X,re=>{console.log("Snapshot recibido:",re.docs.length);const j=re.docs.map(B=>({id:B.id,...B.data()}));console.log("Resultados encontrados:",j),i(j)},re=>{console.error("Error en la bsqueda:",re)});return()=>J()}else i([])},$=U=>{if(U.key==="Enter"){const W=n.toLowerCase().trim();W.length>0&&(console.log("Redirigiendo a /search con trmino:",W),f(`/search?q=${W}`),e(""),i([]))}},L=async()=>{try{await u(),f("/"),m(!1)}catch(U){console.error("Error al cerrar sesin:",U.message)}};return C.jsx("header",{className:"bg-menu p-4 shadow-lg",style:{position:"sticky",top:0,zIndex:1e3,width:"100%"},children:C.jsxs("div",{className:"container mx-auto flex flex-wrap gap-5 items-center",children:[C.jsx("div",{className:"basis-3/24",children:C.jsx(ai,{to:"/",className:"flex-shrink-0",children:C.jsx("img",{src:"https://github.com/carlosarley/ecommercev2/raw/main/src/assets/img/Recurso-1.svg",alt:"Logo",className:"h-10 md:h-12"})})}),C.jsxs("div",{className:"basis-14/24",children:[C.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:M,onKeyDown:$,className:"w-full p-3 rounded-full bg-gray-800 dark:bg-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f90] text-base md:text-lg",style:{color:"black"}}),t.length>0&&C.jsx("ul",{className:"absolute w-120 bg-gray-900 dark:bg-gray-100 border border-gray-700 dark:border-gray-300 mt-2 rounded-lg shadow-lg z-10",style:{color:"black"},children:t.map(U=>C.jsx("li",{className:"p-3 hover:bg-gray-700 dark:hover:bg-gray-200 cursor-pointer",style:{color:"black"},onClick:()=>{f(`/product/${U.id}`),e(""),i([])},children:U.name},U.id))})]}),C.jsx("div",{className:"basis-1/24",children:C.jsx("button",{onClick:S,className:"w-full bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:v==="light"?"":""})}),C.jsx("div",{className:"basis-1/24",children:a?C.jsx("button",{onClick:L,className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Cerrar Sesin"}):C.jsx(ai,{to:"/auth",children:C.jsx("span",{className:"w-full bg-[--button-bg] text-white px-2 py-1 rounded-full hover:bg-[--button-bg-hover] text-sm flex items-center justify-center",children:"Iniciar Sesin"})})}),C.jsx("div",{className:"basis-1/24 text-white",children:C.jsx(ai,{to:"/auth/register",children:"Registrarse"})}),C.jsx("div",{className:"basis-1/24",children:C.jsx(ai,{to:"/cart",className:"flex items-center justify-center",children:C.jsxs("span",{className:"bg-orange relative flex items-center justify-center bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:["",O>0&&C.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:O})]})})}),h&&C.jsxs("div",{className:"md:hidden mt-2 w-full bg-menu p-2 rounded-lg shadow-lg",children:[a&&C.jsx("div",{className:"mb-2",children:C.jsx("span",{style:{color:"black"},children:`Bienvenido, ${a.email}`})}),a&&a.email==="admin@example.com"&&C.jsx(ai,{to:"/admin",className:"block w-full text-center mb-2",children:C.jsx("span",{className:"bg-[--button-bg] text-[--button-text] px-2 py-1 rounded-full hover:bg-[--button-bg-hover]",children:"Panel Admin"})})]})]})})},hL=()=>{const[n,e]=Z.useState(!1);return C.jsx("nav",{className:"bg-menu text-white p-4",children:C.jsx("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:C.jsxs("div",{className:"flex items-center w-full justify-between",children:[C.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:()=>e(!n),"aria-label":"Toggle menu",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),C.jsxs("div",{className:`md:flex space-x-6 ${n?"block":"hidden"} md:block`,children:[C.jsx(ai,{to:"/offers",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Ofertas"}),C.jsx(ai,{to:"/categories",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Categoras"})]})]})})})},pL=()=>{const[n,e]=Z.useState(new Date().getFullYear());return Z.useEffect(()=>{e(new Date().getFullYear())},[]),C.jsx("footer",{className:"bg-menu text-white p-8 mt-8",children:C.jsxs("div",{className:"container mx-auto",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[C.jsxs("div",{children:[C.jsx(ai,{to:"/",className:"flex-shrink-0 pb",children:C.jsx("img",{src:"https://github.com/carlosarley/ecommercev2/raw/main/src/assets/img/Recurso-1.svg",alt:"Logo",className:"h-10 md:h-12"})}),C.jsx("p",{children:"Tu tienda favorita para componentes de PC y ms."})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces"}),C.jsxs("ul",{children:[C.jsx("li",{children:C.jsx("a",{href:"/",className:"hover:text-button",children:"Inicio"})}),C.jsx("li",{children:C.jsx("a",{href:"/offers",className:"hover:text-button",children:"Ofertas"})}),C.jsx("li",{children:C.jsx("a",{href:"/categories",className:"hover:text-button",children:"Categoras"})})]})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),C.jsxs("ul",{children:[C.jsx("li",{children:C.jsx("a",{href:"#",className:"hover:text-button",children:"Facebook"})}),C.jsx("li",{children:C.jsx("a",{href:"#",className:"hover:text-button",children:"Twitter"})}),C.jsx("li",{children:C.jsx("a",{href:"#",className:"hover:text-button",children:"Instagram"})})]})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),C.jsx("p",{children:"Email: support@ecommercepcparts.com"}),C.jsx("p",{children:"Telfono: +123 456 7890"})]})]}),C.jsxs("p",{className:"text-center mt-8",children:[" ",n," PC HUB. Todos los derechos reservados."]})]})})},mL=()=>{const{cartItems:n}=Hr(),{state:e}=ma(),{total:t=0}=e||{},i=Math.round(t*100),o=async()=>{if(n.length===0){Ae.error("El carrito est vaco. Agrega productos antes de pagar.");return}const a=Td(),u=kl(a,"createWompiTransaction");try{const f=await u({amountInCents:i,customerEmail:"cliente@example.com",customerData:{full_name:"Cliente Ejemplo",email:"cliente@example.com",phone_number:"3001234567",legal_id:"123456789",legal_id_type:"CC"}}),{success:h,transactionId:m,reference:v,redirectUrl:S,error:O}=f.data;h&&m&&v&&S?(Ae.success("Transaccin creada. Redirigiendo al checkout de Wompi..."),window.location.href=S):(console.error("Error al crear transaccin:",O),Ae.error("Error al procesar el pago. Intenta de nuevo."))}catch(f){console.error("Error al crear transaccin:",f),Ae.error("Error al procesar el pago. Intenta de nuevo.")}};return C.jsxs("div",{className:"container mx-auto p-6 min-h-screen",children:[C.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-color)"},children:"Pago con Wompi"}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("p",{className:"text-lg",style:{color:"var(--text-color)"},children:["Total a pagar: $",(t/100).toFixed(2)," COP"]}),C.jsx("button",{onClick:o,className:"bg-[#f90] text-white px-4 py-2 rounded hover:bg-[#e68a00]",children:"Pagar con Wompi"})]})]})},gL=()=>C.jsx(S2,{children:C.jsx(m2,{children:C.jsxs($b,{children:[C.jsx(fL,{}),C.jsx(hL,{}),C.jsxs(Lb,{children:[C.jsx(Xn,{path:"/",element:C.jsx(w2,{})}),C.jsx(Xn,{path:"/payment",element:C.jsx(mL,{})}),C.jsx(Xn,{path:"/offers",element:C.jsx(E2,{})}),C.jsx(Xn,{path:"/categories",element:C.jsx(T2,{})}),C.jsx(Xn,{path:"/product/:id",element:C.jsx(I2,{})}),C.jsx(Xn,{path:"/cart",element:C.jsx(b2,{})}),C.jsx(Xn,{path:"/admin",element:C.jsx(sL,{})}),C.jsx(Xn,{path:"/search",element:C.jsx(oL,{})}),C.jsxs(Xn,{path:"/auth",children:[C.jsx(Xn,{index:!0,element:C.jsx(iL,{})}),C.jsx(Xn,{path:"register",element:C.jsx(uL,{})})]})]}),C.jsx(pL,{}),C.jsx(p2,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})})});BI.createRoot(document.getElementById("root")).render(C.jsx(rt.StrictMode,{children:C.jsx(cL,{children:C.jsx(gL,{})})}));
