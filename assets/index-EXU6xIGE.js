function DS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function LS(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Rf={exports:{}},pl={},Nf={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function MS(){if(yv)return Be;yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,L={};function j(x,U,te){this.props=x,this.context=U,this.refs=L,this.updater=te||M}j.prototype.isReactComponent={},j.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=j.prototype;function Y(x,U,te){this.props=x,this.context=U,this.refs=L,this.updater=te||M}var J=Y.prototype=new G;J.constructor=Y,$(J,j.prototype),J.isPureReactComponent=!0;var ne=Array.isArray,V=Object.prototype.hasOwnProperty,B={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(x,U,te){var ie,ae={},le=null,ce=null;if(U!=null)for(ie in U.ref!==void 0&&(ce=U.ref),U.key!==void 0&&(le=""+U.key),U)V.call(U,ie)&&!P.hasOwnProperty(ie)&&(ae[ie]=U[ie]);var Te=arguments.length-2;if(Te===1)ae.children=te;else if(1<Te){for(var be=Array(Te),Ae=0;Ae<Te;Ae++)be[Ae]=arguments[Ae+2];ae.children=be}if(x&&x.defaultProps)for(ie in Te=x.defaultProps,Te)ae[ie]===void 0&&(ae[ie]=Te[ie]);return{$$typeof:n,type:x,key:le,ref:ce,props:ae,_owner:B.current}}function b(x,U){return{$$typeof:n,type:x.type,key:U,ref:x.ref,props:x.props,_owner:x._owner}}function _(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function O(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(te){return U[te]})}var D=/\/+/g;function k(x,U){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):U.toString(36)}function Q(x,U,te,ie,ae){var le=typeof x;(le==="undefined"||le==="boolean")&&(x=null);var ce=!1;if(x===null)ce=!0;else switch(le){case"string":case"number":ce=!0;break;case"object":switch(x.$$typeof){case n:case e:ce=!0}}if(ce)return ce=x,ae=ae(ce),x=ie===""?"."+k(ce,0):ie,ne(ae)?(te="",x!=null&&(te=x.replace(D,"$&/")+"/"),Q(ae,U,te,"",function(Ae){return Ae})):ae!=null&&(_(ae)&&(ae=b(ae,te+(!ae.key||ce&&ce.key===ae.key?"":(""+ae.key).replace(D,"$&/")+"/")+x)),U.push(ae)),1;if(ce=0,ie=ie===""?".":ie+":",ne(x))for(var Te=0;Te<x.length;Te++){le=x[Te];var be=ie+k(le,Te);ce+=Q(le,U,te,be,ae)}else if(be=R(x),typeof be=="function")for(x=be.call(x),Te=0;!(le=x.next()).done;)le=le.value,be=ie+k(le,Te++),ce+=Q(le,U,te,be,ae);else if(le==="object")throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ce}function pe(x,U,te){if(x==null)return x;var ie=[],ae=0;return Q(x,ie,"","",function(le){return U.call(te,le,ae++)}),ie}function he(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(te){(x._status===0||x._status===-1)&&(x._status=1,x._result=te)},function(te){(x._status===0||x._status===-1)&&(x._status=2,x._result=te)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var I={current:null},se={transition:null},z={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:se,ReactCurrentOwner:B};function E(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:pe,forEach:function(x,U,te){pe(x,function(){U.apply(this,arguments)},te)},count:function(x){var U=0;return pe(x,function(){U++}),U},toArray:function(x){return pe(x,function(U){return U})||[]},only:function(x){if(!_(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Be.Component=j,Be.Fragment=t,Be.Profiler=o,Be.PureComponent=Y,Be.StrictMode=i,Be.Suspense=f,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Be.act=E,Be.cloneElement=function(x,U,te){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ie=$({},x.props),ae=x.key,le=x.ref,ce=x._owner;if(U!=null){if(U.ref!==void 0&&(le=U.ref,ce=B.current),U.key!==void 0&&(ae=""+U.key),x.type&&x.type.defaultProps)var Te=x.type.defaultProps;for(be in U)V.call(U,be)&&!P.hasOwnProperty(be)&&(ie[be]=U[be]===void 0&&Te!==void 0?Te[be]:U[be])}var be=arguments.length-2;if(be===1)ie.children=te;else if(1<be){Te=Array(be);for(var Ae=0;Ae<be;Ae++)Te[Ae]=arguments[Ae+2];ie.children=Te}return{$$typeof:n,type:x.type,key:ae,ref:le,props:ie,_owner:ce}},Be.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:a,_context:x},x.Consumer=x},Be.createElement=A,Be.createFactory=function(x){var U=A.bind(null,x);return U.type=x,U},Be.createRef=function(){return{current:null}},Be.forwardRef=function(x){return{$$typeof:h,render:x}},Be.isValidElement=_,Be.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:he}},Be.memo=function(x,U){return{$$typeof:m,type:x,compare:U===void 0?null:U}},Be.startTransition=function(x){var U=se.transition;se.transition={};try{x()}finally{se.transition=U}},Be.unstable_act=E,Be.useCallback=function(x,U){return I.current.useCallback(x,U)},Be.useContext=function(x){return I.current.useContext(x)},Be.useDebugValue=function(){},Be.useDeferredValue=function(x){return I.current.useDeferredValue(x)},Be.useEffect=function(x,U){return I.current.useEffect(x,U)},Be.useId=function(){return I.current.useId()},Be.useImperativeHandle=function(x,U,te){return I.current.useImperativeHandle(x,U,te)},Be.useInsertionEffect=function(x,U){return I.current.useInsertionEffect(x,U)},Be.useLayoutEffect=function(x,U){return I.current.useLayoutEffect(x,U)},Be.useMemo=function(x,U){return I.current.useMemo(x,U)},Be.useReducer=function(x,U,te){return I.current.useReducer(x,U,te)},Be.useRef=function(x){return I.current.useRef(x)},Be.useState=function(x){return I.current.useState(x)},Be.useSyncExternalStore=function(x,U,te){return I.current.useSyncExternalStore(x,U,te)},Be.useTransition=function(){return I.current.useTransition()},Be.version="18.3.1",Be}var vv;function Br(){return vv||(vv=1,Nf.exports=MS()),Nf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function jS(){if(_v)return pl;_v=1;var n=Br(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,S={},R=null,M=null;m!==void 0&&(R=""+m),f.key!==void 0&&(R=""+f.key),f.ref!==void 0&&(M=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(S[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)S[v]===void 0&&(S[v]=f[v]);return{$$typeof:e,type:h,key:R,ref:M,props:S,_owner:o.current}}return pl.Fragment=t,pl.jsx=u,pl.jsxs=u,pl}var wv;function VS(){return wv||(wv=1,Rf.exports=jS()),Rf.exports}var T=VS(),Z=Br();const rt=Zp(Z),FS=DS({__proto__:null,default:rt},[Z]);var _c={},Of={exports:{}},In={},Df={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function US(){return Ev||(Ev=1,function(n){function e(se,z){var E=se.length;se.push(z);e:for(;0<E;){var x=E-1>>>1,U=se[x];if(0<o(U,z))se[x]=z,se[E]=U,E=x;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var z=se[0],E=se.pop();if(E!==z){se[0]=E;e:for(var x=0,U=se.length,te=U>>>1;x<te;){var ie=2*(x+1)-1,ae=se[ie],le=ie+1,ce=se[le];if(0>o(ae,E))le<U&&0>o(ce,ae)?(se[x]=ce,se[le]=E,x=le):(se[x]=ae,se[ie]=E,x=ie);else if(le<U&&0>o(ce,E))se[x]=ce,se[le]=E,x=le;else break e}}return z}function o(se,z){var E=se.sortIndex-z.sortIndex;return E!==0?E:se.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,S=null,R=3,M=!1,$=!1,L=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(se){for(var z=t(m);z!==null;){if(z.callback===null)i(m);else if(z.startTime<=se)i(m),z.sortIndex=z.expirationTime,e(f,z);else break;z=t(m)}}function ne(se){if(L=!1,J(se),!$)if(t(f)!==null)$=!0,he(V);else{var z=t(m);z!==null&&I(ne,z.startTime-se)}}function V(se,z){$=!1,L&&(L=!1,G(A),A=-1),M=!0;var E=R;try{for(J(z),S=t(f);S!==null&&(!(S.expirationTime>z)||se&&!O());){var x=S.callback;if(typeof x=="function"){S.callback=null,R=S.priorityLevel;var U=x(S.expirationTime<=z);z=n.unstable_now(),typeof U=="function"?S.callback=U:S===t(f)&&i(f),J(z)}else i(f);S=t(f)}if(S!==null)var te=!0;else{var ie=t(m);ie!==null&&I(ne,ie.startTime-z),te=!1}return te}finally{S=null,R=E,M=!1}}var B=!1,P=null,A=-1,b=5,_=-1;function O(){return!(n.unstable_now()-_<b)}function D(){if(P!==null){var se=n.unstable_now();_=se;var z=!0;try{z=P(!0,se)}finally{z?k():(B=!1,P=null)}}else B=!1}var k;if(typeof Y=="function")k=function(){Y(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,pe=Q.port2;Q.port1.onmessage=D,k=function(){pe.postMessage(null)}}else k=function(){j(D,0)};function he(se){P=se,B||(B=!0,k())}function I(se,z){A=j(function(){se(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){$||M||($=!0,he(V))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(R){case 1:case 2:case 3:var z=3;break;default:z=R}var E=R;R=z;try{return se()}finally{R=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,z){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var E=R;R=se;try{return z()}finally{R=E}},n.unstable_scheduleCallback=function(se,z,E){var x=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?x+E:x):E=x,se){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=E+U,se={id:v++,callback:z,priorityLevel:se,startTime:E,expirationTime:U,sortIndex:-1},E>x?(se.sortIndex=E,e(m,se),t(f)===null&&se===t(m)&&(L?(G(A),A=-1):L=!0,I(ne,E-x))):(se.sortIndex=U,e(f,se),$||M||($=!0,he(V))),se},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(se){var z=R;return function(){var E=R;R=z;try{return se.apply(this,arguments)}finally{R=E}}}}(Lf)),Lf}var Tv;function zS(){return Tv||(Tv=1,Df.exports=US()),Df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function $S(){if(Iv)return In;Iv=1;var n=Br(),e=zS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function R(r){return f.call(S,r)?!0:f.call(v,r)?!1:m.test(r)?S[r]=!0:(v[r]=!0,!1)}function M(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function $(r,s,l,d){if(s===null||typeof s>"u"||M(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,l,d,p,y,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=C}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(G,Y);j[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(G,Y);j[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(G,Y);j[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,l,d){var p=j.hasOwnProperty(s)?j[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&($(s,l,p,d)&&(l=null),d||p===null?R(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),B=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),se=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var E=Object.assign,x;function U(r){if(x===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);x=s&&s[1]||""}return`
`+x+r}var te=!1;function ie(r,s){if(!r||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ee){var d=ee}Reflect.construct(r,[],s)}else{try{s.call()}catch(ee){d=ee}r.call(s.prototype)}else{try{throw Error()}catch(ee){d=ee}r()}}catch(ee){if(ee&&d&&typeof ee.stack=="string"){for(var p=ee.stack.split(`
`),y=d.stack.split(`
`),C=p.length-1,F=y.length-1;1<=C&&0<=F&&p[C]!==y[F];)F--;for(;1<=C&&0<=F;C--,F--)if(p[C]!==y[F]){if(C!==1||F!==1)do if(C--,F--,0>F||p[C]!==y[F]){var q=`
`+p[C].replace(" at new "," at ");return r.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",r.displayName)),q}while(1<=C&&0<=F);break}}}finally{te=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?U(r):""}function ae(r){switch(r.tag){case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case B:return"Portal";case b:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case Q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case _:return(r._context.displayName||"Context")+".Provider";case D:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pe:return s=r.displayName||null,s!==null?s:le(r.type)||"Memo";case he:s=r._payload,r=r._init;try{return le(r(s))}catch{}}return null}function ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ae(r){var s=be(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(C){d=""+C,y.call(this,C)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $e(r){r._valueTracker||(r._valueTracker=Ae(r))}function He(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=be(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ue(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function je(r,s){var l=s.checked;return E({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function qe(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Te(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ct(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function Fe(r,s){ct(r,s);var l=Te(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ht(r,s.type,l):s.hasOwnProperty("defaultValue")&&ht(r,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ht(r,s,l){(s!=="number"||Ue(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var it=Array.isArray;function yt(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Te(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function An(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function rr(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(it(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Te(l)}}function Gr(r,s){var l=Te(s.value),d=Te(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ir(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ln,Sa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ln=ln||document.createElement("div"),ln.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ln.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function yi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(r){fs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),hs[s]=hs[r]})});function ba(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||hs.hasOwnProperty(r)&&hs[r]?(""+s).trim():s+"px"}function xa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=ba(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var ka=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(r,s){if(s){if(ka[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Pa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function lo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uo=null,qn=null,Sr=null;function co(r){if(r=Za(r)){if(typeof uo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ou(s),uo(r.stateNode,r.type,s))}}function br(r){qn?Sr?Sr.push(r):Sr=[r]:qn=r}function Aa(){if(qn){var r=qn,s=Sr;if(Sr=qn=null,co(r),s)for(r=0;r<s.length;r++)co(s[r])}}function ms(r,s){return r(s)}function Ra(){}var Kr=!1;function Na(r,s,l){if(Kr)return r(s,l);Kr=!0;try{return ms(r,s,l)}finally{Kr=!1,(qn!==null||Sr!==null)&&(Ra(),Aa())}}function It(r,s){var l=r.stateNode;if(l===null)return null;var d=Ou(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ho=!1;if(h)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){ho=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{ho=!1}function gs(r,s,l,d,p,y,C,F,q){var ee=Array.prototype.slice.call(arguments,3);try{s.apply(l,ee)}catch(fe){this.onError(fe)}}var ys=!1,fo=null,or=!1,Oa=null,ih={onError:function(r){ys=!0,fo=r}};function po(r,s,l,d,p,y,C,F,q){ys=!1,fo=null,gs.apply(ih,arguments)}function iu(r,s,l,d,p,y,C,F,q){if(po.apply(this,arguments),ys){if(ys){var ee=fo;ys=!1,fo=null}else throw Error(t(198));or||(or=!0,Oa=ee)}}function ar(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function vs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function lr(r){if(ar(r)!==r)throw Error(t(188))}function su(r){var s=r.alternate;if(!s){if(s=ar(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return lr(p),r;if(y===d)return lr(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var C=!1,F=p.child;F;){if(F===l){C=!0,l=p,d=y;break}if(F===d){C=!0,d=p,l=y;break}F=F.sibling}if(!C){for(F=y.child;F;){if(F===l){C=!0,l=y,d=p;break}if(F===d){C=!0,d=y,l=p;break}F=F.sibling}if(!C)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Da(r){return r=su(r),r!==null?mo(r):null}function mo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=mo(r);if(s!==null)return s;r=r.sibling}return null}var go=e.unstable_scheduleCallback,La=e.unstable_cancelCallback,ou=e.unstable_shouldYield,sh=e.unstable_requestPaint,ot=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,Ma=e.unstable_LowPriority,lu=e.unstable_IdlePriority,ws=null,Rn=null;function uu(r){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ws,r,void 0,(r.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:du,ja=Math.log,cu=Math.LN2;function du(r){return r>>>=0,r===0?32:31-(ja(r)/cu|0)|0}var yo=64,vo=4194304;function _i(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Es(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,C=l&268435455;if(C!==0){var F=C&~p;F!==0?d=_i(F):(y&=C,y!==0&&(d=_i(y)))}else C=l&~p,C!==0?d=_i(C):y!==0&&(d=_i(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-un(s),p=1<<l,d|=r[l],s&=~p;return d}function oh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var C=31-un(y),F=1<<C,q=p[C];q===-1?((F&l)===0||(F&d)!==0)&&(p[C]=oh(F,s)):q<=s&&(r.expiredLanes|=F),y&=~F}}function Nn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ts(){var r=yo;return yo<<=1,(yo&4194240)===0&&(yo=64),r}function wi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ei(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-un(s),r[s]=l}function st(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-un(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Ti(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-un(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ke=0;function Ii(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var hu,_o,fu,pu,mu,Va=!1,xr=[],Bt=null,ur=null,cr=null,Si=new Map,Wn=new Map,kr=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(r,s){switch(r){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(s.pointerId)}}function gn(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Za(s),s!==null&&_o(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function lh(r,s,l,d,p){switch(s){case"focusin":return Bt=gn(Bt,r,s,l,d,p),!0;case"dragenter":return ur=gn(ur,r,s,l,d,p),!0;case"mouseover":return cr=gn(cr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Si.set(y,gn(Si.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Wn.set(y,gn(Wn.get(y)||null,r,s,l,d,p)),!0}return!1}function yu(r){var s=ks(r.target);if(s!==null){var l=ar(s);if(l!==null){if(s=l.tag,s===13){if(s=vs(l),s!==null){r.blockedOn=s,mu(r.priority,function(){fu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Yr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=wo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ps=d,l.target.dispatchEvent(d),ps=null}else return s=Za(l),s!==null&&_o(s),r.blockedOn=l,!1;s.shift()}return!0}function Is(r,s,l){Yr(r)&&l.delete(s)}function vu(){Va=!1,Bt!==null&&Yr(Bt)&&(Bt=null),ur!==null&&Yr(ur)&&(ur=null),cr!==null&&Yr(cr)&&(cr=null),Si.forEach(Is),Wn.forEach(Is)}function dr(r,s){r.blockedOn===s&&(r.blockedOn=null,Va||(Va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function hr(r){function s(p){return dr(p,r)}if(0<xr.length){dr(xr[0],r);for(var l=1;l<xr.length;l++){var d=xr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Bt!==null&&dr(Bt,r),ur!==null&&dr(ur,r),cr!==null&&dr(cr,r),Si.forEach(s),Wn.forEach(s),l=0;l<kr.length;l++)d=kr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<kr.length&&(l=kr[0],l.blockedOn===null);)yu(l),l.blockedOn===null&&kr.shift()}var Xr=ne.ReactCurrentBatchConfig,bi=!0;function mt(r,s,l,d){var p=Ke,y=Xr.transition;Xr.transition=null;try{Ke=1,Fa(r,s,l,d)}finally{Ke=p,Xr.transition=y}}function uh(r,s,l,d){var p=Ke,y=Xr.transition;Xr.transition=null;try{Ke=4,Fa(r,s,l,d)}finally{Ke=p,Xr.transition=y}}function Fa(r,s,l,d){if(bi){var p=wo(r,s,l,d);if(p===null)wh(r,s,d,Ss,l),gu(r,d);else if(lh(p,r,s,l,d))d.stopPropagation();else if(gu(r,d),s&4&&-1<ah.indexOf(r)){for(;p!==null;){var y=Za(p);if(y!==null&&hu(y),y=wo(r,s,l,d),y===null&&wh(r,s,d,Ss,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else wh(r,s,d,null,l)}}var Ss=null;function wo(r,s,l,d){if(Ss=null,r=lo(d),r=ks(r),r!==null)if(s=ar(r),s===null)r=null;else if(l=s.tag,l===13){if(r=vs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ss=r,null}function Ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case _s:return 1;case vi:return 4;case Hn:case Ma:return 16;case lu:return 536870912;default:return 16}default:return 16}}var On=null,Eo=null,yn=null;function za(){if(yn)return yn;var r,s=Eo,l=s.length,d,p="value"in On?On.value:On.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var C=l-r;for(d=1;d<=C&&s[l-d]===p[y-d];d++);return yn=p.slice(r,1<d?1-d:void 0)}function To(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Cr(){return!0}function $a(){return!1}function qt(r){function s(l,d,p,y,C){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(l=r[F],this[F]=l?l(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Cr:$a,this.isPropagationStopped=$a,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=qt(fr),Pr=E({},fr,{view:0,detail:0}),ch=qt(Pr),So,Jr,xi,bs=E({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xi&&(xi&&r.type==="mousemove"?(So=r.screenX-xi.screenX,Jr=r.screenY-xi.screenY):Jr=So=0,xi=r),So)},movementY:function(r){return"movementY"in r?r.movementY:Jr}}),bo=qt(bs),Ba=E({},bs,{dataTransfer:0}),_u=qt(Ba),xo=E({},Pr,{relatedTarget:0}),ko=qt(xo),wu=E({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=qt(wu),Eu=E({},fr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=qt(Eu),Iu=E({},fr,{data:0}),qa=qt(Iu),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Su[r])?!!s[r]:!1}function Ar(){return bu}var c=E({},Pr,{key:function(r){if(r.key){var s=Co[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=To(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(r){return r.type==="keypress"?To(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?To(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=qt(c),w=E({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=qt(w),W=E({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),re=qt(W),ye=E({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=qt(ye),Ot=E({},bs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=qt(Ot),jt=[9,13,27,32],kt=h&&"CompositionEvent"in window,Gn=null;h&&"documentMode"in document&&(Gn=document.documentMode);var Dn=h&&"TextEvent"in window&&!Gn,xs=h&&(!kt||Gn&&8<Gn&&11>=Gn),Po=" ",dg=!1;function hg(r,s){switch(r){case"keyup":return jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ao=!1;function RI(r,s){switch(r){case"compositionend":return fg(s);case"keypress":return s.which!==32?null:(dg=!0,Po);case"textInput":return r=s.data,r===Po&&dg?null:r;default:return null}}function NI(r,s){if(Ao)return r==="compositionend"||!kt&&hg(r,s)?(r=za(),yn=Eo=On=null,Ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xs&&s.locale!=="ko"?null:s.data;default:return null}}var OI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!OI[r.type]:s==="textarea"}function mg(r,s,l,d){br(d),s=Au(s,"onChange"),0<s.length&&(l=new Io("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ha=null,Wa=null;function DI(r){Og(r,0)}function xu(r){var s=Lo(r);if(He(s))return r}function LI(r,s){if(r==="change")return s}var gg=!1;if(h){var dh;if(h){var hh="oninput"in document;if(!hh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),hh=typeof yg.oninput=="function"}dh=hh}else dh=!1;gg=dh&&(!document.documentMode||9<document.documentMode)}function vg(){Ha&&(Ha.detachEvent("onpropertychange",_g),Wa=Ha=null)}function _g(r){if(r.propertyName==="value"&&xu(Wa)){var s=[];mg(s,Wa,r,lo(r)),Na(DI,s)}}function MI(r,s,l){r==="focusin"?(vg(),Ha=s,Wa=l,Ha.attachEvent("onpropertychange",_g)):r==="focusout"&&vg()}function jI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xu(Wa)}function VI(r,s){if(r==="click")return xu(s)}function FI(r,s){if(r==="input"||r==="change")return xu(s)}function UI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var pr=typeof Object.is=="function"?Object.is:UI;function Ga(r,s){if(pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!pr(r[p],s[p]))return!1}return!0}function wg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Eg(r,s){var l=wg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wg(l)}}function Tg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Tg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ig(){for(var r=window,s=Ue();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ue(r.document)}return s}function fh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function zI(r){var s=Ig(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Tg(l.ownerDocument.documentElement,l)){if(d!==null&&fh(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Eg(l,y);var C=Eg(l,d);p&&C&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var $I=h&&"documentMode"in document&&11>=document.documentMode,Ro=null,ph=null,Ka=null,mh=!1;function Sg(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mh||Ro==null||Ro!==Ue(d)||(d=Ro,"selectionStart"in d&&fh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ka&&Ga(Ka,d)||(Ka=d,d=Au(ph,"onSelect"),0<d.length&&(s=new Io("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Ro)))}function ku(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var No={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},gh={},bg={};h&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Cu(r){if(gh[r])return gh[r];if(!No[r])return r;var s=No[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in bg)return gh[r]=s[l];return r}var xg=Cu("animationend"),kg=Cu("animationiteration"),Cg=Cu("animationstart"),Pg=Cu("transitionend"),Ag=new Map,Rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(r,s){Ag.set(r,s),a(s,[r])}for(var yh=0;yh<Rg.length;yh++){var vh=Rg[yh],BI=vh.toLowerCase(),qI=vh[0].toUpperCase()+vh.slice(1);ki(BI,"on"+qI)}ki(xg,"onAnimationEnd"),ki(kg,"onAnimationIteration"),ki(Cg,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Pg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function Ng(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,iu(d,s,void 0,r),r.currentTarget=null}function Og(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var C=d.length-1;0<=C;C--){var F=d[C],q=F.instance,ee=F.currentTarget;if(F=F.listener,q!==y&&p.isPropagationStopped())break e;Ng(p,F,ee),y=q}else for(C=0;C<d.length;C++){if(F=d[C],q=F.instance,ee=F.currentTarget,F=F.listener,q!==y&&p.isPropagationStopped())break e;Ng(p,F,ee),y=q}}}if(or)throw r=Oa,or=!1,Oa=null,r}function ft(r,s){var l=s[xh];l===void 0&&(l=s[xh]=new Set);var d=r+"__bubble";l.has(d)||(Dg(s,r,2,!1),l.add(d))}function _h(r,s,l){var d=0;s&&(d|=4),Dg(l,r,d,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Ya(r){if(!r[Pu]){r[Pu]=!0,i.forEach(function(l){l!=="selectionchange"&&(HI.has(l)||_h(l,!1,r),_h(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,_h("selectionchange",!1,s))}}function Dg(r,s,l,d){switch(Ua(s)){case 1:var p=mt;break;case 4:p=uh;break;default:p=Fa}l=p.bind(null,s,l,r),p=void 0,!ho||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function wh(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var F=d.stateNode.containerInfo;if(F===p||F.nodeType===8&&F.parentNode===p)break;if(C===4)for(C=d.return;C!==null;){var q=C.tag;if((q===3||q===4)&&(q=C.stateNode.containerInfo,q===p||q.nodeType===8&&q.parentNode===p))return;C=C.return}for(;F!==null;){if(C=ks(F),C===null)return;if(q=C.tag,q===5||q===6){d=y=C;continue e}F=F.parentNode}}d=d.return}Na(function(){var ee=y,fe=lo(l),me=[];e:{var de=Ag.get(r);if(de!==void 0){var we=Io,Se=r;switch(r){case"keypress":if(To(l)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":Se="focus",we=ko;break;case"focusout":Se="blur",we=ko;break;case"beforeblur":case"afterblur":we=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=re;break;case xg:case kg:case Cg:we=Zr;break;case Pg:we=et;break;case"scroll":we=ch;break;case"wheel":we=Qe;break;case"copy":case"cut":case"paste":we=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var xe=(s&4)!==0,St=!xe&&r==="scroll",K=xe?de!==null?de+"Capture":null:de;xe=[];for(var H=ee,X;H!==null;){X=H;var ge=X.stateNode;if(X.tag===5&&ge!==null&&(X=ge,K!==null&&(ge=It(H,K),ge!=null&&xe.push(Xa(H,ge,X)))),St)break;H=H.return}0<xe.length&&(de=new we(de,Se,null,l,fe),me.push({event:de,listeners:xe}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",de&&l!==ps&&(Se=l.relatedTarget||l.fromElement)&&(ks(Se)||Se[ei]))break e;if((we||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,we?(Se=l.relatedTarget||l.toElement,we=ee,Se=Se?ks(Se):null,Se!==null&&(St=ar(Se),Se!==St||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=ee),we!==Se)){if(xe=bo,ge="onMouseLeave",K="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(xe=N,ge="onPointerLeave",K="onPointerEnter",H="pointer"),St=we==null?de:Lo(we),X=Se==null?de:Lo(Se),de=new xe(ge,H+"leave",we,l,fe),de.target=St,de.relatedTarget=X,ge=null,ks(fe)===ee&&(xe=new xe(K,H+"enter",Se,l,fe),xe.target=X,xe.relatedTarget=St,ge=xe),St=ge,we&&Se)t:{for(xe=we,K=Se,H=0,X=xe;X;X=Oo(X))H++;for(X=0,ge=K;ge;ge=Oo(ge))X++;for(;0<H-X;)xe=Oo(xe),H--;for(;0<X-H;)K=Oo(K),X--;for(;H--;){if(xe===K||K!==null&&xe===K.alternate)break t;xe=Oo(xe),K=Oo(K)}xe=null}else xe=null;we!==null&&Lg(me,de,we,xe,!1),Se!==null&&St!==null&&Lg(me,St,Se,xe,!0)}}e:{if(de=ee?Lo(ee):window,we=de.nodeName&&de.nodeName.toLowerCase(),we==="select"||we==="input"&&de.type==="file")var Ce=LI;else if(pg(de))if(gg)Ce=FI;else{Ce=jI;var Re=MI}else(we=de.nodeName)&&we.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ce=VI);if(Ce&&(Ce=Ce(r,ee))){mg(me,Ce,l,fe);break e}Re&&Re(r,de,ee),r==="focusout"&&(Re=de._wrapperState)&&Re.controlled&&de.type==="number"&&ht(de,"number",de.value)}switch(Re=ee?Lo(ee):window,r){case"focusin":(pg(Re)||Re.contentEditable==="true")&&(Ro=Re,ph=ee,Ka=null);break;case"focusout":Ka=ph=Ro=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Sg(me,l,fe);break;case"selectionchange":if($I)break;case"keydown":case"keyup":Sg(me,l,fe)}var Ne;if(kt)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ao?hg(r,l)&&(Le="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(xs&&l.locale!=="ko"&&(Ao||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ao&&(Ne=za()):(On=fe,Eo="value"in On?On.value:On.textContent,Ao=!0)),Re=Au(ee,Le),0<Re.length&&(Le=new qa(Le,r,null,l,fe),me.push({event:Le,listeners:Re}),Ne?Le.data=Ne:(Ne=fg(l),Ne!==null&&(Le.data=Ne)))),(Ne=Dn?RI(r,l):NI(r,l))&&(ee=Au(ee,"onBeforeInput"),0<ee.length&&(fe=new qa("onBeforeInput","beforeinput",null,l,fe),me.push({event:fe,listeners:ee}),fe.data=Ne))}Og(me,s)})}function Xa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Au(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=It(r,l),y!=null&&d.unshift(Xa(r,y,p)),y=It(r,s),y!=null&&d.push(Xa(r,y,p))),r=r.return}return d}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Lg(r,s,l,d,p){for(var y=s._reactName,C=[];l!==null&&l!==d;){var F=l,q=F.alternate,ee=F.stateNode;if(q!==null&&q===d)break;F.tag===5&&ee!==null&&(F=ee,p?(q=It(l,y),q!=null&&C.unshift(Xa(l,q,F))):p||(q=It(l,y),q!=null&&C.push(Xa(l,q,F)))),l=l.return}C.length!==0&&r.push({event:s,listeners:C})}var WI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function Mg(r){return(typeof r=="string"?r:""+r).replace(WI,`
`).replace(GI,"")}function Ru(r,s,l){if(s=Mg(s),Mg(r)!==s&&l)throw Error(t(425))}function Nu(){}var Eh=null,Th=null;function Ih(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,KI=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(r){return jg.resolve(null).then(r).catch(YI)}:Sh;function YI(r){setTimeout(function(){throw r})}function bh(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),hr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);hr(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Vg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Do,Ja="__reactProps$"+Do,ei="__reactContainer$"+Do,xh="__reactEvents$"+Do,XI="__reactListeners$"+Do,JI="__reactHandles$"+Do;function ks(r){var s=r[Rr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ei]||l[Rr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Vg(r);r!==null;){if(l=r[Rr])return l;r=Vg(r)}return s}r=l,l=r.parentNode}return null}function Za(r){return r=r[Rr]||r[ei],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ou(r){return r[Ja]||null}var kh=[],Mo=-1;function Pi(r){return{current:r}}function pt(r){0>Mo||(r.current=kh[Mo],kh[Mo]=null,Mo--)}function at(r,s){Mo++,kh[Mo]=r.current,r.current=s}var Ai={},Yt=Pi(Ai),vn=Pi(!1),Cs=Ai;function jo(r,s){var l=r.type.contextTypes;if(!l)return Ai;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function _n(r){return r=r.childContextTypes,r!=null}function Du(){pt(vn),pt(Yt)}function Fg(r,s,l){if(Yt.current!==Ai)throw Error(t(168));at(Yt,s),at(vn,l)}function Ug(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ce(r)||"Unknown",p));return E({},l,d)}function Lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ai,Cs=Yt.current,at(Yt,r),at(vn,vn.current),!0}function zg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Ug(r,s,Cs),d.__reactInternalMemoizedMergedChildContext=r,pt(vn),pt(Yt),at(Yt,r)):pt(vn),at(vn,l)}var ti=null,Mu=!1,Ch=!1;function $g(r){ti===null?ti=[r]:ti.push(r)}function ZI(r){Mu=!0,$g(r)}function Ri(){if(!Ch&&ti!==null){Ch=!0;var r=0,s=Ke;try{var l=ti;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}ti=null,Mu=!1}catch(p){throw ti!==null&&(ti=ti.slice(r+1)),go(_s,Ri),p}finally{Ke=s,Ch=!1}}return null}var Vo=[],Fo=0,ju=null,Vu=0,Kn=[],Qn=0,Ps=null,ni=1,ri="";function As(r,s){Vo[Fo++]=Vu,Vo[Fo++]=ju,ju=r,Vu=s}function Bg(r,s,l){Kn[Qn++]=ni,Kn[Qn++]=ri,Kn[Qn++]=Ps,Ps=r;var d=ni;r=ri;var p=32-un(d)-1;d&=~(1<<p),l+=1;var y=32-un(s)+p;if(30<y){var C=p-p%5;y=(d&(1<<C)-1).toString(32),d>>=C,p-=C,ni=1<<32-un(s)+p|l<<p|d,ri=y+r}else ni=1<<y|l<<p|d,ri=r}function Ph(r){r.return!==null&&(As(r,1),Bg(r,1,0))}function Ah(r){for(;r===ju;)ju=Vo[--Fo],Vo[Fo]=null,Vu=Vo[--Fo],Vo[Fo]=null;for(;r===Ps;)Ps=Kn[--Qn],Kn[Qn]=null,ri=Kn[--Qn],Kn[Qn]=null,ni=Kn[--Qn],Kn[Qn]=null}var Ln=null,Mn=null,gt=!1,mr=null;function qg(r,s){var l=Zn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Hg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ln=r,Mn=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ln=r,Mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ps!==null?{id:ni,overflow:ri}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Zn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Ln=r,Mn=null,!0):!1;default:return!1}}function Rh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nh(r){if(gt){var s=Mn;if(s){var l=s;if(!Hg(r,s)){if(Rh(r))throw Error(t(418));s=Ci(l.nextSibling);var d=Ln;s&&Hg(r,s)?qg(d,l):(r.flags=r.flags&-4097|2,gt=!1,Ln=r)}}else{if(Rh(r))throw Error(t(418));r.flags=r.flags&-4097|2,gt=!1,Ln=r}}}function Wg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ln=r}function Fu(r){if(r!==Ln)return!1;if(!gt)return Wg(r),gt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ih(r.type,r.memoizedProps)),s&&(s=Mn)){if(Rh(r))throw Gg(),Error(t(418));for(;s;)qg(r,s),s=Ci(s.nextSibling)}if(Wg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Mn=Ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Mn=null}}else Mn=Ln?Ci(r.stateNode.nextSibling):null;return!0}function Gg(){for(var r=Mn;r;)r=Ci(r.nextSibling)}function Uo(){Mn=Ln=null,gt=!1}function Oh(r){mr===null?mr=[r]:mr.push(r)}var eS=ne.ReactCurrentBatchConfig;function el(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(C){var F=p.refs;C===null?delete F[y]:F[y]=C},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Kg(r){var s=r._init;return s(r._payload)}function Qg(r){function s(K,H){if(r){var X=K.deletions;X===null?(K.deletions=[H],K.flags|=16):X.push(H)}}function l(K,H){if(!r)return null;for(;H!==null;)s(K,H),H=H.sibling;return null}function d(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function p(K,H){return K=Fi(K,H),K.index=0,K.sibling=null,K}function y(K,H,X){return K.index=X,r?(X=K.alternate,X!==null?(X=X.index,X<H?(K.flags|=2,H):X):(K.flags|=2,H)):(K.flags|=1048576,H)}function C(K){return r&&K.alternate===null&&(K.flags|=2),K}function F(K,H,X,ge){return H===null||H.tag!==6?(H=bf(X,K.mode,ge),H.return=K,H):(H=p(H,X),H.return=K,H)}function q(K,H,X,ge){var Ce=X.type;return Ce===P?fe(K,H,X.props.children,ge,X.key):H!==null&&(H.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===he&&Kg(Ce)===H.type)?(ge=p(H,X.props),ge.ref=el(K,H,X),ge.return=K,ge):(ge=cc(X.type,X.key,X.props,null,K.mode,ge),ge.ref=el(K,H,X),ge.return=K,ge)}function ee(K,H,X,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=xf(X,K.mode,ge),H.return=K,H):(H=p(H,X.children||[]),H.return=K,H)}function fe(K,H,X,ge,Ce){return H===null||H.tag!==7?(H=Vs(X,K.mode,ge,Ce),H.return=K,H):(H=p(H,X),H.return=K,H)}function me(K,H,X){if(typeof H=="string"&&H!==""||typeof H=="number")return H=bf(""+H,K.mode,X),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case V:return X=cc(H.type,H.key,H.props,null,K.mode,X),X.ref=el(K,null,H),X.return=K,X;case B:return H=xf(H,K.mode,X),H.return=K,H;case he:var ge=H._init;return me(K,ge(H._payload),X)}if(it(H)||z(H))return H=Vs(H,K.mode,X,null),H.return=K,H;Uu(K,H)}return null}function de(K,H,X,ge){var Ce=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ce!==null?null:F(K,H,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return X.key===Ce?q(K,H,X,ge):null;case B:return X.key===Ce?ee(K,H,X,ge):null;case he:return Ce=X._init,de(K,H,Ce(X._payload),ge)}if(it(X)||z(X))return Ce!==null?null:fe(K,H,X,ge,null);Uu(K,X)}return null}function we(K,H,X,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return K=K.get(X)||null,F(H,K,""+ge,Ce);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case V:return K=K.get(ge.key===null?X:ge.key)||null,q(H,K,ge,Ce);case B:return K=K.get(ge.key===null?X:ge.key)||null,ee(H,K,ge,Ce);case he:var Re=ge._init;return we(K,H,X,Re(ge._payload),Ce)}if(it(ge)||z(ge))return K=K.get(X)||null,fe(H,K,ge,Ce,null);Uu(H,ge)}return null}function Se(K,H,X,ge){for(var Ce=null,Re=null,Ne=H,Le=H=0,Ut=null;Ne!==null&&Le<X.length;Le++){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var Je=de(K,Ne,X[Le],ge);if(Je===null){Ne===null&&(Ne=Ut);break}r&&Ne&&Je.alternate===null&&s(K,Ne),H=y(Je,H,Le),Re===null?Ce=Je:Re.sibling=Je,Re=Je,Ne=Ut}if(Le===X.length)return l(K,Ne),gt&&As(K,Le),Ce;if(Ne===null){for(;Le<X.length;Le++)Ne=me(K,X[Le],ge),Ne!==null&&(H=y(Ne,H,Le),Re===null?Ce=Ne:Re.sibling=Ne,Re=Ne);return gt&&As(K,Le),Ce}for(Ne=d(K,Ne);Le<X.length;Le++)Ut=we(Ne,K,Le,X[Le],ge),Ut!==null&&(r&&Ut.alternate!==null&&Ne.delete(Ut.key===null?Le:Ut.key),H=y(Ut,H,Le),Re===null?Ce=Ut:Re.sibling=Ut,Re=Ut);return r&&Ne.forEach(function(Ui){return s(K,Ui)}),gt&&As(K,Le),Ce}function xe(K,H,X,ge){var Ce=z(X);if(typeof Ce!="function")throw Error(t(150));if(X=Ce.call(X),X==null)throw Error(t(151));for(var Re=Ce=null,Ne=H,Le=H=0,Ut=null,Je=X.next();Ne!==null&&!Je.done;Le++,Je=X.next()){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var Ui=de(K,Ne,Je.value,ge);if(Ui===null){Ne===null&&(Ne=Ut);break}r&&Ne&&Ui.alternate===null&&s(K,Ne),H=y(Ui,H,Le),Re===null?Ce=Ui:Re.sibling=Ui,Re=Ui,Ne=Ut}if(Je.done)return l(K,Ne),gt&&As(K,Le),Ce;if(Ne===null){for(;!Je.done;Le++,Je=X.next())Je=me(K,Je.value,ge),Je!==null&&(H=y(Je,H,Le),Re===null?Ce=Je:Re.sibling=Je,Re=Je);return gt&&As(K,Le),Ce}for(Ne=d(K,Ne);!Je.done;Le++,Je=X.next())Je=we(Ne,K,Le,Je.value,ge),Je!==null&&(r&&Je.alternate!==null&&Ne.delete(Je.key===null?Le:Je.key),H=y(Je,H,Le),Re===null?Ce=Je:Re.sibling=Je,Re=Je);return r&&Ne.forEach(function(OS){return s(K,OS)}),gt&&As(K,Le),Ce}function St(K,H,X,ge){if(typeof X=="object"&&X!==null&&X.type===P&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case V:e:{for(var Ce=X.key,Re=H;Re!==null;){if(Re.key===Ce){if(Ce=X.type,Ce===P){if(Re.tag===7){l(K,Re.sibling),H=p(Re,X.props.children),H.return=K,K=H;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===he&&Kg(Ce)===Re.type){l(K,Re.sibling),H=p(Re,X.props),H.ref=el(K,Re,X),H.return=K,K=H;break e}l(K,Re);break}else s(K,Re);Re=Re.sibling}X.type===P?(H=Vs(X.props.children,K.mode,ge,X.key),H.return=K,K=H):(ge=cc(X.type,X.key,X.props,null,K.mode,ge),ge.ref=el(K,H,X),ge.return=K,K=ge)}return C(K);case B:e:{for(Re=X.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){l(K,H.sibling),H=p(H,X.children||[]),H.return=K,K=H;break e}else{l(K,H);break}else s(K,H);H=H.sibling}H=xf(X,K.mode,ge),H.return=K,K=H}return C(K);case he:return Re=X._init,St(K,H,Re(X._payload),ge)}if(it(X))return Se(K,H,X,ge);if(z(X))return xe(K,H,X,ge);Uu(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,H!==null&&H.tag===6?(l(K,H.sibling),H=p(H,X),H.return=K,K=H):(l(K,H),H=bf(X,K.mode,ge),H.return=K,K=H),C(K)):l(K,H)}return St}var zo=Qg(!0),Yg=Qg(!1),zu=Pi(null),$u=null,$o=null,Dh=null;function Lh(){Dh=$o=$u=null}function Mh(r){var s=zu.current;pt(zu),r._currentValue=s}function jh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Bo(r,s){$u=r,Dh=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(wn=!0),r.firstContext=null)}function Yn(r){var s=r._currentValue;if(Dh!==r)if(r={context:r,memoizedValue:s,next:null},$o===null){if($u===null)throw Error(t(308));$o=r,$u.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return s}var Rs=null;function Vh(r){Rs===null?Rs=[r]:Rs.push(r)}function Xg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Vh(s)):(l.next=p.next,p.next=l),s.interleaved=l,ii(r,d)}function ii(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ni=!1;function Fh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function si(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Oi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,ii(r,l)}return p=d.interleaved,p===null?(s.next=s,Vh(d)):(s.next=p.next,p.next=s),d.interleaved=s,ii(r,l)}function Bu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ti(r,l)}}function Zg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var C={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=C:y=y.next=C,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function qu(r,s,l,d){var p=r.updateQueue;Ni=!1;var y=p.firstBaseUpdate,C=p.lastBaseUpdate,F=p.shared.pending;if(F!==null){p.shared.pending=null;var q=F,ee=q.next;q.next=null,C===null?y=ee:C.next=ee,C=q;var fe=r.alternate;fe!==null&&(fe=fe.updateQueue,F=fe.lastBaseUpdate,F!==C&&(F===null?fe.firstBaseUpdate=ee:F.next=ee,fe.lastBaseUpdate=q))}if(y!==null){var me=p.baseState;C=0,fe=ee=q=null,F=y;do{var de=F.lane,we=F.eventTime;if((d&de)===de){fe!==null&&(fe=fe.next={eventTime:we,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Se=r,xe=F;switch(de=s,we=l,xe.tag){case 1:if(Se=xe.payload,typeof Se=="function"){me=Se.call(we,me,de);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=xe.payload,de=typeof Se=="function"?Se.call(we,me,de):Se,de==null)break e;me=E({},me,de);break e;case 2:Ni=!0}}F.callback!==null&&F.lane!==0&&(r.flags|=64,de=p.effects,de===null?p.effects=[F]:de.push(F))}else we={eventTime:we,lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},fe===null?(ee=fe=we,q=me):fe=fe.next=we,C|=de;if(F=F.next,F===null){if(F=p.shared.pending,F===null)break;de=F,F=de.next,de.next=null,p.lastBaseUpdate=de,p.shared.pending=null}}while(!0);if(fe===null&&(q=me),p.baseState=q,p.firstBaseUpdate=ee,p.lastBaseUpdate=fe,s=p.shared.interleaved,s!==null){p=s;do C|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ds|=C,r.lanes=C,r.memoizedState=me}}function ey(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var tl={},Nr=Pi(tl),nl=Pi(tl),rl=Pi(tl);function Ns(r){if(r===tl)throw Error(t(174));return r}function Uh(r,s){switch(at(rl,s),at(nl,r),at(Nr,tl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=tt(s,r)}pt(Nr),at(Nr,s)}function qo(){pt(Nr),pt(nl),pt(rl)}function ty(r){Ns(rl.current);var s=Ns(Nr.current),l=tt(s,r.type);s!==l&&(at(nl,r),at(Nr,l))}function zh(r){nl.current===r&&(pt(Nr),pt(nl))}var vt=Pi(0);function Hu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $h=[];function Bh(){for(var r=0;r<$h.length;r++)$h[r]._workInProgressVersionPrimary=null;$h.length=0}var Wu=ne.ReactCurrentDispatcher,qh=ne.ReactCurrentBatchConfig,Os=0,_t=null,Dt=null,Vt=null,Gu=!1,il=!1,sl=0,tS=0;function Xt(){throw Error(t(321))}function Hh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!pr(r[l],s[l]))return!1;return!0}function Wh(r,s,l,d,p,y){if(Os=y,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=r===null||r.memoizedState===null?sS:oS,r=l(d,p),il){y=0;do{if(il=!1,sl=0,25<=y)throw Error(t(301));y+=1,Vt=Dt=null,s.updateQueue=null,Wu.current=aS,r=l(d,p)}while(il)}if(Wu.current=Yu,s=Dt!==null&&Dt.next!==null,Os=0,Vt=Dt=_t=null,Gu=!1,s)throw Error(t(300));return r}function Gh(){var r=sl!==0;return sl=0,r}function Or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Xn(){if(Dt===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Dt.next;var s=Vt===null?_t.memoizedState:Vt.next;if(s!==null)Vt=s,Dt=r;else{if(r===null)throw Error(t(310));Dt=r,r={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Vt===null?_t.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function ol(r,s){return typeof s=="function"?s(r):s}function Kh(r){var s=Xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Dt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var C=p.next;p.next=y.next,y.next=C}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var F=C=null,q=null,ee=y;do{var fe=ee.lane;if((Os&fe)===fe)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),d=ee.hasEagerState?ee.eagerState:r(d,ee.action);else{var me={lane:fe,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(F=q=me,C=d):q=q.next=me,_t.lanes|=fe,Ds|=fe}ee=ee.next}while(ee!==null&&ee!==y);q===null?C=d:q.next=F,pr(d,s.memoizedState)||(wn=!0),s.memoizedState=d,s.baseState=C,s.baseQueue=q,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,_t.lanes|=y,Ds|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Qh(r){var s=Xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var C=p=p.next;do y=r(y,C.action),C=C.next;while(C!==p);pr(y,s.memoizedState)||(wn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function ny(){}function ry(r,s){var l=_t,d=Xn(),p=s(),y=!pr(d.memoizedState,p);if(y&&(d.memoizedState=p,wn=!0),d=d.queue,Yh(oy.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,al(9,sy.bind(null,l,d,p,s),void 0,null),Ft===null)throw Error(t(349));(Os&30)!==0||iy(l,s,p)}return p}function iy(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function sy(r,s,l,d){s.value=l,s.getSnapshot=d,ay(s)&&ly(r)}function oy(r,s,l){return l(function(){ay(s)&&ly(r)})}function ay(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!pr(r,l)}catch{return!0}}function ly(r){var s=ii(r,1);s!==null&&_r(s,r,1,-1)}function uy(r){var s=Or();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:r},s.queue=r,r=r.dispatch=iS.bind(null,_t,r),[s.memoizedState,r]}function al(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function cy(){return Xn().memoizedState}function Ku(r,s,l,d){var p=Or();_t.flags|=r,p.memoizedState=al(1|s,l,void 0,d===void 0?null:d)}function Qu(r,s,l,d){var p=Xn();d=d===void 0?null:d;var y=void 0;if(Dt!==null){var C=Dt.memoizedState;if(y=C.destroy,d!==null&&Hh(d,C.deps)){p.memoizedState=al(s,l,y,d);return}}_t.flags|=r,p.memoizedState=al(1|s,l,y,d)}function dy(r,s){return Ku(8390656,8,r,s)}function Yh(r,s){return Qu(2048,8,r,s)}function hy(r,s){return Qu(4,2,r,s)}function fy(r,s){return Qu(4,4,r,s)}function py(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function my(r,s,l){return l=l!=null?l.concat([r]):null,Qu(4,4,py.bind(null,s,r),l)}function Xh(){}function gy(r,s){var l=Xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Hh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function yy(r,s){var l=Xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Hh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function vy(r,s,l){return(Os&21)===0?(r.baseState&&(r.baseState=!1,wn=!0),r.memoizedState=l):(pr(l,s)||(l=Ts(),_t.lanes|=l,Ds|=l,r.baseState=!0),s)}function nS(r,s){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=qh.transition;qh.transition={};try{r(!1),s()}finally{Ke=l,qh.transition=d}}function _y(){return Xn().memoizedState}function rS(r,s,l){var d=ji(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wy(r))Ey(s,l);else if(l=Xg(r,s,l,d),l!==null){var p=hn();_r(l,r,d,p),Ty(l,s,d)}}function iS(r,s,l){var d=ji(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wy(r))Ey(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,F=y(C,l);if(p.hasEagerState=!0,p.eagerState=F,pr(F,C)){var q=s.interleaved;q===null?(p.next=p,Vh(s)):(p.next=q.next,q.next=p),s.interleaved=p;return}}catch{}finally{}l=Xg(r,s,p,d),l!==null&&(p=hn(),_r(l,r,d,p),Ty(l,s,d))}}function wy(r){var s=r.alternate;return r===_t||s!==null&&s===_t}function Ey(r,s){il=Gu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Ty(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ti(r,l)}}var Yu={readContext:Yn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},sS={readContext:Yn,useCallback:function(r,s){return Or().memoizedState=[r,s===void 0?null:s],r},useContext:Yn,useEffect:dy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4194308,4,py.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ku(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ku(4,2,r,s)},useMemo:function(r,s){var l=Or();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Or();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=rS.bind(null,_t,r),[d.memoizedState,r]},useRef:function(r){var s=Or();return r={current:r},s.memoizedState=r},useState:uy,useDebugValue:Xh,useDeferredValue:function(r){return Or().memoizedState=r},useTransition:function(){var r=uy(!1),s=r[0];return r=nS.bind(null,r[1]),Or().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=_t,p=Or();if(gt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ft===null)throw Error(t(349));(Os&30)!==0||iy(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,dy(oy.bind(null,d,y,r),[r]),d.flags|=2048,al(9,sy.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Or(),s=Ft.identifierPrefix;if(gt){var l=ri,d=ni;l=(d&~(1<<32-un(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=sl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=tS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},oS={readContext:Yn,useCallback:gy,useContext:Yn,useEffect:Yh,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:yy,useReducer:Kh,useRef:cy,useState:function(){return Kh(ol)},useDebugValue:Xh,useDeferredValue:function(r){var s=Xn();return vy(s,Dt.memoizedState,r)},useTransition:function(){var r=Kh(ol)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:ny,useSyncExternalStore:ry,useId:_y,unstable_isNewReconciler:!1},aS={readContext:Yn,useCallback:gy,useContext:Yn,useEffect:Yh,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:yy,useReducer:Qh,useRef:cy,useState:function(){return Qh(ol)},useDebugValue:Xh,useDeferredValue:function(r){var s=Xn();return Dt===null?s.memoizedState=r:vy(s,Dt.memoizedState,r)},useTransition:function(){var r=Qh(ol)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:ny,useSyncExternalStore:ry,useId:_y,unstable_isNewReconciler:!1};function gr(r,s){if(r&&r.defaultProps){s=E({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Jh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:E({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Xu={isMounted:function(r){return(r=r._reactInternals)?ar(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=hn(),p=ji(r),y=si(d,p);y.payload=s,l!=null&&(y.callback=l),s=Oi(r,y,p),s!==null&&(_r(s,r,p,d),Bu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=hn(),p=ji(r),y=si(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Oi(r,y,p),s!==null&&(_r(s,r,p,d),Bu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=hn(),d=ji(r),p=si(l,d);p.tag=2,s!=null&&(p.callback=s),s=Oi(r,p,d),s!==null&&(_r(s,r,d,l),Bu(s,r,d))}};function Iy(r,s,l,d,p,y,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,C):s.prototype&&s.prototype.isPureReactComponent?!Ga(l,d)||!Ga(p,y):!0}function Sy(r,s,l){var d=!1,p=Ai,y=s.contextType;return typeof y=="object"&&y!==null?y=Yn(y):(p=_n(s)?Cs:Yt.current,d=s.contextTypes,y=(d=d!=null)?jo(r,p):Ai),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function by(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Xu.enqueueReplaceState(s,s.state,null)}function Zh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Fh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Yn(y):(y=_n(s)?Cs:Yt.current,p.context=jo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Jh(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Xu.enqueueReplaceState(p,p.state,null),qu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ho(r,s){try{var l="",d=s;do l+=ae(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function ef(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function tf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var lS=typeof WeakMap=="function"?WeakMap:Map;function xy(r,s,l){l=si(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){ic||(ic=!0,yf=d),tf(r,s)},l}function ky(r,s,l){l=si(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){tf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){tf(r,s),typeof d!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),l}function Cy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new lS;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=TS.bind(null,r,s,l),s.then(r,r))}function Py(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ay(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=si(-1,1),s.tag=2,Oi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var uS=ne.ReactCurrentOwner,wn=!1;function dn(r,s,l,d){s.child=r===null?Yg(s,null,l,d):zo(s,r.child,l,d)}function Ry(r,s,l,d,p){l=l.render;var y=s.ref;return Bo(s,p),d=Wh(r,s,l,d,y,p),l=Gh(),r!==null&&!wn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,oi(r,s,p)):(gt&&l&&Ph(s),s.flags|=1,dn(r,s,d,p),s.child)}function Ny(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!Sf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Oy(r,s,y,d,p)):(r=cc(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var C=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(C,d)&&r.ref===s.ref)return oi(r,s,p)}return s.flags|=1,r=Fi(y,d),r.ref=s.ref,r.return=s,s.child=r}function Oy(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(Ga(y,d)&&r.ref===s.ref)if(wn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(wn=!0);else return s.lanes=r.lanes,oi(r,s,p)}return nf(r,s,l,d,p)}function Dy(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Go,jn),jn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(Go,jn),jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,at(Go,jn),jn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,at(Go,jn),jn|=d;return dn(r,s,p,l),s.child}function Ly(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function nf(r,s,l,d,p){var y=_n(l)?Cs:Yt.current;return y=jo(s,y),Bo(s,p),l=Wh(r,s,l,d,y,p),d=Gh(),r!==null&&!wn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,oi(r,s,p)):(gt&&d&&Ph(s),s.flags|=1,dn(r,s,l,p),s.child)}function My(r,s,l,d,p){if(_n(l)){var y=!0;Lu(s)}else y=!1;if(Bo(s,p),s.stateNode===null)Zu(r,s),Sy(s,l,d),Zh(s,l,d,p),d=!0;else if(r===null){var C=s.stateNode,F=s.memoizedProps;C.props=F;var q=C.context,ee=l.contextType;typeof ee=="object"&&ee!==null?ee=Yn(ee):(ee=_n(l)?Cs:Yt.current,ee=jo(s,ee));var fe=l.getDerivedStateFromProps,me=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function";me||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==d||q!==ee)&&by(s,C,d,ee),Ni=!1;var de=s.memoizedState;C.state=de,qu(s,d,C,p),q=s.memoizedState,F!==d||de!==q||vn.current||Ni?(typeof fe=="function"&&(Jh(s,l,fe,d),q=s.memoizedState),(F=Ni||Iy(s,l,F,d,de,q,ee))?(me||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=q),C.props=d,C.state=q,C.context=ee,d=F):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{C=s.stateNode,Jg(r,s),F=s.memoizedProps,ee=s.type===s.elementType?F:gr(s.type,F),C.props=ee,me=s.pendingProps,de=C.context,q=l.contextType,typeof q=="object"&&q!==null?q=Yn(q):(q=_n(l)?Cs:Yt.current,q=jo(s,q));var we=l.getDerivedStateFromProps;(fe=typeof we=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==me||de!==q)&&by(s,C,d,q),Ni=!1,de=s.memoizedState,C.state=de,qu(s,d,C,p);var Se=s.memoizedState;F!==me||de!==Se||vn.current||Ni?(typeof we=="function"&&(Jh(s,l,we,d),Se=s.memoizedState),(ee=Ni||Iy(s,l,ee,d,de,Se,q)||!1)?(fe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(d,Se,q),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(d,Se,q)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Se),C.props=d,C.state=Se,C.context=q,d=ee):(typeof C.componentDidUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),d=!1)}return rf(r,s,l,d,y,p)}function rf(r,s,l,d,p,y){Ly(r,s);var C=(s.flags&128)!==0;if(!d&&!C)return p&&zg(s,l,!1),oi(r,s,y);d=s.stateNode,uS.current=s;var F=C&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&C?(s.child=zo(s,r.child,null,y),s.child=zo(s,null,F,y)):dn(r,s,F,y),s.memoizedState=d.state,p&&zg(s,l,!0),s.child}function jy(r){var s=r.stateNode;s.pendingContext?Fg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fg(r,s.context,!1),Uh(r,s.containerInfo)}function Vy(r,s,l,d,p){return Uo(),Oh(p),s.flags|=256,dn(r,s,l,d),s.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fy(r,s,l){var d=s.pendingProps,p=vt.current,y=!1,C=(s.flags&128)!==0,F;if((F=C)||(F=r!==null&&r.memoizedState===null?!1:(p&2)!==0),F?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),at(vt,p&1),r===null)return Nh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(C=d.children,r=d.fallback,y?(d=s.mode,y=s.child,C={mode:"hidden",children:C},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=C):y=dc(C,d,0,null),r=Vs(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=of(l),s.memoizedState=sf,r):af(s,C));if(p=r.memoizedState,p!==null&&(F=p.dehydrated,F!==null))return cS(r,s,C,d,F,p,l);if(y){y=d.fallback,C=s.mode,p=r.child,F=p.sibling;var q={mode:"hidden",children:d.children};return(C&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=q,s.deletions=null):(d=Fi(p,q),d.subtreeFlags=p.subtreeFlags&14680064),F!==null?y=Fi(F,y):(y=Vs(y,C,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,C=r.child.memoizedState,C=C===null?of(l):{baseLanes:C.baseLanes|l,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=r.childLanes&~l,s.memoizedState=sf,d}return y=r.child,r=y.sibling,d=Fi(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function af(r,s){return s=dc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ju(r,s,l,d){return d!==null&&Oh(d),zo(s,r.child,null,l),r=af(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function cS(r,s,l,d,p,y,C){if(l)return s.flags&256?(s.flags&=-257,d=ef(Error(t(422))),Ju(r,s,C,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=dc({mode:"visible",children:d.children},p,0,null),y=Vs(y,p,C,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&zo(s,r.child,null,C),s.child.memoizedState=of(C),s.memoizedState=sf,y);if((s.mode&1)===0)return Ju(r,s,C,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var F=d.dgst;return d=F,y=Error(t(419)),d=ef(y,d,void 0),Ju(r,s,C,d)}if(F=(C&r.childLanes)!==0,wn||F){if(d=Ft,d!==null){switch(C&-C){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|C))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ii(r,p),_r(d,r,p,-1))}return If(),d=ef(Error(t(421))),Ju(r,s,C,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=IS.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Mn=Ci(p.nextSibling),Ln=s,gt=!0,mr=null,r!==null&&(Kn[Qn++]=ni,Kn[Qn++]=ri,Kn[Qn++]=Ps,ni=r.id,ri=r.overflow,Ps=s),s=af(s,d.children),s.flags|=4096,s)}function Uy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),jh(r.return,s,l)}function lf(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function zy(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(dn(r,s,d.children,l),d=vt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uy(r,l,s);else if(r.tag===19)Uy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(at(vt,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Hu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),lf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Hu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}lf(s,!0,l,null,y);break;case"together":lf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function oi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ds|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Fi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Fi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function dS(r,s,l){switch(s.tag){case 3:jy(s),Uo();break;case 5:ty(s);break;case 1:_n(s.type)&&Lu(s);break;case 4:Uh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;at(zu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(vt,vt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Fy(r,s,l):(at(vt,vt.current&1),r=oi(r,s,l),r!==null?r.sibling:null);at(vt,vt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return zy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(vt,vt.current),d)break;return null;case 22:case 23:return s.lanes=0,Dy(r,s,l)}return oi(r,s,l)}var $y,uf,By,qy;$y=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},uf=function(){},By=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Ns(Nr.current);var y=null;switch(l){case"input":p=je(r,p),d=je(r,d),y=[];break;case"select":p=E({},p,{value:void 0}),d=E({},d,{value:void 0}),y=[];break;case"textarea":p=An(r,p),d=An(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Nu)}Ca(l,d);var C;l=null;for(ee in p)if(!d.hasOwnProperty(ee)&&p.hasOwnProperty(ee)&&p[ee]!=null)if(ee==="style"){var F=p[ee];for(C in F)F.hasOwnProperty(C)&&(l||(l={}),l[C]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?y||(y=[]):(y=y||[]).push(ee,null));for(ee in d){var q=d[ee];if(F=p!=null?p[ee]:void 0,d.hasOwnProperty(ee)&&q!==F&&(q!=null||F!=null))if(ee==="style")if(F){for(C in F)!F.hasOwnProperty(C)||q&&q.hasOwnProperty(C)||(l||(l={}),l[C]="");for(C in q)q.hasOwnProperty(C)&&F[C]!==q[C]&&(l||(l={}),l[C]=q[C])}else l||(y||(y=[]),y.push(ee,l)),l=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,F=F?F.__html:void 0,q!=null&&F!==q&&(y=y||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(y=y||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&ft("scroll",r),y||F===q||(y=[])):(y=y||[]).push(ee,q))}l&&(y=y||[]).push("style",l);var ee=y;(s.updateQueue=ee)&&(s.flags|=4)}},qy=function(r,s,l,d){l!==d&&(s.flags|=4)};function ll(r,s){if(!gt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function hS(r,s,l){var d=s.pendingProps;switch(Ah(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return _n(s.type)&&Du(),Jt(s),null;case 3:return d=s.stateNode,qo(),pt(vn),pt(Yt),Bh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Fu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mr!==null&&(wf(mr),mr=null))),uf(r,s),Jt(s),null;case 5:zh(s);var p=Ns(rl.current);if(l=s.type,r!==null&&s.stateNode!=null)By(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Jt(s),null}if(r=Ns(Nr.current),Fu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Rr]=s,d[Ja]=y,r=(s.mode&1)!==0,l){case"dialog":ft("cancel",d),ft("close",d);break;case"iframe":case"object":case"embed":ft("load",d);break;case"video":case"audio":for(p=0;p<Qa.length;p++)ft(Qa[p],d);break;case"source":ft("error",d);break;case"img":case"image":case"link":ft("error",d),ft("load",d);break;case"details":ft("toggle",d);break;case"input":qe(d,y),ft("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ft("invalid",d);break;case"textarea":rr(d,y),ft("invalid",d)}Ca(l,y),p=null;for(var C in y)if(y.hasOwnProperty(C)){var F=y[C];C==="children"?typeof F=="string"?d.textContent!==F&&(y.suppressHydrationWarning!==!0&&Ru(d.textContent,F,r),p=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(y.suppressHydrationWarning!==!0&&Ru(d.textContent,F,r),p=["children",""+F]):o.hasOwnProperty(C)&&F!=null&&C==="onScroll"&&ft("scroll",d)}switch(l){case"input":$e(d),dt(d,y,!0);break;case"textarea":$e(d),ir(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Nu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{C=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=C.createElement(l,{is:d.is}):(r=C.createElement(l),l==="select"&&(C=r,d.multiple?C.multiple=!0:d.size&&(C.size=d.size))):r=C.createElementNS(r,l),r[Rr]=s,r[Ja]=d,$y(r,s,!1,!1),s.stateNode=r;e:{switch(C=Pa(l,d),l){case"dialog":ft("cancel",r),ft("close",r),p=d;break;case"iframe":case"object":case"embed":ft("load",r),p=d;break;case"video":case"audio":for(p=0;p<Qa.length;p++)ft(Qa[p],r);p=d;break;case"source":ft("error",r),p=d;break;case"img":case"image":case"link":ft("error",r),ft("load",r),p=d;break;case"details":ft("toggle",r),p=d;break;case"input":qe(r,d),p=je(r,d),ft("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=E({},d,{value:void 0}),ft("invalid",r);break;case"textarea":rr(r,d),p=An(r,d),ft("invalid",r);break;default:p=d}Ca(l,p),F=p;for(y in F)if(F.hasOwnProperty(y)){var q=F[y];y==="style"?xa(r,q):y==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Sa(r,q)):y==="children"?typeof q=="string"?(l!=="textarea"||q!=="")&&yi(r,q):typeof q=="number"&&yi(r,""+q):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?q!=null&&y==="onScroll"&&ft("scroll",r):q!=null&&J(r,y,q,C))}switch(l){case"input":$e(r),dt(r,d,!1);break;case"textarea":$e(r),ir(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Te(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?yt(r,!!d.multiple,y,!1):d.defaultValue!=null&&yt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(r&&s.stateNode!=null)qy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ns(rl.current),Ns(Nr.current),Fu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Rr]=s,(y=d.nodeValue!==l)&&(r=Ln,r!==null))switch(r.tag){case 3:Ru(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ru(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Rr]=s,s.stateNode=d}return Jt(s),null;case 13:if(pt(vt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&Mn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Gg(),Uo(),s.flags|=98560,y=!1;else if(y=Fu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Rr]=s}else Uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),y=!1}else mr!==null&&(wf(mr),mr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(vt.current&1)!==0?Lt===0&&(Lt=3):If())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return qo(),uf(r,s),r===null&&Ya(s.stateNode.containerInfo),Jt(s),null;case 10:return Mh(s.type._context),Jt(s),null;case 17:return _n(s.type)&&Du(),Jt(s),null;case 19:if(pt(vt),y=s.memoizedState,y===null)return Jt(s),null;if(d=(s.flags&128)!==0,C=y.rendering,C===null)if(d)ll(y,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(C=Hu(r),C!==null){for(s.flags|=128,ll(y,!1),d=C.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,r=C.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return at(vt,vt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ot()>Ko&&(s.flags|=128,d=!0,ll(y,!1),s.lanes=4194304)}else{if(!d)if(r=Hu(C),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ll(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!gt)return Jt(s),null}else 2*ot()-y.renderingStartTime>Ko&&l!==1073741824&&(s.flags|=128,d=!0,ll(y,!1),s.lanes=4194304);y.isBackwards?(C.sibling=s.child,s.child=C):(l=y.last,l!==null?l.sibling=C:s.child=C,y.last=C)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ot(),s.sibling=null,l=vt.current,at(vt,d?l&1|2:l&1),s):(Jt(s),null);case 22:case 23:return Tf(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(jn&1073741824)!==0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function fS(r,s){switch(Ah(s),s.tag){case 1:return _n(s.type)&&Du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return qo(),pt(vn),pt(Yt),Bh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return zh(s),null;case 13:if(pt(vt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(vt),null;case 4:return qo(),null;case 10:return Mh(s.type._context),null;case 22:case 23:return Tf(),null;case 24:return null;default:return null}}var ec=!1,Zt=!1,pS=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Wo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Et(r,s,d)}else l.current=null}function cf(r,s,l){try{l()}catch(d){Et(r,s,d)}}var Hy=!1;function mS(r,s){if(Eh=bi,r=Ig(),fh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var C=0,F=-1,q=-1,ee=0,fe=0,me=r,de=null;t:for(;;){for(var we;me!==l||p!==0&&me.nodeType!==3||(F=C+p),me!==y||d!==0&&me.nodeType!==3||(q=C+d),me.nodeType===3&&(C+=me.nodeValue.length),(we=me.firstChild)!==null;)de=me,me=we;for(;;){if(me===r)break t;if(de===l&&++ee===p&&(F=C),de===y&&++fe===d&&(q=C),(we=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=we}l=F===-1||q===-1?null:{start:F,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Th={focusedElem:r,selectionRange:l},bi=!1,Ie=s;Ie!==null;)if(s=Ie,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ie=r;else for(;Ie!==null;){s=Ie;try{var Se=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var xe=Se.memoizedProps,St=Se.memoizedState,K=s.stateNode,H=K.getSnapshotBeforeUpdate(s.elementType===s.type?xe:gr(s.type,xe),St);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var X=s.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Et(s,s.return,ge)}if(r=s.sibling,r!==null){r.return=s.return,Ie=r;break}Ie=s.return}return Se=Hy,Hy=!1,Se}function ul(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&cf(s,l,y)}p=p.next}while(p!==d)}}function tc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function df(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Wy(r){var s=r.alternate;s!==null&&(r.alternate=null,Wy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Rr],delete s[Ja],delete s[xh],delete s[XI],delete s[JI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Gy(r){return r.tag===5||r.tag===3||r.tag===4}function Ky(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hf(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Nu));else if(d!==4&&(r=r.child,r!==null))for(hf(r,s,l),r=r.sibling;r!==null;)hf(r,s,l),r=r.sibling}function ff(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(ff(r,s,l),r=r.sibling;r!==null;)ff(r,s,l),r=r.sibling}var Ht=null,yr=!1;function Di(r,s,l){for(l=l.child;l!==null;)Qy(r,s,l),l=l.sibling}function Qy(r,s,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ws,l)}catch{}switch(l.tag){case 5:Zt||Wo(l,s);case 6:var d=Ht,p=yr;Ht=null,Di(r,s,l),Ht=d,yr=p,Ht!==null&&(yr?(r=Ht,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ht.removeChild(l.stateNode));break;case 18:Ht!==null&&(yr?(r=Ht,l=l.stateNode,r.nodeType===8?bh(r.parentNode,l):r.nodeType===1&&bh(r,l),hr(r)):bh(Ht,l.stateNode));break;case 4:d=Ht,p=yr,Ht=l.stateNode.containerInfo,yr=!0,Di(r,s,l),Ht=d,yr=p;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,C=y.destroy;y=y.tag,C!==void 0&&((y&2)!==0||(y&4)!==0)&&cf(l,s,C),p=p.next}while(p!==d)}Di(r,s,l);break;case 1:if(!Zt&&(Wo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(F){Et(l,s,F)}Di(r,s,l);break;case 21:Di(r,s,l);break;case 22:l.mode&1?(Zt=(d=Zt)||l.memoizedState!==null,Di(r,s,l),Zt=d):Di(r,s,l);break;default:Di(r,s,l)}}function Yy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new pS),s.forEach(function(d){var p=SS.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function vr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,C=s,F=C;e:for(;F!==null;){switch(F.tag){case 5:Ht=F.stateNode,yr=!1;break e;case 3:Ht=F.stateNode.containerInfo,yr=!0;break e;case 4:Ht=F.stateNode.containerInfo,yr=!0;break e}F=F.return}if(Ht===null)throw Error(t(160));Qy(y,C,p),Ht=null,yr=!1;var q=p.alternate;q!==null&&(q.return=null),p.return=null}catch(ee){Et(p,s,ee)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Xy(s,r),s=s.sibling}function Xy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(vr(s,r),Dr(r),d&4){try{ul(3,r,r.return),tc(3,r)}catch(xe){Et(r,r.return,xe)}try{ul(5,r,r.return)}catch(xe){Et(r,r.return,xe)}}break;case 1:vr(s,r),Dr(r),d&512&&l!==null&&Wo(l,l.return);break;case 5:if(vr(s,r),Dr(r),d&512&&l!==null&&Wo(l,l.return),r.flags&32){var p=r.stateNode;try{yi(p,"")}catch(xe){Et(r,r.return,xe)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,C=l!==null?l.memoizedProps:y,F=r.type,q=r.updateQueue;if(r.updateQueue=null,q!==null)try{F==="input"&&y.type==="radio"&&y.name!=null&&ct(p,y),Pa(F,C);var ee=Pa(F,y);for(C=0;C<q.length;C+=2){var fe=q[C],me=q[C+1];fe==="style"?xa(p,me):fe==="dangerouslySetInnerHTML"?Sa(p,me):fe==="children"?yi(p,me):J(p,fe,me,ee)}switch(F){case"input":Fe(p,y);break;case"textarea":Gr(p,y);break;case"select":var de=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?yt(p,!!y.multiple,we,!1):de!==!!y.multiple&&(y.defaultValue!=null?yt(p,!!y.multiple,y.defaultValue,!0):yt(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ja]=y}catch(xe){Et(r,r.return,xe)}}break;case 6:if(vr(s,r),Dr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(xe){Et(r,r.return,xe)}}break;case 3:if(vr(s,r),Dr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{hr(s.containerInfo)}catch(xe){Et(r,r.return,xe)}break;case 4:vr(s,r),Dr(r);break;case 13:vr(s,r),Dr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(gf=ot())),d&4&&Yy(r);break;case 22:if(fe=l!==null&&l.memoizedState!==null,r.mode&1?(Zt=(ee=Zt)||fe,vr(s,r),Zt=ee):vr(s,r),Dr(r),d&8192){if(ee=r.memoizedState!==null,(r.stateNode.isHidden=ee)&&!fe&&(r.mode&1)!==0)for(Ie=r,fe=r.child;fe!==null;){for(me=Ie=fe;Ie!==null;){switch(de=Ie,we=de.child,de.tag){case 0:case 11:case 14:case 15:ul(4,de,de.return);break;case 1:Wo(de,de.return);var Se=de.stateNode;if(typeof Se.componentWillUnmount=="function"){d=de,l=de.return;try{s=d,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(xe){Et(d,l,xe)}}break;case 5:Wo(de,de.return);break;case 22:if(de.memoizedState!==null){ev(me);continue}}we!==null?(we.return=de,Ie=we):ev(me)}fe=fe.sibling}e:for(fe=null,me=r;;){if(me.tag===5){if(fe===null){fe=me;try{p=me.stateNode,ee?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(F=me.stateNode,q=me.memoizedProps.style,C=q!=null&&q.hasOwnProperty("display")?q.display:null,F.style.display=ba("display",C))}catch(xe){Et(r,r.return,xe)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=ee?"":me.memoizedProps}catch(xe){Et(r,r.return,xe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:vr(s,r),Dr(r),d&4&&Yy(r);break;case 21:break;default:vr(s,r),Dr(r)}}function Dr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Gy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(yi(p,""),d.flags&=-33);var y=Ky(r);ff(r,y,p);break;case 3:case 4:var C=d.stateNode.containerInfo,F=Ky(r);hf(r,F,C);break;default:throw Error(t(161))}}catch(q){Et(r,r.return,q)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function gS(r,s,l){Ie=r,Jy(r)}function Jy(r,s,l){for(var d=(r.mode&1)!==0;Ie!==null;){var p=Ie,y=p.child;if(p.tag===22&&d){var C=p.memoizedState!==null||ec;if(!C){var F=p.alternate,q=F!==null&&F.memoizedState!==null||Zt;F=ec;var ee=Zt;if(ec=C,(Zt=q)&&!ee)for(Ie=p;Ie!==null;)C=Ie,q=C.child,C.tag===22&&C.memoizedState!==null?tv(p):q!==null?(q.return=C,Ie=q):tv(p);for(;y!==null;)Ie=y,Jy(y),y=y.sibling;Ie=p,ec=F,Zt=ee}Zy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Ie=y):Zy(r)}}function Zy(r){for(;Ie!==null;){var s=Ie;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Zt||tc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Zt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:gr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ey(s,y,d);break;case 3:var C=s.updateQueue;if(C!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ey(s,C,l)}break;case 5:var F=s.stateNode;if(l===null&&s.flags&4){l=F;var q=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&l.focus();break;case"img":q.src&&(l.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ee=s.alternate;if(ee!==null){var fe=ee.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&hr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||s.flags&512&&df(s)}catch(de){Et(s,s.return,de)}}if(s===r){Ie=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function ev(r){for(;Ie!==null;){var s=Ie;if(s===r){Ie=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function tv(r){for(;Ie!==null;){var s=Ie;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{tc(4,s)}catch(q){Et(s,l,q)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(q){Et(s,p,q)}}var y=s.return;try{df(s)}catch(q){Et(s,y,q)}break;case 5:var C=s.return;try{df(s)}catch(q){Et(s,C,q)}}}catch(q){Et(s,s.return,q)}if(s===r){Ie=null;break}var F=s.sibling;if(F!==null){F.return=s.return,Ie=F;break}Ie=s.return}}var yS=Math.ceil,nc=ne.ReactCurrentDispatcher,pf=ne.ReactCurrentOwner,Jn=ne.ReactCurrentBatchConfig,Xe=0,Ft=null,Ct=null,Wt=0,jn=0,Go=Pi(0),Lt=0,cl=null,Ds=0,rc=0,mf=0,dl=null,En=null,gf=0,Ko=1/0,ai=null,ic=!1,yf=null,Li=null,sc=!1,Mi=null,oc=0,hl=0,vf=null,ac=-1,lc=0;function hn(){return(Xe&6)!==0?ot():ac!==-1?ac:ac=ot()}function ji(r){return(r.mode&1)===0?1:(Xe&2)!==0&&Wt!==0?Wt&-Wt:eS.transition!==null?(lc===0&&(lc=Ts()),lc):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Ua(r.type)),r)}function _r(r,s,l,d){if(50<hl)throw hl=0,vf=null,Error(t(185));Ei(r,l,d),((Xe&2)===0||r!==Ft)&&(r===Ft&&((Xe&2)===0&&(rc|=l),Lt===4&&Vi(r,Wt)),Tn(r,d),l===1&&Xe===0&&(s.mode&1)===0&&(Ko=ot()+500,Mu&&Ri()))}function Tn(r,s){var l=r.callbackNode;Qr(r,s);var d=Es(r,r===Ft?Wt:0);if(d===0)l!==null&&La(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&La(l),s===1)r.tag===0?ZI(rv.bind(null,r)):$g(rv.bind(null,r)),QI(function(){(Xe&6)===0&&Ri()}),l=null;else{switch(Ii(d)){case 1:l=_s;break;case 4:l=vi;break;case 16:l=Hn;break;case 536870912:l=lu;break;default:l=Hn}l=dv(l,nv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function nv(r,s){if(ac=-1,lc=0,(Xe&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Qo()&&r.callbackNode!==l)return null;var d=Es(r,r===Ft?Wt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=uc(r,d);else{s=d;var p=Xe;Xe|=2;var y=sv();(Ft!==r||Wt!==s)&&(ai=null,Ko=ot()+500,Ms(r,s));do try{wS();break}catch(F){iv(r,F)}while(!0);Lh(),nc.current=y,Xe=p,Ct!==null?s=0:(Ft=null,Wt=0,s=Lt)}if(s!==0){if(s===2&&(p=Nn(r),p!==0&&(d=p,s=_f(r,p))),s===1)throw l=cl,Ms(r,0),Vi(r,d),Tn(r,ot()),l;if(s===6)Vi(r,d);else{if(p=r.current.alternate,(d&30)===0&&!vS(p)&&(s=uc(r,d),s===2&&(y=Nn(r),y!==0&&(d=y,s=_f(r,y))),s===1))throw l=cl,Ms(r,0),Vi(r,d),Tn(r,ot()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:js(r,En,ai);break;case 3:if(Vi(r,d),(d&130023424)===d&&(s=gf+500-ot(),10<s)){if(Es(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){hn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Sh(js.bind(null,r,En,ai),s);break}js(r,En,ai);break;case 4:if(Vi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var C=31-un(d);y=1<<C,C=s[C],C>p&&(p=C),d&=~y}if(d=p,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*yS(d/1960))-d,10<d){r.timeoutHandle=Sh(js.bind(null,r,En,ai),d);break}js(r,En,ai);break;case 5:js(r,En,ai);break;default:throw Error(t(329))}}}return Tn(r,ot()),r.callbackNode===l?nv.bind(null,r):null}function _f(r,s){var l=dl;return r.current.memoizedState.isDehydrated&&(Ms(r,s).flags|=256),r=uc(r,s),r!==2&&(s=En,En=l,s!==null&&wf(s)),r}function wf(r){En===null?En=r:En.push.apply(En,r)}function vS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!pr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(r,s){for(s&=~mf,s&=~rc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-un(s),d=1<<l;r[l]=-1,s&=~d}}function rv(r){if((Xe&6)!==0)throw Error(t(327));Qo();var s=Es(r,0);if((s&1)===0)return Tn(r,ot()),null;var l=uc(r,s);if(r.tag!==0&&l===2){var d=Nn(r);d!==0&&(s=d,l=_f(r,d))}if(l===1)throw l=cl,Ms(r,0),Vi(r,s),Tn(r,ot()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,js(r,En,ai),Tn(r,ot()),null}function Ef(r,s){var l=Xe;Xe|=1;try{return r(s)}finally{Xe=l,Xe===0&&(Ko=ot()+500,Mu&&Ri())}}function Ls(r){Mi!==null&&Mi.tag===0&&(Xe&6)===0&&Qo();var s=Xe;Xe|=1;var l=Jn.transition,d=Ke;try{if(Jn.transition=null,Ke=1,r)return r()}finally{Ke=d,Jn.transition=l,Xe=s,(Xe&6)===0&&Ri()}}function Tf(){jn=Go.current,pt(Go)}function Ms(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,KI(l)),Ct!==null)for(l=Ct.return;l!==null;){var d=l;switch(Ah(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Du();break;case 3:qo(),pt(vn),pt(Yt),Bh();break;case 5:zh(d);break;case 4:qo();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:Mh(d.type._context);break;case 22:case 23:Tf()}l=l.return}if(Ft=r,Ct=r=Fi(r.current,null),Wt=jn=s,Lt=0,cl=null,mf=rc=Ds=0,En=dl=null,Rs!==null){for(s=0;s<Rs.length;s++)if(l=Rs[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var C=y.next;y.next=p,d.next=C}l.pending=d}Rs=null}return r}function iv(r,s){do{var l=Ct;try{if(Lh(),Wu.current=Yu,Gu){for(var d=_t.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Gu=!1}if(Os=0,Vt=Dt=_t=null,il=!1,sl=0,pf.current=null,l===null||l.return===null){Lt=1,cl=s,Ct=null;break}e:{var y=r,C=l.return,F=l,q=s;if(s=Wt,F.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,fe=F,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var we=Py(C);if(we!==null){we.flags&=-257,Ay(we,C,F,y,s),we.mode&1&&Cy(y,ee,s),s=we,q=ee;var Se=s.updateQueue;if(Se===null){var xe=new Set;xe.add(q),s.updateQueue=xe}else Se.add(q);break e}else{if((s&1)===0){Cy(y,ee,s),If();break e}q=Error(t(426))}}else if(gt&&F.mode&1){var St=Py(C);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Ay(St,C,F,y,s),Oh(Ho(q,F));break e}}y=q=Ho(q,F),Lt!==4&&(Lt=2),dl===null?dl=[y]:dl.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var K=xy(y,q,s);Zg(y,K);break e;case 1:F=q;var H=y.type,X=y.stateNode;if((y.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Li===null||!Li.has(X)))){y.flags|=65536,s&=-s,y.lanes|=s;var ge=ky(y,F,s);Zg(y,ge);break e}}y=y.return}while(y!==null)}av(l)}catch(Ce){s=Ce,Ct===l&&l!==null&&(Ct=l=l.return);continue}break}while(!0)}function sv(){var r=nc.current;return nc.current=Yu,r===null?Yu:r}function If(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ft===null||(Ds&268435455)===0&&(rc&268435455)===0||Vi(Ft,Wt)}function uc(r,s){var l=Xe;Xe|=2;var d=sv();(Ft!==r||Wt!==s)&&(ai=null,Ms(r,s));do try{_S();break}catch(p){iv(r,p)}while(!0);if(Lh(),Xe=l,nc.current=d,Ct!==null)throw Error(t(261));return Ft=null,Wt=0,Lt}function _S(){for(;Ct!==null;)ov(Ct)}function wS(){for(;Ct!==null&&!ou();)ov(Ct)}function ov(r){var s=cv(r.alternate,r,jn);r.memoizedProps=r.pendingProps,s===null?av(r):Ct=s,pf.current=null}function av(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=hS(l,s,jn),l!==null){Ct=l;return}}else{if(l=fS(l,s),l!==null){l.flags&=32767,Ct=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,Ct=null;return}}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=r}while(s!==null);Lt===0&&(Lt=5)}function js(r,s,l){var d=Ke,p=Jn.transition;try{Jn.transition=null,Ke=1,ES(r,s,l,d)}finally{Jn.transition=p,Ke=d}return null}function ES(r,s,l,d){do Qo();while(Mi!==null);if((Xe&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(st(r,y),r===Ft&&(Ct=Ft=null,Wt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||sc||(sc=!0,dv(Hn,function(){return Qo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Jn.transition,Jn.transition=null;var C=Ke;Ke=1;var F=Xe;Xe|=4,pf.current=null,mS(r,l),Xy(l,r),zI(Th),bi=!!Eh,Th=Eh=null,r.current=l,gS(l),sh(),Xe=F,Ke=C,Jn.transition=y}else r.current=l;if(sc&&(sc=!1,Mi=r,oc=p),y=r.pendingLanes,y===0&&(Li=null),uu(l.stateNode),Tn(r,ot()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(ic)throw ic=!1,r=yf,yf=null,r;return(oc&1)!==0&&r.tag!==0&&Qo(),y=r.pendingLanes,(y&1)!==0?r===vf?hl++:(hl=0,vf=r):hl=0,Ri(),null}function Qo(){if(Mi!==null){var r=Ii(oc),s=Jn.transition,l=Ke;try{if(Jn.transition=null,Ke=16>r?16:r,Mi===null)var d=!1;else{if(r=Mi,Mi=null,oc=0,(Xe&6)!==0)throw Error(t(331));var p=Xe;for(Xe|=4,Ie=r.current;Ie!==null;){var y=Ie,C=y.child;if((Ie.flags&16)!==0){var F=y.deletions;if(F!==null){for(var q=0;q<F.length;q++){var ee=F[q];for(Ie=ee;Ie!==null;){var fe=Ie;switch(fe.tag){case 0:case 11:case 15:ul(8,fe,y)}var me=fe.child;if(me!==null)me.return=fe,Ie=me;else for(;Ie!==null;){fe=Ie;var de=fe.sibling,we=fe.return;if(Wy(fe),fe===ee){Ie=null;break}if(de!==null){de.return=we,Ie=de;break}Ie=we}}}var Se=y.alternate;if(Se!==null){var xe=Se.child;if(xe!==null){Se.child=null;do{var St=xe.sibling;xe.sibling=null,xe=St}while(xe!==null)}}Ie=y}}if((y.subtreeFlags&2064)!==0&&C!==null)C.return=y,Ie=C;else e:for(;Ie!==null;){if(y=Ie,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ul(9,y,y.return)}var K=y.sibling;if(K!==null){K.return=y.return,Ie=K;break e}Ie=y.return}}var H=r.current;for(Ie=H;Ie!==null;){C=Ie;var X=C.child;if((C.subtreeFlags&2064)!==0&&X!==null)X.return=C,Ie=X;else e:for(C=H;Ie!==null;){if(F=Ie,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:tc(9,F)}}catch(Ce){Et(F,F.return,Ce)}if(F===C){Ie=null;break e}var ge=F.sibling;if(ge!==null){ge.return=F.return,Ie=ge;break e}Ie=F.return}}if(Xe=p,Ri(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ws,r)}catch{}d=!0}return d}finally{Ke=l,Jn.transition=s}}return!1}function lv(r,s,l){s=Ho(l,s),s=xy(r,s,1),r=Oi(r,s,1),s=hn(),r!==null&&(Ei(r,1,s),Tn(r,s))}function Et(r,s,l){if(r.tag===3)lv(r,r,l);else for(;s!==null;){if(s.tag===3){lv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))){r=Ho(l,r),r=ky(s,r,1),s=Oi(s,r,1),r=hn(),s!==null&&(Ei(s,1,r),Tn(s,r));break}}s=s.return}}function TS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=hn(),r.pingedLanes|=r.suspendedLanes&l,Ft===r&&(Wt&l)===l&&(Lt===4||Lt===3&&(Wt&130023424)===Wt&&500>ot()-gf?Ms(r,0):mf|=l),Tn(r,s)}function uv(r,s){s===0&&((r.mode&1)===0?s=1:(s=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var l=hn();r=ii(r,s),r!==null&&(Ei(r,s,l),Tn(r,l))}function IS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),uv(r,l)}function SS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),uv(r,l)}var cv;cv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||vn.current)wn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return wn=!1,dS(r,s,l);wn=(r.flags&131072)!==0}else wn=!1,gt&&(s.flags&1048576)!==0&&Bg(s,Vu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Zu(r,s),r=s.pendingProps;var p=jo(s,Yt.current);Bo(s,l),p=Wh(null,s,d,r,p,l);var y=Gh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,_n(d)?(y=!0,Lu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Fh(s),p.updater=Xu,s.stateNode=p,p._reactInternals=s,Zh(s,d,r,l),s=rf(null,s,d,!0,y,l)):(s.tag=0,gt&&y&&Ph(s),dn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Zu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=xS(d),r=gr(d,r),p){case 0:s=nf(null,s,d,r,l);break e;case 1:s=My(null,s,d,r,l);break e;case 11:s=Ry(null,s,d,r,l);break e;case 14:s=Ny(null,s,d,gr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),nf(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),My(r,s,d,p,l);case 3:e:{if(jy(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Jg(r,s),qu(s,d,null,l);var C=s.memoizedState;if(d=C.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Ho(Error(t(423)),s),s=Vy(r,s,d,l,p);break e}else if(d!==p){p=Ho(Error(t(424)),s),s=Vy(r,s,d,l,p);break e}else for(Mn=Ci(s.stateNode.containerInfo.firstChild),Ln=s,gt=!0,mr=null,l=Yg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Uo(),d===p){s=oi(r,s,l);break e}dn(r,s,d,l)}s=s.child}return s;case 5:return ty(s),r===null&&Nh(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,C=p.children,Ih(d,p)?C=null:y!==null&&Ih(d,y)&&(s.flags|=32),Ly(r,s),dn(r,s,C,l),s.child;case 6:return r===null&&Nh(s),null;case 13:return Fy(r,s,l);case 4:return Uh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=zo(s,null,d,l):dn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),Ry(r,s,d,p,l);case 7:return dn(r,s,s.pendingProps,l),s.child;case 8:return dn(r,s,s.pendingProps.children,l),s.child;case 12:return dn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,C=p.value,at(zu,d._currentValue),d._currentValue=C,y!==null)if(pr(y.value,C)){if(y.children===p.children&&!vn.current){s=oi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var F=y.dependencies;if(F!==null){C=y.child;for(var q=F.firstContext;q!==null;){if(q.context===d){if(y.tag===1){q=si(-1,l&-l),q.tag=2;var ee=y.updateQueue;if(ee!==null){ee=ee.shared;var fe=ee.pending;fe===null?q.next=q:(q.next=fe.next,fe.next=q),ee.pending=q}}y.lanes|=l,q=y.alternate,q!==null&&(q.lanes|=l),jh(y.return,l,s),F.lanes|=l;break}q=q.next}}else if(y.tag===10)C=y.type===s.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(t(341));C.lanes|=l,F=C.alternate,F!==null&&(F.lanes|=l),jh(C,l,s),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}dn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Bo(s,l),p=Yn(p),d=d(p),s.flags|=1,dn(r,s,d,l),s.child;case 14:return d=s.type,p=gr(d,s.pendingProps),p=gr(d.type,p),Ny(r,s,d,p,l);case 15:return Oy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:gr(d,p),Zu(r,s),s.tag=1,_n(d)?(r=!0,Lu(s)):r=!1,Bo(s,l),Sy(s,d,p),Zh(s,d,p,l),rf(null,s,d,!0,r,l);case 19:return zy(r,s,l);case 22:return Dy(r,s,l)}throw Error(t(156,s.tag))};function dv(r,s){return go(r,s)}function bS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,s,l,d){return new bS(r,s,l,d)}function Sf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xS(r){if(typeof r=="function")return Sf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===D)return 11;if(r===pe)return 14}return 2}function Fi(r,s){var l=r.alternate;return l===null?(l=Zn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function cc(r,s,l,d,p,y){var C=2;if(d=r,typeof r=="function")Sf(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case P:return Vs(l.children,p,y,s);case A:C=8,p|=8;break;case b:return r=Zn(12,l,s,p|2),r.elementType=b,r.lanes=y,r;case k:return r=Zn(13,l,s,p),r.elementType=k,r.lanes=y,r;case Q:return r=Zn(19,l,s,p),r.elementType=Q,r.lanes=y,r;case I:return dc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:C=10;break e;case O:C=9;break e;case D:C=11;break e;case pe:C=14;break e;case he:C=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Zn(C,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Vs(r,s,l,d){return r=Zn(7,r,d,s),r.lanes=l,r}function dc(r,s,l,d){return r=Zn(22,r,d,s),r.elementType=I,r.lanes=l,r.stateNode={isHidden:!1},r}function bf(r,s,l){return r=Zn(6,r,null,s),r.lanes=l,r}function xf(r,s,l){return s=Zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function kS(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function kf(r,s,l,d,p,y,C,F,q){return r=new kS(r,s,l,F,q),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Zn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(y),r}function CS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function hv(r){if(!r)return Ai;r=r._reactInternals;e:{if(ar(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(_n(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(_n(l))return Ug(r,l,s)}return s}function fv(r,s,l,d,p,y,C,F,q){return r=kf(l,d,!0,r,p,y,C,F,q),r.context=hv(null),l=r.current,d=hn(),p=ji(l),y=si(d,p),y.callback=s??null,Oi(l,y,p),r.current.lanes=p,Ei(r,p,d),Tn(r,d),r}function hc(r,s,l,d){var p=s.current,y=hn(),C=ji(p);return l=hv(l),s.context===null?s.context=l:s.pendingContext=l,s=si(y,C),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Oi(p,s,C),r!==null&&(_r(r,p,C,y),Bu(r,p,C)),C}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function pv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Cf(r,s){pv(r,s),(r=r.alternate)&&pv(r,s)}function PS(){return null}var mv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Pf(r){this._internalRoot=r}pc.prototype.render=Pf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));hc(r,s,null,null)},pc.prototype.unmount=Pf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ls(function(){hc(null,r,null,null)}),s[ei]=null}};function pc(r){this._internalRoot=r}pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=pu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<kr.length&&s!==0&&s<kr[l].priority;l++);kr.splice(l,0,r),l===0&&yu(r)}};function Af(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gv(){}function AS(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var ee=fc(C);y.call(ee)}}var C=fv(s,d,r,0,null,!1,!1,"",gv);return r._reactRootContainer=C,r[ei]=C.current,Ya(r.nodeType===8?r.parentNode:r),Ls(),C}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var F=d;d=function(){var ee=fc(q);F.call(ee)}}var q=kf(r,0,!1,null,null,!1,!1,"",gv);return r._reactRootContainer=q,r[ei]=q.current,Ya(r.nodeType===8?r.parentNode:r),Ls(function(){hc(s,q,l,d)}),q}function gc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var C=y;if(typeof p=="function"){var F=p;p=function(){var q=fc(C);F.call(q)}}hc(s,C,r,p)}else C=AS(l,s,r,p,d);return fc(C)}hu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=_i(s.pendingLanes);l!==0&&(Ti(s,l|1),Tn(s,ot()),(Xe&6)===0&&(Ko=ot()+500,Ri()))}break;case 13:Ls(function(){var d=ii(r,1);if(d!==null){var p=hn();_r(d,r,1,p)}}),Cf(r,1)}},_o=function(r){if(r.tag===13){var s=ii(r,134217728);if(s!==null){var l=hn();_r(s,r,134217728,l)}Cf(r,134217728)}},fu=function(r){if(r.tag===13){var s=ji(r),l=ii(r,s);if(l!==null){var d=hn();_r(l,r,s,d)}Cf(r,s)}},pu=function(){return Ke},mu=function(r,s){var l=Ke;try{return Ke=r,s()}finally{Ke=l}},uo=function(r,s,l){switch(s){case"input":if(Fe(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=Ou(d);if(!p)throw Error(t(90));He(d),Fe(d,p)}}}break;case"textarea":Gr(r,l);break;case"select":s=l.value,s!=null&&yt(r,!!l.multiple,s,!1)}},ms=Ef,Ra=Ls;var RS={usingClientEntryPoint:!1,Events:[Za,Lo,Ou,br,Aa,Ef]},fl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NS={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Da(r),r===null?null:r.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||PS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ws=yc.inject(NS),Rn=yc}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RS,In.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(s))throw Error(t(200));return CS(r,s,null,l)},In.createRoot=function(r,s){if(!Af(r))throw Error(t(299));var l=!1,d="",p=mv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=kf(r,1,!1,null,null,l,!1,d,p),r[ei]=s.current,Ya(r.nodeType===8?r.parentNode:r),new Pf(s)},In.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Da(s),r=r===null?null:r.stateNode,r},In.flushSync=function(r){return Ls(r)},In.hydrate=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!0,l)},In.hydrateRoot=function(r,s,l){if(!Af(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",C=mv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),s=fv(s,null,r,1,l??null,p,!1,y,C),r[ei]=s.current,Ya(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new pc(s)},In.render=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!1,l)},In.unmountComponentAtNode=function(r){if(!mc(r))throw Error(t(40));return r._reactRootContainer?(Ls(function(){gc(null,null,r,!1,function(){r._reactRootContainer=null,r[ei]=null})}),!0):!1},In.unstable_batchedUpdates=Ef,In.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!mc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return gc(r,s,l,!1,d)},In.version="18.3.1-next-f1338f8080-20240426",In}var Sv;function Y0(){if(Sv)return Of.exports;Sv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Of.exports=$S(),Of.exports}var bv;function BS(){if(bv)return _c;bv=1;var n=Y0();return _c.createRoot=n.createRoot,_c.hydrateRoot=n.hydrateRoot,_c}var qS=BS();const HS=Zp(qS);Y0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Al.apply(this,arguments)}var Hi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Hi||(Hi={}));const xv="popstate";function WS(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return dp("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Gc(o)}return KS(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function X0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GS(){return Math.random().toString(36).substr(2,8)}function kv(n,e){return{usr:n.state,key:n.key,idx:e}}function dp(n,e,t,i){return t===void 0&&(t=null),Al({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ga(e):e,{state:t,key:e&&e.key||i||GS()})}function Gc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ga(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function KS(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h=Hi.Pop,f=null,m=v();m==null&&(m=0,u.replaceState(Al({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function S(){h=Hi.Pop;let j=v(),G=j==null?null:j-m;m=j,f&&f({action:h,location:L.location,delta:G})}function R(j,G){h=Hi.Push;let Y=dp(L.location,j,G);m=v()+1;let J=kv(Y,m),ne=L.createHref(Y);try{u.pushState(J,"",ne)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(ne)}a&&f&&f({action:h,location:L.location,delta:1})}function M(j,G){h=Hi.Replace;let Y=dp(L.location,j,G);m=v();let J=kv(Y,m),ne=L.createHref(Y);u.replaceState(J,"",ne),a&&f&&f({action:h,location:L.location,delta:0})}function $(j){let G=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof j=="string"?j:Gc(j);return Y=Y.replace(/ $/,"%20"),Nt(G,"No window.location.(origin|href) available to create URL for href: "+Y),new URL(Y,G)}let L={get action(){return h},get location(){return n(o,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,S),f=j,()=>{o.removeEventListener(xv,S),f=null}},createHref(j){return e(o,j)},createURL:$,encodeLocation(j){let G=$(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:M,go(j){return u.go(j)}};return L}var Cv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Cv||(Cv={}));function QS(n,e,t){return t===void 0&&(t="/"),YS(n,e,t)}function YS(n,e,t,i){let o=typeof e=="string"?ga(e):e,a=em(o.pathname||"/",t);if(a==null)return null;let u=J0(n);XS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=ub(a);h=ob(u[f],m)}return h}function J0(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=Gi([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),J0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:ib(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of Z0(a.path))o(a,u,f)}),e}function Z0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=Z0(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function XS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sb(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const JS=/^:[\w-]+$/,ZS=3,eb=2,tb=1,nb=10,rb=-2,Pv=n=>n==="*";function ib(n,e){let t=n.split("/"),i=t.length;return t.some(Pv)&&(i+=rb),e&&(i+=eb),t.filter(o=>!Pv(o)).reduce((o,a)=>o+(JS.test(a)?ZS:a===""?tb:nb),i)}function sb(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function ob(n,e,t){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",S=ab({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),R=f.route;if(!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:Gi([a,S.pathname]),pathnameBase:fb(Gi([a,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(a=Gi([a,S.pathnameBase]))}return u}function ab(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=lb(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,v,S)=>{let{paramName:R,isOptional:M}=v;if(R==="*"){let L=h[S]||"";u=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const $=h[S];return M&&!$?m[R]=void 0:m[R]=($||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function lb(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),X0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ub(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function em(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function cb(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ga(n):n;return{pathname:t?t.startsWith("/")?t:db(t,e):e,search:pb(i),hash:mb(o)}}function db(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Mf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ew(n,e){let t=hb(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function tw(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ga(n):(o=Al({},n),Nt(!o.pathname||!o.pathname.includes("?"),Mf("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Mf("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Mf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let S=e.length-1;if(!i&&u.startsWith("..")){let R=u.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}h=S>=0?e[S]:"/"}let f=cb(o,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const Gi=n=>n.join("/").replace(/\/\/+/g,"/"),fb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nw=["post","put","patch","delete"];new Set(nw);const yb=["get",...nw];new Set(yb);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rl.apply(this,arguments)}const tm=Z.createContext(null),vb=Z.createContext(null),eo=Z.createContext(null),Id=Z.createContext(null),as=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),rw=Z.createContext(null);function _b(n,e){let{relative:t}=e===void 0?{}:e;Bl()||Nt(!1);let{basename:i,navigator:o}=Z.useContext(eo),{hash:a,pathname:u,search:h}=sw(n,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Gi([i,u])),o.createHref({pathname:f,search:h,hash:a})}function Bl(){return Z.useContext(Id)!=null}function ya(){return Bl()||Nt(!1),Z.useContext(Id).location}function iw(n){Z.useContext(eo).static||Z.useLayoutEffect(n)}function an(){let{isDataRoute:n}=Z.useContext(as);return n?Ob():wb()}function wb(){Bl()||Nt(!1);let n=Z.useContext(tm),{basename:e,future:t,navigator:i}=Z.useContext(eo),{matches:o}=Z.useContext(as),{pathname:a}=ya(),u=JSON.stringify(ew(o,t.v7_relativeSplatPath)),h=Z.useRef(!1);return iw(()=>{h.current=!0}),Z.useCallback(function(m,v){if(v===void 0&&(v={}),!h.current)return;if(typeof m=="number"){i.go(m);return}let S=tw(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Gi([e,S.pathname])),(v.replace?i.replace:i.push)(S,v.state,v)},[e,i,u,a,n])}function Eb(){let{matches:n}=Z.useContext(as),e=n[n.length-1];return e?e.params:{}}function sw(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=Z.useContext(eo),{matches:o}=Z.useContext(as),{pathname:a}=ya(),u=JSON.stringify(ew(o,i.v7_relativeSplatPath));return Z.useMemo(()=>tw(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function Tb(n,e){return Ib(n,e)}function Ib(n,e,t,i){Bl()||Nt(!1);let{navigator:o,static:a}=Z.useContext(eo),{matches:u}=Z.useContext(as),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=ya(),S;if(e){var R;let G=typeof e=="string"?ga(e):e;m==="/"||(R=G.pathname)!=null&&R.startsWith(m)||Nt(!1),S=G}else S=v;let M=S.pathname||"/",$=M;if(m!=="/"){let G=m.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=QS(n,{pathname:$}),j=Cb(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:Gi([m,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?m:Gi([m,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,i);return e&&j?Z.createElement(Id.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Hi.Pop}},j):j}function Sb(){let n=Nb(),e=gb(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,null)}const bb=Z.createElement(Sb,null);class xb extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Z.createElement(as.Provider,{value:this.props.routeContext},Z.createElement(rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kb(n){let{routeContext:e,match:t,children:i}=n,o=Z.useContext(tm);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(as.Provider,{value:e},i)}function Cb(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(o=t)==null?void 0:o.errors;if(h!=null){let v=u.findIndex(S=>S.route.id&&(h==null?void 0:h[S.route.id])!==void 0);v>=0||Nt(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<u.length;v++){let S=u[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=v),S.route.id){let{loaderData:R,errors:M}=t,$=S.route.loader&&R[S.route.id]===void 0&&(!M||M[S.route.id]===void 0);if(S.route.lazy||$){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,S,R)=>{let M,$=!1,L=null,j=null;t&&(M=h&&S.route.id?h[S.route.id]:void 0,L=S.route.errorElement||bb,f&&(m<0&&R===0?(Db("route-fallback"),$=!0,j=null):m===R&&($=!0,j=S.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,R+1)),Y=()=>{let J;return M?J=L:$?J=j:S.route.Component?J=Z.createElement(S.route.Component,null):S.route.element?J=S.route.element:J=v,Z.createElement(kb,{match:S,routeContext:{outlet:v,matches:G,isDataRoute:t!=null},children:J})};return t&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?Z.createElement(xb,{location:t.location,revalidation:t.revalidation,component:L,error:M,children:Y(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):Y()},null)}var ow=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(ow||{}),aw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(aw||{});function Pb(n){let e=Z.useContext(tm);return e||Nt(!1),e}function Ab(n){let e=Z.useContext(vb);return e||Nt(!1),e}function Rb(n){let e=Z.useContext(as);return e||Nt(!1),e}function lw(n){let e=Rb(),t=e.matches[e.matches.length-1];return t.route.id||Nt(!1),t.route.id}function Nb(){var n;let e=Z.useContext(rw),t=Ab(),i=lw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function Ob(){let{router:n}=Pb(ow.UseNavigateStable),e=lw(aw.UseNavigateStable),t=Z.useRef(!1);return iw(()=>{t.current=!0}),Z.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Rl({fromRouteId:e},a)))},[n,e])}const Av={};function Db(n,e,t){Av[n]||(Av[n]=!0)}function Lb(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Sn(n){Nt(!1)}function Mb(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Hi.Pop,navigator:a,static:u=!1,future:h}=n;Bl()&&Nt(!1);let f=e.replace(/^\/*/,"/"),m=Z.useMemo(()=>({basename:f,navigator:a,static:u,future:Rl({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof i=="string"&&(i=ga(i));let{pathname:v="/",search:S="",hash:R="",state:M=null,key:$="default"}=i,L=Z.useMemo(()=>{let j=em(v,f);return j==null?null:{location:{pathname:j,search:S,hash:R,state:M,key:$},navigationType:o}},[f,v,S,R,M,$,o]);return L==null?null:Z.createElement(eo.Provider,{value:m},Z.createElement(Id.Provider,{children:t,value:L}))}function jb(n){let{children:e,location:t}=n;return Tb(hp(e),t)}new Promise(()=>{});function hp(n,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(n,(i,o)=>{if(!Z.isValidElement(i))return;let a=[...e,o];if(i.type===Z.Fragment){t.push.apply(t,hp(i.props.children,a));return}i.type!==Sn&&Nt(!1),!i.props.index||!i.props.children||Nt(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=hp(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fp.apply(this,arguments)}function Vb(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Fb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ub(n,e){return n.button===0&&(!e||e==="_self")&&!Fb(n)}const zb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$b="6";try{window.__reactRouterVersion=$b}catch{}const Bb="startTransition",Rv=FS[Bb];function qb(n){let{basename:e,children:t,future:i,window:o}=n,a=Z.useRef();a.current==null&&(a.current=WS({window:o,v5Compat:!0}));let u=a.current,[h,f]=Z.useState({action:u.action,location:u.location}),{v7_startTransition:m}=i||{},v=Z.useCallback(S=>{m&&Rv?Rv(()=>f(S)):f(S)},[f,m]);return Z.useLayoutEffect(()=>u.listen(v),[u,v]),Z.useEffect(()=>Lb(i),[i]),Z.createElement(Mb,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:i})}const Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=Z.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:S}=e,R=Vb(e,zb),{basename:M}=Z.useContext(eo),$,L=!1;if(typeof m=="string"&&Wb.test(m)&&($=m,Hb))try{let J=new URL(window.location.href),ne=m.startsWith("//")?new URL(J.protocol+m):new URL(m),V=em(ne.pathname,M);ne.origin===J.origin&&V!=null?m=V+ne.search+ne.hash:L=!0}catch{}let j=_b(m,{relative:o}),G=Gb(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:S});function Y(J){i&&i(J),J.defaultPrevented||G(J)}return Z.createElement("a",fp({},R,{href:$||j,onClick:L||a?i:Y,ref:t,target:f}))});var Nv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Nv||(Nv={}));var Ov;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ov||(Ov={}));function Gb(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=an(),m=ya(),v=sw(n,{relative:u});return Z.useCallback(S=>{if(Ub(S,t)){S.preventDefault();let R=i!==void 0?i:Gc(m)===Gc(v);f(n,{replace:R,state:o,preventScrollReset:a,relative:u,viewTransition:h})}},[m,f,v,i,o,t,n,a,u,h])}var jf={},Vf={},ml={},Ff={},Dv;function Kb(){return Dv||(Dv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(Ff)),Ff}var Uf,Lv;function Qb(){if(Lv)return Uf;Lv=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt,f=typeof vc=="object"&&vc&&vc.Object===Object&&vc,m=typeof self=="object"&&self&&self.Object===Object&&self,v=f||m||Function("return this")(),S=Object.prototype,R=S.toString,M=Math.max,$=Math.min,L=function(){return v.Date.now()};function j(V,B,P){var A,b,_,O,D,k,Q=0,pe=!1,he=!1,I=!0;if(typeof V!="function")throw new TypeError(n);B=ne(B)||0,G(P)&&(pe=!!P.leading,he="maxWait"in P,_=he?M(ne(P.maxWait)||0,B):_,I="trailing"in P?!!P.trailing:I);function se(ce){var Te=A,be=b;return A=b=void 0,Q=ce,O=V.apply(be,Te),O}function z(ce){return Q=ce,D=setTimeout(U,B),pe?se(ce):O}function E(ce){var Te=ce-k,be=ce-Q,Ae=B-Te;return he?$(Ae,_-be):Ae}function x(ce){var Te=ce-k,be=ce-Q;return k===void 0||Te>=B||Te<0||he&&be>=_}function U(){var ce=L();if(x(ce))return te(ce);D=setTimeout(U,E(ce))}function te(ce){return D=void 0,I&&A?se(ce):(A=b=void 0,O)}function ie(){D!==void 0&&clearTimeout(D),Q=0,A=k=b=D=void 0}function ae(){return D===void 0?O:te(L())}function le(){var ce=L(),Te=x(ce);if(A=arguments,b=this,k=ce,Te){if(D===void 0)return z(k);if(he)return D=setTimeout(U,B),se(k)}return D===void 0&&(D=setTimeout(U,B)),O}return le.cancel=ie,le.flush=ae,le}function G(V){var B=typeof V;return!!V&&(B=="object"||B=="function")}function Y(V){return!!V&&typeof V=="object"}function J(V){return typeof V=="symbol"||Y(V)&&R.call(V)==t}function ne(V){if(typeof V=="number")return V;if(J(V))return e;if(G(V)){var B=typeof V.valueOf=="function"?V.valueOf():V;V=G(B)?B+"":B}if(typeof V!="string")return V===0?V:+V;V=V.replace(i,"");var P=a.test(V);return P||u.test(V)?h(V.slice(2),P?2:8):o.test(V)?e:+V}return Uf=j,Uf}var zf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Mv;function Sd(){return Mv||(Mv=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(a=o(a,i(h)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var h in a)e.call(a,h)&&a[h]&&(u=o(u,h));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(zf)),zf.exports}var _e={},$f={},jv;function uw(){return jv||(jv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Br());function t(o){return o&&o.__esModule?o:{default:o}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}($f)),$f}var Vv;function ql(){if(Vv)return _e;Vv=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkSpecKeys=_e.checkNavigable=_e.changeSlide=_e.canUseDOM=_e.canGoNext=void 0,_e.clamp=m,_e.extractObject=void 0,_e.filterSettings=se,_e.validSettings=_e.swipeStart=_e.swipeMove=_e.swipeEnd=_e.slidesOnRight=_e.slidesOnLeft=_e.slideHandler=_e.siblingDirection=_e.safePreventDefault=_e.lazyStartIndex=_e.lazySlidesOnRight=_e.lazySlidesOnLeft=_e.lazyEndIndex=_e.keyHandler=_e.initializedState=_e.getWidth=_e.getTrackLeft=_e.getTrackCSS=_e.getTrackAnimateCSS=_e.getTotalSlides=_e.getSwipeDirection=_e.getSlideCount=_e.getRequiredLazySlides=_e.getPreClones=_e.getPostClones=_e.getOnDemandLazySlides=_e.getNavigableIndexes=_e.getHeight=void 0;var n=t(Br()),e=t(uw());function t(z){return z&&z.__esModule?z:{default:z}}function i(z){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(z)}function o(z,E){var x=Object.keys(z);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(z);E&&(U=U.filter(function(te){return Object.getOwnPropertyDescriptor(z,te).enumerable})),x.push.apply(x,U)}return x}function a(z){for(var E=1;E<arguments.length;E++){var x=arguments[E]!=null?arguments[E]:{};E%2?o(Object(x),!0).forEach(function(U){u(z,U,x[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach(function(U){Object.defineProperty(z,U,Object.getOwnPropertyDescriptor(x,U))})}return z}function u(z,E,x){return E=h(E),E in z?Object.defineProperty(z,E,{value:x,enumerable:!0,configurable:!0,writable:!0}):z[E]=x,z}function h(z){var E=f(z,"string");return i(E)=="symbol"?E:String(E)}function f(z,E){if(i(z)!="object"||!z)return z;var x=z[Symbol.toPrimitive];if(x!==void 0){var U=x.call(z,E);if(i(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(z)}function m(z,E,x){return Math.max(E,Math.min(z,x))}var v=_e.safePreventDefault=function(E){var x=["onTouchStart","onTouchMove","onWheel"];x.includes(E._reactName)||E.preventDefault()},S=_e.getOnDemandLazySlides=function(E){for(var x=[],U=R(E),te=M(E),ie=U;ie<te;ie++)E.lazyLoadedList.indexOf(ie)<0&&x.push(ie);return x};_e.getRequiredLazySlides=function(E){for(var x=[],U=R(E),te=M(E),ie=U;ie<te;ie++)x.push(ie);return x};var R=_e.lazyStartIndex=function(E){return E.currentSlide-$(E)},M=_e.lazyEndIndex=function(E){return E.currentSlide+L(E)},$=_e.lazySlidesOnLeft=function(E){return E.centerMode?Math.floor(E.slidesToShow/2)+(parseInt(E.centerPadding)>0?1:0):0},L=_e.lazySlidesOnRight=function(E){return E.centerMode?Math.floor((E.slidesToShow-1)/2)+1+(parseInt(E.centerPadding)>0?1:0):E.slidesToShow},j=_e.getWidth=function(E){return E&&E.offsetWidth||0},G=_e.getHeight=function(E){return E&&E.offsetHeight||0},Y=_e.getSwipeDirection=function(E){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U,te,ie,ae;return U=E.startX-E.curX,te=E.startY-E.curY,ie=Math.atan2(te,U),ae=Math.round(ie*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":x===!0?ae>=35&&ae<=135?"up":"down":"vertical"},J=_e.canGoNext=function(E){var x=!0;return E.infinite||(E.centerMode&&E.currentSlide>=E.slideCount-1||E.slideCount<=E.slidesToShow||E.currentSlide>=E.slideCount-E.slidesToShow)&&(x=!1),x};_e.extractObject=function(E,x){var U={};return x.forEach(function(te){return U[te]=E[te]}),U},_e.initializedState=function(E){var x=n.default.Children.count(E.children),U=E.listRef,te=Math.ceil(j(U)),ie=E.trackRef&&E.trackRef.node,ae=Math.ceil(j(ie)),le;if(E.vertical)le=te;else{var ce=E.centerMode&&parseInt(E.centerPadding)*2;typeof E.centerPadding=="string"&&E.centerPadding.slice(-1)==="%"&&(ce*=te/100),le=Math.ceil((te-ce)/E.slidesToShow)}var Te=U&&G(U.querySelector('[data-index="0"]')),be=Te*E.slidesToShow,Ae=E.currentSlide===void 0?E.initialSlide:E.currentSlide;E.rtl&&E.currentSlide===void 0&&(Ae=x-1-E.initialSlide);var $e=E.lazyLoadedList||[],He=S(a(a({},E),{},{currentSlide:Ae,lazyLoadedList:$e}));$e=$e.concat(He);var Ue={slideCount:x,slideWidth:le,listWidth:te,trackWidth:ae,currentSlide:Ae,slideHeight:Te,listHeight:be,lazyLoadedList:$e};return E.autoplaying===null&&E.autoplay&&(Ue.autoplaying="playing"),Ue},_e.slideHandler=function(E){var x=E.waitForAnimate,U=E.animating,te=E.fade,ie=E.infinite,ae=E.index,le=E.slideCount,ce=E.lazyLoad,Te=E.currentSlide,be=E.centerMode,Ae=E.slidesToScroll,$e=E.slidesToShow,He=E.useCSS,Ue=E.lazyLoadedList;if(x&&U)return{};var je=ae,qe,ct,Fe,dt={},ht={},it=ie?ae:m(ae,0,le-1);if(te){if(!ie&&(ae<0||ae>=le))return{};ae<0?je=ae+le:ae>=le&&(je=ae-le),ce&&Ue.indexOf(je)<0&&(Ue=Ue.concat(je)),dt={animating:!0,currentSlide:je,lazyLoadedList:Ue,targetSlide:je},ht={animating:!1,targetSlide:je}}else qe=je,je<0?(qe=je+le,ie?le%Ae!==0&&(qe=le-le%Ae):qe=0):!J(E)&&je>Te?je=qe=Te:be&&je>=le?(je=ie?le:le-1,qe=ie?0:le-1):je>=le&&(qe=je-le,ie?le%Ae!==0&&(qe=0):qe=le-$e),!ie&&je+$e>=le&&(qe=le-$e),ct=_(a(a({},E),{},{slideIndex:je})),Fe=_(a(a({},E),{},{slideIndex:qe})),ie||(ct===Fe&&(je=qe),ct=Fe),ce&&(Ue=Ue.concat(S(a(a({},E),{},{currentSlide:je})))),He?(dt={animating:!0,currentSlide:qe,trackStyle:b(a(a({},E),{},{left:ct})),lazyLoadedList:Ue,targetSlide:it},ht={animating:!1,currentSlide:qe,trackStyle:A(a(a({},E),{},{left:Fe})),swipeLeft:null,targetSlide:it}):dt={currentSlide:qe,trackStyle:A(a(a({},E),{},{left:Fe})),lazyLoadedList:Ue,targetSlide:it};return{state:dt,nextState:ht}},_e.changeSlide=function(E,x){var U,te,ie,ae,le,ce=E.slidesToScroll,Te=E.slidesToShow,be=E.slideCount,Ae=E.currentSlide,$e=E.targetSlide,He=E.lazyLoad,Ue=E.infinite;if(ae=be%ce!==0,U=ae?0:(be-Ae)%ce,x.message==="previous")ie=U===0?ce:Te-U,le=Ae-ie,He&&!Ue&&(te=Ae-ie,le=te===-1?be-1:te),Ue||(le=$e-ce);else if(x.message==="next")ie=U===0?ce:U,le=Ae+ie,He&&!Ue&&(le=(Ae+ce)%be+U),Ue||(le=$e+ce);else if(x.message==="dots")le=x.index*x.slidesToScroll;else if(x.message==="children"){if(le=x.index,Ue){var je=Q(a(a({},E),{},{targetSlide:le}));le>x.currentSlide&&je==="left"?le=le-be:le<x.currentSlide&&je==="right"&&(le=le+be)}}else x.message==="index"&&(le=Number(x.index));return le},_e.keyHandler=function(E,x,U){return E.target.tagName.match("TEXTAREA|INPUT|SELECT")||!x?"":E.keyCode===37?U?"next":"previous":E.keyCode===39?U?"previous":"next":""},_e.swipeStart=function(E,x,U){return E.target.tagName==="IMG"&&v(E),!x||!U&&E.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:E.touches?E.touches[0].pageX:E.clientX,startY:E.touches?E.touches[0].pageY:E.clientY,curX:E.touches?E.touches[0].pageX:E.clientX,curY:E.touches?E.touches[0].pageY:E.clientY}}},_e.swipeMove=function(E,x){var U=x.scrolling,te=x.animating,ie=x.vertical,ae=x.swipeToSlide,le=x.verticalSwiping,ce=x.rtl,Te=x.currentSlide,be=x.edgeFriction,Ae=x.edgeDragged,$e=x.onEdge,He=x.swiped,Ue=x.swiping,je=x.slideCount,qe=x.slidesToScroll,ct=x.infinite,Fe=x.touchObject,dt=x.swipeEvent,ht=x.listHeight,it=x.listWidth;if(!U){if(te)return v(E);ie&&ae&&le&&v(E);var yt,An={},rr=_(x);Fe.curX=E.touches?E.touches[0].pageX:E.clientX,Fe.curY=E.touches?E.touches[0].pageY:E.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var Gr=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!le&&!Ue&&Gr>10)return{scrolling:!0};le&&(Fe.swipeLength=Gr);var ir=(ce?-1:1)*(Fe.curX>Fe.startX?1:-1);le&&(ir=Fe.curY>Fe.startY?1:-1);var Tt=Math.ceil(je/qe),tt=Y(x.touchObject,le),ln=Fe.swipeLength;return ct||(Te===0&&(tt==="right"||tt==="down")||Te+1>=Tt&&(tt==="left"||tt==="up")||!J(x)&&(tt==="left"||tt==="up"))&&(ln=Fe.swipeLength*be,Ae===!1&&$e&&($e(tt),An.edgeDragged=!0)),!He&&dt&&(dt(tt),An.swiped=!0),ie?yt=rr+ln*(ht/it)*ir:ce?yt=rr-ln*ir:yt=rr+ln*ir,le&&(yt=rr+ln*ir),An=a(a({},An),{},{touchObject:Fe,swipeLeft:yt,trackStyle:A(a(a({},x),{},{left:yt}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(An.swiping=!0,v(E)),An}},_e.swipeEnd=function(E,x){var U=x.dragging,te=x.swipe,ie=x.touchObject,ae=x.listWidth,le=x.touchThreshold,ce=x.verticalSwiping,Te=x.listHeight,be=x.swipeToSlide,Ae=x.scrolling,$e=x.onSwipe,He=x.targetSlide,Ue=x.currentSlide,je=x.infinite;if(!U)return te&&v(E),{};var qe=ce?Te/le:ae/le,ct=Y(ie,ce),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ae||!ie.swipeLength)return Fe;if(ie.swipeLength>qe){v(E),$e&&$e(ct);var dt,ht,it=je?Ue:He;switch(ct){case"left":case"up":ht=it+B(x),dt=be?V(x,ht):ht,Fe.currentDirection=0;break;case"right":case"down":ht=it-B(x),dt=be?V(x,ht):ht,Fe.currentDirection=1;break;default:dt=it}Fe.triggerSlideHandler=dt}else{var yt=_(x);Fe.trackStyle=b(a(a({},x),{},{left:yt}))}return Fe};var ne=_e.getNavigableIndexes=function(E){for(var x=E.infinite?E.slideCount*2:E.slideCount,U=E.infinite?E.slidesToShow*-1:0,te=E.infinite?E.slidesToShow*-1:0,ie=[];U<x;)ie.push(U),U=te+E.slidesToScroll,te+=Math.min(E.slidesToScroll,E.slidesToShow);return ie},V=_e.checkNavigable=function(E,x){var U=ne(E),te=0;if(x>U[U.length-1])x=U[U.length-1];else for(var ie in U){if(x<U[ie]){x=te;break}te=U[ie]}return x},B=_e.getSlideCount=function(E){var x=E.centerMode?E.slideWidth*Math.floor(E.slidesToShow/2):0;if(E.swipeToSlide){var U,te=E.listRef,ie=te.querySelectorAll&&te.querySelectorAll(".slick-slide")||[];if(Array.from(ie).every(function(ce){if(E.vertical){if(ce.offsetTop+G(ce)/2>E.swipeLeft*-1)return U=ce,!1}else if(ce.offsetLeft-x+j(ce)/2>E.swipeLeft*-1)return U=ce,!1;return!0}),!U)return 0;var ae=E.rtl===!0?E.slideCount-E.currentSlide:E.currentSlide,le=Math.abs(U.dataset.index-ae)||1;return le}else return E.slidesToScroll},P=_e.checkSpecKeys=function(E,x){return x.reduce(function(U,te){return U&&E.hasOwnProperty(te)},!0)?null:console.error("Keys Missing:",E)},A=_e.getTrackCSS=function(E){P(E,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var x,U,te=E.slideCount+2*E.slidesToShow;E.vertical?U=te*E.slideHeight:x=k(E)*E.slideWidth;var ie={opacity:1,transition:"",WebkitTransition:""};if(E.useTransform){var ae=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",le=E.vertical?"translate3d(0px, "+E.left+"px, 0px)":"translate3d("+E.left+"px, 0px, 0px)",ce=E.vertical?"translateY("+E.left+"px)":"translateX("+E.left+"px)";ie=a(a({},ie),{},{WebkitTransform:ae,transform:le,msTransform:ce})}else E.vertical?ie.top=E.left:ie.left=E.left;return E.fade&&(ie={opacity:1}),x&&(ie.width=x),U&&(ie.height=U),window&&!window.addEventListener&&window.attachEvent&&(E.vertical?ie.marginTop=E.left+"px":ie.marginLeft=E.left+"px"),ie},b=_e.getTrackAnimateCSS=function(E){P(E,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var x=A(E);return E.useTransform?(x.WebkitTransition="-webkit-transform "+E.speed+"ms "+E.cssEase,x.transition="transform "+E.speed+"ms "+E.cssEase):E.vertical?x.transition="top "+E.speed+"ms "+E.cssEase:x.transition="left "+E.speed+"ms "+E.cssEase,x},_=_e.getTrackLeft=function(E){if(E.unslick)return 0;P(E,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var x=E.slideIndex,U=E.trackRef,te=E.infinite,ie=E.centerMode,ae=E.slideCount,le=E.slidesToShow,ce=E.slidesToScroll,Te=E.slideWidth,be=E.listWidth,Ae=E.variableWidth,$e=E.slideHeight,He=E.fade,Ue=E.vertical,je=0,qe,ct,Fe=0;if(He||E.slideCount===1)return 0;var dt=0;if(te?(dt=-O(E),ae%ce!==0&&x+ce>ae&&(dt=-(x>ae?le-(x-ae):ae%ce)),ie&&(dt+=parseInt(le/2))):(ae%ce!==0&&x+ce>ae&&(dt=le-ae%ce),ie&&(dt=parseInt(le/2))),je=dt*Te,Fe=dt*$e,Ue?qe=x*$e*-1+Fe:qe=x*Te*-1+je,Ae===!0){var ht,it=U&&U.node;if(ht=x+O(E),ct=it&&it.childNodes[ht],qe=ct?ct.offsetLeft*-1:0,ie===!0){ht=te?x+O(E):x,ct=it&&it.children[ht],qe=0;for(var yt=0;yt<ht;yt++)qe-=it&&it.children[yt]&&it.children[yt].offsetWidth;qe-=parseInt(E.centerPadding),qe+=ct&&(be-ct.offsetWidth)/2}}return qe},O=_e.getPreClones=function(E){return E.unslick||!E.infinite?0:E.variableWidth?E.slideCount:E.slidesToShow+(E.centerMode?1:0)},D=_e.getPostClones=function(E){return E.unslick||!E.infinite?0:E.slideCount},k=_e.getTotalSlides=function(E){return E.slideCount===1?1:O(E)+E.slideCount+D(E)},Q=_e.siblingDirection=function(E){return E.targetSlide>E.currentSlide?E.targetSlide>E.currentSlide+pe(E)?"left":"right":E.targetSlide<E.currentSlide-he(E)?"right":"left"},pe=_e.slidesOnRight=function(E){var x=E.slidesToShow,U=E.centerMode,te=E.rtl,ie=E.centerPadding;if(U){var ae=(x-1)/2+1;return parseInt(ie)>0&&(ae+=1),te&&x%2===0&&(ae+=1),ae}return te?0:x-1},he=_e.slidesOnLeft=function(E){var x=E.slidesToShow,U=E.centerMode,te=E.rtl,ie=E.centerPadding;if(U){var ae=(x-1)/2+1;return parseInt(ie)>0&&(ae+=1),!te&&x%2===0&&(ae+=1),ae}return te?x-1:0};_e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var I=_e.validSettings=Object.keys(e.default);function se(z){return I.reduce(function(E,x){return z.hasOwnProperty(x)&&(E[x]=z[x]),E},{})}return _e}var gl={},Fv;function Yb(){if(Fv)return gl;Fv=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.Track=void 0;var n=i(Br()),e=i(Sd()),t=ql();function i(b){return b&&b.__esModule?b:{default:b}}function o(b){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o(b)}function a(){return a=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var O=arguments[_];for(var D in O)Object.prototype.hasOwnProperty.call(O,D)&&(b[D]=O[D])}return b},a.apply(this,arguments)}function u(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function h(b,_){for(var O=0;O<_.length;O++){var D=_[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,J(D.key),D)}}function f(b,_,O){return _&&h(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b}function m(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),_&&v(b,_)}function v(b,_){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},v(b,_)}function S(b){var _=$();return function(){var D=L(b),k;if(_){var Q=L(this).constructor;k=Reflect.construct(D,arguments,Q)}else k=D.apply(this,arguments);return R(this,k)}}function R(b,_){if(_&&(o(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(b)}function M(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function $(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!b})()}function L(b){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},L(b)}function j(b,_){var O=Object.keys(b);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);_&&(D=D.filter(function(k){return Object.getOwnPropertyDescriptor(b,k).enumerable})),O.push.apply(O,D)}return O}function G(b){for(var _=1;_<arguments.length;_++){var O=arguments[_]!=null?arguments[_]:{};_%2?j(Object(O),!0).forEach(function(D){Y(b,D,O[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(O)):j(Object(O)).forEach(function(D){Object.defineProperty(b,D,Object.getOwnPropertyDescriptor(O,D))})}return b}function Y(b,_,O){return _=J(_),_ in b?Object.defineProperty(b,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[_]=O,b}function J(b){var _=ne(b,"string");return o(_)=="symbol"?_:String(_)}function ne(b,_){if(o(b)!="object"||!b)return b;var O=b[Symbol.toPrimitive];if(O!==void 0){var D=O.call(b,_);if(o(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}var V=function(_){var O,D,k,Q,pe;_.rtl?pe=_.slideCount-1-_.index:pe=_.index,k=pe<0||pe>=_.slideCount,_.centerMode?(Q=Math.floor(_.slidesToShow/2),D=(pe-_.currentSlide)%_.slideCount===0,pe>_.currentSlide-Q-1&&pe<=_.currentSlide+Q&&(O=!0)):O=_.currentSlide<=pe&&pe<_.currentSlide+_.slidesToShow;var he;_.targetSlide<0?he=_.targetSlide+_.slideCount:_.targetSlide>=_.slideCount?he=_.targetSlide-_.slideCount:he=_.targetSlide;var I=pe===he;return{"slick-slide":!0,"slick-active":O,"slick-center":D,"slick-cloned":k,"slick-current":I}},B=function(_){var O={};return(_.variableWidth===void 0||_.variableWidth===!1)&&(O.width=_.slideWidth),_.fade&&(O.position="relative",_.vertical?O.top=-_.index*parseInt(_.slideHeight):O.left=-_.index*parseInt(_.slideWidth),O.opacity=_.currentSlide===_.index?1:0,O.zIndex=_.currentSlide===_.index?999:998,_.useCSS&&(O.transition="opacity "+_.speed+"ms "+_.cssEase+", visibility "+_.speed+"ms "+_.cssEase)),O},P=function(_,O){return _.key||O},A=function(_){var O,D=[],k=[],Q=[],pe=n.default.Children.count(_.children),he=(0,t.lazyStartIndex)(_),I=(0,t.lazyEndIndex)(_);return n.default.Children.forEach(_.children,function(se,z){var E,x={message:"children",index:z,slidesToScroll:_.slidesToScroll,currentSlide:_.currentSlide};!_.lazyLoad||_.lazyLoad&&_.lazyLoadedList.indexOf(z)>=0?E=se:E=n.default.createElement("div",null);var U=B(G(G({},_),{},{index:z})),te=E.props.className||"",ie=V(G(G({},_),{},{index:z}));if(D.push(n.default.cloneElement(E,{key:"original"+P(E,z),"data-index":z,className:(0,e.default)(ie,te),tabIndex:"-1","aria-hidden":!ie["slick-active"],style:G(G({outline:"none"},E.props.style||{}),U),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),_.focusOnSelect&&_.focusOnSelect(x)}})),_.infinite&&_.fade===!1){var ae=pe-z;ae<=(0,t.getPreClones)(_)&&(O=-ae,O>=he&&(E=se),ie=V(G(G({},_),{},{index:O})),k.push(n.default.cloneElement(E,{key:"precloned"+P(E,O),"data-index":O,tabIndex:"-1",className:(0,e.default)(ie,te),"aria-hidden":!ie["slick-active"],style:G(G({},E.props.style||{}),U),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),_.focusOnSelect&&_.focusOnSelect(x)}}))),O=pe+z,O<I&&(E=se),ie=V(G(G({},_),{},{index:O})),Q.push(n.default.cloneElement(E,{key:"postcloned"+P(E,O),"data-index":O,tabIndex:"-1",className:(0,e.default)(ie,te),"aria-hidden":!ie["slick-active"],style:G(G({},E.props.style||{}),U),onClick:function(ce){E.props&&E.props.onClick&&E.props.onClick(ce),_.focusOnSelect&&_.focusOnSelect(x)}}))}}),_.rtl?k.concat(D,Q).reverse():k.concat(D,Q)};return gl.Track=function(b){m(O,b);var _=S(O);function O(){var D;u(this,O);for(var k=arguments.length,Q=new Array(k),pe=0;pe<k;pe++)Q[pe]=arguments[pe];return D=_.call.apply(_,[this].concat(Q)),Y(M(D),"node",null),Y(M(D),"handleRef",function(he){D.node=he}),D}return f(O,[{key:"render",value:function(){var k=A(this.props),Q=this.props,pe=Q.onMouseEnter,he=Q.onMouseOver,I=Q.onMouseLeave,se={onMouseEnter:pe,onMouseOver:he,onMouseLeave:I};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},se),k)}}]),O}(n.default.PureComponent),gl}var yl={},Uv;function Xb(){if(Uv)return yl;Uv=1;function n(V){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},n(V)}Object.defineProperty(yl,"__esModule",{value:!0}),yl.Dots=void 0;var e=o(Br()),t=o(Sd()),i=ql();function o(V){return V&&V.__esModule?V:{default:V}}function a(V,B){var P=Object.keys(V);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(V);B&&(A=A.filter(function(b){return Object.getOwnPropertyDescriptor(V,b).enumerable})),P.push.apply(P,A)}return P}function u(V){for(var B=1;B<arguments.length;B++){var P=arguments[B]!=null?arguments[B]:{};B%2?a(Object(P),!0).forEach(function(A){h(V,A,P[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(P)):a(Object(P)).forEach(function(A){Object.defineProperty(V,A,Object.getOwnPropertyDescriptor(P,A))})}return V}function h(V,B,P){return B=S(B),B in V?Object.defineProperty(V,B,{value:P,enumerable:!0,configurable:!0,writable:!0}):V[B]=P,V}function f(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}function m(V,B){for(var P=0;P<B.length;P++){var A=B[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(V,S(A.key),A)}}function v(V,B,P){return B&&m(V.prototype,B),Object.defineProperty(V,"prototype",{writable:!1}),V}function S(V){var B=R(V,"string");return n(B)=="symbol"?B:String(B)}function R(V,B){if(n(V)!="object"||!V)return V;var P=V[Symbol.toPrimitive];if(P!==void 0){var A=P.call(V,B);if(n(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}function M(V,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(B&&B.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),B&&$(V,B)}function $(V,B){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,b){return A.__proto__=b,A},$(V,B)}function L(V){var B=Y();return function(){var A=J(V),b;if(B){var _=J(this).constructor;b=Reflect.construct(A,arguments,_)}else b=A.apply(this,arguments);return j(this,b)}}function j(V,B){if(B&&(n(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(V)}function G(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function Y(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y=function(){return!!V})()}function J(V){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},J(V)}var ne=function(B){var P;return B.infinite?P=Math.ceil(B.slideCount/B.slidesToScroll):P=Math.ceil((B.slideCount-B.slidesToShow)/B.slidesToScroll)+1,P};return yl.Dots=function(V){M(P,V);var B=L(P);function P(){return f(this,P),B.apply(this,arguments)}return v(P,[{key:"clickHandler",value:function(b,_){_.preventDefault(),this.props.clickHandler(b)}},{key:"render",value:function(){for(var b=this.props,_=b.onMouseEnter,O=b.onMouseOver,D=b.onMouseLeave,k=b.infinite,Q=b.slidesToScroll,pe=b.slidesToShow,he=b.slideCount,I=b.currentSlide,se=ne({slideCount:he,slidesToScroll:Q,slidesToShow:pe,infinite:k}),z={onMouseEnter:_,onMouseOver:O,onMouseLeave:D},E=[],x=0;x<se;x++){var U=(x+1)*Q-1,te=k?U:(0,i.clamp)(U,0,he-1),ie=te-(Q-1),ae=k?ie:(0,i.clamp)(ie,0,he-1),le=(0,t.default)({"slick-active":k?I>=ae&&I<=te:I===ae}),ce={message:"dots",index:x,slidesToScroll:Q,currentSlide:I},Te=this.clickHandler.bind(this,ce);E=E.concat(e.default.createElement("li",{key:x,className:le},e.default.cloneElement(this.props.customPaging(x),{onClick:Te})))}return e.default.cloneElement(this.props.appendDots(E),u({className:this.props.dotsClass},z))}}]),P}(e.default.PureComponent),yl}var Fs={},zv;function Jb(){if(zv)return Fs;zv=1;function n(V){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},n(V)}Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.PrevArrow=Fs.NextArrow=void 0;var e=o(Br()),t=o(Sd()),i=ql();function o(V){return V&&V.__esModule?V:{default:V}}function a(){return a=Object.assign?Object.assign.bind():function(V){for(var B=1;B<arguments.length;B++){var P=arguments[B];for(var A in P)Object.prototype.hasOwnProperty.call(P,A)&&(V[A]=P[A])}return V},a.apply(this,arguments)}function u(V,B){var P=Object.keys(V);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(V);B&&(A=A.filter(function(b){return Object.getOwnPropertyDescriptor(V,b).enumerable})),P.push.apply(P,A)}return P}function h(V){for(var B=1;B<arguments.length;B++){var P=arguments[B]!=null?arguments[B]:{};B%2?u(Object(P),!0).forEach(function(A){f(V,A,P[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(P)):u(Object(P)).forEach(function(A){Object.defineProperty(V,A,Object.getOwnPropertyDescriptor(P,A))})}return V}function f(V,B,P){return B=R(B),B in V?Object.defineProperty(V,B,{value:P,enumerable:!0,configurable:!0,writable:!0}):V[B]=P,V}function m(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}function v(V,B){for(var P=0;P<B.length;P++){var A=B[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(V,R(A.key),A)}}function S(V,B,P){return B&&v(V.prototype,B),Object.defineProperty(V,"prototype",{writable:!1}),V}function R(V){var B=M(V,"string");return n(B)=="symbol"?B:String(B)}function M(V,B){if(n(V)!="object"||!V)return V;var P=V[Symbol.toPrimitive];if(P!==void 0){var A=P.call(V,B);if(n(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}function $(V,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(B&&B.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),B&&L(V,B)}function L(V,B){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,b){return A.__proto__=b,A},L(V,B)}function j(V){var B=J();return function(){var A=ne(V),b;if(B){var _=ne(this).constructor;b=Reflect.construct(A,arguments,_)}else b=A.apply(this,arguments);return G(this,b)}}function G(V,B){if(B&&(n(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(V)}function Y(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function J(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!V})()}function ne(V){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},ne(V)}return Fs.PrevArrow=function(V){$(P,V);var B=j(P);function P(){return m(this,P),B.apply(this,arguments)}return S(P,[{key:"clickHandler",value:function(b,_){_&&_.preventDefault(),this.props.clickHandler(b,_)}},{key:"render",value:function(){var b={"slick-arrow":!0,"slick-prev":!0},_=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(b["slick-disabled"]=!0,_=null);var O={key:"0","data-role":"none",className:(0,t.default)(b),style:{display:"block"},onClick:_},D={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},k;return this.props.prevArrow?k=e.default.cloneElement(this.props.prevArrow,h(h({},O),D)):k=e.default.createElement("button",a({key:"0",type:"button"},O)," ","Previous"),k}}]),P}(e.default.PureComponent),Fs.NextArrow=function(V){$(P,V);var B=j(P);function P(){return m(this,P),B.apply(this,arguments)}return S(P,[{key:"clickHandler",value:function(b,_){_&&_.preventDefault(),this.props.clickHandler(b,_)}},{key:"render",value:function(){var b={"slick-arrow":!0,"slick-next":!0},_=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(b["slick-disabled"]=!0,_=null);var O={key:"1","data-role":"none",className:(0,t.default)(b),style:{display:"block"},onClick:_},D={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},k;return this.props.nextArrow?k=e.default.cloneElement(this.props.nextArrow,h(h({},O),D)):k=e.default.createElement("button",a({key:"1",type:"button"},O)," ","Next"),k}}]),P}(e.default.PureComponent),Fs}var cw=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(o,a){return o[0]===t?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(t,i){var o=n(this.__entries__,t);~o?this.__entries__[o][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,o=n(i,t);~o&&i.splice(o,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var o=0,a=this.__entries__;o<a.length;o++){var u=a[o];t.call(i,u[1],u[0])}},e}()}(),pp=typeof window<"u"&&typeof document<"u"&&window.document===document,Kc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Zb=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Kc):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),ex=2;function tx(n,e){var t=!1,i=!1,o=0;function a(){t&&(t=!1,n()),i&&h()}function u(){Zb(a)}function h(){var f=Date.now();if(t){if(f-o<ex)return;i=!0}else t=!0,i=!1,setTimeout(u,e);o=f}return h}var nx=20,rx=["top","right","bottom","left","width","height","size","weight"],ix=typeof MutationObserver<"u",sx=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=tx(this.refresh.bind(this),nx)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!pp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ix?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!pp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,o=rx.some(function(a){return!!~i.indexOf(a)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),dw=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var o=i[t];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},sa=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Kc},hw=bd(0,0,0,0);function Qc(n){return parseFloat(n)||0}function $v(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,o){var a=n["border-"+o+"-width"];return i+Qc(a)},0)}function ox(n){for(var e=["top","right","bottom","left"],t={},i=0,o=e;i<o.length;i++){var a=o[i],u=n["padding-"+a];t[a]=Qc(u)}return t}function ax(n){var e=n.getBBox();return bd(0,0,e.width,e.height)}function lx(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return hw;var i=sa(n).getComputedStyle(n),o=ox(i),a=o.left+o.right,u=o.top+o.bottom,h=Qc(i.width),f=Qc(i.height);if(i.boxSizing==="border-box"&&(Math.round(h+a)!==e&&(h-=$v(i,"left","right")+a),Math.round(f+u)!==t&&(f-=$v(i,"top","bottom")+u)),!cx(n)){var m=Math.round(h+a)-e,v=Math.round(f+u)-t;Math.abs(m)!==1&&(h-=m),Math.abs(v)!==1&&(f-=v)}return bd(o.left,o.top,h,f)}var ux=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof sa(n).SVGGraphicsElement}:function(n){return n instanceof sa(n).SVGElement&&typeof n.getBBox=="function"}}();function cx(n){return n===sa(n).document.documentElement}function dx(n){return pp?ux(n)?ax(n):lx(n):hw}function hx(n){var e=n.x,t=n.y,i=n.width,o=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(a.prototype);return dw(u,{x:e,y:t,width:i,height:o,top:t,right:e+i,bottom:o+t,left:e}),u}function bd(n,e,t,i){return{x:n,y:e,width:t,height:i}}var fx=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=bd(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=dx(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),px=function(){function n(e,t){var i=hx(t);dw(this,{target:e,contentRect:i})}return n}(),mx=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new cw,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new fx(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new px(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),fw=typeof WeakMap<"u"?new WeakMap:new cw,pw=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=sx.getInstance(),i=new mx(e,t,this);fw.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){pw.prototype[n]=function(){var e;return(e=fw.get(this))[n].apply(e,arguments)}});var gx=function(){return typeof Kc.ResizeObserver<"u"?Kc.ResizeObserver:pw}();const yx=Object.freeze(Object.defineProperty({__proto__:null,default:gx},Symbol.toStringTag,{value:"Module"})),vx=LS(yx);var Bv;function _x(){if(Bv)return ml;Bv=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.InnerSlider=void 0;var n=m(Br()),e=m(Kb()),t=m(Qb()),i=m(Sd()),o=ql(),a=Yb(),u=Xb(),h=Jb(),f=m(vx);function m(k){return k&&k.__esModule?k:{default:k}}function v(k){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},v(k)}function S(){return S=Object.assign?Object.assign.bind():function(k){for(var Q=1;Q<arguments.length;Q++){var pe=arguments[Q];for(var he in pe)Object.prototype.hasOwnProperty.call(pe,he)&&(k[he]=pe[he])}return k},S.apply(this,arguments)}function R(k,Q){if(k==null)return{};var pe=M(k,Q),he,I;if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(k);for(I=0;I<se.length;I++)he=se[I],!(Q.indexOf(he)>=0)&&Object.prototype.propertyIsEnumerable.call(k,he)&&(pe[he]=k[he])}return pe}function M(k,Q){if(k==null)return{};var pe={},he=Object.keys(k),I,se;for(se=0;se<he.length;se++)I=he[se],!(Q.indexOf(I)>=0)&&(pe[I]=k[I]);return pe}function $(k,Q){var pe=Object.keys(k);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(k);Q&&(he=he.filter(function(I){return Object.getOwnPropertyDescriptor(k,I).enumerable})),pe.push.apply(pe,he)}return pe}function L(k){for(var Q=1;Q<arguments.length;Q++){var pe=arguments[Q]!=null?arguments[Q]:{};Q%2?$(Object(pe),!0).forEach(function(he){_(k,he,pe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(pe)):$(Object(pe)).forEach(function(he){Object.defineProperty(k,he,Object.getOwnPropertyDescriptor(pe,he))})}return k}function j(k,Q){if(!(k instanceof Q))throw new TypeError("Cannot call a class as a function")}function G(k,Q){for(var pe=0;pe<Q.length;pe++){var he=Q[pe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(k,O(he.key),he)}}function Y(k,Q,pe){return Q&&G(k.prototype,Q),Object.defineProperty(k,"prototype",{writable:!1}),k}function J(k,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(Q&&Q.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),Q&&ne(k,Q)}function ne(k,Q){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,I){return he.__proto__=I,he},ne(k,Q)}function V(k){var Q=A();return function(){var he=b(k),I;if(Q){var se=b(this).constructor;I=Reflect.construct(he,arguments,se)}else I=he.apply(this,arguments);return B(this,I)}}function B(k,Q){if(Q&&(v(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(k)}function P(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function A(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!k})()}function b(k){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},b(k)}function _(k,Q,pe){return Q=O(Q),Q in k?Object.defineProperty(k,Q,{value:pe,enumerable:!0,configurable:!0,writable:!0}):k[Q]=pe,k}function O(k){var Q=D(k,"string");return v(Q)=="symbol"?Q:String(Q)}function D(k,Q){if(v(k)!="object"||!k)return k;var pe=k[Symbol.toPrimitive];if(pe!==void 0){var he=pe.call(k,Q);if(v(he)!="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(k)}return ml.InnerSlider=function(k){J(pe,k);var Q=V(pe);function pe(he){var I;j(this,pe),I=Q.call(this,he),_(P(I),"listRefHandler",function(z){return I.list=z}),_(P(I),"trackRefHandler",function(z){return I.track=z}),_(P(I),"adaptHeight",function(){if(I.props.adaptiveHeight&&I.list){var z=I.list.querySelector('[data-index="'.concat(I.state.currentSlide,'"]'));I.list.style.height=(0,o.getHeight)(z)+"px"}}),_(P(I),"componentDidMount",function(){if(I.props.onInit&&I.props.onInit(),I.props.lazyLoad){var z=(0,o.getOnDemandLazySlides)(L(L({},I.props),I.state));z.length>0&&(I.setState(function(x){return{lazyLoadedList:x.lazyLoadedList.concat(z)}}),I.props.onLazyLoad&&I.props.onLazyLoad(z))}var E=L({listRef:I.list,trackRef:I.track},I.props);I.updateState(E,!0,function(){I.adaptHeight(),I.props.autoplay&&I.autoPlay("update")}),I.props.lazyLoad==="progressive"&&(I.lazyLoadTimer=setInterval(I.progressiveLazyLoad,1e3)),I.ro=new f.default(function(){I.state.animating?(I.onWindowResized(!1),I.callbackTimers.push(setTimeout(function(){return I.onWindowResized()},I.props.speed))):I.onWindowResized()}),I.ro.observe(I.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(x){x.onfocus=I.props.pauseOnFocus?I.onSlideFocus:null,x.onblur=I.props.pauseOnFocus?I.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",I.onWindowResized):window.attachEvent("onresize",I.onWindowResized)}),_(P(I),"componentWillUnmount",function(){I.animationEndCallback&&clearTimeout(I.animationEndCallback),I.lazyLoadTimer&&clearInterval(I.lazyLoadTimer),I.callbackTimers.length&&(I.callbackTimers.forEach(function(z){return clearTimeout(z)}),I.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",I.onWindowResized):window.detachEvent("onresize",I.onWindowResized),I.autoplayTimer&&clearInterval(I.autoplayTimer),I.ro.disconnect()}),_(P(I),"componentDidUpdate",function(z){if(I.checkImagesLoad(),I.props.onReInit&&I.props.onReInit(),I.props.lazyLoad){var E=(0,o.getOnDemandLazySlides)(L(L({},I.props),I.state));E.length>0&&(I.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(E)}}),I.props.onLazyLoad&&I.props.onLazyLoad(E))}I.adaptHeight();var x=L(L({listRef:I.list,trackRef:I.track},I.props),I.state),U=I.didPropsChange(z);U&&I.updateState(x,U,function(){I.state.currentSlide>=n.default.Children.count(I.props.children)&&I.changeSlide({message:"index",index:n.default.Children.count(I.props.children)-I.props.slidesToShow,currentSlide:I.state.currentSlide}),I.props.autoplay?I.autoPlay("update"):I.pause("paused")})}),_(P(I),"onWindowResized",function(z){I.debouncedResize&&I.debouncedResize.cancel(),I.debouncedResize=(0,t.default)(function(){return I.resizeWindow(z)},50),I.debouncedResize()}),_(P(I),"resizeWindow",function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=!!(I.track&&I.track.node);if(E){var x=L(L({listRef:I.list,trackRef:I.track},I.props),I.state);I.updateState(x,z,function(){I.props.autoplay?I.autoPlay("update"):I.pause("paused")}),I.setState({animating:!1}),clearTimeout(I.animationEndCallback),delete I.animationEndCallback}}),_(P(I),"updateState",function(z,E,x){var U=(0,o.initializedState)(z);z=L(L(L({},z),U),{},{slideIndex:U.currentSlide});var te=(0,o.getTrackLeft)(z);z=L(L({},z),{},{left:te});var ie=(0,o.getTrackCSS)(z);(E||n.default.Children.count(I.props.children)!==n.default.Children.count(z.children))&&(U.trackStyle=ie),I.setState(U,x)}),_(P(I),"ssrInit",function(){if(I.props.variableWidth){var z=0,E=0,x=[],U=(0,o.getPreClones)(L(L(L({},I.props),I.state),{},{slideCount:I.props.children.length})),te=(0,o.getPostClones)(L(L(L({},I.props),I.state),{},{slideCount:I.props.children.length}));I.props.children.forEach(function(ct){x.push(ct.props.style.width),z+=ct.props.style.width});for(var ie=0;ie<U;ie++)E+=x[x.length-1-ie],z+=x[x.length-1-ie];for(var ae=0;ae<te;ae++)z+=x[ae];for(var le=0;le<I.state.currentSlide;le++)E+=x[le];var ce={width:z+"px",left:-E+"px"};if(I.props.centerMode){var Te="".concat(x[I.state.currentSlide],"px");ce.left="calc(".concat(ce.left," + (100% - ").concat(Te,") / 2 ) ")}return{trackStyle:ce}}var be=n.default.Children.count(I.props.children),Ae=L(L(L({},I.props),I.state),{},{slideCount:be}),$e=(0,o.getPreClones)(Ae)+(0,o.getPostClones)(Ae)+be,He=100/I.props.slidesToShow*$e,Ue=100/$e,je=-Ue*((0,o.getPreClones)(Ae)+I.state.currentSlide)*He/100;I.props.centerMode&&(je+=(100-Ue*He/100)/2);var qe={width:He+"%",left:je+"%"};return{slideWidth:Ue+"%",trackStyle:qe}}),_(P(I),"checkImagesLoad",function(){var z=I.list&&I.list.querySelectorAll&&I.list.querySelectorAll(".slick-slide img")||[],E=z.length,x=0;Array.prototype.forEach.call(z,function(U){var te=function(){return++x&&x>=E&&I.onWindowResized()};if(!U.onclick)U.onclick=function(){return U.parentNode.focus()};else{var ie=U.onclick;U.onclick=function(ae){ie(ae),U.parentNode.focus()}}U.onload||(I.props.lazyLoad?U.onload=function(){I.adaptHeight(),I.callbackTimers.push(setTimeout(I.onWindowResized,I.props.speed))}:(U.onload=te,U.onerror=function(){te(),I.props.onLazyLoadError&&I.props.onLazyLoadError()}))})}),_(P(I),"progressiveLazyLoad",function(){for(var z=[],E=L(L({},I.props),I.state),x=I.state.currentSlide;x<I.state.slideCount+(0,o.getPostClones)(E);x++)if(I.state.lazyLoadedList.indexOf(x)<0){z.push(x);break}for(var U=I.state.currentSlide-1;U>=-(0,o.getPreClones)(E);U--)if(I.state.lazyLoadedList.indexOf(U)<0){z.push(U);break}z.length>0?(I.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(z)}}),I.props.onLazyLoad&&I.props.onLazyLoad(z)):I.lazyLoadTimer&&(clearInterval(I.lazyLoadTimer),delete I.lazyLoadTimer)}),_(P(I),"slideHandler",function(z){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=I.props,U=x.asNavFor,te=x.beforeChange,ie=x.onLazyLoad,ae=x.speed,le=x.afterChange,ce=I.state.currentSlide,Te=(0,o.slideHandler)(L(L(L({index:z},I.props),I.state),{},{trackRef:I.track,useCSS:I.props.useCSS&&!E})),be=Te.state,Ae=Te.nextState;if(be){te&&te(ce,be.currentSlide);var $e=be.lazyLoadedList.filter(function(He){return I.state.lazyLoadedList.indexOf(He)<0});ie&&$e.length>0&&ie($e),!I.props.waitForAnimate&&I.animationEndCallback&&(clearTimeout(I.animationEndCallback),le&&le(ce),delete I.animationEndCallback),I.setState(be,function(){U&&I.asNavForIndex!==z&&(I.asNavForIndex=z,U.innerSlider.slideHandler(z)),Ae&&(I.animationEndCallback=setTimeout(function(){var He=Ae.animating,Ue=R(Ae,["animating"]);I.setState(Ue,function(){I.callbackTimers.push(setTimeout(function(){return I.setState({animating:He})},10)),le&&le(be.currentSlide),delete I.animationEndCallback})},ae))})}}),_(P(I),"changeSlide",function(z){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=L(L({},I.props),I.state),U=(0,o.changeSlide)(x,z);if(!(U!==0&&!U)&&(E===!0?I.slideHandler(U,E):I.slideHandler(U),I.props.autoplay&&I.autoPlay("update"),I.props.focusOnSelect)){var te=I.list.querySelectorAll(".slick-current");te[0]&&te[0].focus()}}),_(P(I),"clickHandler",function(z){I.clickable===!1&&(z.stopPropagation(),z.preventDefault()),I.clickable=!0}),_(P(I),"keyHandler",function(z){var E=(0,o.keyHandler)(z,I.props.accessibility,I.props.rtl);E!==""&&I.changeSlide({message:E})}),_(P(I),"selectHandler",function(z){I.changeSlide(z)}),_(P(I),"disableBodyScroll",function(){var z=function(x){x=x||window.event,x.preventDefault&&x.preventDefault(),x.returnValue=!1};window.ontouchmove=z}),_(P(I),"enableBodyScroll",function(){window.ontouchmove=null}),_(P(I),"swipeStart",function(z){I.props.verticalSwiping&&I.disableBodyScroll();var E=(0,o.swipeStart)(z,I.props.swipe,I.props.draggable);E!==""&&I.setState(E)}),_(P(I),"swipeMove",function(z){var E=(0,o.swipeMove)(z,L(L(L({},I.props),I.state),{},{trackRef:I.track,listRef:I.list,slideIndex:I.state.currentSlide}));E&&(E.swiping&&(I.clickable=!1),I.setState(E))}),_(P(I),"swipeEnd",function(z){var E=(0,o.swipeEnd)(z,L(L(L({},I.props),I.state),{},{trackRef:I.track,listRef:I.list,slideIndex:I.state.currentSlide}));if(E){var x=E.triggerSlideHandler;delete E.triggerSlideHandler,I.setState(E),x!==void 0&&(I.slideHandler(x),I.props.verticalSwiping&&I.enableBodyScroll())}}),_(P(I),"touchEnd",function(z){I.swipeEnd(z),I.clickable=!0}),_(P(I),"slickPrev",function(){I.callbackTimers.push(setTimeout(function(){return I.changeSlide({message:"previous"})},0))}),_(P(I),"slickNext",function(){I.callbackTimers.push(setTimeout(function(){return I.changeSlide({message:"next"})},0))}),_(P(I),"slickGoTo",function(z){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z=Number(z),isNaN(z))return"";I.callbackTimers.push(setTimeout(function(){return I.changeSlide({message:"index",index:z,currentSlide:I.state.currentSlide},E)},0))}),_(P(I),"play",function(){var z;if(I.props.rtl)z=I.state.currentSlide-I.props.slidesToScroll;else if((0,o.canGoNext)(L(L({},I.props),I.state)))z=I.state.currentSlide+I.props.slidesToScroll;else return!1;I.slideHandler(z)}),_(P(I),"autoPlay",function(z){I.autoplayTimer&&clearInterval(I.autoplayTimer);var E=I.state.autoplaying;if(z==="update"){if(E==="hovered"||E==="focused"||E==="paused")return}else if(z==="leave"){if(E==="paused"||E==="focused")return}else if(z==="blur"&&(E==="paused"||E==="hovered"))return;I.autoplayTimer=setInterval(I.play,I.props.autoplaySpeed+50),I.setState({autoplaying:"playing"})}),_(P(I),"pause",function(z){I.autoplayTimer&&(clearInterval(I.autoplayTimer),I.autoplayTimer=null);var E=I.state.autoplaying;z==="paused"?I.setState({autoplaying:"paused"}):z==="focused"?(E==="hovered"||E==="playing")&&I.setState({autoplaying:"focused"}):E==="playing"&&I.setState({autoplaying:"hovered"})}),_(P(I),"onDotsOver",function(){return I.props.autoplay&&I.pause("hovered")}),_(P(I),"onDotsLeave",function(){return I.props.autoplay&&I.state.autoplaying==="hovered"&&I.autoPlay("leave")}),_(P(I),"onTrackOver",function(){return I.props.autoplay&&I.pause("hovered")}),_(P(I),"onTrackLeave",function(){return I.props.autoplay&&I.state.autoplaying==="hovered"&&I.autoPlay("leave")}),_(P(I),"onSlideFocus",function(){return I.props.autoplay&&I.pause("focused")}),_(P(I),"onSlideBlur",function(){return I.props.autoplay&&I.state.autoplaying==="focused"&&I.autoPlay("blur")}),_(P(I),"render",function(){var z=(0,i.default)("slick-slider",I.props.className,{"slick-vertical":I.props.vertical,"slick-initialized":!0}),E=L(L({},I.props),I.state),x=(0,o.extractObject)(E,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),U=I.props.pauseOnHover;x=L(L({},x),{},{onMouseEnter:U?I.onTrackOver:null,onMouseLeave:U?I.onTrackLeave:null,onMouseOver:U?I.onTrackOver:null,focusOnSelect:I.props.focusOnSelect&&I.clickable?I.selectHandler:null});var te;if(I.props.dots===!0&&I.state.slideCount>=I.props.slidesToShow){var ie=(0,o.extractObject)(E,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=I.props.pauseOnDotsHover;ie=L(L({},ie),{},{clickHandler:I.changeSlide,onMouseEnter:ae?I.onDotsLeave:null,onMouseOver:ae?I.onDotsOver:null,onMouseLeave:ae?I.onDotsLeave:null}),te=n.default.createElement(u.Dots,ie)}var le,ce,Te=(0,o.extractObject)(E,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Te.clickHandler=I.changeSlide,I.props.arrows&&(le=n.default.createElement(h.PrevArrow,Te),ce=n.default.createElement(h.NextArrow,Te));var be=null;I.props.vertical&&(be={height:I.state.listHeight});var Ae=null;I.props.vertical===!1?I.props.centerMode===!0&&(Ae={padding:"0px "+I.props.centerPadding}):I.props.centerMode===!0&&(Ae={padding:I.props.centerPadding+" 0px"});var $e=L(L({},be),Ae),He=I.props.touchMove,Ue={className:"slick-list",style:$e,onClick:I.clickHandler,onMouseDown:He?I.swipeStart:null,onMouseMove:I.state.dragging&&He?I.swipeMove:null,onMouseUp:He?I.swipeEnd:null,onMouseLeave:I.state.dragging&&He?I.swipeEnd:null,onTouchStart:He?I.swipeStart:null,onTouchMove:I.state.dragging&&He?I.swipeMove:null,onTouchEnd:He?I.touchEnd:null,onTouchCancel:I.state.dragging&&He?I.swipeEnd:null,onKeyDown:I.props.accessibility?I.keyHandler:null},je={className:z,dir:"ltr",style:I.props.style};return I.props.unslick&&(Ue={className:"slick-list"},je={className:z}),n.default.createElement("div",je,I.props.unslick?"":le,n.default.createElement("div",S({ref:I.listRefHandler},Ue),n.default.createElement(a.Track,S({ref:I.trackRefHandler},x),I.props.children)),I.props.unslick?"":ce,I.props.unslick?"":te)}),I.list=null,I.track=null,I.state=L(L({},e.default),{},{currentSlide:I.props.initialSlide,targetSlide:I.props.initialSlide?I.props.initialSlide:0,slideCount:n.default.Children.count(I.props.children)}),I.callbackTimers=[],I.clickable=!0,I.debouncedResize=null;var se=I.ssrInit();return I.state=L(L({},I.state),se),I}return Y(pe,[{key:"didPropsChange",value:function(I){for(var se=!1,z=0,E=Object.keys(this.props);z<E.length;z++){var x=E[z];if(!I.hasOwnProperty(x)){se=!0;break}if(!(v(I[x])==="object"||typeof I[x]=="function"||isNaN(I[x]))&&I[x]!==this.props[x]){se=!0;break}}return se||n.default.Children.count(this.props.children)!==n.default.Children.count(I.children)}}]),pe}(n.default.Component),ml}var Bf,qv;function wx(){if(qv)return Bf;qv=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return Bf=n,Bf}var qf,Hv;function Ex(){if(Hv)return qf;Hv=1;var n=wx(),e=function(o){var a=/[height|width]$/;return a.test(o)},t=function(o){var a="",u=Object.keys(o);return u.forEach(function(h,f){var m=o[h];h=n(h),e(h)&&typeof m=="number"&&(m=m+"px"),m===!0?a+=h:m===!1?a+="not "+h:a+="("+h+": "+m+")",f<u.length-1&&(a+=" and ")}),a},i=function(o){var a="";return typeof o=="string"?o:o instanceof Array?(o.forEach(function(u,h){a+=t(u),h<o.length-1&&(a+=", ")}),a):t(o)};return qf=i,qf}var Hf,Wv;function Tx(){if(Wv)return Hf;Wv=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Hf=n,Hf}var Wf,Gv;function mw(){if(Gv)return Wf;Gv=1;function n(i,o){var a=0,u=i.length,h;for(a;a<u&&(h=o(i[a],a),h!==!1);a++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return Wf={isFunction:t,isArray:e,each:n},Wf}var Gf,Kv;function Ix(){if(Kv)return Gf;Kv=1;var n=Tx(),e=mw().each;function t(i,o){this.query=i,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(i);var a=this;this.listener=function(u){a.mql=u.currentTarget||u,a.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var o=new n(i);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(i){var o=this.handlers;e(o,function(a,u){if(a.equals(i))return a.destroy(),!o.splice(u,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(o){o[i]()})}},Gf=t,Gf}var Kf,Qv;function Sx(){if(Qv)return Kf;Qv=1;var n=Ix(),e=mw(),t=e.each,i=e.isFunction,o=e.isArray;function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return a.prototype={constructor:a,register:function(u,h,f){var m=this.queries,v=f&&this.browserIsIncapable;return m[u]||(m[u]=new n(u,v)),i(h)&&(h={match:h}),o(h)||(h=[h]),t(h,function(S){i(S)&&(S={match:S}),m[u].addHandler(S)}),this},unregister:function(u,h){var f=this.queries[u];return f&&(h?f.removeHandler(h):(f.clear(),delete this.queries[u])),this}},Kf=a,Kf}var Qf,Yv;function bx(){if(Yv)return Qf;Yv=1;var n=Sx();return Qf=new n,Qf}var Xv;function xx(){return Xv||(Xv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=u(Br()),t=_x(),i=u(Ex()),o=u(uw()),a=ql();function u(b){return b&&b.__esModule?b:{default:b}}function h(b){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(b)}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var O=arguments[_];for(var D in O)Object.prototype.hasOwnProperty.call(O,D)&&(b[D]=O[D])}return b},f.apply(this,arguments)}function m(b,_){var O=Object.keys(b);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);_&&(D=D.filter(function(k){return Object.getOwnPropertyDescriptor(b,k).enumerable})),O.push.apply(O,D)}return O}function v(b){for(var _=1;_<arguments.length;_++){var O=arguments[_]!=null?arguments[_]:{};_%2?m(Object(O),!0).forEach(function(D){V(b,D,O[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(O)):m(Object(O)).forEach(function(D){Object.defineProperty(b,D,Object.getOwnPropertyDescriptor(O,D))})}return b}function S(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function R(b,_){for(var O=0;O<_.length;O++){var D=_[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,B(D.key),D)}}function M(b,_,O){return _&&R(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b}function $(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),_&&L(b,_)}function L(b,_){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},L(b,_)}function j(b){var _=J();return function(){var D=ne(b),k;if(_){var Q=ne(this).constructor;k=Reflect.construct(D,arguments,Q)}else k=D.apply(this,arguments);return G(this,k)}}function G(b,_){if(_&&(h(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(b)}function Y(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function J(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!b})()}function ne(b){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},ne(b)}function V(b,_,O){return _=B(_),_ in b?Object.defineProperty(b,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[_]=O,b}function B(b){var _=P(b,"string");return h(_)=="symbol"?_:String(_)}function P(b,_){if(h(b)!="object"||!b)return b;var O=b[Symbol.toPrimitive];if(O!==void 0){var D=O.call(b,_);if(h(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}var A=(0,a.canUseDOM)()&&bx();n.default=function(b){$(O,b);var _=j(O);function O(D){var k;return S(this,O),k=_.call(this,D),V(Y(k),"innerSliderRefHandler",function(Q){return k.innerSlider=Q}),V(Y(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),V(Y(k),"slickNext",function(){return k.innerSlider.slickNext()}),V(Y(k),"slickGoTo",function(Q){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(Q,pe)}),V(Y(k),"slickPause",function(){return k.innerSlider.pause("paused")}),V(Y(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return M(O,[{key:"media",value:function(k,Q){A.register(k,Q),this._responsiveMediaHandlers.push({query:k,handler:Q})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var Q=this.props.responsive.map(function(he){return he.breakpoint});Q.sort(function(he,I){return he-I}),Q.forEach(function(he,I){var se;I===0?se=(0,i.default)({minWidth:0,maxWidth:he}):se=(0,i.default)({minWidth:Q[I-1]+1,maxWidth:he}),(0,a.canUseDOM)()&&k.media(se,function(){k.setState({breakpoint:he})})});var pe=(0,i.default)({minWidth:Q.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(pe,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){A.unregister(k.query,k.handler)})}},{key:"render",value:function(){var k=this,Q,pe;this.state.breakpoint?(pe=this.props.responsive.filter(function(ae){return ae.breakpoint===k.state.breakpoint}),Q=pe[0].settings==="unslick"?"unslick":v(v(v({},o.default),this.props),pe[0].settings)):Q=v(v({},o.default),this.props),Q.centerMode&&(Q.slidesToScroll>1,Q.slidesToScroll=1),Q.fade&&(Q.slidesToShow>1,Q.slidesToScroll>1,Q.slidesToShow=1,Q.slidesToScroll=1);var he=e.default.Children.toArray(this.props.children);he=he.filter(function(ae){return typeof ae=="string"?!!ae.trim():!!ae}),Q.variableWidth&&(Q.rows>1||Q.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Q.variableWidth=!1);for(var I=[],se=null,z=0;z<he.length;z+=Q.rows*Q.slidesPerRow){for(var E=[],x=z;x<z+Q.rows*Q.slidesPerRow;x+=Q.slidesPerRow){for(var U=[],te=x;te<x+Q.slidesPerRow&&(Q.variableWidth&&he[te].props.style&&(se=he[te].props.style.width),!(te>=he.length));te+=1)U.push(e.default.cloneElement(he[te],{key:100*z+10*x+te,tabIndex:-1,style:{width:"".concat(100/Q.slidesPerRow,"%"),display:"inline-block"}}));E.push(e.default.createElement("div",{key:10*z+x},U))}Q.variableWidth?I.push(e.default.createElement("div",{key:z,style:{width:se}},E)):I.push(e.default.createElement("div",{key:z},E))}if(Q==="unslick"){var ie="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ie},he)}else I.length<=Q.slidesToShow&&!Q.infinite&&(Q.unslick=!0);return e.default.createElement(t.InnerSlider,f({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(Q)),I)}}]),O}(e.default.Component)}(Vf)),Vf}var Jv;function kx(){return Jv||(Jv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(xx());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(jf)),jf}var Cx=kx();const xd=Zp(Cx),Px=()=>{const n=[{id:1,image:"banner1.jpg",title:"¡Oferta Especial! 35% OFF"},{id:2,image:"banner2.jpg",title:"Nuevos Lanzamientos"},{id:3,image:"banner3.jpg",title:"Envíos Gratis Hoy"},{id:4,image:"banner4.jpg",title:"Descuentos Exclusivos"}],e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,nextArrow:T.jsx(Ax,{}),prevArrow:T.jsx(Rx,{})};return T.jsx("div",{className:"text-white",children:T.jsx(xd,{...e,children:n.map(t=>T.jsxs("div",{className:"relative outline-none",children:[T.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[500px] md:h-[400px] sm:h-[300px] object-cover"}),T.jsx("div",{className:"absolute inset-0 bg-opacity-40 flex items-center justify-center",children:T.jsx("h2",{className:"text-4xl md:text-3xl sm:text-2xl font-bold text-center",children:t.title})})]},t.id))})})},Ax=n=>{const{className:e,style:t,onClick:i}=n;return T.jsx("button",{className:e,style:{...t,display:"block",right:"10px",zIndex:10},onClick:i,children:"→"})},Rx=n=>{const{className:e,style:t,onClick:i}=n;return T.jsx("button",{className:e,style:{...t,display:"block",left:"10px",zIndex:10},onClick:i,children:"←"})},Nx=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Ox=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,S=(a&3)<<4|h>>4;let R=(h&15)<<2|m>>6,M=m&63;f||(M=64,u||(R=64)),i.push(t[v],t[S],t[R],t[M])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ox(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||S==null)throw new Dx;const R=a<<2|h>>4;if(i.push(R),m!==64){const M=h<<4&240|m>>2;if(i.push(M),S!==64){const $=m<<6&192|S;i.push($)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Dx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lx=function(n){const e=gw(n);return yw.encodeByteArray(e,!0)},Yc=function(n){return Lx(n).replace(/\./g,"")},vw=function(n){try{return yw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=()=>Mx().__FIREBASE_DEFAULTS__,Vx=()=>{if(typeof process>"u"||typeof Zv>"u")return;const n=Zv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Fx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vw(n[1]);return e&&JSON.parse(e)},kd=()=>{try{return Nx()||jx()||Vx()||Fx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_w=n=>{var e,t;return(t=(e=kd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nm=n=>{const e=_w(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ww=()=>{var n;return(n=kd())===null||n===void 0?void 0:n.config},Ew=n=>{var e;return(e=kd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function $x(){var n;const e=(n=kd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Iw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hx(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Wx(){return!$x()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sw(){try{return typeof indexedDB=="object"}catch{return!1}}function bw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Gx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="FirebaseError";class Bn extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Kx,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Qx(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Bn(o,h,i)}}function Qx(n,e){return n.replace(Yx,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Yx=/\{\$([^}]+)}/g;function Xx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function es(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(e_(a)&&e_(u)){if(!es(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function e_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function _l(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Jx(n,e){const t=new Zx(n,e);return t.subscribe.bind(t)}class Zx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ek(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Yf),o.error===void 0&&(o.error=Yf),o.complete===void 0&&(o.complete=Yf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ek(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=1e3,nk=2,rk=4*60*60*1e3,ik=.5;function t_(n,e=tk,t=nk){const i=e*Math.pow(t,n),o=Math.round(ik*i*(Math.random()-.5)*2);return Math.min(rk,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n){return n&&n._delegate?n._delegate:n}class $n{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Ux;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ak(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ok(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ok(n){return n===Us?void 0:n}function ak(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const uk={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},ck=We.INFO,dk={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},hk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=dk[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cd{constructor(e){this.name=e,this._logLevel=ck,this._logHandler=hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const fk=(n,e)=>e.some(t=>n instanceof t);let n_,r_;function pk(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mk(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xw=new WeakMap,mp=new WeakMap,kw=new WeakMap,Xf=new WeakMap,rm=new WeakMap;function gk(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ki(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&xw.set(t,n)}).catch(()=>{}),rm.set(e,n),e}function yk(n){if(mp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});mp.set(n,e)}let gp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vk(n){gp=n(gp)}function _k(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Jf(this),e,...t);return kw.set(i,e.sort?e.sort():[e]),Ki(i)}:mk().includes(n)?function(...e){return n.apply(Jf(this),e),Ki(xw.get(this))}:function(...e){return Ki(n.apply(Jf(this),e))}}function wk(n){return typeof n=="function"?_k(n):(n instanceof IDBTransaction&&yk(n),fk(n,pk())?new Proxy(n,gp):n)}function Ki(n){if(n instanceof IDBRequest)return gk(n);if(Xf.has(n))return Xf.get(n);const e=wk(n);return e!==n&&(Xf.set(n,e),rm.set(e,n)),e}const Jf=n=>rm.get(n);function Cw(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Ki(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ki(u.result),f.oldVersion,f.newVersion,Ki(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Ek=["get","getKey","getAll","getAllKeys","count"],Tk=["put","add","delete","clear"],Zf=new Map;function i_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Tk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Ek.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return Zf.set(e,a),a}vk(n=>({...n,get:(e,t,i)=>i_(e,t)||n.get(e,t,i),has:(e,t)=>!!i_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Sk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Sk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",s_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Cd("@firebase/app"),bk="@firebase/app-compat",xk="@firebase/analytics-compat",kk="@firebase/analytics",Ck="@firebase/app-check-compat",Pk="@firebase/app-check",Ak="@firebase/auth",Rk="@firebase/auth-compat",Nk="@firebase/database",Ok="@firebase/data-connect",Dk="@firebase/database-compat",Lk="@firebase/functions",Mk="@firebase/functions-compat",jk="@firebase/installations",Vk="@firebase/installations-compat",Fk="@firebase/messaging",Uk="@firebase/messaging-compat",zk="@firebase/performance",$k="@firebase/performance-compat",Bk="@firebase/remote-config",qk="@firebase/remote-config-compat",Hk="@firebase/storage",Wk="@firebase/storage-compat",Gk="@firebase/firestore",Kk="@firebase/vertexai",Qk="@firebase/firestore-compat",Yk="firebase",Xk="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",Jk={[yp]:"fire-core",[bk]:"fire-core-compat",[kk]:"fire-analytics",[xk]:"fire-analytics-compat",[Pk]:"fire-app-check",[Ck]:"fire-app-check-compat",[Ak]:"fire-auth",[Rk]:"fire-auth-compat",[Nk]:"fire-rtdb",[Ok]:"fire-data-connect",[Dk]:"fire-rtdb-compat",[Lk]:"fire-fn",[Mk]:"fire-fn-compat",[jk]:"fire-iid",[Vk]:"fire-iid-compat",[Fk]:"fire-fcm",[Uk]:"fire-fcm-compat",[zk]:"fire-perf",[$k]:"fire-perf-compat",[Bk]:"fire-rc",[qk]:"fire-rc-compat",[Hk]:"fire-gcs",[Wk]:"fire-gcs-compat",[Gk]:"fire-fst",[Qk]:"fire-fst-compat",[Kk]:"fire-vertex","fire-js":"fire-js",[Yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,Zk=new Map,_p=new Map;function o_(n,e){try{n.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function er(n){const e=n.name;if(_p.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,n);for(const t of Xc.values())o_(t,n);for(const t of Zk.values())o_(t,n);return!0}function gi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new to("app","Firebase",eC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=Xk;function Pw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:vp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(t||(t=ww()),!t)throw Qi.create("no-options");const a=Xc.get(o);if(a){if(es(t,a.options)&&es(i,a.config))return a;throw Qi.create("duplicate-app",{appName:o})}const u=new lk(o);for(const f of _p.values())u.addComponent(f);const h=new tC(t,i,u);return Xc.set(o,h),h}function Wl(n=vp){const e=Xc.get(n);if(!e&&n===vp&&ww())return Pw();if(!e)throw Qi.create("no-app",{appName:n});return e}function sn(n,e,t){var i;let o=(i=Jk[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(h.join(" "));return}er(new $n(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebase-heartbeat-database",rC=1,Nl="firebase-heartbeat-store";let ep=null;function Aw(){return ep||(ep=Cw(nC,rC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),ep}async function iC(n){try{const t=(await Aw()).transaction(Nl),i=await t.objectStore(Nl).get(Rw(n));return await t.done,i}catch(e){if(e instanceof Bn)di.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(t.message)}}}async function a_(n,e){try{const i=(await Aw()).transaction(Nl,"readwrite");await i.objectStore(Nl).put(e,Rw(n)),await i.done}catch(t){if(t instanceof Bn)di.warn(t.message);else{const i=Qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});di.warn(i.message)}}}function Rw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1024,oC=30;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>oC){const u=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l_(),{heartbeatsToSend:i,unsentEntries:o}=lC(this._heartbeatsCache.heartbeats),a=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return di.warn(t),""}}}function l_(){return new Date().toISOString().substring(0,10)}function lC(n,e=sC){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),u_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),u_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class uC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sw()?bw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function u_(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function cC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){er(new $n("platform-logger",e=>new Ik(e),"PRIVATE")),er(new $n("heartbeat",e=>new aC(e),"PRIVATE")),sn(yp,s_,n),sn(yp,s_,"esm2017"),sn("fire-js","")}dC("");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,Nw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function b(){}b.prototype=A.prototype,P.D=A.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(_,O,D){for(var k=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)k[Q-2]=arguments[Q];return A.prototype[O].apply(_,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,A,b){b||(b=0);var _=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)_[O]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(O=0;16>O;++O)_[O]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=P.g[0],b=P.g[1],O=P.g[2];var D=P.g[3],k=A+(D^b&(O^D))+_[0]+3614090360&4294967295;A=b+(k<<7&4294967295|k>>>25),k=D+(O^A&(b^O))+_[1]+3905402710&4294967295,D=A+(k<<12&4294967295|k>>>20),k=O+(b^D&(A^b))+_[2]+606105819&4294967295,O=D+(k<<17&4294967295|k>>>15),k=b+(A^O&(D^A))+_[3]+3250441966&4294967295,b=O+(k<<22&4294967295|k>>>10),k=A+(D^b&(O^D))+_[4]+4118548399&4294967295,A=b+(k<<7&4294967295|k>>>25),k=D+(O^A&(b^O))+_[5]+1200080426&4294967295,D=A+(k<<12&4294967295|k>>>20),k=O+(b^D&(A^b))+_[6]+2821735955&4294967295,O=D+(k<<17&4294967295|k>>>15),k=b+(A^O&(D^A))+_[7]+4249261313&4294967295,b=O+(k<<22&4294967295|k>>>10),k=A+(D^b&(O^D))+_[8]+1770035416&4294967295,A=b+(k<<7&4294967295|k>>>25),k=D+(O^A&(b^O))+_[9]+2336552879&4294967295,D=A+(k<<12&4294967295|k>>>20),k=O+(b^D&(A^b))+_[10]+4294925233&4294967295,O=D+(k<<17&4294967295|k>>>15),k=b+(A^O&(D^A))+_[11]+2304563134&4294967295,b=O+(k<<22&4294967295|k>>>10),k=A+(D^b&(O^D))+_[12]+1804603682&4294967295,A=b+(k<<7&4294967295|k>>>25),k=D+(O^A&(b^O))+_[13]+4254626195&4294967295,D=A+(k<<12&4294967295|k>>>20),k=O+(b^D&(A^b))+_[14]+2792965006&4294967295,O=D+(k<<17&4294967295|k>>>15),k=b+(A^O&(D^A))+_[15]+1236535329&4294967295,b=O+(k<<22&4294967295|k>>>10),k=A+(O^D&(b^O))+_[1]+4129170786&4294967295,A=b+(k<<5&4294967295|k>>>27),k=D+(b^O&(A^b))+_[6]+3225465664&4294967295,D=A+(k<<9&4294967295|k>>>23),k=O+(A^b&(D^A))+_[11]+643717713&4294967295,O=D+(k<<14&4294967295|k>>>18),k=b+(D^A&(O^D))+_[0]+3921069994&4294967295,b=O+(k<<20&4294967295|k>>>12),k=A+(O^D&(b^O))+_[5]+3593408605&4294967295,A=b+(k<<5&4294967295|k>>>27),k=D+(b^O&(A^b))+_[10]+38016083&4294967295,D=A+(k<<9&4294967295|k>>>23),k=O+(A^b&(D^A))+_[15]+3634488961&4294967295,O=D+(k<<14&4294967295|k>>>18),k=b+(D^A&(O^D))+_[4]+3889429448&4294967295,b=O+(k<<20&4294967295|k>>>12),k=A+(O^D&(b^O))+_[9]+568446438&4294967295,A=b+(k<<5&4294967295|k>>>27),k=D+(b^O&(A^b))+_[14]+3275163606&4294967295,D=A+(k<<9&4294967295|k>>>23),k=O+(A^b&(D^A))+_[3]+4107603335&4294967295,O=D+(k<<14&4294967295|k>>>18),k=b+(D^A&(O^D))+_[8]+1163531501&4294967295,b=O+(k<<20&4294967295|k>>>12),k=A+(O^D&(b^O))+_[13]+2850285829&4294967295,A=b+(k<<5&4294967295|k>>>27),k=D+(b^O&(A^b))+_[2]+4243563512&4294967295,D=A+(k<<9&4294967295|k>>>23),k=O+(A^b&(D^A))+_[7]+1735328473&4294967295,O=D+(k<<14&4294967295|k>>>18),k=b+(D^A&(O^D))+_[12]+2368359562&4294967295,b=O+(k<<20&4294967295|k>>>12),k=A+(b^O^D)+_[5]+4294588738&4294967295,A=b+(k<<4&4294967295|k>>>28),k=D+(A^b^O)+_[8]+2272392833&4294967295,D=A+(k<<11&4294967295|k>>>21),k=O+(D^A^b)+_[11]+1839030562&4294967295,O=D+(k<<16&4294967295|k>>>16),k=b+(O^D^A)+_[14]+4259657740&4294967295,b=O+(k<<23&4294967295|k>>>9),k=A+(b^O^D)+_[1]+2763975236&4294967295,A=b+(k<<4&4294967295|k>>>28),k=D+(A^b^O)+_[4]+1272893353&4294967295,D=A+(k<<11&4294967295|k>>>21),k=O+(D^A^b)+_[7]+4139469664&4294967295,O=D+(k<<16&4294967295|k>>>16),k=b+(O^D^A)+_[10]+3200236656&4294967295,b=O+(k<<23&4294967295|k>>>9),k=A+(b^O^D)+_[13]+681279174&4294967295,A=b+(k<<4&4294967295|k>>>28),k=D+(A^b^O)+_[0]+3936430074&4294967295,D=A+(k<<11&4294967295|k>>>21),k=O+(D^A^b)+_[3]+3572445317&4294967295,O=D+(k<<16&4294967295|k>>>16),k=b+(O^D^A)+_[6]+76029189&4294967295,b=O+(k<<23&4294967295|k>>>9),k=A+(b^O^D)+_[9]+3654602809&4294967295,A=b+(k<<4&4294967295|k>>>28),k=D+(A^b^O)+_[12]+3873151461&4294967295,D=A+(k<<11&4294967295|k>>>21),k=O+(D^A^b)+_[15]+530742520&4294967295,O=D+(k<<16&4294967295|k>>>16),k=b+(O^D^A)+_[2]+3299628645&4294967295,b=O+(k<<23&4294967295|k>>>9),k=A+(O^(b|~D))+_[0]+4096336452&4294967295,A=b+(k<<6&4294967295|k>>>26),k=D+(b^(A|~O))+_[7]+1126891415&4294967295,D=A+(k<<10&4294967295|k>>>22),k=O+(A^(D|~b))+_[14]+2878612391&4294967295,O=D+(k<<15&4294967295|k>>>17),k=b+(D^(O|~A))+_[5]+4237533241&4294967295,b=O+(k<<21&4294967295|k>>>11),k=A+(O^(b|~D))+_[12]+1700485571&4294967295,A=b+(k<<6&4294967295|k>>>26),k=D+(b^(A|~O))+_[3]+2399980690&4294967295,D=A+(k<<10&4294967295|k>>>22),k=O+(A^(D|~b))+_[10]+4293915773&4294967295,O=D+(k<<15&4294967295|k>>>17),k=b+(D^(O|~A))+_[1]+2240044497&4294967295,b=O+(k<<21&4294967295|k>>>11),k=A+(O^(b|~D))+_[8]+1873313359&4294967295,A=b+(k<<6&4294967295|k>>>26),k=D+(b^(A|~O))+_[15]+4264355552&4294967295,D=A+(k<<10&4294967295|k>>>22),k=O+(A^(D|~b))+_[6]+2734768916&4294967295,O=D+(k<<15&4294967295|k>>>17),k=b+(D^(O|~A))+_[13]+1309151649&4294967295,b=O+(k<<21&4294967295|k>>>11),k=A+(O^(b|~D))+_[4]+4149444226&4294967295,A=b+(k<<6&4294967295|k>>>26),k=D+(b^(A|~O))+_[11]+3174756917&4294967295,D=A+(k<<10&4294967295|k>>>22),k=O+(A^(D|~b))+_[2]+718787259&4294967295,O=D+(k<<15&4294967295|k>>>17),k=b+(D^(O|~A))+_[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+O&4294967295,P.g[3]=P.g[3]+D&4294967295}i.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var b=A-this.blockSize,_=this.B,O=this.h,D=0;D<A;){if(O==0)for(;D<=b;)o(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<A;)if(_[O++]=P.charCodeAt(D++),O==this.blockSize){o(this,_),O=0;break}}else for(;D<A;)if(_[O++]=P[D++],O==this.blockSize){o(this,_),O=0;break}}this.h=O,this.o+=A},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var b=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=b&255,b/=256;for(this.u(P),P=Array(16),A=b=0;4>A;++A)for(var _=0;32>_;_+=8)P[b++]=this.g[A]>>>_&255;return P};function a(P,A){var b=h;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=A(P)}function u(P,A){this.h=A;for(var b=[],_=!0,O=P.length-1;0<=O;O--){var D=P[O]|0;_&&D==A||(b[O]=D,_=!1)}this.g=b}var h={};function f(P){return-128<=P&&128>P?a(P,function(A){return new u([A|0],0>A?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return j(m(-P));for(var A=[],b=1,_=0;P>=b;_++)A[_]=P/b|0,b*=4294967296;return new u(A,0)}function v(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return j(v(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(A,8)),_=S,O=0;O<P.length;O+=8){var D=Math.min(8,P.length-O),k=parseInt(P.substring(O,O+D),A);8>D?(D=m(Math.pow(A,D)),_=_.j(D).add(m(k))):(_=_.j(b),_=_.add(m(k)))}return _}var S=f(0),R=f(1),M=f(16777216);n=u.prototype,n.m=function(){if(L(this))return-j(this).m();for(var P=0,A=1,b=0;b<this.g.length;b++){var _=this.i(b);P+=(0<=_?_:4294967296+_)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if($(this))return"0";if(L(this))return"-"+j(this).toString(P);for(var A=m(Math.pow(P,6)),b=this,_="";;){var O=ne(b,A).g;b=G(b,O.j(A));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=O,$(b))return D+_;for(;6>D.length;)D="0"+D;_=D+_}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function $(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function L(P){return P.h==-1}n.l=function(P){return P=G(this,P),L(P)?-1:$(P)?0:1};function j(P){for(var A=P.g.length,b=[],_=0;_<A;_++)b[_]=~P.g[_];return new u(b,~P.h).add(R)}n.abs=function(){return L(this)?j(this):this},n.add=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],_=0,O=0;O<=A;O++){var D=_+(this.i(O)&65535)+(P.i(O)&65535),k=(D>>>16)+(this.i(O)>>>16)+(P.i(O)>>>16);_=k>>>16,D&=65535,k&=65535,b[O]=k<<16|D}return new u(b,b[b.length-1]&-2147483648?-1:0)};function G(P,A){return P.add(j(A))}n.j=function(P){if($(this)||$(P))return S;if(L(this))return L(P)?j(this).j(j(P)):j(j(this).j(P));if(L(P))return j(this.j(j(P)));if(0>this.l(M)&&0>P.l(M))return m(this.m()*P.m());for(var A=this.g.length+P.g.length,b=[],_=0;_<2*A;_++)b[_]=0;for(_=0;_<this.g.length;_++)for(var O=0;O<P.g.length;O++){var D=this.i(_)>>>16,k=this.i(_)&65535,Q=P.i(O)>>>16,pe=P.i(O)&65535;b[2*_+2*O]+=k*pe,Y(b,2*_+2*O),b[2*_+2*O+1]+=D*pe,Y(b,2*_+2*O+1),b[2*_+2*O+1]+=k*Q,Y(b,2*_+2*O+1),b[2*_+2*O+2]+=D*Q,Y(b,2*_+2*O+2)}for(_=0;_<A;_++)b[_]=b[2*_+1]<<16|b[2*_];for(_=A;_<2*A;_++)b[_]=0;return new u(b,0)};function Y(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function J(P,A){this.g=P,this.h=A}function ne(P,A){if($(A))throw Error("division by zero");if($(P))return new J(S,S);if(L(P))return A=ne(j(P),A),new J(j(A.g),j(A.h));if(L(A))return A=ne(P,j(A)),new J(j(A.g),A.h);if(30<P.g.length){if(L(P)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var b=R,_=A;0>=_.l(P);)b=V(b),_=V(_);var O=B(b,1),D=B(_,1);for(_=B(_,2),b=B(b,2);!$(_);){var k=D.add(_);0>=k.l(P)&&(O=O.add(b),D=k),_=B(_,1),b=B(b,1)}return A=G(P,O.j(A)),new J(O,A)}for(O=S;0<=P.l(A);){for(b=Math.max(1,Math.floor(P.m()/A.m())),_=Math.ceil(Math.log(b)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),D=m(b),k=D.j(A);L(k)||0<k.l(P);)b-=_,D=m(b),k=D.j(A);$(D)&&(D=R),O=O.add(D),P=G(P,k)}return new J(O,P)}n.A=function(P){return ne(this,P).h},n.and=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],_=0;_<A;_++)b[_]=this.i(_)&P.i(_);return new u(b,this.h&P.h)},n.or=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],_=0;_<A;_++)b[_]=this.i(_)|P.i(_);return new u(b,this.h|P.h)},n.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),b=[],_=0;_<A;_++)b[_]=this.i(_)^P.i(_);return new u(b,this.h^P.h)};function V(P){for(var A=P.g.length+1,b=[],_=0;_<A;_++)b[_]=P.i(_)<<1|P.i(_-1)>>>31;return new u(b,P.h)}function B(P,A){var b=A>>5;A%=32;for(var _=P.g.length-b,O=[],D=0;D<_;D++)O[D]=0<A?P.i(D+b)>>>A|P.i(D+b+1)<<32-A:P.i(D+b);return new u(O,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Nw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Yi=u}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ow,wl,Dw,Cc,wp,Lw,Mw,jw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var w=i;c=c.split(".");for(var N=0;N<c.length-1;N++){var W=c[N];if(!(W in w))break e;w=w[W]}c=c[c.length-1],N=w[c],g=g(N),g!=N&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,N=!1,W={next:function(){if(!N&&w<c.length){var re=w++;return{value:g(re,c[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function S(c,g,w){if(!c)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,N),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function R(c,g,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,R.apply(null,arguments)}function M(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function $(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(N,W,re){for(var ye=Array(arguments.length-2),et=2;et<arguments.length;et++)ye[et-2]=arguments[et];return g.prototype[W].apply(N,ye)}}function L(c){const g=c.length;if(0<g){const w=Array(g);for(let N=0;N<g;N++)w[N]=c[N];return w}return[]}function j(c,g){for(let w=1;w<arguments.length;w++){const N=arguments[w];if(f(N)){const W=c.length||0,re=N.length||0;c.length=W+re;for(let ye=0;ye<re;ye++)c[W+ye]=N[ye]}else c.push(N)}}class G{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Y(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var V=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function B(c,g,w){for(const N in c)g.call(w,c[N],N,c)}function P(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function A(c){const g={};for(const w in c)g[w]=c[w];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(c,g){let w,N;for(let W=1;W<arguments.length;W++){N=arguments[W];for(w in N)c[w]=N[w];for(let re=0;re<b.length;re++)w=b[re],Object.prototype.hasOwnProperty.call(N,w)&&(c[w]=N[w])}}function O(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function D(c){h.setTimeout(()=>{throw c},0)}function k(){var c=z;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Q{constructor(){this.h=this.g=null}add(g,w){const N=pe.get();N.set(g,w),this.h?this.h.next=N:this.g=N,this.h=N}}var pe=new G(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let I,se=!1,z=new Q,E=()=>{const c=h.Promise.resolve(void 0);I=()=>{c.then(x)}};var x=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(w){D(w)}var g=pe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,g),h.removeEventListener("test",w,g)}catch{}return c}();function ae(c,g){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(V){e:{try{ne(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}$(ae,te);var le={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Te=0;function be(c,g,w,N,W){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!N,this.ha=W,this.key=++Te,this.da=this.fa=!1}function Ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,g,w,N,W){var re=c.toString();c=this.g[re],c||(c=this.g[re]=[],this.h++);var ye=Ue(c,g,N,W);return-1<ye?(g=c[ye],w||(g.fa=!1)):(g=new be(g,this.src,re,!!N,W),g.fa=w,c.push(g)),g};function He(c,g){var w=g.type;if(w in c.g){var N=c.g[w],W=Array.prototype.indexOf.call(N,g,void 0),re;(re=0<=W)&&Array.prototype.splice.call(N,W,1),re&&(Ae(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ue(c,g,w,N){for(var W=0;W<c.length;++W){var re=c[W];if(!re.da&&re.listener==g&&re.capture==!!w&&re.ha==N)return W}return-1}var je="closure_lm_"+(1e6*Math.random()|0),qe={};function ct(c,g,w,N,W){if(Array.isArray(g)){for(var re=0;re<g.length;re++)ct(c,g[re],w,N,W);return null}return w=ir(w),c&&c[ce]?c.K(g,w,m(N)?!!N.capture:!1,W):Fe(c,g,w,!1,N,W)}function Fe(c,g,w,N,W,re){if(!g)throw Error("Invalid event type");var ye=m(W)?!!W.capture:!!W,et=rr(c);if(et||(c[je]=et=new $e(c)),w=et.add(g,w,N,ye,re),w.proxy)return w;if(N=dt(),w.proxy=N,N.src=c,N.listener=w,c.addEventListener)ie||(W=ye),W===void 0&&(W=!1),c.addEventListener(g.toString(),N,W);else if(c.attachEvent)c.attachEvent(yt(g.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function dt(){function c(w){return g.call(c.src,c.listener,w)}const g=An;return c}function ht(c,g,w,N,W){if(Array.isArray(g))for(var re=0;re<g.length;re++)ht(c,g[re],w,N,W);else N=m(N)?!!N.capture:!!N,w=ir(w),c&&c[ce]?(c=c.i,g=String(g).toString(),g in c.g&&(re=c.g[g],w=Ue(re,w,N,W),-1<w&&(Ae(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete c.g[g],c.h--)))):c&&(c=rr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ue(g,w,N,W)),(w=-1<c?g[c]:null)&&it(w))}function it(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ce])He(g.i,c);else{var w=c.type,N=c.proxy;g.removeEventListener?g.removeEventListener(w,N,c.capture):g.detachEvent?g.detachEvent(yt(w),N):g.addListener&&g.removeListener&&g.removeListener(N),(w=rr(g))?(He(w,c),w.h==0&&(w.src=null,g[je]=null)):Ae(c)}}}function yt(c){return c in qe?qe[c]:qe[c]="on"+c}function An(c,g){if(c.da)c=!0;else{g=new ae(g,this);var w=c.listener,N=c.ha||c.src;c.fa&&it(c),c=w.call(N,g)}return c}function rr(c){return c=c[je],c instanceof $e?c:null}var Gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(c){return typeof c=="function"?c:(c[Gr]||(c[Gr]=function(g){return c.handleEvent(g)}),c[Gr])}function Tt(){U.call(this),this.i=new $e(this),this.M=this,this.F=null}$(Tt,U),Tt.prototype[ce]=!0,Tt.prototype.removeEventListener=function(c,g,w,N){ht(this,c,g,w,N)};function tt(c,g){var w,N=c.F;if(N)for(w=[];N;N=N.F)w.push(N);if(c=c.M,N=g.type||g,typeof g=="string")g=new te(g,c);else if(g instanceof te)g.target=g.target||c;else{var W=g;g=new te(N,c),_(g,W)}if(W=!0,w)for(var re=w.length-1;0<=re;re--){var ye=g.g=w[re];W=ln(ye,N,!0,g)&&W}if(ye=g.g=c,W=ln(ye,N,!0,g)&&W,W=ln(ye,N,!1,g)&&W,w)for(re=0;re<w.length;re++)ye=g.g=w[re],W=ln(ye,N,!1,g)&&W}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],N=0;N<w.length;N++)Ae(w[N]);delete c.g[g],c.h--}}this.F=null},Tt.prototype.K=function(c,g,w,N){return this.i.add(String(c),g,!1,w,N)},Tt.prototype.L=function(c,g,w,N){return this.i.add(String(c),g,!0,w,N)};function ln(c,g,w,N){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,re=0;re<g.length;++re){var ye=g[re];if(ye&&!ye.da&&ye.capture==w){var et=ye.listener,Ot=ye.ha||ye.src;ye.fa&&He(c.i,ye),W=et.call(Ot,N)!==!1&&W}}return W&&!N.defaultPrevented}function Sa(c,g,w){if(typeof c=="function")w&&(c=R(c,w));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function yi(c){c.g=Sa(()=>{c.g=null,c.i&&(c.i=!1,yi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class hs extends U{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){U.call(this),this.h=c,this.g={}}$(fs,U);var ba=[];function xa(c){B(c.g,function(g,w){this.g.hasOwnProperty(w)&&it(g)},c),c.g={}}fs.prototype.N=function(){fs.aa.N.call(this),xa(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=h.JSON.stringify,Ca=h.JSON.parse,Pa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ps(){}ps.prototype.h=null;function lo(c){return c.h||(c.h=c.i())}function uo(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){te.call(this,"d")}$(Sr,te);function co(){te.call(this,"c")}$(co,te);var br={},Aa=null;function ms(){return Aa=Aa||new Tt}br.La="serverreachability";function Ra(c){te.call(this,br.La,c)}$(Ra,te);function Kr(c){const g=ms();tt(g,new Ra(g))}br.STAT_EVENT="statevent";function Na(c,g){te.call(this,br.STAT_EVENT,c),this.stat=g}$(Na,te);function It(c){const g=ms();tt(g,new Na(g,c))}br.Ma="timingevent";function ho(c,g){te.call(this,br.Ma,c),this.size=g}$(ho,te);function sr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function ys(c,g,w,N,W,re){c.info(function(){if(c.g)if(re)for(var ye="",et=re.split("&"),Ot=0;Ot<et.length;Ot++){var Qe=et[Ot].split("=");if(1<Qe.length){var jt=Qe[0];Qe=Qe[1];var kt=jt.split("_");ye=2<=kt.length&&kt[1]=="type"?ye+(jt+"="+Qe+"&"):ye+(jt+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+N+") [attempt "+W+"]: "+g+`
`+w+`
`+ye})}function fo(c,g,w,N,W,re,ye){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+W+"]: "+g+`
`+w+`
`+re+" "+ye})}function or(c,g,w,N){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ih(c,w)+(N?" "+N:"")})}function Oa(c,g){c.info(function(){return"TIMEOUT: "+g})}gs.prototype.info=function(){};function ih(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var N=w[c];if(!(2>N.length)){var W=N[1];if(Array.isArray(W)&&!(1>W.length)){var re=W[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<W.length;ye++)W[ye]=""}}}}return ka(w)}catch{return g}}var po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function vs(){}$(vs,ps),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},ar=new vs;function lr(c,g,w,N){this.j=c,this.i=g,this.l=w,this.R=N||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var Da={},mo={};function go(c,g,w){c.L=1,c.v=Ti(Nn(g)),c.m=w,c.P=!0,La(c,null)}function La(c,g){c.F=Date.now(),ot(c),c.A=Nn(c.v);var w=c.A,N=c.R;Array.isArray(N)||(N=[String(N)]),Si(w.i,"t",N),c.C=0,w=c.j.J,c.h=new su,c.g=Iu(c.j,w?g:null,!c.m),0<c.O&&(c.M=new hs(R(c.Y,c,c.g),c.O)),g=c.U,w=c.g,N=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(ba[0]=W.toString()),W=ba);for(var re=0;re<W.length;re++){var ye=ct(w,W[re],N||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Kr(),ys(c.i,c.u,c.A,c.l,c.R,c.m)}lr.prototype.ca=function(c){c=c.target;const g=this.M;g&&yn(c)==3?g.j():this.Y(c)},lr.prototype.Y=function(c){try{if(c==this.g)e:{const kt=yn(this.g);var g=this.g.Ba();const Gn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||za(this.g)))){this.J||kt!=4||g==7||(g==8||0>=Gn?Kr(3):Kr(2)),_s(this);var w=this.g.Z();this.X=w;t:if(ou(this)){var N=za(this.g);c="";var W=N.length,re=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),vi(this);var ye="";break t}this.h.i=new h.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(N[g],{stream:!(re&&g==W-1)});N.length=0,this.h.g+=c,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=w==200,fo(this.i,this.u,this.A,this.l,this.R,kt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Ot=this.g;if((et=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(et)){var Qe=et;break t}}Qe=null}if(w=Qe)or(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,w);else{this.o=!1,this.s=3,It(12),Hn(this),vi(this);break e}}if(this.P){w=!0;let Dn;for(;!this.J&&this.C<ye.length;)if(Dn=sh(this,ye),Dn==mo){kt==4&&(this.s=4,It(14),w=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Da){this.s=4,It(15),or(this.i,this.l,ye,"[Invalid Chunk]"),w=!1;break}else or(this.i,this.l,Dn,null),Ma(this,Dn);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ye.length!=0||this.h.h||(this.s=1,It(16),w=!1),this.o=this.o&&w,!w)or(this.i,this.l,ye,"[Invalid Chunked Response]"),Hn(this),vi(this);else if(0<ye.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ba(jt),jt.M=!0,It(11))}}else or(this.i,this.l,ye,null),Ma(this,ye);kt==4&&Hn(this),this.o&&!this.J&&(kt==4?ko(this.j,this):(this.o=!1,ot(this)))}else To(this.g),w==400&&0<ye.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Hn(this),vi(this)}}}catch{}finally{}};function ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sh(c,g){var w=c.C,N=g.indexOf(`
`,w);return N==-1?mo:(w=Number(g.substring(w,N)),isNaN(w)?Da:(N+=1,N+w>g.length?mo:(g=g.slice(N,N+w),c.C=N+w,g)))}lr.prototype.cancel=function(){this.J=!0,Hn(this)};function ot(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sr(R(c.ba,c),g)}function _s(c){c.B&&(h.clearTimeout(c.B),c.B=null)}lr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Oa(this.i,this.A),this.L!=2&&(Kr(),It(17)),Hn(this),this.s=2,vi(this)):au(this,this.S-c)};function vi(c){c.j.G==0||c.J||ko(c.j,c)}function Hn(c){_s(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,xa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ma(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||un(w.h,c))){if(!c.K&&un(w.h,c)&&w.G==3){try{var N=w.Da.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var W=N;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)xo(w),fr(w);else break e;bo(w),It(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=sr(R(w.Za,w),6e3));if(1>=uu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Zr(w,11)}else if((c.K||w.g==c)&&xo(w),!Y(g))for(W=w.Da.g.parse(g),g=0;g<W.length;g++){let Qe=W[g];if(w.T=Qe[0],Qe=Qe[1],w.G==2)if(Qe[0]=="c"){w.K=Qe[1],w.ia=Qe[2];const jt=Qe[3];jt!=null&&(w.la=jt,w.j.info("VER="+w.la));const kt=Qe[4];kt!=null&&(w.Aa=kt,w.j.info("SVER="+w.Aa));const Gn=Qe[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(N=1.5*Gn,w.L=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Dn=c.g;if(Dn){const xs=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var re=N.h;re.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ja(re,re.h),re.h=null))}if(N.D){const Po=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(N.ya=Po,st(N.I,N.D,Po))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),N=w;var ye=c;if(N.qa=Tu(N,N.J?N.ia:null,N.W),ye.K){cu(N.h,ye);var et=ye,Ot=N.L;Ot&&(et.I=Ot),et.B&&(_s(et),ot(et)),N.g=ye}else bs(N);0<w.i.length&&Pr(w)}else Qe[0]!="stop"&&Qe[0]!="close"||Zr(w,7);else w.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Zr(w,7):qt(w):Qe[0]!="noop"&&w.l&&w.l.ta(Qe),w.v=0)}}Kr(4)}catch{}}var lu=class{constructor(c,g){this.g=c,this.map=g}};function ws(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uu(c){return c.h?1:c.g?c.g.size:0}function un(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ja(c,g){c.g?c.g.add(g):c.h=g}function cu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ws.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function du(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return L(c.i)}function yo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,N=0;N<w;N++)g.push(c[N]);return g}g=[],w=0;for(N in c)g[w++]=c[N];return g}function vo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const N in c)g[w++]=N;return g}}}function _i(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=vo(c),N=yo(c),W=N.length,re=0;re<W;re++)g.call(void 0,N[re],w&&w[re],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var N=c[w].indexOf("="),W=null;if(0<=N){var re=c[w].substring(0,N);W=c[w].substring(N+1)}else re=c[w];g(re,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qr){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var g=c.i,w=new xr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Ei(this,w),this.m=c.m}else c&&(g=String(c).match(Es))?(this.h=!1,Ts(this,g[1]||"",!0),this.o=Ke(g[2]||""),this.g=Ke(g[3]||"",!0),wi(this,g[4]),this.l=Ke(g[5]||"",!0),Ei(this,g[6]||"",!0),this.m=Ke(g[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}Qr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ii(g,_o,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ii(g,_o,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ii(w,w.charAt(0)=="/"?pu:fu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ii(w,Va)),c.join("")};function Nn(c){return new Qr(c)}function Ts(c,g,w){c.j=w?Ke(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ei(c,g,w){g instanceof xr?(c.i=g,kr(c.i,c.h)):(w||(g=Ii(g,mu)),c.i=new xr(g,c.h))}function st(c,g,w){c.i.set(g,w)}function Ti(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ke(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ii(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,hu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _o=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,Va=/#/g;function xr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Bt(c){c.g||(c.g=new Map,c.h=0,c.i&&oh(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=xr.prototype,n.add=function(c,g){Bt(this),this.i=null,c=Wn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function ur(c,g){Bt(c),g=Wn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function cr(c,g){return Bt(c),g=Wn(c,g),c.g.has(g)}n.forEach=function(c,g){Bt(this),this.g.forEach(function(w,N){w.forEach(function(W){c.call(g,W,N,this)},this)},this)},n.na=function(){Bt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let N=0;N<g.length;N++){const W=c[N];for(let re=0;re<W.length;re++)w.push(g[N])}return w},n.V=function(c){Bt(this);let g=[];if(typeof c=="string")cr(this,c)&&(g=g.concat(this.g.get(Wn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return Bt(this),this.i=null,c=Wn(this,c),cr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Si(c,g,w){ur(c,g),0<w.length&&(c.i=null,c.g.set(Wn(c,g),L(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var N=g[w];const re=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var W=re;ye[N]!==""&&(W+="="+encodeURIComponent(String(ye[N]))),c.push(W)}}return this.i=c.join("&")};function Wn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function kr(c,g){g&&!c.j&&(Bt(c),c.i=null,c.g.forEach(function(w,N){var W=N.toLowerCase();N!=W&&(ur(this,N),Si(this,W,w))},c)),c.j=g}function ah(c,g){const w=new gs;if(h.Image){const N=new Image;N.onload=M(gn,w,"TestLoadImage: loaded",!0,g,N),N.onerror=M(gn,w,"TestLoadImage: error",!1,g,N),N.onabort=M(gn,w,"TestLoadImage: abort",!1,g,N),N.ontimeout=M(gn,w,"TestLoadImage: timeout",!1,g,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else g(!1)}function gu(c,g){const w=new gs,N=new AbortController,W=setTimeout(()=>{N.abort(),gn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:N.signal}).then(re=>{clearTimeout(W),re.ok?gn(w,"TestPingServer: ok",!0,g):gn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),gn(w,"TestPingServer: error",!1,g)})}function gn(c,g,w,N,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),N(w)}catch{}}function lh(){this.g=new Pa}function yu(c,g,w){const N=w||"";try{_i(c,function(W,re){let ye=W;m(W)&&(ye=ka(W)),g.push(N+re+"="+encodeURIComponent(ye))})}catch(W){throw g.push(N+"type="+encodeURIComponent("_badmap")),W}}function Yr(c){this.l=c.Ub||null,this.j=c.eb||!1}$(Yr,ps),Yr.prototype.g=function(){return new Is(this.l,this.j)},Yr.prototype.i=function(c){return function(){return c}}({});function Is(c,g){Tt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Is,Tt),n=Is.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,hr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?dr(this):hr(this),this.readyState==3&&vu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,dr(this))},n.Qa=function(c){this.g&&(this.response=c,dr(this))},n.ga=function(){this.g&&dr(this)};function dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xr(c){let g="";return B(c,function(w,N){g+=N,g+=":",g+=w,g+=`\r
`}),g}function bi(c,g,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Xr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):st(c,g,w))}function mt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(mt,Tt);var uh=/^https?$/i,Fa=["POST","PUT"];n=mt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?lo(this.o):lo(ar),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(re){Ss(this,re);return}if(c=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var W in N)w.set(W,N[W]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())w.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),W=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Fa,g,void 0))||N||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of w)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(c),this.u=!1}catch(re){Ss(this,re)}};function Ss(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,wo(c),On(c)}function wo(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(c){if(c.h&&typeof u<"u"&&(!c.v[1]||yn(c)!=4||c.Z()!=2)){if(c.u&&yn(c)==4)Sa(c.Ea,0,c);else if(tt(c,"readystatechange"),yn(c)==4){c.h=!1;try{const ye=c.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var N;if(N=ye===0){var W=String(c.D).match(Es)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),N=!uh.test(W?W.toLowerCase():"")}w=N}if(w)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var re=2<yn(c)?c.g.statusText:""}catch{re=""}c.l=re+" ["+c.Z()+"]",wo(c)}}finally{On(c)}}}}function On(c,g){if(c.g){Eo(c);const w=c.g,N=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||tt(c,"ready");try{w.onreadystatechange=N}catch{}}}function Eo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function yn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ca(g)}};function za(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function To(c){const g={};c=(c.g&&2<=yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(Y(c[N]))continue;var w=O(c[N]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=g[W]||[];g[W]=re,re.push(w)}P(g,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function $a(c){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,c),this.cb=Cr("retryDelaySeedMs",1e4,c),this.Wa=Cr("forwardChannelMaxRetries",2,c),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(c&&c.concurrentRequestLimit),this.Da=new lh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,N){It(0),this.W=c,this.H=g||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.I=Tu(this,null,this.W),Pr(this)};function qt(c){if(Io(c),c.G==3){var g=c.U++,w=Nn(c.I);if(st(w,"SID",c.K),st(w,"RID",g),st(w,"TYPE","terminate"),Jr(c,w),g=new lr(c,c.j,g),g.L=2,g.v=Ti(Nn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=g.v,w=!0),w||(g.g=Iu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}Eu(c)}function fr(c){c.g&&(Ba(c),c.g.cancel(),c.g=null)}function Io(c){fr(c),c.u&&(h.clearTimeout(c.u),c.u=null),xo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Pr(c){if(!Rn(c.h)&&!c.s){c.s=!0;var g=c.Ga;I||E(),se||(I(),se=!0),z.add(g,c),c.B=0}}function ch(c,g){return uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sr(R(c.Ga,c,g),wu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new lr(this,this.j,c);let re=this.o;if(this.S&&(re?(re=A(re),_(re,this.S)):re=this.S),this.m!==null||this.O||(W.H=re,re=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=xi(this,W,g),w=Nn(this.I),st(w,"RID",c),st(w,"CVER",22),this.D&&st(w,"X-HTTP-Session-Id",this.D),Jr(this,w),re&&(this.O?g="headers="+encodeURIComponent(String(Xr(re)))+"&"+g:this.m&&bi(w,this.m,re)),ja(this.h,W),this.Ua&&st(w,"TYPE","init"),this.P?(st(w,"$req",g),st(w,"SID","null"),W.T=!0,go(W,w,null)):go(W,w,g),this.G=2}}else this.G==3&&(c?So(this,c):this.i.length==0||Rn(this.h)||So(this))};function So(c,g){var w;g?w=g.l:w=c.U++;const N=Nn(c.I);st(N,"SID",c.K),st(N,"RID",w),st(N,"AID",c.T),Jr(c,N),c.m&&c.o&&bi(N,c.m,c.o),w=new lr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=xi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ja(c.h,w),go(w,N,g)}function Jr(c,g){c.H&&B(c.H,function(w,N){st(g,N,w)}),c.l&&_i({},function(w,N){st(g,N,w)})}function xi(c,g,w){w=Math.min(c.i.length,w);var N=c.l?R(c.l.Na,c.l,c):null;e:{var W=c.i;let re=-1;for(;;){const ye=["count="+w];re==-1?0<w?(re=W[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let et=!0;for(let Ot=0;Ot<w;Ot++){let Qe=W[Ot].g;const jt=W[Ot].map;if(Qe-=re,0>Qe)re=Math.max(0,W[Ot].g-100),et=!1;else try{yu(jt,ye,"req"+Qe+"_")}catch{N&&N(jt)}}if(et){N=ye.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,N}function bs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;I||E(),se||(I(),se=!0),z.add(g,c),c.v=0}}function bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sr(R(c.Fa,c),wu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sr(R(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),fr(this),_u(this))};function Ba(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new lr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Nn(c.qa);st(g,"RID","rpc"),st(g,"SID",c.K),st(g,"AID",c.T),st(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(g,"TO",c.ja),st(g,"TYPE","xmlhttp"),Jr(c,g),c.m&&c.o&&bi(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Ti(Nn(g)),w.m=null,w.P=!0,La(w,c)}n.Za=function(){this.C!=null&&(this.C=null,fr(this),bo(this),It(19))};function xo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ko(c,g){var w=null;if(c.g==g){xo(c),Ba(c),c.g=null;var N=2}else if(un(c.h,g))w=g.D,cu(c.h,g),N=1;else return;if(c.G!=0){if(g.o)if(N==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;N=ms(),tt(N,new ho(N,w)),Pr(c)}else bs(c);else if(W=g.s,W==3||W==0&&0<g.X||!(N==1&&ch(c,g)||N==2&&bo(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),W){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function wu(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function Zr(c,g){if(c.j.info("Error code "+g),g==2){var w=R(c.fb,c),N=c.Xa;const W=!N;N=new Qr(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ts(N,"https"),Ti(N),W?ah(N.toString(),w):gu(N.toString(),w)}else It(2);c.G=0,c.l&&c.l.sa(g),Eu(c),Io(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const g=du(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Tu(c,g,w){var N=w instanceof Qr?Nn(w):new Qr(w);if(N.g!="")g&&(N.g=g+"."+N.g),wi(N,N.s);else{var W=h.location;N=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var re=new Qr(null);N&&Ts(re,N),g&&(re.g=g),W&&wi(re,W),w&&(re.l=w),N=re}return w=c.D,g=c.ya,w&&g&&st(N,w,g),st(N,"VER",c.la),Jr(c,N),N}function Iu(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new mt(new Yr({eb:w})):new mt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Co(){}Co.prototype.g=function(c,g){return new cn(c,g)};function cn(c,g){Tt.call(this),this.g=new $a(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Y(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Y(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ar(this)}$(cn,Tt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){qt(this.g)},cn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ka(c),c=w);g.i.push(new lu(g.Ya++,c)),g.G==3&&Pr(g)},cn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,cn.aa.N.call(this)};function Su(c){Sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}$(Su,Sr);function bu(){co.call(this),this.status=1}$(bu,co);function Ar(c){this.g=c}$(Ar,qa),Ar.prototype.ua=function(){tt(this.g,"a")},Ar.prototype.ta=function(c){tt(this.g,new Su(c))},Ar.prototype.sa=function(c){tt(this.g,new bu)},Ar.prototype.ra=function(){tt(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,jw=function(){return new Co},Mw=function(){return ms()},Lw=br,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,Cc=po,iu.COMPLETE="complete",Dw=iu,uo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,wl=uo,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,Ow=mt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",h_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Cd("@firebase/firestore");function Yo(){return Hs.logLevel}function Ee(n,...e){if(Hs.logLevel<=We.DEBUG){const t=e.map(im);Hs.debug(`Firestore (${va}): ${n}`,...t)}}function hi(n,...e){if(Hs.logLevel<=We.ERROR){const t=e.map(im);Hs.error(`Firestore (${va}): ${n}`,...t)}}function oa(n,...e){if(Hs.logLevel<=We.WARN){const t=e.map(im);Hs.warn(`Firestore (${va}): ${n}`,...t)}}function im(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Ze(n,e){n||De()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class fC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new Vw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new nn(e)}}class mC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new mC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new f_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new f_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=vC(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Ep(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return ze(i,o);{const a=Fw(),u=_C(a.encode(p_(n,t)),a.encode(p_(e,t)));return u!==0?u:ze(i,o)}}t+=i>65535?2:1}return ze(n.length,e.length)}function p_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _C(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function aa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,g_=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*g_);return new xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<m_)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new xt(0,0))}static max(){return new Me(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Lr{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Lr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return ze(e.length,t.length)}static compareSegments(e,t){const i=Lr.isNumericId(e),o=Lr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):Ep(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class lt extends Lr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const wC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Lr{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return wC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Kt([y_])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(lt.fromString(e))}static fromName(e){return new Pe(lt.fromString(e).popFirst(5))}static empty(){return new Pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function EC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new ts(o,Pe.empty(),e)}function TC(n){return new ts(n.readTime,n.key,Ol)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(Me.min(),Pe.empty(),Ol)}static max(){return new ts(Me.max(),Pe.empty(),Ol)}}function IC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==SC)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(o=>o?ue.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++h,h===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new ue((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function xC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Pd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=-1;function Ad(n){return n==null}function Jc(n){return n===0&&1/n==-1/0}function kC(n){return typeof n=="number"&&Number.isInteger(n)&&!Jc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="";function CC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=v_(e)),e=PC(n.get(t),e);return v_(e)}function PC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case zw:t+="";break;default:t+=a}}return t}function v_(n){return n+zw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $w(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Gt.RED,this.left=o??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Gt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Mt(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Bw("Invalid base64 string: "+a):a}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const AC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Ze(!!n),typeof n=="string"){let e=0;const t=AC.exec(n);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="server_timestamp",Hw="__type__",Ww="__previous_value__",Gw="__local_write_time__";function Rd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hw])===null||t===void 0?void 0:t.stringValue)===qw}function Nd(n){const e=n.mapValue.fields[Ww];return Rd(e)?Nd(e):e}function Dl(n){const e=ns(n.mapValue.fields[Gw].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,i,o,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const Zc="(default)";class Ll{constructor(e,t){this.projectId=e,this.database=t||Zc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__type__",NC="__max__",Tc={mapValue:{}},Qw="__vector__",ed="value";function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rd(n)?4:DC(n)?9007199254740991:OC(n)?10:11:De()}function zr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dl(n).isEqual(Dl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ns(o.timestampValue),h=ns(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return bt(o.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return bt(o.integerValue)===bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=bt(o.doubleValue),h=bt(a.doubleValue);return u===h?Jc(u)===Jc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return aa(n.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(__(u)!==__(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!zr(u[f],h[f])))return!1;return!0}(n,e);default:return De()}}function Ml(n,e){return(n.values||[]).find(t=>zr(t,e))!==void 0}function la(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=bt(a.integerValue||a.doubleValue),f=bt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return E_(n.timestampValue,e.timestampValue);case 4:return E_(Dl(n),Dl(e));case 5:return Ep(n.stringValue,e.stringValue);case 6:return function(a,u){const h=rs(a),f=rs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=ze(h[m],f[m]);if(v!==0)return v}return ze(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=ze(bt(a.latitude),bt(u.latitude));return h!==0?h:ze(bt(a.longitude),bt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return T_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,v;const S=a.fields||{},R=u.fields||{},M=(h=S[ed])===null||h===void 0?void 0:h.arrayValue,$=(f=R[ed])===null||f===void 0?void 0:f.arrayValue,L=ze(((m=M==null?void 0:M.values)===null||m===void 0?void 0:m.length)||0,((v=$==null?void 0:$.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:T_(M,$)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Tc.mapValue&&u===Tc.mapValue)return 0;if(a===Tc.mapValue)return 1;if(u===Tc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let S=0;S<f.length&&S<v.length;++S){const R=Ep(f[S],v[S]);if(R!==0)return R;const M=la(h[f[S]],m[v[S]]);if(M!==0)return M}return ze(f.length,v.length)}(n.mapValue,e.mapValue);default:throw De()}}function E_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=ns(n),i=ns(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function T_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=la(t[o],i[o]);if(a)return a}return ze(t.length,i.length)}function ua(n){return Tp(n)}function Tp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Tp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Tp(t.fields[u])}`;return o+"}"}(n.mapValue):De()}function Pc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Pc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ls(i.fields,(a,u)=>{o+=a.length+Pc(u)}),o}(n.mapValue);default:throw De()}}function td(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ip(n){return!!n&&"integerValue"in n}function om(n){return!!n&&"arrayValue"in n}function I_(n){return!!n&&"nullValue"in n}function S_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ac(n){return!!n&&"mapValue"in n}function OC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||t===void 0?void 0:t.stringValue)===Qw}function Sl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ls(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Sl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ac(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(t)}setAll(e){let t=Kt.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=Sl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Ac(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ls(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new kn(Sl(this.value))}}function Yw(n){const e=[];return ls(n.fields,(t,i)=>{const o=new Kt([t]);if(Ac(i)){const a=Yw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,i,o,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new rn(e,0,Me.min(),Me.min(),Me.min(),kn.empty(),0)}static newFoundDocument(e,t,i,o){return new rn(e,1,t,Me.min(),i,o,0)}static newNoDocument(e,t){return new rn(e,2,t,Me.min(),Me.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Me.min(),Me.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.position=e,this.inclusive=t}}function b_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Pe.comparator(Pe.fromName(u.referenceValue),t.key):i=la(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function x_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t="asc"){this.field=e,this.dir=t}}function LC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class At extends Xw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new jC(e,t,i):t==="array-contains"?new UC(e,i):t==="in"?new zC(e,i):t==="not-in"?new $C(e,i):t==="array-contains-any"?new BC(e,i):new At(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new VC(e,i):new FC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(la(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends Xw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ir(e,t)}matches(e){return Jw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Jw(n){return n.op==="and"}function Zw(n){return MC(n)&&Jw(n)}function MC(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function Sp(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(Zw(n))return n.filters.map(e=>Sp(e)).join(",");{const e=n.filters.map(t=>Sp(t)).join(",");return`${n.op}(${e})`}}function eE(n,e){return n instanceof At?function(i,o){return o instanceof At&&i.op===o.op&&i.field.isEqual(o.field)&&zr(i.value,o.value)}(n,e):n instanceof Ir?function(i,o){return o instanceof Ir&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&eE(u,o.filters[h]),!0):!1}(n,e):void De()}function tE(n){return n instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(tE).join(" ,")+"}"}(n):"Filter"}class jC extends At{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class VC extends At{constructor(e,t){super(e,"in",t),this.keys=nE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FC extends At{constructor(e,t){super(e,"not-in",t),this.keys=nE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class UC extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return om(t)&&Ml(t.arrayValue,this.value)}}class zC extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ml(this.value.arrayValue,t)}}class $C extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ml(this.value.arrayValue,t)}}class BC extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!om(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ml(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function k_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new qC(n,e,t,i,o,a,u)}function am(n){const e=Ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Sp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ua(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ua(i)).join(",")),e.le=t}return e.le}function lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!LC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x_(n.startAt,e.startAt)&&x_(n.endAt,e.endAt)}function bp(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function HC(n,e,t,i,o,a,u,h){return new us(n,e,t,i,o,a,u,h)}function Od(n){return new us(n)}function C_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function um(n){return n.collectionGroup!==null}function ea(n){const e=Ve(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Mt(Kt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new jl(a,i))}),t.has(Kt.keyField().canonicalString())||e.he.push(new jl(Kt.keyField(),i))}return e.he}function jr(n){const e=Ve(n);return e.Pe||(e.Pe=WC(e,ea(n))),e.Pe}function WC(n,e){if(n.limitType==="F")return k_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new jl(o.field,a)});const t=n.endAt?new ca(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ca(n.startAt.position,n.startAt.inclusive):null;return k_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xp(n,e){const t=n.filters.concat([e]);return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nd(n,e,t){return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dd(n,e){return lm(jr(n),jr(e))&&n.limitType===e.limitType}function rE(n){return`${am(jr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>tE(o)).join(", ")}]`),Ad(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ua(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ua(o)).join(",")),`Target(${i})`}(jr(n))}; limitType=${n.limitType})`}function Ld(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Pe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of ea(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const m=b_(u,h,f);return u.inclusive?m<=0:m<0}(i.startAt,ea(i),o)||i.endAt&&!function(u,h,f){const m=b_(u,h,f);return u.inclusive?m>=0:m>0}(i.endAt,ea(i),o))}(n,e)}function GC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iE(n){return(e,t)=>{let i=!1;for(const o of ea(n)){const a=KC(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function KC(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?la(f,m):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new wt(Pe.comparator);function fi(){return QC}const sE=new wt(Pe.comparator);function El(...n){let e=sE;for(const t of n)e=e.insert(t.key,t);return e}function oE(n){let e=sE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function zs(){return bl()}function aE(){return bl()}function bl(){return new ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const YC=new wt(Pe.comparator),XC=new Mt(Pe.comparator);function Ge(...n){let e=XC;for(const t of n)e=e.add(t);return e}const JC=new Mt(ze);function ZC(){return JC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function lE(n){return{integerValue:""+n}}function e1(n,e){return kC(e)?lE(e):cm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function t1(n,e,t){return n instanceof rd?function(o,a){const u={fields:{[Hw]:{stringValue:qw},[Gw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Rd(a)&&(a=Nd(a)),a&&(u.fields[Ww]=a),{mapValue:u}}(t,e):n instanceof Vl?cE(n,e):n instanceof Fl?dE(n,e):function(o,a){const u=uE(o,a),h=P_(u)+P_(o.Ie);return Ip(u)&&Ip(o.Ie)?lE(h):cm(o.serializer,h)}(n,e)}function n1(n,e,t){return n instanceof Vl?cE(n,e):n instanceof Fl?dE(n,e):t}function uE(n,e){return n instanceof id?function(i){return Ip(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class rd extends Md{}class Vl extends Md{constructor(e){super(),this.elements=e}}function cE(n,e){const t=hE(e);for(const i of n.elements)t.some(o=>zr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Fl extends Md{constructor(e){super(),this.elements=e}}function dE(n,e){let t=hE(e);for(const i of n.elements)t=t.filter(o=>!zr(o,i));return{arrayValue:{values:t}}}class id extends Md{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function P_(n){return bt(n.integerValue||n.doubleValue)}function hE(n){return om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r1(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Vl&&o instanceof Vl||i instanceof Fl&&o instanceof Fl?aa(i.elements,o.elements,zr):i instanceof id&&o instanceof id?zr(i.Ie,o.Ie):i instanceof rd&&o instanceof rd}(n.transform,e.transform)}class i1{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jd{}function fE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dm(n.key,Er.none()):new Gl(n.key,n.data,Er.none());{const t=n.data,i=kn.empty();let o=new Mt(Kt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new cs(n.key,i,new Fn(o.toArray()),Er.none())}}function s1(n,e,t){n instanceof Gl?function(o,a,u){const h=o.value.clone(),f=R_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(o,a,u){if(!Rc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=R_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(pE(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function xl(n,e,t,i){return n instanceof Gl?function(a,u,h,f){if(!Rc(a.precondition,u))return h;const m=a.value.clone(),v=N_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof cs?function(a,u,h,f){if(!Rc(a.precondition,u))return h;const m=N_(a.fieldTransforms,f,u),v=u.data;return v.setAll(pE(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(a,u,h){return Rc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function o1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=uE(i.transform,o||null);a!=null&&(t===null&&(t=kn.empty()),t.set(i.field,a))}return t||null}function A_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&aa(i,o,(a,u)=>r1(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends jd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends jd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function R_(n,e,t){const i=new Map;Ze(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,n1(u,h,t[o]))}return i}function N_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,t1(a,u,e))}return i}class dm extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a1 extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&s1(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=aE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=fE(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(t,i)=>A_(t,i))&&aa(this.baseMutations,e.baseMutations,(t,i)=>A_(t,i))}}class hm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return YC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new hm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ye;function d1(n){switch(n){case oe.OK:return De();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De()}}function mE(n){if(n===void 0)return hi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Pt.OK:return oe.OK;case Pt.CANCELLED:return oe.CANCELLED;case Pt.UNKNOWN:return oe.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return oe.INTERNAL;case Pt.UNAVAILABLE:return oe.UNAVAILABLE;case Pt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Pt.NOT_FOUND:return oe.NOT_FOUND;case Pt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Pt.ABORTED:return oe.ABORTED;case Pt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Pt.DATA_LOSS:return oe.DATA_LOSS;default:return De()}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Yi([4294967295,4294967295],0);function O_(n){const e=Fw().encode(n),t=new Nw;return t.update(e),new Uint8Array(t.digest())}function D_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yi([t,i],0),new Yi([o,a],0)]}class fm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Tl(`Invalid padding: ${t}`);if(i<0)throw new Tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Yi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Yi.fromNumber(i)));return o.compare(h1)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=O_(e),[i,o]=D_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new fm(a,o,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=O_(e),[i,o]=D_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vd(Me.min(),o,new wt(ze),fi(),Ge())}}class Kl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Kl(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class gE{constructor(e,t){this.targetId=e,this.ge=t}}class yE{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class L_{constructor(){this.pe=0,this.ye=M_(),this.we=Qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ge(),t=Ge(),i=Ge();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new Kl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=M_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class f1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fi(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new wt(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(bp(a))if(i===0){const u=new Pe(a.path);this.ze(t,u,rn.newNoDocument(u,Me.min()))}else Ze(i===1);else{const u=this.et(t);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=rs(i).toUint8Array()}catch(f){if(f instanceof Bw)return oa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new fm(u,o,a)}catch(f){return oa(f instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&bp(h.target)){const f=new Pe(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,rn.newNoDocument(f,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let i=Ge();this.Ue.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Vd(e,t,this.Ke,this.Qe,i);return this.Qe=fi(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new wt(ze),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new L_,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mt(ze),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new L_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ic(){return new wt(Pe.comparator)}function M_(){return new wt(Pe.comparator)}const p1={asc:"ASCENDING",desc:"DESCENDING"},m1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g1={and:"AND",or:"OR"};class y1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function sd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function v1(n,e){return sd(n,e.toTimestamp())}function Vr(n){return Ze(!!n),Me.fromTimestamp(function(t){const i=ns(t);return new xt(i.seconds,i.nanos)}(n))}function pm(n,e){return Cp(n,e).canonicalString()}function Cp(n,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _E(n){const e=lt.fromString(n);return Ze(SE(e)),e}function Pp(n,e){return pm(n.databaseId,e.path)}function tp(n,e){const t=_E(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(EE(t))}function wE(n,e){return pm(n.databaseId,e)}function _1(n){const e=_E(n);return e.length===4?lt.emptyPath():EE(e)}function Ap(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EE(n){return Ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function j_(n,e,t){return{name:Pp(n,e),fields:t.value.mapValue.fields}}function w1(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Ze(v===void 0||typeof v=="string"),Qt.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Qt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=m.code===void 0?oe.UNKNOWN:mE(m.code);return new ve(v,m.message||"")}(u);t=new yE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=tp(n,i.document.name),a=Vr(i.document.updateTime),u=i.document.createTime?Vr(i.document.createTime):Me.min(),h=new kn({mapValue:{fields:i.document.fields}}),f=rn.newFoundDocument(o,a,u,h),m=i.targetIds||[],v=i.removedTargetIds||[];t=new Nc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=tp(n,i.document),a=i.readTime?Vr(i.readTime):Me.min(),u=rn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Nc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=tp(n,i.document),a=i.removedTargetIds||[];t=new Nc([],a,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new c1(o,a),h=i.targetId;t=new gE(h,u)}}return t}function E1(n,e){let t;if(e instanceof Gl)t={update:j_(n,e.key,e.value)};else if(e instanceof dm)t={delete:Pp(n,e.key)};else if(e instanceof cs)t={update:j_(n,e.key,e.data),updateMask:A1(e.fieldMask)};else{if(!(e instanceof a1))return De();t={verify:Pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof rd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof id)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:v1(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De()}(n,e.precondition)),t}function T1(n,e){return n&&n.length>0?(Ze(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Vr(o.updateTime):Vr(a);return u.isEqual(Me.min())&&(u=Vr(a)),new i1(u,o.transformResults||[])}(t,e))):[]}function I1(n,e){return{documents:[wE(n,e.path)]}}function S1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=wE(n,o);const a=function(m){if(m.length!==0)return IE(Ir.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(R){return{field:Jo(R.field),direction:k1(R.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=kp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function b1(n){let e=_1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(S){const R=TE(S);return R instanceof Ir&&Zw(R)?R.getFilters():[R]}(t.where));let u=[];t.orderBy&&(u=function(S){return S.map(R=>function($){return new jl(Zo($.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(R))}(t.orderBy));let h=null;t.limit&&(h=function(S){let R;return R=typeof S=="object"?S.value:S,Ad(R)?null:R}(t.limit));let f=null;t.startAt&&(f=function(S){const R=!!S.before,M=S.values||[];return new ca(M,R)}(t.startAt));let m=null;return t.endAt&&(m=function(S){const R=!S.before,M=S.values||[];return new ca(M,R)}(t.endAt)),HC(e,o,u,a,h,"F",f,m)}function x1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zo(t.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(t.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return At.create(Zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ir.create(t.compositeFilter.filters.map(i=>TE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function k1(n){return p1[n]}function C1(n){return m1[n]}function P1(n){return g1[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return Kt.fromServerFormat(n.fieldPath)}function IE(n){return n instanceof At?function(t){if(t.op==="=="){if(S_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(I_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(I_(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:C1(t.op),value:t.value}}}(n):n instanceof Ir?function(t){const i=t.getFilters().map(o=>IE(o));return i.length===1?i[0]:{compositeFilter:{op:P1(t.op),filters:i}}}(n):De()}function A1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,i,o,a=Me.min(),u=Me.min(),h=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.Tt=e}}function N1(n){const e=b1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.Tn=new D1}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ts.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class D1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Mt(lt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(bE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new da(0)}static Kn(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LruGarbageCollector",L1=1048576;function U_([n,e],[t,i]){const o=ze(n,t);return o===0?ze(e,i):o}class M1{constructor(e){this.Hn=e,this.buffer=new Mt(U_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();U_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class j1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(F_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?Ee(F_,"Ignoring IndexedDB error during garbage collection: ",t):await _a(t)}await this.er(3e5)})}}class V1{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Pd.ae);const i=new M1(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(V_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(m=Date.now(),Yo()<=We.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${S} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:S})))}}function F1(n,e){return new V1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&xl(i.mutation,o,Fn.empty(),xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const o=zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=El();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,o){let a=fi();const u=bl(),h=function(){return bl()}();return t.forEach((f,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof cs)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),xl(v.mutation,m,v.mutation.getFieldMask(),xt.now())):u.set(m.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var S;return h.set(m,new z1(v,(S=u.get(m))!==null&&S!==void 0?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=bl();let o=new wt((u,h)=>u-h),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||Fn.empty();v=h.applyToLocalView(m,v),i.set(f,v);const S=(o.get(h.batchId)||Ge()).add(f);o=o.insert(h.batchId,S)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,S=aE();v.forEach(R=>{if(!a.has(R)){const M=fE(t.get(R),i.get(R));M!==null&&S.set(R,M),a=a.add(R)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,S))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):um(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ue.resolve(zs());let h=Ol,f=a;return u.next(m=>ue.forEach(m,(v,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(R=>{f=f.insert(v,R)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ge())).next(v=>({batchId:h,changes:oE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(i=>{let o=El();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=El();return this.indexManager.getCollectionParents(e,a).next(h=>ue.forEach(h,f=>{const m=function(S,R){return new us(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((S,R)=>{u=u.insert(S,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,rn.newInvalidDocument(v)))});let h=El();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&xl(v.mutation,m,Fn.empty(),xt.now()),Ld(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:N1(o.bundledQuery),readTime:Vr(o.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.overlays=new wt(Pe.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zs();return ue.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const o=zs(),a=t.length+1,u=new Pe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new wt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=zs(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=zs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=o)););return ue.resolve(h)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new u1(t,i));let a=this.Rr.get(t);a===void 0&&(a=Ge(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.Vr=new Mt(zt.mr),this.gr=new Mt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new zt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new zt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Pe(new lt([])),i=new zt(t,e),o=new zt(t,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Pe(new lt([])),i=new zt(t,e),o=new zt(t,e+1);let a=Ge();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new zt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Pe.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(zt.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new l1(a,t,i,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new zt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?sm:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new zt(t,0),o=new zt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const h=this.Or(u.Cr);a.push(h)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(ze);return t.forEach(o=>{const a=new zt(o,0),u=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{i=i.add(h.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Pe.isDocumentKey(a)||(a=a.child(""));const u=new zt(new Pe(a),0);let h=new Mt(ze);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Cr)),!0)},u),ue.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,o=>{const a=new zt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new zt(t,0),o=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.kr=e,this.docs=function(){return new wt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():rn.newInvalidDocument(o))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=fi();const u=t.path,h=new Pe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||IC(TC(v),i)<=0||(o.has(v.key)||Ld(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,i,o){De()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new K1(this)}getSize(e){return ue.resolve(this.size)}}class K1 extends U1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.persistence=e,this.Qr=new ro(t=>am(t),lm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.$r=0,this.Ur=new mm,this.targetCount=0,this.Kr=da.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new da(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ue.waitFor(a).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Pd(0),this.zr=!1,this.zr=!0,this.jr=new H1,this.referenceDelegate=e(this),this.Hr=new Q1(this),this.indexManager=new O1,this.remoteDocumentCache=function(o){return new G1(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new R1(t),this.Yr=new B1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new W1(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const o=new Y1(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Y1 extends bC{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.ti=new mm,this.ni=null}static ri(e){return new gm(e)}get ii(){if(this.ni)return this.ni;throw De()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const o=Pe.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Me.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class od{constructor(e,t){this.persistence=e,this.oi=new ro(i=>CC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=F1(this,t)}static ri(e,t){return new od(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ue.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(h=>{h||(i++,a.removeEntry(u,Me.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ue.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=Ge(),o=Ge();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ym(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Wx()?8:xC(on())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new X1;return this._s(e,t,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Yo()<=We.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Yo()<=We.DEBUG&&Ee("QueryEngine","Query:",Xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Yo()<=We.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):ue.resolve())}rs(e,t){if(C_(t))return ue.resolve(null);let i=jr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=nd(t,null,"F"),i=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ge(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(t,h);return this.ls(t,m,u,f.readTime)?this.rs(e,nd(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,i,o){return C_(t)||o.isEqual(Me.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(t,a);return this.ls(t,u,i,o)?ue.resolve(null):(Yo()<=We.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xo(t)),this.hs(e,u,t,EC(o,Ol)).next(h=>h))})}cs(e,t){let i=new Mt(iE(e));return t.forEach((o,a)=>{Ld(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return Yo()<=We.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ns.getDocumentsMatchingQuery(e,t,ts.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="LocalStore",Z1=3e8;class eP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new wt(ze),this.Is=new ro(a=>am(a),lm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function tP(n,e,t,i){return new eP(n,e,t,i)}async function kE(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=Ge();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function nP(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,v){const S=m.batch,R=S.keys();let M=ue.resolve();return R.forEach($=>{M=M.next(()=>v.getEntry(f,$)).next(L=>{const j=m.docVersions.get($);Ze(j!==null),L.version.compareTo(j)<0&&(S.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),v.addEntry(L)))})}),M.next(()=>h.mutationQueue.removeMutationBatch(f,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Ge();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function CE(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function rP(n,e){const t=Ve(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((v,S)=>{const R=o.get(S);if(!R)return;h.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,S)));let M=R.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Qt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,i)),o=o.insert(S,M),function(L,j,G){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Z1?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,M,v)&&h.push(t.Hr.updateTargetData(a,M))});let f=fi(),m=Ge();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(iP(a,u,e.documentUpdates).next(v=>{f=v.Vs,m=v.fs})),!i.isEqual(Me.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(S=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(v)}return ue.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ts=o,a))}function iP(n,e,t){let i=Ge(),o=Ge();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=fi();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ee(vm,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function sP(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=sm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oP(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,ue.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Wi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Rp(n,e,t){const i=Ve(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!wa(u))throw u;Ee(vm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function z_(n,e,t){const i=Ve(n);let o=Me.min(),a=Ge();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const S=Ve(f),R=S.Is.get(v);return R!==void 0?ue.resolve(S.Ts.get(R)):S.Hr.getTargetData(m,v)}(i,u,jr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:Me.min(),t?a:Ge())).next(h=>(aP(i,GC(e),h),{documents:h,gs:a})))}function aP(n,e,t){let i=n.Es.get(e)||Me.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class $_{constructor(){this.activeTargetIds=ZC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.ho=new $_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="ConnectivityMonitor";class q_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(B_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(B_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function Np(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",cP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Zc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,a){const u=Np(),h=this.bo(e,t.toUriEncodedString());Ee(np,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,h,f,i).then(m=>(Ee(np,`Received RPC '${e}' ${u}: `,m),m),m=>{throw oa(np,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,t,i,o,a,u){return this.So(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const i=cP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class fP extends dP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=Np();return new Promise((u,h)=>{const f=new Ow;f.setWithCredentials(!0),f.listenOnce(Dw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cc.NO_ERROR:const v=f.getResponseJson();Ee(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Cc.TIMEOUT:Ee(en,`RPC '${e}' ${a} timed out`),h(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const S=f.getStatus();if(Ee(en,`RPC '${e}' ${a} failed with status:`,S,"response text:",f.getResponseText()),S>0){let R=f.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R==null?void 0:R.error;if(M&&M.status&&M.message){const $=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(G)>=0?G:oe.UNKNOWN}(M.status);h(new ve($,M.message))}else h(new ve(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{Ee(en,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);Ee(en,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}Wo(e,t,i){const o=Np(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=jw(),h=Mw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");Ee(en,`Creating RPC '${e}' stream ${o}: ${v}`,f);const S=u.createWebChannel(v,f);let R=!1,M=!1;const $=new hP({Fo:j=>{M?Ee(en,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(R||(Ee(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),Ee(en,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),L=(j,G,Y)=>{j.listen(G,J=>{try{Y(J)}catch(ne){setTimeout(()=>{throw ne},0)}})};return L(S,wl.EventType.OPEN,()=>{M||(Ee(en,`RPC '${e}' stream ${o} transport opened.`),$.Qo())}),L(S,wl.EventType.CLOSE,()=>{M||(M=!0,Ee(en,`RPC '${e}' stream ${o} transport closed`),$.Uo())}),L(S,wl.EventType.ERROR,j=>{M||(M=!0,oa(en,`RPC '${e}' stream ${o} transport errored:`,j),$.Uo(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),L(S,wl.EventType.MESSAGE,j=>{var G;if(!M){const Y=j.data[0];Ze(!!Y);const J=Y,ne=(J==null?void 0:J.error)||((G=J[0])===null||G===void 0?void 0:G.error);if(ne){Ee(en,`RPC '${e}' stream ${o} received error:`,ne);const V=ne.status;let B=function(b){const _=Pt[b];if(_!==void 0)return mE(_)}(V),P=ne.message;B===void 0&&(B=oe.INTERNAL,P="Unknown error status: "+V+" with message "+ne.message),M=!0,$.Uo(new ve(B,P)),S.close()}else Ee(en,`RPC '${e}' stream ${o} received:`,Y),$.Ko(Y)}}),L(h,Lw.STAT_EVENT,j=>{j.stat===wp.PROXY?Ee(en,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===wp.NOPROXY&&Ee(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){return new y1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class AE{constructor(e,t,i,o,a,u,h,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pP extends AE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=w1(this.serializer,e),i=function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Vr(u.readTime):Me.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Ap(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=bp(f)?{documents:I1(a,f)}:{query:S1(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=vE(a,u.resumeToken);const m=kp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){h.readTime=sd(a,u.snapshotVersion.toTimestamp());const m=kp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=x1(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Ap(this.serializer),t.removeTarget=e,this.I_(t)}}class mP extends AE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=T1(e.writeResults,e.commitTime),i=Vr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Ap(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>E1(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{}class yP extends gP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Cp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(oe.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,Cp(t,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hi(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class _P{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{io(this)&&(Ee(Ws,"Restarting streams for network reachability change."),await async function(f){const m=Ve(f);m.W_.add(4),await Ql(m),m.j_.set("Unknown"),m.W_.delete(4),await Ud(m)}(this))})}),this.j_=new vP(i,o)}}async function Ud(n){if(io(n))for(const e of n.G_)await e(!0)}async function Ql(n){for(const e of n.G_)await e(!1)}function RE(n,e){const t=Ve(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Tm(t)?Em(t):Ea(t).c_()&&wm(t,e))}function _m(n,e){const t=Ve(n),i=Ea(t);t.K_.delete(e),i.c_()&&NE(t,e),t.K_.size===0&&(i.c_()?i.P_():io(t)&&t.j_.set("Unknown"))}function wm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(n).y_(e)}function NE(n,e){n.H_.Ne(e),Ea(n).w_(e)}function Em(n){n.H_=new f1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ea(n).start(),n.j_.B_()}function Tm(n){return io(n)&&!Ea(n).u_()&&n.K_.size>0}function io(n){return Ve(n).W_.size===0}function OE(n){n.H_=void 0}async function wP(n){n.j_.set("Online")}async function EP(n){n.K_.forEach((e,t)=>{wm(n,e)})}async function TP(n,e){OE(n),Tm(n)?(n.j_.q_(e),Em(n)):n.j_.set("Unknown")}async function IP(n,e,t){if(n.j_.set("Online"),e instanceof yE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.K_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(i){Ee(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ad(n,i)}else if(e instanceof Nc?n.H_.We(e):e instanceof gE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Me.min()))try{const i=await CE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const v=a.K_.get(f);if(!v)return;a.K_.set(f,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),NE(a,f);const S=new Wi(v.target,f,m,v.sequenceNumber);wm(a,S)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){Ee(Ws,"Failed to raise snapshot:",i),await ad(n,i)}}async function ad(n,e,t){if(!wa(e))throw e;n.W_.add(1),await Ql(n),n.j_.set("Offline"),t||(t=()=>CE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Ws,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Ud(n)})}function DE(n,e){return e().catch(t=>ad(n,t,e))}async function zd(n){const e=Ve(n),t=ss(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:sm;for(;SP(e);)try{const o=await sP(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,bP(e,o)}catch(o){await ad(e,o)}LE(e)&&ME(e)}function SP(n){return io(n)&&n.U_.length<10}function bP(n,e){n.U_.push(e);const t=ss(n);t.c_()&&t.S_&&t.b_(e.mutations)}function LE(n){return io(n)&&!ss(n).u_()&&n.U_.length>0}function ME(n){ss(n).start()}async function xP(n){ss(n).C_()}async function kP(n){const e=ss(n);for(const t of n.U_)e.b_(t.mutations)}async function CP(n,e,t){const i=n.U_.shift(),o=hm.from(i,e,t);await DE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await zd(n)}async function PP(n,e){e&&ss(n).S_&&await async function(i,o){if(function(u){return d1(u)&&u!==oe.ABORTED}(o.code)){const a=i.U_.shift();ss(i).h_(),await DE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await zd(i)}}(n,e),LE(n)&&ME(n)}async function W_(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),Ee(Ws,"RemoteStore received new credentials");const i=io(t);t.W_.add(3),await Ql(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ud(t)}async function AP(n,e){const t=Ve(n);e?(t.W_.delete(2),await Ud(t)):e||(t.W_.add(2),await Ql(t),t.j_.set("Unknown"))}function Ea(n){return n.J_||(n.J_=function(t,i,o){const a=Ve(t);return a.M_(),new pP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:wP.bind(null,n),No:EP.bind(null,n),Lo:TP.bind(null,n),p_:IP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Tm(n)?Em(n):n.j_.set("Unknown")):(await n.J_.stop(),OE(n))})),n.J_}function ss(n){return n.Y_||(n.Y_=function(t,i,o){const a=Ve(t);return a.M_(),new mP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:xP.bind(null,n),Lo:PP.bind(null,n),D_:kP.bind(null,n),v_:CP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await zd(n)):(await n.Y_.stop(),n.U_.length>0&&(Ee(Ws,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,h=new Im(e,t,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(n,e){if(hi("AsyncQueue",`${e}: ${n}`),wa(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=El(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.Z_=new wt(Pe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):De():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ha{constructor(e,t,i,o,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ha(e,t,ta.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class NP{constructor(){this.queries=K_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Ve(t),a=o.queries;o.queries=K_(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function K_(){return new ro(n=>rE(n),Dd)}async function jE(n,e){const t=Ve(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new RP,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Sm(u,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&bm(t)}async function VE(n,e){const t=Ve(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function OP(n,e){const t=Ve(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(i=!0);u.ea=o}}i&&bm(t)}function DP(n,e,t){const i=Ve(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function bm(n){n.ia.forEach(e=>{e.next()})}var Op,Q_;(Q_=Op||(Op={}))._a="default",Q_.Cache="cache";class FE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ha(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class LP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ge(),this.mutatedKeys=Ge(),this.ya=iE(e),this.wa=new ta(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new G_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const R=o.get(v),M=Ld(this.query,S)?S:null,$=!!R&&this.mutatedKeys.has(R.key),L=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;R&&M?R.data.isEqual(M.data)?$!==L&&(i.track({type:3,doc:M}),j=!0):this.va(R,M)||(i.track({type:2,doc:M}),j=!0,(f&&this.ya(M,f)>0||m&&this.ya(M,m)<0)&&(h=!0)):!R&&M?(i.track({type:0,doc:M}),j=!0):R&&!M&&(i.track({type:1,doc:R}),j=!0,(f||m)&&(h=!0)),j&&(M?(u=u.add(M),a=L?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,S)=>function(M,$){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return L(M)-L($)}(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(i),o=o!=null&&o;const h=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new ha(this.query,e.wa,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new G_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ge(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new zE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new UE(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ge();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ha.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xm="SyncEngine";class MP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class jP{constructor(e){this.key=e,this.Ba=!1}}class VP{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ro(h=>rE(h),Dd),this.qa=new Map,this.Qa=new Set,this.$a=new wt(Pe.comparator),this.Ua=new Map,this.Ka=new mm,this.Wa={},this.Ga=new Map,this.za=da.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function FP(n,e,t=!0){const i=GE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await $E(i,e,t,!0),o}async function UP(n,e){const t=GE(n);await $E(t,e,!0,!1)}async function $E(n,e,t,i){const o=await oP(n.localStore,jr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await zP(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&RE(n.remoteStore,o),h}async function zP(n,e,t,i,o){n.Ha=(S,R,M)=>async function(L,j,G,Y){let J=j.view.ba(G);J.ls&&(J=await z_(L.localStore,j.query,!1).then(({documents:P})=>j.view.ba(P,J)));const ne=Y&&Y.targetChanges.get(j.targetId),V=Y&&Y.targetMismatches.get(j.targetId)!=null,B=j.view.applyChanges(J,L.isPrimaryClient,ne,V);return X_(L,j.targetId,B.Ma),B.snapshot}(n,S,R,M);const a=await z_(n.localStore,e,!0),u=new LP(e,a.gs),h=u.ba(a.documents),f=Kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,f);X_(n,t,m.Ma);const v=new MP(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function $P(n,e,t){const i=Ve(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!Dd(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Rp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&_m(i.remoteStore,o.targetId),Dp(i,o.targetId)}).catch(_a)):(Dp(i,o.targetId),await Rp(i.localStore,o.targetId,!0))}async function BP(n,e){const t=Ve(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),_m(t.remoteStore,i.targetId))}async function qP(n,e,t){const i=XP(n);try{const o=await function(u,h){const f=Ve(u),m=xt.now(),v=h.reduce((M,$)=>M.add($.key),Ge());let S,R;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let $=fi(),L=Ge();return f.ds.getEntries(M,v).next(j=>{$=j,$.forEach((G,Y)=>{Y.isValidDocument()||(L=L.add(G))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,$)).next(j=>{S=j;const G=[];for(const Y of h){const J=o1(Y,S.get(Y.key).overlayedDocument);J!=null&&G.push(new cs(Y.key,J,Yw(J.value.mapValue),Er.exists(!0)))}return f.mutationQueue.addMutationBatch(M,m,G,h)}).next(j=>{R=j;const G=j.applyToLocalDocumentSet(S,L);return f.documentOverlayCache.saveOverlays(M,j.batchId,G)})}).then(()=>({batchId:R.batchId,changes:oE(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(ze)),m=m.insert(h,f),u.Wa[u.currentUser.toKey()]=m}(i,o.batchId,t),await Yl(i,o.changes),await zd(i.remoteStore)}catch(o){const a=Sm(o,"Failed to persist write");t.reject(a)}}async function BE(n,e){const t=Ve(n);try{const i=await rP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ze(u.Ba):o.removedDocuments.size>0&&(Ze(u.Ba),u.Ba=!1))}),await Yl(t,i,e)}catch(i){await _a(i)}}function Y_(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Ve(u);f.onlineState=h;let m=!1;f.queries.forEach((v,S)=>{for(const R of S.ta)R.sa(h)&&(m=!0)}),m&&bm(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function HP(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),a=o&&o.key;if(a){let u=new wt(Pe.comparator);u=u.insert(a,rn.newNoDocument(a,Me.min()));const h=Ge().add(a),f=new Vd(Me.min(),new Map,new wt(ze),u,h);await BE(i,f),i.$a=i.$a.remove(a),i.Ua.delete(e),km(i)}else await Rp(i.localStore,e,!1).then(()=>Dp(i,e,t)).catch(_a)}async function WP(n,e){const t=Ve(n),i=e.batch.batchId;try{const o=await nP(t.localStore,e);HE(t,i,null),qE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Yl(t,o)}catch(o){await _a(o)}}async function GP(n,e,t){const i=Ve(n);try{const o=await function(u,h){const f=Ve(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next(S=>(Ze(S!==null),v=S.keys(),f.mutationQueue.removeMutationBatch(m,S))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(i.localStore,e);HE(i,e,t),qE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Yl(i,o)}catch(o){await _a(o)}}function qE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function HE(n,e,t){const i=Ve(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Dp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||WE(n,i)})}function WE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(_m(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),km(n))}function X_(n,e,t){for(const i of t)i instanceof UE?(n.Ka.addReference(i.key,e),KP(n,i)):i instanceof zE?(Ee(xm,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||WE(n,i.key)):De()}function KP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Ee(xm,"New document in limbo: "+t),n.Qa.add(i),km(n))}function km(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Pe(lt.fromString(e)),i=n.za.next();n.Ua.set(i,new jP(t)),n.$a=n.$a.insert(t,i),RE(n.remoteStore,new Wi(jr(Od(t.path)),i,"TargetPurposeLimboResolution",Pd.ae))}}async function Yl(n,e,t){const i=Ve(n),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const S=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,S?"current":"not-current")}if(m){o.push(m);const S=ym.Yi(f.targetId,m);a.push(S)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,m){const v=Ve(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ue.forEach(m,R=>ue.forEach(R.Hi,M=>v.persistence.referenceDelegate.addReference(S,R.targetId,M)).next(()=>ue.forEach(R.Ji,M=>v.persistence.referenceDelegate.removeReference(S,R.targetId,M)))))}catch(S){if(!wa(S))throw S;Ee(vm,"Failed to update sequence numbers: "+S)}for(const S of m){const R=S.targetId;if(!S.fromCache){const M=v.Ts.get(R),$=M.snapshotVersion,L=M.withLastLimboFreeSnapshotVersion($);v.Ts=v.Ts.insert(R,L)}}}(i.localStore,a))}async function QP(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){Ee(xm,"User change. New user:",e.toKey());const i=await kE(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new ve(oe.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yl(t,i.Rs)}}function YP(n,e){const t=Ve(n),i=t.Ua.get(e);if(i&&i.Ba)return Ge().add(i.key);{let o=Ge();const a=t.qa.get(e);if(!a)return o;for(const u of a){const h=t.ka.get(u);o=o.unionWith(h.view.Sa)}return o}}function GE(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HP.bind(null,e),e.La.p_=OP.bind(null,e.eventManager),e.La.Ja=DP.bind(null,e.eventManager),e}function XP(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GP.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tP(this.persistence,new J1,e.initialUser,this.serializer)}Xa(e){return new xE(gm.ri,this.serializer)}Za(e){return new lP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class JP extends ld{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof od);const i=this.persistence.referenceDelegate.garbageCollector;return new j1(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new xE(i=>od.ri(i,t),this.serializer)}}class Lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Y_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QP.bind(null,this.syncEngine),await AP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NP}()}createDatastore(e){const t=Fd(e.databaseInfo.databaseId),i=function(a){return new fP(a)}(e.databaseInfo);return function(a,u,h,f){return new yP(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,h){return new _P(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Y_(this.syncEngine,t,0),function(){return q_.D()?new q_:new uP}())}createSyncEngine(e,t){return function(o,a,u,h,f,m,v){const S=new VP(o,a,u,h,f,m);return v&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ve(o);Ee(Ws,"RemoteStore shutting down."),a.W_.add(5),await Ql(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class ZP{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Ee(os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ee(os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Sm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ip(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await kE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function J_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eA(n);Ee(os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>W_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>W_(e.remoteStore,o)),n._onlineComponents=e}async function eA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(os,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;oa("Error using user provided cache. Falling back to memory cache: "+t),await ip(n,new ld)}}else Ee(os,"Using default OfflineComponentProvider"),await ip(n,new JP(void 0));return n._offlineComponents}async function QE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(os,"Using user provided OnlineComponentProvider"),await J_(n,n._uninitializedComponentsProvider._online)):(Ee(os,"Using default OnlineComponentProvider"),await J_(n,new Lp))),n._onlineComponents}function tA(n){return QE(n).then(e=>e.syncEngine)}async function Mp(n){const e=await QE(n),t=e.eventManager;return t.onListen=FP.bind(null,e.syncEngine),t.onUnlisten=$P.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BP.bind(null,e.syncEngine),t}function nA(n,e,t={}){const i=new Xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,m){const v=new KE({next:R=>{v.su(),u.enqueueAndForget(()=>VE(a,S));const M=R.docs.has(h);!M&&R.fromCache?m.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&f&&f.source==="server"?m.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(R)},error:R=>m.reject(R)}),S=new FE(Od(h.path),v,{includeMetadataChanges:!0,Ta:!0});return jE(a,S)}(await Mp(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rA(n,e,t,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function e0(n){if(!Pe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t0(n){if(Pe.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$d(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iA(n,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firestore.googleapis.com",n0=!0;class r0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=n0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:n0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L1)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hC;switch(i.type){case"firstParty":return new gC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Z_.get(t);i&&(Ee("ComponentProvider","Removing Datastore"),Z_.delete(t),i.terminate())}(this),Promise.resolve()}}function sA(n,e,t,i={}){var o;const a=(n=Fr(n,Bd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a.host!==JE&&a.host!==h&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:i});if(!es(f,u)&&(n._setSettings(f),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=nn.MOCK_USER;else{m=Tw(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(S)}n._authCredentials=new fC(new Vw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class mn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Ji extends qr{constructor(e,t,i){super(e,t,Od(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Pe(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function fn(n,e,...t){if(n=ut(n),XE("collection","path",e),n instanceof Bd){const i=lt.fromString(e,...t);return t0(i),new Ji(n,null,i)}{if(!(n instanceof mn||n instanceof Ji))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return t0(i),new Ji(n.firestore,null,i)}}function Gs(n,e,...t){if(n=ut(n),arguments.length===1&&(e=Uw.newId()),XE("doc","path",e),n instanceof Bd){const i=lt.fromString(e,...t);return e0(i),new mn(n,null,new Pe(i))}{if(!(n instanceof mn||n instanceof Ji))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return e0(i),new mn(n.firestore,n instanceof Ji?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PE(this,"async_queue_retry"),this.Su=()=>{const i=rp();i&&Ee(i0,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wa(e))throw e;Ee(i0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw hi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Im.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&De()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function o0(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ks extends Bd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new s0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function oA(n,e){const t=typeof n=="object"?n:Wl(),i=typeof n=="string"?n:Zc,o=gi(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=nm("firestore");a&&sA(o,...a)}return o}function Cm(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aA(n),n._firestoreClient}function aA(n){var e,t,i;const o=n._freezeSettings(),a=function(h,f,m,v){return new RC(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,YE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new ZP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Qt.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=/^__.*__$/;class uA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class ZE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Nm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ud(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(eT(this.Lu)&&lA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fd(e)}ju(e,t,i,o=!1){return new Nm({Lu:e,methodName:t,zu:i,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(n){const e=n._freezeSettings(),t=Fd(n._databaseId);return new cA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dA(n,e,t,i,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Om("Data must be an object, but it was:",u,i);const h=nT(i,u);let f,m;if(a.merge)f=new Fn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const S of a.mergeFields){const R=jp(e,S,t);if(!u.contains(R))throw new ve(oe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);iT(v,R)||v.push(R)}f=new Fn(v),m=u.fieldTransforms.filter(S=>f.covers(S.field))}else f=null,m=u.fieldTransforms;return new uA(new kn(h),f,m)}class Wd extends Pm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wd}}function hA(n,e,t,i){const o=n.ju(1,e,t);Om("Data must be an object, but it was:",o,i);const a=[],u=kn.empty();ls(i,(f,m)=>{const v=Dm(e,f,t);m=ut(m);const S=o.Uu(v);if(m instanceof Wd)a.push(v);else{const R=Xl(m,S);R!=null&&(a.push(v),u.set(v,R))}});const h=new Fn(a);return new ZE(u,h,o.fieldTransforms)}function fA(n,e,t,i,o,a){const u=n.ju(1,e,t),h=[jp(e,i,t)],f=[o];if(a.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<a.length;R+=2)h.push(jp(e,a[R])),f.push(a[R+1]);const m=[],v=kn.empty();for(let R=h.length-1;R>=0;--R)if(!iT(m,h[R])){const M=h[R];let $=f[R];$=ut($);const L=u.Uu(M);if($ instanceof Wd)m.push(M);else{const j=Xl($,L);j!=null&&(m.push(M),v.set(M,j))}}const S=new Fn(m);return new ZE(v,S,u.fieldTransforms)}function tT(n,e,t,i=!1){return Xl(t,n.ju(i?4:3,e))}function Xl(n,e){if(rT(n=ut(n)))return Om("Unsupported field value:",e,n),nT(n,e);if(n instanceof Pm)return function(i,o){if(!eT(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=Xl(h,o.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return e1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:sd(o.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sd(o.serializer,a)}}if(i instanceof Am)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:vE(o.serializer,i._byteString)};if(i instanceof mn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Rm)return function(u,h){return{mapValue:{fields:{[Kw]:{stringValue:Qw},[ed]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return cm(h.serializer,m)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${$d(i)}`)}(n,e)}function nT(n,e){const t={};return $w(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(n,(i,o)=>{const a=Xl(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function rT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Am||n instanceof fa||n instanceof mn||n instanceof Pm||n instanceof Rm)}function Om(n,e,t){if(!rT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=$d(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function jp(n,e,t){if((e=ut(e))instanceof qd)return e._internalPath;if(typeof e=="string")return Dm(n,e);throw ud("Field path arguments must be of type string or ",n,!1,void 0,t)}const pA=new RegExp("[~\\*/\\[\\]]");function Dm(n,e,t){if(e.search(pA)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qd(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ud(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new ve(oe.INVALID_ARGUMENT,h+n+f)}function iT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mA extends Lm{data(){return super.data()}}function Gd(n,e){return typeof e=="string"?Dm(n,e):e instanceof qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mm{}class Jl extends Mm{}function Ta(n,e,...t){let i=[];e instanceof Mm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(f=>f instanceof Vm).length,h=a.filter(f=>f instanceof Kd).length;if(u>1||u>0&&h>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Kd extends Jl{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kd(e,t,i)}_apply(e){const t=this._parse(e);return oT(e._query,t),new qr(e.firestore,e.converter,xp(e._query,t))}_parse(e){const t=Hd(e.firestore);return function(a,u,h,f,m,v,S){let R;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){l0(S,v);const $=[];for(const L of S)$.push(a0(f,a,L));R={arrayValue:{values:$}}}else R=a0(f,a,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||l0(S,v),R=tT(h,u,S,v==="in"||v==="not-in");return At.create(m,v,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jm(n,e,t){const i=e,o=Gd("where",n);return Kd._create(o,i,t)}class Vm extends Mm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)oT(u,f),u=xp(u,f)}(e._query,t),new qr(e.firestore,e.converter,xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fm extends Jl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fm(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(a,u)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new us(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Um(n,e="asc"){const t=e,i=Gd("orderBy",n);return Fm._create(i,t)}class zm extends Jl{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new zm(e,t,i)}_apply(e){return new qr(e.firestore,e.converter,nd(e._query,this._limit,this._limitType))}}function $m(n){return iA("limit",n),zm._create("limit",n,"F")}class Bm extends Jl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Bm(e,t,i)}_apply(e){const t=sT(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function yA(...n){return Bm._create("startAt",n,!0)}class qm extends Jl{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new qm(e,t,i)}_apply(e){const t=sT(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,function(o,a){return new us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,t))}}function vA(...n){return qm._create("endAt",n,!0)}function sT(n,e,t,i){if(t[0]=ut(t[0]),t[0]instanceof Lm)return function(a,u,h,f,m){if(!f)throw new ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const S of ea(a))if(S.field.isKeyField())v.push(td(u,f.key));else{const R=f.data.field(S.field);if(Rd(R))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(R===null){const M=S.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(R)}return new ca(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=Hd(n.firestore);return function(u,h,f,m,v,S){const R=u.explicitOrderBy;if(v.length>R.length)throw new ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let $=0;$<v.length;$++){const L=v[$];if(R[$].field.isKeyField()){if(typeof L!="string")throw new ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof L}`);if(!um(u)&&L.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${L}' contains a slash.`);const j=u.path.child(lt.fromString(L));if(!Pe.isDocumentKey(j))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const G=new Pe(j);M.push(td(h,G))}else{const j=tT(f,m,L);M.push(j)}}return new ca(M,S)}(n._query,n.firestore._databaseId,o,e,t,i)}}function a0(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!um(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!Pe.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return td(n,new Pe(i))}if(t instanceof mn)return td(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(t)}.`)}function l0(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oT(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _A{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ls(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[ed].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>bt(u.doubleValue));return new Rm(a)}convertGeoPoint(e){return new Am(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Nd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Ze(SE(i));const o=new Ll(i.get(1),i.get(3)),a=new Pe(i.popFirst(5));return o.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aT extends Lm{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Gd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Oc extends aT{data(e={}){return super.data(e)}}class EA{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Oc(this._firestore,this._userDataWriter,i.key,i,new Il(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Oc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Il(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Oc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Il(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:TA(h.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n){n=Fr(n,mn);const e=Fr(n.firestore,Ks);return nA(Cm(e),n._key).then(t=>cT(e,n,t))}class uT extends _A{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function IA(n,e,t,...i){n=Fr(n,mn);const o=Fr(n.firestore,Ks),a=Hd(o);let u;return u=typeof(e=ut(e))=="string"||e instanceof qd?fA(a,"updateDoc",n._key,e,t,i):hA(a,"updateDoc",n._key,e),Wm(o,[u.toMutation(n._key,Er.exists(!0))])}function Hm(n){return Wm(Fr(n.firestore,Ks),[new dm(n._key,Er.none())])}function Vp(n,e){const t=Fr(n.firestore,Ks),i=Gs(n),o=wA(n.converter,e);return Wm(t,[dA(Hd(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}function tr(n,...e){var t,i,o;n=ut(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||o0(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(o0(e[u])){const S=e[u];e[u]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[u+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[u+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let f,m,v;if(n instanceof mn)m=Fr(n.firestore,Ks),v=Od(n._key.path),f={next:S=>{e[u]&&e[u](cT(m,n,S))},error:e[u+1],complete:e[u+2]};else{const S=Fr(n,qr);m=Fr(S.firestore,Ks),v=S._query;const R=new uT(m);f={next:M=>{e[u]&&e[u](new EA(m,R,S,M))},error:e[u+1],complete:e[u+2]},gA(n._query)}return function(R,M,$,L){const j=new KE(L),G=new FE(M,j,$);return R.asyncQueue.enqueueAndForget(async()=>jE(await Mp(R),G)),()=>{j.su(),R.asyncQueue.enqueueAndForget(async()=>VE(await Mp(R),G))}}(Cm(m),v,h,f)}function Wm(n,e){return function(i,o){const a=new Xi;return i.asyncQueue.enqueueAndForget(async()=>qP(await tA(i),o,a)),a.promise}(Cm(n),e)}function cT(n,e,t){const i=t.docs.get(e._key),o=new uT(n);return new aT(n,o,e._key,i,new Il(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){va=o})(no),er(new $n("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Ks(new pC(i.getProvider("auth-internal")),new yC(u,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),sn(d_,h_,e),sn(d_,h_,"esm2017")})();var SA="firebase",bA="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(SA,bA,"app");function Gm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xA=dT,hT=new to("auth","Firebase",dT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Cd("@firebase/auth");function kA(n,...e){cd.logLevel<=We.WARN&&cd.warn(`Auth (${no}): ${n}`,...e)}function Dc(n,...e){cd.logLevel<=We.ERROR&&cd.error(`Auth (${no}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw Qm(n,...e)}function Tr(n,...e){return Qm(n,...e)}function Km(n,e,t){const i=Object.assign(Object.assign({},xA()),{[e]:t});return new to("auth","Firebase",i).create(e,{appName:n.name})}function Zi(n){return Km(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CA(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&nr(n,"argument-error"),Km(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return hT.create(n,...e)}function Oe(n,e,...t){if(!n)throw Qm(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dc(e),new Error(e)}function pi(n,e){n||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function PA(){return u0()==="http:"||u0()==="https:"}function u0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PA()||Iw()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile=zx()||qx()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n,e){pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Zl(3e4,6e4);function so(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ds(n,e,t,i,o={}){return pT(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=Hl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return Bx()||(m.referrerPolicy="no-referrer"),fT.fetch()(mT(n,n.config.apiHost,t,h),m)})}async function pT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},NA),e);try{const o=new LA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw bc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw bc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw bc(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Km(n,v,m);nr(n,v)}}catch(o){if(o instanceof Bn)throw o;nr(n,"network-request-failed",{message:String(o)})}}async function Qd(n,e,t,i,o={}){const a=await ds(n,e,t,i,o);return"mfaPendingCredential"in a&&nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function mT(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Ym(n.config,o):`${n.config.apiScheme}://${o}`}function DA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tr(this.auth,"network-request-failed")),OA.get())})}}function bc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Tr(n,e,i);return o.customData._tokenResponse=t,o}function c0(n){return n!==void 0&&n.enterprise!==void 0}class MA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jA(n,e){return ds(n,"GET","/v2/recaptchaConfig",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(n,e){return ds(n,"POST","/v1/accounts:delete",e)}async function gT(n,e){return ds(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FA(n,e=!1){const t=ut(n),i=await t.getIdToken(e),o=Xm(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:kl(sp(o.auth_time)),issuedAtTime:kl(sp(o.iat)),expirationTime:kl(sp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sp(n){return Number(n)*1e3}function Xm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vw(t);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function d0(n){const e=Xm(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Bn&&UA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function UA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ul(n,gT(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?yT(a.providerUserInfo):[],h=BA(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Up(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,S)}async function $A(n){const e=ut(n);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function yT(n){return n.map(e=>{var{providerId:t}=e,i=Gm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(n,e){const t=await pT(n,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=mT(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",fT.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HA(n,e){return ds(n,"POST","/v2/accounts:revokeToken",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=d0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await qA(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new na;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Oe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Up(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FA(this,e)}reload(){return $A(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await dd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Ul(this,VA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,h,f,m,v;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,M=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,$=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,j=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,G=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Y=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:ne,isAnonymous:V,providerData:B,stsTokenManager:P}=t;Oe(J&&P,e,"internal-error");const A=na.fromJSON(this.name,P);Oe(typeof J=="string",e,"internal-error"),zi(S,e.name),zi(R,e.name),Oe(typeof ne=="boolean",e,"internal-error"),Oe(typeof V=="boolean",e,"internal-error"),zi(M,e.name),zi($,e.name),zi(L,e.name),zi(j,e.name),zi(G,e.name),zi(Y,e.name);const b=new ui({uid:J,auth:e,email:R,emailVerified:ne,displayName:S,isAnonymous:V,photoURL:$,phoneNumber:M,tenantId:L,stsTokenManager:A,createdAt:G,lastLoginAt:Y});return B&&Array.isArray(B)&&(b.providerData=B.map(_=>Object.assign({},_))),j&&(b._redirectEventId=j),b}static async _fromIdTokenResponse(e,t,i=!1){const o=new na;o.updateFromServerResponse(t);const a=new ui({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await dd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?yT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new na;h.updateFromIdToken(i);const f=new ui({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function ci(n){pi(n instanceof Function,"Expected a class definition");let e=h0.get(n);return e?(pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vT.type="NONE";const f0=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Lc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ra(ci(f0),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ci(f0);const u=Lc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){const S=ui._fromJSON(e,v);m!==a&&(h=S),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ra(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ra(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ST(e))return"Blackberry";if(bT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(IT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _T(n=on()){return/firefox\//i.test(n)}function wT(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(n=on()){return/crios\//i.test(n)}function TT(n=on()){return/iemobile/i.test(n)}function IT(n=on()){return/android/i.test(n)}function ST(n=on()){return/blackberry/i.test(n)}function bT(n=on()){return/webos/i.test(n)}function Jm(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WA(n=on()){var e;return Jm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GA(){return Hx()&&document.documentMode===10}function xT(n=on()){return Jm(n)||IT(n)||bT(n)||ST(n)||/windows phone/i.test(n)||TT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n,e=[]){let t;switch(n){case"Browser":t=p0(on());break;case"Worker":t=`${p0(on())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${no}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n,e={}){return ds(n,"GET","/v2/passwordPolicy",so(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=6;class XA{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:YA,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new KA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gT(this,{idToken:e}),i=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Zi(this));const t=e?ut(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QA(this),t=new XA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await HA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oo(n){return ut(n)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jx(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZA(n){Yd=n}function CT(n){return Yd.loadJS(n)}function eR(){return Yd.recaptchaEnterpriseScript}function tR(){return Yd.gapiScript}function nR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rR{constructor(){this.enterprise=new iR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sR="recaptcha-enterprise",PT="NO_RECAPTCHA";class oR{constructor(e){this.type=sR,this.auth=oo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{jA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new MA(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;c0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(PT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&c0(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=eR();f.length!==0&&(f+=h),CT(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function g0(n,e,t,i=!1,o=!1){const a=new oR(n);let u;if(o)u=PT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function y0(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await g0(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await g0(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n,e){const t=gi(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(es(a,e??{}))return o;nr(o,"already-initialized")}return t.initialize({options:e})}function lR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function uR(n,e,t){const i=oo(n);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=AT(e),{host:u,port:h}=cR(e),f=h===null?"":`:${h}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(es(m,i.config.emulator)&&es(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,dR()}function AT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cR(n){const e=AT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:v0(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:v0(u)}}}function v0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function hR(n,e){return ds(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(n,e){return Qd(n,"POST","/v1/accounts:signInWithPassword",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(n,e){return Qd(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}async function mR(n,e){return Qd(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Zm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new zl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new zl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,t,"signInWithPassword",fR);case"emailLink":return pR(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,i,"signUpPassword",hR);case"emailLink":return mR(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e){return Qd(n,"POST","/v1/accounts:signInWithIdp",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="http://localhost";class Qs extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Gm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Qs(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:gR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vR(n){const e=vl(_l(n)).link,t=e?vl(_l(e)).deep_link_id:null,i=vl(_l(n)).deep_link_id;return(i?vl(_l(i)).link:null)||i||t||e||n}class eg{constructor(e){var t,i,o,a,u,h;const f=vl(_l(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,S=yR((o=f.mode)!==null&&o!==void 0?o:null);Oe(m&&v&&S,"argument-error"),this.apiKey=m,this.operation=S,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=vR(e);try{return new eg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=eg.parseLink(t);return Oe(i,"argument-error"),zl._fromEmailAndCode(e,i.code,i.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends eu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Mr.credential(t,i)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends eu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends eu{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qi.credential(t,i)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ui._fromIdTokenResponse(e,i,o),u=_0(i);return new pa({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=_0(i);return new pa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function _0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Bn{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new hd(e,t,i,o)}}function RT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(n,a,e,i):a})}async function _R(n,e,t=!1){const i=await Ul(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(n,e,t=!1){const{auth:i}=n;if(xn(i.app))return Promise.reject(Zi(i));const o="reauthenticate";try{const a=await Ul(n,RT(i,o,e,n),t);Oe(a.idToken,i,"internal-error");const u=Xm(a.idToken);Oe(u,i,"internal-error");const{sub:h}=u;return Oe(n.uid===h,i,"user-mismatch"),pa._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(n,e,t=!1){if(xn(n.app))return Promise.reject(Zi(n));const i="signIn",o=await RT(n,i,e),a=await pa._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function ER(n,e){return NT(oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n){const e=oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function IR(n,e,t){return xn(n.app)?Promise.reject(Zi(n)):ER(ut(n),Ia.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TR(n),i})}function SR(n,e,t,i){return ut(n).onIdTokenChanged(e,t,i)}function bR(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function xR(n,e,t,i){return ut(n).onAuthStateChanged(e,t,i)}function kR(n){return ut(n).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1e3,PR=10;class DT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);GA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DT.type="LOCAL";const AR=DT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LT.type="SESSION";const MT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Xd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await RR(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=ng("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===m)switch(R.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(R.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function OR(n){Ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function DR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function MR(){return jT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firebaseLocalStorageDb",jR=1,pd="firebaseLocalStorage",FT="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jd(n,e){return n.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function VR(){const n=indexedDB.deleteDatabase(VT);return new tu(n).toPromise()}function zp(){const n=indexedDB.open(VT,jR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(pd,{keyPath:FT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(pd)?e(i):(i.close(),await VR(),e(await zp()))})})}async function w0(n,e,t){const i=Jd(n,!0).put({[FT]:e,value:t});return new tu(i).toPromise()}async function FR(n,e){const t=Jd(n,!1).get(e),i=await new tu(t).toPromise();return i===void 0?null:i.value}function E0(n,e){const t=Jd(n,!0).delete(e);return new tu(t).toPromise()}const UR=800,zR=3;class UT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(MR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await DR(),!this.activeServiceWorker)return;this.sender=new NR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await w0(e,fd,"1"),await E0(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>w0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>FR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>E0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Jd(o,!1).getAll();return new tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UT.type="LOCAL";const $R=UT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n,e){return e?ci(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BR(n){return NT(n.auth,new rg(n),n.bypassAuthState)}function qR(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),wR(t,new rg(n),n.bypassAuthState)}async function HR(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),_R(t,new rg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return qR;default:nr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Zl(2e3,1e4);async function BT(n,e,t){if(xn(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const i=oo(n);CA(n,e,tg);const o=zT(i,t);return new $s(i,"signInViaPopup",e,o).executeNotNull()}class $s extends $T{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WR.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="pendingRedirect",Mc=new Map;class KR extends $T{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const i=await QR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QR(n,e){const t=JR(e),i=XR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function YR(n,e){Mc.set(n._key(),e)}function XR(n){return ci(n._redirectPersistence)}function JR(n){return Lc(GR,n.config.apiKey,n.name)}async function ZR(n,e,t=!1){if(xn(n.app))return Promise.reject(Zi(n));const i=oo(n),o=zT(i,e),u=await new KR(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=10*60*1e3;class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!qT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e={}){return ds(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function oN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rN(n);for(const t of e)try{if(aN(t))return}catch{}nr(n,"unauthorized-domain")}function aN(n){const e=Fp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!sN.test(t))return!1;if(iN.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Zl(3e4,6e4);function I0(){const n=Ur().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uN(n){return new Promise((e,t)=>{var i,o,a;function u(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),t(Tr(n,"network-request-failed"))},timeout:lN.get()})}if(!((o=(i=Ur().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Ur().gapi)===null||a===void 0)&&a.load)u();else{const h=nR("iframefcb");return Ur()[h]=()=>{gapi.load?u():t(Tr(n,"network-request-failed"))},CT(`${tR()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw jc=null,e})}let jc=null;function cN(n){return jc=jc||uN(n),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Zl(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",pN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ym(e,fN):`https://${n.config.authDomain}/${hN}`,i={apiKey:e.apiKey,appName:n.name,v:no},o=mN.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Hl(i).slice(1)}`}async function yN(n){const e=await cN(n),t=Ur().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:gN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pN,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),h=Ur().setTimeout(()=>{a(u)},dN.get());function f(){Ur().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,wN=600,EN="_blank",TN="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IN(n,e,t,i=_N,o=wN){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},vN),{width:i.toString(),height:o.toString(),top:a,left:u}),m=on().toLowerCase();t&&(h=ET(m)?EN:t),_T(m)&&(e=e||TN,f.scrollbars="yes");const v=Object.entries(f).reduce((R,[M,$])=>`${R}${M}=${$},`,"");if(WA(m)&&h!=="_self")return SN(e||"",h),new S0(null);const S=window.open(e||"",h,v);Oe(S,n,"popup-blocked");try{S.focus()}catch{}return new S0(S)}function SN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",xN="emulator/auth/handler",kN=encodeURIComponent("fac");async function b0(n,e,t,i,o,a){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:no,eventId:o};if(e instanceof tg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Xx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))u[v]=S}if(e instanceof eu){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${kN}=${encodeURIComponent(f)}`:"";return`${CN(n)}?${Hl(h).slice(1)}${m}`}function CN({config:n}){return n.emulator?Ym(n,xN):`https://${n.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class PN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=ZR,this._overrideRedirectResult=YR}async _openPopup(e,t,i,o){var a;pi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await b0(e,t,i,Fp(),o);return IN(e,u,ng())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await b0(e,t,i,Fp(),o);return OR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(pi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await yN(e),i=new tN(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[op];u!==void 0&&t(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xT()||wT()||Jm()}}const AN=PN;var x0="@firebase/auth",k0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(n){er(new $n("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(n)},m=new JA(i,o,a,f);return lR(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),er(new $n("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(i=>new RN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(x0,k0,NN(n)),sn(x0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=5*60,LN=Ew("authIdTokenMaxAge")||DN;let C0=null;const MN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>LN)return;const o=t==null?void 0:t.token;C0!==o&&(C0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jN(n=Wl()){const e=gi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aR(n,{popupRedirectResolver:AN,persistence:[$R,AR,MT]}),i=Ew("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=MN(a.toString());bR(t,u,()=>u(t.currentUser)),SR(t,h=>u(h))}}const o=_w("auth");return o&&uR(t,`http://${o}`),t}function VN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Tr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",VN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebasestorage.googleapis.com",FN="storageBucket",UN=2*60*1e3,zN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Bn{constructor(e,t,i=0){super(ap(e),`Firebase Storage: ${t} (${ap(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $r;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($r||($r={}));function ap(n){return"storage/"+n}function $N(){const n="An unknown error occurred, please check the error payload for server response.";return new Hr($r.UNKNOWN,n)}function BN(){return new Hr($r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qN(){return new Hr($r.CANCELED,"User canceled the upload/download.")}function HN(n){return new Hr($r.INVALID_URL,"Invalid URL '"+n+"'.")}function WN(n){return new Hr($r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function P0(n){return new Hr($r.INVALID_ARGUMENT,n)}function WT(){return new Hr($r.APP_DELETED,"The Firebase app was deleted.")}function GN(n){return new Hr($r.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=wr.makeFromUrl(e,t)}catch{return new wr(e,"")}if(i.path==="")return i;throw WN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(ne){ne.path_=decodeURIComponent(ne.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${v}/b/${o}/o${R}`,"i"),$={bucket:1,path:3},L=t===HT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",G=new RegExp(`^https?://${L}/${o}/${j}`,"i"),J=[{regex:h,indices:f,postModify:a},{regex:M,indices:$,postModify:m},{regex:G,indices:{bucket:1,path:2},postModify:m}];for(let ne=0;ne<J.length;ne++){const V=J[ne],B=V.regex.exec(e);if(B){const P=B[V.indices.bucket];let A=B[V.indices.path];A||(A=""),i=new wr(P,A),V.postModify(i);break}}if(i==null)throw HN(e);return i}}class KN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n,e,t){let i=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function v(...j){m||(m=!0,e.apply(null,j))}function S(j){o=setTimeout(()=>{o=null,n(M,f())},j)}function R(){a&&clearTimeout(a)}function M(j,...G){if(m){R();return}if(j){R(),v.call(null,j,...G);return}if(f()||u){R(),v.call(null,j,...G);return}i<64&&(i*=2);let J;h===1?(h=2,J=0):J=(i+Math.random())*1e3,S(J)}let $=!1;function L(j){$||($=!0,R(),!m&&(o!==null?(j||(h=2),clearTimeout(o),S(0)):j||(h=1)))}return S(0),a=setTimeout(()=>{u=!0,L(!0)},t),L}function YN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){return n!==void 0}function A0(n,e,t,i){if(i<e)throw P0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw P0(`Invalid value for '${n}'. Expected ${t} or less.`)}function JN(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var md;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(md||(md={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t,i,o,a,u,h,f,m,v,S,R=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=S,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,$)=>{this.resolve_=M,this.reject_=$,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new xc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===md.NO_ERROR,f=a.getStatus();if(!h||ZN(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===md.ABORT;i(!1,new xc(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new xc(m,a))})},t=(i,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());XN(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=$N();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?WT():qN();u(f)}else{const f=BN();u(f)}};this.canceled_?t(!1,new xc(!1,null,!0)):this.backoffId_=QN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function nO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function iO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function sO(n,e,t,i,o,a,u=!0){const h=JN(n.urlParams),f=n.url+h,m=Object.assign({},n.headers);return rO(m,e),tO(m,t),nO(m,a),iO(m,i),new eO(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function aO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this._service=e,t instanceof wr?this._location=t:this._location=wr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gd(e,t)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=oO(this._location.path);if(e===null)return null;const t=new wr(this._location.bucket,e);return new gd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw GN(e)}}function R0(n,e){const t=e==null?void 0:e[FN];return t==null?null:wr.makeFromBucketSpec(t,n)}function lO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Tw(o,n.app.options.projectId))}class uO{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=HT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UN,this._maxUploadRetryTime=zN,this._requests=new Set,o!=null?this._bucket=wr.makeFromBucketSpec(o,this._host):this._bucket=R0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=R0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gd(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new KN(WT());{const u=sO(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const N0="@firebase/storage",O0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="storage";function cO(n=Wl(),e){n=ut(n);const i=gi(n,GT).getImmediate({identifier:e}),o=nm("storage");return o&&dO(i,...o),i}function dO(n,e,t,i={}){lO(n,e,t,i)}function hO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new uO(t,i,o,e,no)}function fO(){er(new $n(GT,hO,"PUBLIC").setMultipleInstances(!0)),sn(N0,O0,""),sn(N0,O0,"esm2017")}fO();const KT="@firebase/installations",ig="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=1e4,YT=`w:${ig}`,XT="FIS_v2",pO="https://firebaseinstallations.googleapis.com/v1",mO=60*60*1e3,gO="installations",yO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new to(gO,yO,vO);function JT(n){return n instanceof Bn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT({projectId:n}){return`${pO}/projects/${n}/installations`}function eI(n){return{token:n.token,requestStatus:2,expiresIn:wO(n.expiresIn),creationTime:Date.now()}}async function tI(n,e){const i=(await e.json()).error;return Ys.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function nI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _O(n,{refreshToken:e}){const t=nI(n);return t.append("Authorization",EO(e)),t}async function rI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function wO(n){return Number(n.replace("s","000"))}function EO(n){return`${XT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=ZT(n),o=nI(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:XT,appId:n.appId,sdkVersion:YT},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await rI(()=>fetch(i,h));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:eI(m.authToken)}}else throw await tI("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^[cdef][\w-]{21}$/,$p="";function bO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=xO(n);return SO.test(t)?t:$p}catch{return $p}}function xO(n){return IO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;function oI(n,e){const t=Zd(n);aI(t,e),kO(t,e)}function aI(n,e){const t=sI.get(n);if(t)for(const i of t)i(e)}function kO(n,e){const t=CO();t&&t.postMessage({key:n,fid:e}),PO()}let Bs=null;function CO(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=n=>{aI(n.data.key,n.data.fid)}),Bs}function PO(){sI.size===0&&Bs&&(Bs.close(),Bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="firebase-installations-database",RO=1,Xs="firebase-installations-store";let lp=null;function sg(){return lp||(lp=Cw(AO,RO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Xs)}}})),lp}async function yd(n,e){const t=Zd(n),o=(await sg()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&oI(n,e.fid),e}async function lI(n){const e=Zd(n),i=(await sg()).transaction(Xs,"readwrite");await i.objectStore(Xs).delete(e),await i.done}async function eh(n,e){const t=Zd(n),o=(await sg()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),u=await a.get(t),h=e(u);return h===void 0?await a.delete(t):await a.put(h,t),await o.done,h&&(!u||u.fid!==h.fid)&&oI(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(n){let e;const t=await eh(n.appConfig,i=>{const o=NO(i),a=OO(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===$p?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NO(n){const e=n||{fid:bO(),registrationStatus:0};return uI(e)}function OO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=DO(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:LO(n)}:{installationEntry:e}}async function DO(n,e){try{const t=await TO(n,e);return yd(n.appConfig,t)}catch(t){throw JT(t)&&t.customData.serverCode===409?await lI(n.appConfig):await yd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function LO(n){let e=await D0(n.appConfig);for(;e.registrationStatus===1;)await iI(100),e=await D0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await og(n);return i||t}return e}function D0(n){return eh(n,e=>{if(!e)throw Ys.create("installation-not-found");return uI(e)})}function uI(n){return MO(n)?{fid:n.fid,registrationStatus:0}:n}function MO(n){return n.registrationStatus===1&&n.registrationTime+QT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO({appConfig:n,heartbeatServiceProvider:e},t){const i=VO(n,t),o=_O(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:YT,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await rI(()=>fetch(i,h));if(f.ok){const m=await f.json();return eI(m)}else throw await tI("Generate Auth Token",f)}function VO(n,{fid:e}){return`${ZT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(n,e=!1){let t;const i=await eh(n.appConfig,a=>{if(!cI(a))throw Ys.create("not-registered");const u=a.authToken;if(!e&&zO(u))return a;if(u.requestStatus===1)return t=FO(n,e),a;{if(!navigator.onLine)throw Ys.create("app-offline");const h=BO(a);return t=UO(n,h),h}});return t?await t:i.authToken}async function FO(n,e){let t=await L0(n.appConfig);for(;t.authToken.requestStatus===1;)await iI(100),t=await L0(n.appConfig);const i=t.authToken;return i.requestStatus===0?ag(n,e):i}function L0(n){return eh(n,e=>{if(!cI(e))throw Ys.create("not-registered");const t=e.authToken;return qO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UO(n,e){try{const t=await jO(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await yd(n.appConfig,i),t}catch(t){if(JT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await lI(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yd(n.appConfig,i)}throw t}}function cI(n){return n!==void 0&&n.registrationStatus===2}function zO(n){return n.requestStatus===2&&!$O(n)}function $O(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+mO}function BO(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function qO(n){return n.requestStatus===1&&n.requestTime+QT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(n){const e=n,{installationEntry:t,registrationPromise:i}=await og(e);return i?i.catch(console.error):ag(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(n,e=!1){const t=n;return await GO(t),(await ag(t,e)).token}async function GO(n){const{registrationPromise:e}=await og(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n){if(!n||!n.options)throw up("App Configuration");if(!n.name)throw up("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw up(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function up(n){return Ys.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="installations",QO="installations-internal",YO=n=>{const e=n.getProvider("app").getImmediate(),t=KO(e),i=gi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},XO=n=>{const e=n.getProvider("app").getImmediate(),t=gi(e,dI).getImmediate();return{getId:()=>HO(t),getToken:o=>WO(t,o)}};function JO(){er(new $n(dI,YO,"PUBLIC")),er(new $n(QO,XO,"PRIVATE"))}JO();sn(KT,ig);sn(KT,ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="analytics",ZO="firebase_id",e2="origin",t2=60*1e3,n2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Cd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new to("analytics","Analytics",r2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){if(!n.startsWith(lg)){const e=Un.create("invalid-gtag-resource",{gtagURL:n});return Pn.warn(e.message),""}return n}function hI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function s2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function o2(n,e){const t=s2("firebase-js-sdk-policy",{createScriptURL:i2}),i=document.createElement("script"),o=`${lg}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function a2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function l2(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const f=(await hI(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(h){Pn.error(h)}n("config",o,a)}async function u2(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const h=await hI(t);for(const f of u){const m=h.find(S=>S.measurementId===f),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){Pn.error(a)}}function c2(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[h,f]=u;await u2(n,e,t,h,f)}else if(a==="config"){const[h,f]=u;await l2(n,e,t,i,h,f)}else if(a==="consent"){const[h,f]=u;n("consent",h,f)}else if(a==="get"){const[h,f,m]=u;n("get",h,f,m)}else if(a==="set"){const[h]=u;n("set",h)}else n(a,...u)}catch(h){Pn.error(h)}}return o}function d2(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=c2(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function h2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(lg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=30,p2=1e3;class m2{constructor(e={},t=p2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fI=new m2;function g2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function y2(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:g2(i)},a=n2.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function v2(n,e=fI,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw Un.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Un.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new E2;return setTimeout(async()=>{h.abort()},t2),pI({appId:i,apiKey:o,measurementId:a},u,h,e)}async function pI(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=fI){var a;const{appId:u,measurementId:h}=n;try{await _2(i,e)}catch(f){if(h)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:h};throw f}try{const f=await y2(n);return o.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!w2(m)){if(o.deleteThrottleMetadata(u),h)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:h};throw f}const v=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?t_(t,o.intervalMillis,f2):t_(t,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(u,S),Pn.debug(`Calling attemptFetch again in ${v} millis`),pI(n,S,i,o)}}function _2(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function w2(n){if(!(n instanceof Bn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class E2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function T2(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(){if(Sw())try{await bw()}catch(n){return Pn.warn(Un.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Pn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function S2(n,e,t,i,o,a,u){var h;const f=v2(n);f.then(M=>{t[M.measurementId]=M.appId,n.options.measurementId&&M.measurementId!==n.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>Pn.error(M)),e.push(f);const m=I2().then(M=>{if(M)return i.getId()}),[v,S]=await Promise.all([f,m]);h2(a)||o2(a,v.measurementId),o("js",new Date);const R=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return R[e2]="firebase",R.update=!0,S!=null&&(R[ZO]=S),o("config",v.measurementId,R),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.app=e}_delete(){return delete Cl[this.app.options.appId],Promise.resolve()}}let Cl={},M0=[];const j0={};let cp="dataLayer",x2="gtag",V0,mI,F0=!1;function k2(){const n=[];if(Iw()&&n.push("This is a browser extension environment."),Gx()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});Pn.warn(t.message)}}function C2(n,e,t){k2();const i=n.options.appId;if(!i)throw Un.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(Cl[i]!=null)throw Un.create("already-exists",{id:i});if(!F0){a2(cp);const{wrappedGtag:a,gtagCore:u}=d2(Cl,M0,j0,cp,x2);mI=a,V0=u,F0=!0}return Cl[i]=S2(n,M0,j0,e,V0,cp,t),new b2(n)}function P2(n=Wl()){n=ut(n);const e=gi(n,vd);return e.isInitialized()?e.getImmediate():A2(n)}function A2(n,e={}){const t=gi(n,vd);if(t.isInitialized()){const o=t.getImmediate();if(es(e,t.getOptions()))return o;throw Un.create("already-initialized")}return t.initialize({options:e})}function R2(n,e,t,i){n=ut(n),T2(mI,Cl[n.app.options.appId],e,t,i).catch(o=>Pn.error(o))}const U0="@firebase/analytics",z0="0.10.12";function N2(){er(new $n(vd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return C2(i,o,t)},"PUBLIC")),er(new $n("analytics-internal",n,"PRIVATE")),sn(U0,z0),sn(U0,z0,"esm2017");function n(e){try{const t=e.getProvider(vd).getImmediate();return{logEvent:(i,o,a)=>R2(t,i,o,a)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}}}N2();const O2={apiKey:"AIzaSyCG_qXbdnlbUIa1QYkzkzto1L8SXFdLLN8",authDomain:"ecommerce-pc-parts.firebaseapp.com",projectId:"ecommerce-pc-parts",storageBucket:"ecommerce-pc-parts.firebasestorage.app",messagingSenderId:"153204523621",appId:"1:153204523621:web:4b1e4bde73cf058b6dfc8c",measurementId:"G-QJTMEYB4PD"},Js=Pw(O2),Rt=oA(Js),kc=jN(Js);cO(Js);P2(Js);function gI(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=gI(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function qs(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=gI(n))&&(i&&(i+=" "),i+=e);return i}function D2(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}D2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nu=n=>typeof n=="number"&&!isNaN(n),Zs=n=>typeof n=="string",mi=n=>typeof n=="function",L2=n=>Zs(n)||nu(n),Bp=n=>Zs(n)||mi(n)?n:null,M2=(n,e)=>n===!1||nu(n)&&n>0?n:e,qp=n=>Z.isValidElement(n)||Zs(n)||mi(n)||nu(n);function j2(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function V2({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:h,done:f,nodeRef:m,isIn:v,playToast:S}){let R=t?`${n}--${u}`:n,M=t?`${e}--${u}`:e,$=Z.useRef(0);return Z.useLayoutEffect(()=>{let L=m.current,j=R.split(" "),G=Y=>{Y.target===m.current&&(S(),L.removeEventListener("animationend",G),L.removeEventListener("animationcancel",G),$.current===0&&Y.type!=="animationcancel"&&L.classList.remove(...j))};L.classList.add(...j),L.addEventListener("animationend",G),L.addEventListener("animationcancel",G)},[]),Z.useEffect(()=>{let L=m.current,j=()=>{L.removeEventListener("animationend",j),i?j2(L,f,o):f()};v||(h?j():($.current=1,L.className+=` ${M}`,L.addEventListener("animationend",j)))},[v]),rt.createElement(rt.Fragment,null,a)}}function $0(n,e){return{content:yI(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function yI(n,e,t=!1){return Z.isValidElement(n)&&!Zs(n.type)?Z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):mi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function F2({closeToast:n,theme:e,ariaLabel:t="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function U2({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:h,rtl:f,isIn:m,theme:v}){let S=o||u&&h===0,R={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(R.transform=`scaleX(${h})`);let M=qs("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),$=mi(a)?a({rtl:f,type:i,defaultClassName:M}):qs(M,a),L={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),rt.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:$,style:R,...L}))}var z2=1,vI=()=>`${z2++}`;function $2(n,e,t){let i=1,o=0,a=[],u=[],h=e,f=new Map,m=new Set,v=Y=>(m.add(Y),()=>m.delete(Y)),S=()=>{u=Array.from(f.values()),m.forEach(Y=>Y())},R=({containerId:Y,toastId:J,updateId:ne})=>{let V=Y?Y!==n:n!==1,B=f.has(J)&&ne==null;return V||B},M=(Y,J)=>{f.forEach(ne=>{var V;(J==null||J===ne.props.toastId)&&((V=ne.toggle)==null||V.call(ne,Y))})},$=Y=>{var J,ne;(ne=(J=Y.props)==null?void 0:J.onClose)==null||ne.call(J,Y.removalReason),Y.isActive=!1},L=Y=>{if(Y==null)f.forEach($);else{let J=f.get(Y);J&&$(J)}S()},j=()=>{o-=a.length,a=[]},G=Y=>{var J,ne;let{toastId:V,updateId:B}=Y.props,P=B==null;Y.staleId&&f.delete(Y.staleId),Y.isActive=!0,f.set(V,Y),S(),t($0(Y,P?"added":"updated")),P&&((ne=(J=Y.props).onOpen)==null||ne.call(J))};return{id:n,props:h,observe:v,toggle:M,removeToast:L,toasts:f,clearQueue:j,buildToast:(Y,J)=>{if(R(J))return;let{toastId:ne,updateId:V,data:B,staleId:P,delay:A}=J,b=V==null;b&&o++;let _={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(J).filter(([D,k])=>k!=null)),toastId:ne,updateId:V,data:B,isIn:!1,className:Bp(J.className||h.toastClassName),progressClassName:Bp(J.progressClassName||h.progressClassName),autoClose:J.isLoading?!1:M2(J.autoClose,h.autoClose),closeToast(D){f.get(ne).removalReason=D,L(ne)},deleteToast(){let D=f.get(ne);if(D!=null){if(t($0(D,"removed")),f.delete(ne),o--,o<0&&(o=0),a.length>0){G(a.shift());return}S()}}};_.closeButton=h.closeButton,J.closeButton===!1||qp(J.closeButton)?_.closeButton=J.closeButton:J.closeButton===!0&&(_.closeButton=qp(h.closeButton)?h.closeButton:!0);let O={content:Y,props:_,staleId:P};h.limit&&h.limit>0&&o>h.limit&&b?a.push(O):nu(A)?setTimeout(()=>{G(O)},A):G(O)},setProps(Y){h=Y},setToggle:(Y,J)=>{let ne=f.get(Y);ne&&(ne.toggle=J)},isToastActive:Y=>{var J;return(J=f.get(Y))==null?void 0:J.isActive},getSnapshot:()=>u}}var pn=new Map,$l=[],Hp=new Set,B2=n=>Hp.forEach(e=>e(n)),_I=()=>pn.size>0;function q2(){$l.forEach(n=>EI(n.content,n.options)),$l=[]}var H2=(n,{containerId:e})=>{var t;return(t=pn.get(e||1))==null?void 0:t.toasts.get(n)};function wI(n,e){var t;if(e)return!!((t=pn.get(e))!=null&&t.isToastActive(n));let i=!1;return pn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function W2(n){if(!_I()){$l=$l.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||L2(n))pn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=pn.get(n.containerId);e?e.removeToast(n.id):pn.forEach(t=>{t.removeToast(n.id)})}}var G2=(n={})=>{pn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function EI(n,e){qp(n)&&(_I()||$l.push({content:n,options:e}),pn.forEach(t=>{t.buildToast(n,e)}))}function K2(n){var e;(e=pn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function TI(n,e){pn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Q2(n){let e=n.containerId||1;return{subscribe(t){let i=$2(e,n,B2);pn.set(e,i);let o=i.observe(t);return q2(),()=>{o(),pn.delete(e)}},setProps(t){var i;(i=pn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=pn.get(e))==null?void 0:t.getSnapshot()}}}function Y2(n){return Hp.add(n),()=>{Hp.delete(n)}}function X2(n){return n&&(Zs(n.toastId)||nu(n.toastId))?n.toastId:vI()}function ru(n,e){return EI(n,e),e.toastId}function th(n,e){return{...e,type:e&&e.type||n,toastId:X2(e)}}function nh(n){return(e,t)=>ru(e,th(n,t))}function ke(n,e){return ru(n,th("default",e))}ke.loading=(n,e)=>ru(n,th("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function J2(n,{pending:e,error:t,success:i},o){let a;e&&(a=Zs(e)?ke.loading(e,o):ke.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,v,S)=>{if(v==null){ke.dismiss(a);return}let R={type:m,...u,...o,data:S},M=Zs(v)?{render:v}:v;return a?ke.update(a,{...R,...M}):ke(M.render,{...R,...M}),S},f=mi(n)?n():n;return f.then(m=>h("success",i,m)).catch(m=>h("error",t,m)),f}ke.promise=J2;ke.success=nh("success");ke.info=nh("info");ke.error=nh("error");ke.warning=nh("warning");ke.warn=ke.warning;ke.dark=(n,e)=>ru(n,th("default",{theme:"dark",...e}));function Z2(n){W2(n)}ke.dismiss=Z2;ke.clearWaitingQueue=G2;ke.isActive=wI;ke.update=(n,e={})=>{let t=H2(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:vI()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,ru(u,a)}};ke.done=n=>{ke.update(n,{progress:1})};ke.onChange=Y2;ke.play=n=>TI(!0,n);ke.pause=n=>TI(!1,n);function eD(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=Z.useRef(Q2(n)).current;o(n);let a=(e=Z.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:v}=m.props;f.has(v)||f.set(v,[]),f.get(v).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:wI,count:a==null?void 0:a.length}}function tD(n){let[e,t]=Z.useState(!1),[i,o]=Z.useState(!1),a=Z.useRef(null),u=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:v,closeOnClick:S}=n;K2({id:n.toastId,containerId:n.containerId,fn:t}),Z.useEffect(()=>{if(n.pauseOnFocusLoss)return R(),()=>{M()}},[n.pauseOnFocusLoss]);function R(){document.hasFocus()||G(),window.addEventListener("focus",j),window.addEventListener("blur",G)}function M(){window.removeEventListener("focus",j),window.removeEventListener("blur",G)}function $(P){if(n.draggable===!0||n.draggable===P.pointerType){Y();let A=a.current;u.canCloseOnClick=!0,u.canDrag=!0,A.style.transition="none",n.draggableDirection==="x"?(u.start=P.clientX,u.removalDistance=A.offsetWidth*(n.draggablePercent/100)):(u.start=P.clientY,u.removalDistance=A.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function L(P){let{top:A,bottom:b,left:_,right:O}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&n.pauseOnHover&&P.clientX>=_&&P.clientX<=O&&P.clientY>=A&&P.clientY<=b?G():j()}function j(){t(!0)}function G(){t(!1)}function Y(){u.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",V)}function J(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",V)}function ne(P){let A=a.current;if(u.canDrag&&A){u.didMove=!0,e&&G(),n.draggableDirection==="x"?u.delta=P.clientX-u.start:u.delta=P.clientY-u.start,u.start!==P.clientX&&(u.canCloseOnClick=!1);let b=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;A.style.transform=`translate3d(${b},0)`,A.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function V(){J();let P=a.current;if(u.canDrag&&u.didMove&&P){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let B={onPointerDown:$,onPointerUp:L};return h&&f&&(B.onMouseEnter=G,n.stacked||(B.onMouseLeave=j)),S&&(B.onClick=P=>{v&&v(P),u.canCloseOnClick&&m(!0)}),{playToast:j,pauseToast:G,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:B}}var nD=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,rh=({theme:n,type:e,isLoading:t,...i})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function rD(n){return rt.createElement(rh,{...n},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function iD(n){return rt.createElement(rh,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function sD(n){return rt.createElement(rh,{...n},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function oD(n){return rt.createElement(rh,{...n},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function aD(){return rt.createElement("div",{className:"Toastify__spinner"})}var Wp={info:iD,warning:rD,success:sD,error:oD,spinner:aD},lD=n=>n in Wp;function uD({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(mi(i)?o=i({...a,isLoading:t}):Z.isValidElement(i)?o=Z.cloneElement(i,a):t?o=Wp.spinner():lD(e)&&(o=Wp[e](a))),o}var cD=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=tD(n),{closeButton:u,children:h,autoClose:f,onClick:m,type:v,hideProgressBar:S,closeToast:R,transition:M,position:$,className:L,style:j,progressClassName:G,updateId:Y,role:J,progress:ne,rtl:V,toastId:B,deleteToast:P,isIn:A,isLoading:b,closeOnClick:_,theme:O,ariaLabel:D}=n,k=qs("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":_}),Q=mi(L)?L({rtl:V,position:$,type:v,defaultClassName:k}):qs(k,L),pe=uD(n),he=!!ne||!f,I={closeToast:R,type:v,theme:O},se=null;return u===!1||(mi(u)?se=u(I):Z.isValidElement(u)?se=Z.cloneElement(u,I):se=F2(I)),rt.createElement(M,{isIn:A,done:P,position:$,preventExitTransition:t,nodeRef:i,playToast:a},rt.createElement("div",{id:B,tabIndex:0,onClick:m,"data-in":A,className:Q,...o,style:j,ref:i,...A&&{role:J,"aria-label":D}},pe!=null&&rt.createElement("div",{className:qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!b})},pe),yI(h,n,!e),se,!n.customProgressBar&&rt.createElement(U2,{...Y&&!he?{key:`p-${Y}`}:{},rtl:V,theme:O,delay:f,isRunning:e,isIn:A,closeToast:R,hide:S,type:v,className:G,controlledProgress:he,progress:ne||0})))},dD=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),hD=V2(dD("bounce",!0)),fD={position:"top-right",transition:hD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function pD(n){let e={...fD,...n},t=n.stacked,[i,o]=Z.useState(!0),a=Z.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=eD(e),{className:m,style:v,rtl:S,containerId:R,hotKeys:M}=e;function $(j){let G=qs("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":S});return mi(m)?m({position:j,rtl:S,defaultClassName:G}):qs(G,Bp(m))}function L(){t&&(o(!0),ke.play())}return nD(()=>{var j;if(t){let G=a.current.querySelectorAll('[data-in="true"]'),Y=12,J=(j=e.position)==null?void 0:j.includes("top"),ne=0,V=0;Array.from(G).reverse().forEach((B,P)=>{let A=B;A.classList.add("Toastify__toast--stacked"),P>0&&(A.dataset.collapsed=`${i}`),A.dataset.pos||(A.dataset.pos=J?"top":"bot");let b=ne*(i?.2:1)+(i?0:Y*P);A.style.setProperty("--y",`${J?b:b*-1}px`),A.style.setProperty("--g",`${Y}`),A.style.setProperty("--s",`${1-(i?V:0)}`),ne+=A.offsetHeight,V+=.025})}},[i,f,t]),Z.useEffect(()=>{function j(G){var Y;let J=a.current;M(G)&&((Y=J.querySelector('[tabIndex="0"]'))==null||Y.focus(),o(!1),ke.pause()),G.key==="Escape"&&(document.activeElement===J||J!=null&&J.contains(document.activeElement))&&(o(!0),ke.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[M]),rt.createElement("section",{ref:a,className:"Toastify",id:R,onMouseEnter:()=>{t&&(o(!1),ke.pause())},onMouseLeave:L,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((j,G)=>{let Y=G.length?{...v}:{...v,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:$(j),"data-stacked":t,style:Y,key:`c-${j}`},G.map(({content:J,props:ne})=>rt.createElement(cD,{...ne,stacked:t,collapseAll:L,isIn:h(ne.toastId,ne.containerId),key:`t-${ne.key}`},J)))}))}const II=Z.createContext(void 0),mD=({children:n})=>{const e=()=>{try{const S=localStorage.getItem("cart");return console.log("Cargando carrito desde localStorage:",S),console.log("Dominio actual:",window.location.hostname),console.log("Protocolo:",window.location.protocol),S?JSON.parse(S):[]}catch(S){return console.error("Error al cargar el carrito desde localStorage:",S),[]}},[t,i]=Z.useState(e()),[o,a]=Z.useState(null);Z.useEffect(()=>{try{console.log("Guardando carrito en localStorage:",t),console.log("Dominio actual:",window.location.hostname),localStorage.setItem("cart",JSON.stringify(t))}catch(S){console.error("Error al guardar el carrito en localStorage:",S)}},[t]);const u=S=>{const R=t.find($=>$.id===S.id),M=R?R.quantity:0;if(S.stock!==void 0&&M>=S.stock){ke.error(`No hay más stock disponible para ${S.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}a(S),i($=>R?$.map(L=>L.id===S.id?{...L,quantity:L.quantity+1}:L):[...$,{...S,quantity:1}])},h=S=>{const R=t.find(M=>M.id===S);if(R){if(R.stock!==void 0&&R.quantity>=R.stock){ke.error(`No hay más stock disponible para ${R.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}i(M=>M.map($=>$.id===S?{...$,quantity:$.quantity+1}:$))}},f=S=>{i(R=>{const M=R.find($=>$.id===S);return M&&M.quantity>1?R.map($=>$.id===S?{...$,quantity:$.quantity-1}:$):R.filter($=>$.id!==S)})},m=S=>{i(R=>{const M=R.find($=>$.id===S);return M&&M.quantity>1?R.map($=>$.id===S?{...$,quantity:$.quantity-1}:$):R.filter($=>$.id!==S)})},v=()=>{i([])};return Z.useEffect(()=>{if(o){const S=t.find(R=>R.id===o.id);S?ke.success(`${o.name} añadido al carrito (x${S.quantity})`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):ke.success(`${o.name} añadido al carrito`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a(null)}},[t,o]),T.jsx(II.Provider,{value:{cartItems:t,addToCart:u,removeFromCart:m,clearCart:v,increaseQuantity:h,decreaseQuantity:f},children:n})},Wr=()=>{const n=Z.useContext(II);if(!n)throw new Error("useCart must be used within a CartProvider");return n},zn=n=>n.toLocaleString("es-CO",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),gD=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Wr();Z.useEffect(()=>{const u=Ta(fn(Rt,"products"),Um("sales","desc"),$m(4)),h=tr(u,f=>{const m=f.docs.map(v=>({id:v.id,...v.data()}));e(m)},f=>{console.error("Error fetching recently viewed products:",f)});return()=>h()},[]);const o=u=>{t(`/product/${u}`)},a=u=>{i(u)};return T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Recientemente visto"}),n.length>0?T.jsx(xd,{dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}],children:n.map(u=>T.jsx("div",{className:"p-4",children:T.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),T.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),T.jsxs("div",{className:"mt-auto",children:[T.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(u.price)]}),T.jsx("button",{onClick:()=>a(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]})},u.id))}):T.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos recientes."})]})})},yD=()=>{const[n,e]=Z.useState([]),[t,i]=Z.useState("all"),o=an(),{addToCart:a}=Wr();Z.useEffect(()=>{const m=tr(fn(Rt,"products"),v=>{const S=v.docs.map(R=>({id:R.id,...R.data()}));S.forEach(R=>{console.log(`Producto: ${R.name}, Categoría: ${R.category}`)}),e(S)});return()=>m()},[]);const u=["all","Almacenamiento Externo","Chasís","Coolers","Diadema","Fuente de poder","Memoria Ram","Mouse","Mouse Pads","Motherboards","Procesadores","SSD","Tarjeta Gráfica"],h=m=>{o(`/product/${m}`)},f=(m,v)=>m-m*v/100;return T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Productos"}),T.jsxs("div",{className:"mb-6 flex items-center",children:[T.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categoría:"}),T.jsx("select",{value:t,onChange:m=>i(m.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button text-black bg-white",children:u.map(m=>T.jsx("option",{value:m,className:"",children:m},m))})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(m=>{if(t==="all")return!0;const v=m.category?m.category.toLowerCase():"",S=t.toLowerCase();return v===S}).map(m=>T.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>h(m.id)}),T.jsx("h3",{className:"text-lg font-medium text-black truncate",children:m.name})]}),T.jsxs("div",{className:"mt-auto",children:[m.discount&&m.discount>0?T.jsxs("div",{children:[T.jsxs("p",{className:"text-xl text-gray-500 line-through text-black mb-1",children:["$",zn(m.price)]}),T.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(f(m.price,m.discount))," "," ",T.jsxs("span",{className:"text-red-500",children:["(-",m.discount,"%)"]})]})]}):T.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(m.price)," "]}),T.jsx("button",{onClick:()=>a(m),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]},m.id))})]})})},vD=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Wr();Z.useEffect(()=>{const u=Ta(fn(Rt,"products"),jm("discount",">",0)),h=tr(u,f=>{const m=f.docs.map(v=>({id:v.id,...v.data()}));e(m)},f=>{console.error("Error fetching offers:",f)});return()=>h()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas Especiales"}),n.length>0?T.jsx(xd,{...a,children:n.map(u=>T.jsx("div",{className:"p-4",children:T.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),T.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),T.jsxs("div",{className:"mt-auto",children:[T.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:[T.jsxs("span",{className:"text-red-500",children:["(-",u.discount,"%)"]}),T.jsx("br",{}),"$",zn(u.price)]}),T.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]})},u.id))}):T.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},_D=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Wr();Z.useEffect(()=>{const u=Ta(fn(Rt,"products"),Um("sales","desc"),$m(4)),h=tr(u,f=>{const m=f.docs.map(v=>({id:v.id,...v.data()}));e(m)},f=>{console.error("Error fetching top selling products:",f)});return()=>h()},[]);const o=u=>{t(`/product/${u}`)},a={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h2",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Más Vendidos"}),n.length>0?T.jsx(xd,{...a,children:n.map(u=>T.jsx("div",{className:"p-4",children:T.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow bg-white justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(u.id)}),T.jsx("p",{className:"text-lg font-medium text-black truncate",children:u.name})]}),T.jsxs("div",{className:"mt-auto",children:[T.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(u.price)," "]}),T.jsx("button",{onClick:()=>i(u),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]})},u.id))}):T.jsx("p",{className:"text-center",style:{color:"var(--text-color)"},children:"No hay productos más vendidos."})]})})},wD=()=>T.jsxs("div",{className:"container mx-auto",children:[T.jsx(Px,{}),T.jsx(gD,{}),T.jsx(vD,{}),T.jsx(_D,{}),T.jsx(yD,{})]}),ED=()=>{const[n,e]=Z.useState([]),t=an(),{addToCart:i}=Wr();Z.useEffect(()=>{const a=Ta(fn(Rt,"products"),jm("discount",">",0)),u=tr(a,h=>{const f=h.docs.map(m=>({id:m.id,...m.data()}));e(f)},h=>{console.error("Error fetching offers:",h)});return()=>u()},[]);const o=a=>{t(`/product/${a}`)};return T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Ofertas"}),n.length>0?T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.map(a=>T.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("img",{src:a.image||"/placeholder.jpg",alt:a.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>o(a.id)}),T.jsx("h3",{className:"text-lg font-medium text-black truncate",children:a.name})]}),T.jsxs("div",{className:"mt-auto",children:[T.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:[T.jsxs("span",{className:"text-red-500",children:["(-",a.discount,"%)"]}),T.jsx("br",{}),"$",zn(a.price)]}),T.jsx("button",{onClick:()=>i(a),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]},a.id))}):T.jsx("p",{style:{color:"var(--text-color)"},children:"No hay ofertas disponibles."})]})})},TD=()=>{const[n,e]=Z.useState([]),[t,i]=Z.useState("all"),o=an(),{addToCart:a}=Wr();Z.useEffect(()=>{const f=tr(fn(Rt,"products"),m=>{const v=m.docs.map(S=>({id:S.id,...S.data()}));e(v)});return()=>f()},[]);const u=["all","Almacenamiento Externo","Chasís","Coolers","Diadema","Fuente de poder","Memoria Ram","Mouse","Mouse Pads","Motherboards","Procesadores","SSD","Tarjeta Gráfica"],h=f=>{o(`/product/${f}`)};return T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Categorías"}),T.jsxs("div",{className:"mb-6 flex items-center",children:[T.jsx("label",{className:"mr-3 text-lg",style:{color:"var(--text-color)"},children:"Filtrar por categoría:"}),T.jsx("select",{value:t,onChange:f=>i(f.target.value),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-button",style:{color:"var(--text-color)"},children:u.map(f=>T.jsx("option",{value:f,className:"text-black",children:f},f))})]}),n.length>0?T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(f=>t==="all"||f.category===t).map(f=>T.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow bg-white justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-full h-48 object-cover rounded-md mb-4 cursor-pointer",onClick:()=>h(f.id)}),T.jsx("h3",{className:"text-lg font-medium text-black truncate",children:f.name})]}),T.jsxs("div",{className:"mt-auto",children:[T.jsxs("p",{className:"text-2xl text-button text-black mb-2",children:["$",zn(f.price)]}),T.jsx("button",{onClick:()=>a(f),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]},f.id))}):T.jsx("p",{style:{color:"var(--text-color)"},children:"No hay productos disponibles."})]})})},SI=Z.createContext(void 0),ID=({children:n})=>{const[e,t]=Z.useState(null),[i,o]=Z.useState(!0);Z.useEffect(()=>{const h=xR(kc,f=>{t(f),o(!1)});return()=>h()},[]);const a=async(h,f)=>{await IR(kc,h,f)},u=async()=>{await kR(kc)};return T.jsx(SI.Provider,{value:{currentUser:e,signIn:a,signOutUser:u,auth:kc},children:!i&&n})},ao=()=>{const n=Z.useContext(SI);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},SD=()=>{const{id:n}=Eb(),[e,t]=Z.useState(null),[i,o]=Z.useState([]),[a,u]=Z.useState(""),[h,f]=Z.useState(!0),[m,v]=Z.useState(!1),{addToCart:S}=Wr(),{currentUser:R}=ao(),M=an();Z.useEffect(()=>{const j=async()=>{if(n)try{const V=await lT(Gs(Rt,"products",n));V.exists()?t({id:V.id,...V.data()}):console.log("Producto no encontrado:",n)}catch(V){console.error("Error al obtener el producto:",V)}finally{f(!1)}},G=()=>{if(!n)return;const V=fn(Rt,"products",n,"reviews");return tr(V,P=>{const A=P.docs.map(b=>({id:b.id,...b.data()}));o(A)},P=>{console.error("Error al obtener reviews:",P)})},Y=()=>{if(!n||!R)return;const V=fn(Rt,"wishlists",R.uid,"products");return tr(V,P=>{const b=P.docs.map(_=>({id:_.id,..._.data()})).some(_=>_.productId===n);v(b)},P=>{console.error("Error al obtener la lista de deseados:",P)})};j();const J=G(),ne=Y();return()=>{J&&J(),ne&&ne()}},[n,R]);const $=async()=>{if(!R){M("/auth");return}if(!n)return;const j=fn(Rt,"wishlists",R.uid,"products"),G=Gs(j,n);try{m?(await Hm(G),ke.success("Producto eliminado de la lista de deseados")):(await Vp(j,{productId:n,addedAt:xt.fromDate(new Date)}),ke.success("Producto añadido a la lista de deseados"))}catch(Y){console.error("Error al actualizar la lista de deseados:",Y),ke.error("Error al actualizar la lista de deseados")}},L=async j=>{if(j.preventDefault(),!R){M("/auth");return}if(!(!n||!a.trim()))try{await Vp(fn(Rt,"products",n,"reviews"),{userId:R.uid,userEmail:R.email,comment:a.trim(),createdAt:xt.fromDate(new Date)}),u("")}catch(G){console.error("Error al enviar la reseña:",G)}};return h?T.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):e?T.jsxs("div",{className:"container mx-auto p-6",children:[T.jsx("button",{onClick:()=>M(-1),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00] mb-4",children:"← Volver"}),T.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:e.name}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsx("div",{children:T.jsx("img",{src:e.image||"/placeholder.jpg",alt:e.name,className:"w-full h-96 object-cover rounded-lg"})}),T.jsxs("div",{className:"flex flex-col justify-between",children:[T.jsxs("div",{children:[T.jsxs("p",{className:"text-2xl text-[#f90] mb-4",children:[zn(e.price)," COP"]}),e.discount&&e.discount>0&&T.jsxs("p",{className:"text-md text-red-500 mb-4",children:["Descuento: ",e.discount,"%"]}),T.jsx("p",{className:"mb-4",style:{color:"var(--text-color)"},children:e.description}),T.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[T.jsx("strong",{children:"Categoría:"})," ",e.category]}),T.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[T.jsx("strong",{children:"Stock:"})," ",e.stock]}),e.coupon&&T.jsxs("p",{className:"mb-4",style:{color:"var(--text-color)"},children:[T.jsx("strong",{children:"Cupón:"})," ",e.coupon]})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>S(e),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00] flex-1",children:"Añadir al carrito"}),T.jsx("button",{onClick:$,className:`p-3 rounded-md ${m?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"} hover:bg-red-600 hover:text-white`,"aria-label":m?"Eliminar de la lista de deseados":"Añadir a la lista de deseados",children:m?"❤️":"♡"})]})]})]}),T.jsxs("div",{className:"mt-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Reseñas"}),i.length>0?T.jsx("div",{className:"space-y-4",children:i.map(j=>T.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[T.jsx("p",{style:{color:"var(--text-color)"},children:T.jsx("strong",{children:j.userEmail})}),T.jsx("p",{style:{color:"var(--text-color)"},children:j.comment}),T.jsx("p",{className:"text-gray-400 text-sm",children:j.createdAt.toDate().toLocaleDateString()})]},j.id))}):T.jsx("p",{style:{color:"var(--text-color)"},children:"No hay reseñas todavía."}),R&&T.jsxs("form",{onSubmit:L,className:"mt-6 space-y-4",children:[T.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--text-color)"},children:"Deja tu reseña"}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Comentario"}),T.jsx("textarea",{value:a,onChange:j=>u(j.target.value),className:"w-full p-2 rounded-md bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4,required:!0})]}),T.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Enviar Reseña"})]})]})]}):T.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Producto no encontrado"})},bD=()=>{const{cartItems:n,removeFromCart:e,clearCart:t,increaseQuantity:i,decreaseQuantity:o}=Wr(),a=an(),u=n.reduce((f,m)=>f+m.price*m.quantity,0),h=()=>{if(n.length===0){alert("El carrito está vacío. Agrega productos antes de pagar.");return}a("/payment",{state:{total:u,cartItems:n}})};return T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Carrito de Compras"}),n.length>0?T.jsxs("div",{children:[T.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(f=>T.jsxs("div",{className:"flex items-center bg-white p-4 rounded-lg border border-gray-300",children:[T.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-lg font-medium text-black",children:f.name}),T.jsxs("p",{className:"text-xl text-black",children:["$",zn(f.price)," x ",f.quantity]}),T.jsxs("p",{className:"text-md text-black",children:["Subtotal: $",zn(f.price*f.quantity)]}),T.jsxs("div",{className:"flex items-center mt-2",children:[T.jsx("button",{onClick:()=>o(f.id),className:"bg-gray-300 text-black px-3 py-1 rounded-md hover:bg-gray-400",children:"−"}),T.jsx("span",{className:"mx-3 text-black",children:f.quantity}),T.jsx("button",{onClick:()=>i(f.id),className:"bg-gray-300 text-black px-3 py-1 rounded-md hover:bg-gray-400",children:"+"})]})]}),T.jsx("button",{onClick:()=>e(f.id),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Eliminar"})]},f.id))}),T.jsxs("div",{className:"mt-6 text-right",children:[T.jsxs("p",{className:"text-2xl font-semibold text-black",children:["TOTAL: $",zn(u)]}),T.jsx("button",{onClick:t,className:"mt-4 bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600 mr-4",children:"Limpiar carrito"}),T.jsx("button",{onClick:h,className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Proceder al pago"})]})]}):T.jsx("p",{style:{color:"var(--text-color)"},children:"Tu carrito está vacío."})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gp=function(){return Gp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},Gp.apply(this,arguments)},Kp,xD=function(n){var e;n?function(t){if(t)for(;t.lastChild;)t.lastChild.remove()}(typeof n=="string"?document.getElementById(n):n):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},kD=function(n,e){xD(e),window.___grecaptcha_cfg=void 0;var t=document.querySelector("#"+n);t&&t.remove(),function(){var i=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');i&&i.remove()}()},CD=function(n){var e=n.render,t=n.onLoadCallbackName,i=n.language,o=n.onLoad,a=n.useRecaptchaNet,u=n.useEnterprise,h=n.scriptProps,f=h===void 0?{}:h,m=f.nonce,v=m===void 0?"":m,S=f.defer,R=S!==void 0&&S,M=f.async,$=M!==void 0&&M,L=f.id,j=L===void 0?"":L,G=f.appendTo,Y=j||"google-recaptcha-v3";if(function(V){return!!document.querySelector("#"+V)}(Y))o();else{var J=function(V){return"https://www."+(V.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(V.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:u,useRecaptchaNet:a}),ne=document.createElement("script");ne.id=Y,ne.src=J+"?render="+e+(e==="explicit"?"&onload="+t:"")+(i?"&hl="+i:""),v&&(ne.nonce=v),ne.defer=!!R,ne.async=!!$,ne.onload=o,(G==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(ne)}},B0=function(n){console.warn(n)};(function(n){n.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Kp||(Kp={}));var ug=Z.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});ug.Consumer;function bI(n){var e=n.reCaptchaKey,t=n.useEnterprise,i=t!==void 0&&t,o=n.useRecaptchaNet,a=o!==void 0&&o,u=n.scriptProps,h=n.language,f=n.container,m=n.children,v=Z.useState(null),S=v[0],R=v[1],M=Z.useRef(e),$=JSON.stringify(u),L=JSON.stringify(f==null?void 0:f.parameters);Z.useEffect(function(){if(e){var Y=(u==null?void 0:u.id)||"google-recaptcha-v3",J=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[J]=function(){var ne=i?window.grecaptcha.enterprise:window.grecaptcha,V=Gp({badge:"inline",size:"invisible",sitekey:e},(f==null?void 0:f.parameters)||{});M.current=ne.render(f==null?void 0:f.element,V)},CD({render:f!=null&&f.element?"explicit":e,onLoadCallbackName:J,useEnterprise:i,useRecaptchaNet:a,scriptProps:u,language:h,onLoad:function(){if(window&&window.grecaptcha){var ne=i?window.grecaptcha.enterprise:window.grecaptcha;ne.ready(function(){R(ne)})}else B0("<GoogleRecaptchaProvider /> "+Kp.SCRIPT_NOT_AVAILABLE)}}),function(){kD(Y,f==null?void 0:f.element)}}B0("<GoogleReCaptchaProvider /> recaptcha key not provided")},[i,a,$,L,h,e,f==null?void 0:f.element]);var j=Z.useCallback(function(Y){if(!S||!S.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return S.execute(M.current,{action:Y})},[S,M]),G=Z.useMemo(function(){return{executeRecaptcha:S?j:void 0,container:f==null?void 0:f.element}},[j,S,f==null?void 0:f.element]);return rt.createElement(ug.Provider,{value:G},m)}var xI=function(){return Z.useContext(ug)};function kI(n,e){return n(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var $t=typeof Symbol=="function"&&Symbol.for,Qp=$t?Symbol.for("react.element"):60103,Yp=$t?Symbol.for("react.portal"):60106,Vc=$t?Symbol.for("react.fragment"):60107,Fc=$t?Symbol.for("react.strict_mode"):60108,Uc=$t?Symbol.for("react.profiler"):60114,zc=$t?Symbol.for("react.provider"):60109,$c=$t?Symbol.for("react.context"):60110,Xp=$t?Symbol.for("react.async_mode"):60111,_d=$t?Symbol.for("react.concurrent_mode"):60111,Bc=$t?Symbol.for("react.forward_ref"):60112,qc=$t?Symbol.for("react.suspense"):60113,PD=$t?Symbol.for("react.suspense_list"):60120,Hc=$t?Symbol.for("react.memo"):60115,Wc=$t?Symbol.for("react.lazy"):60116,AD=$t?Symbol.for("react.block"):60121,RD=$t?Symbol.for("react.fundamental"):60117,ND=$t?Symbol.for("react.responder"):60118,OD=$t?Symbol.for("react.scope"):60119;function Vn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Qp:switch(n=n.type){case Xp:case _d:case Vc:case Uc:case Fc:case qc:return n;default:switch(n=n&&n.$$typeof){case $c:case Bc:case Wc:case Hc:case zc:return n;default:return e}}case Yp:return e}}}function q0(n){return Vn(n)===_d}var DD={AsyncMode:Xp,ConcurrentMode:_d,ContextConsumer:$c,ContextProvider:zc,Element:Qp,ForwardRef:Bc,Fragment:Vc,Lazy:Wc,Memo:Hc,Portal:Yp,Profiler:Uc,StrictMode:Fc,Suspense:qc,isAsyncMode:function(n){return q0(n)||Vn(n)===Xp},isConcurrentMode:q0,isContextConsumer:function(n){return Vn(n)===$c},isContextProvider:function(n){return Vn(n)===zc},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Qp},isForwardRef:function(n){return Vn(n)===Bc},isFragment:function(n){return Vn(n)===Vc},isLazy:function(n){return Vn(n)===Wc},isMemo:function(n){return Vn(n)===Hc},isPortal:function(n){return Vn(n)===Yp},isProfiler:function(n){return Vn(n)===Uc},isStrictMode:function(n){return Vn(n)===Fc},isSuspense:function(n){return Vn(n)===qc},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===Vc||n===_d||n===Uc||n===Fc||n===qc||n===PD||typeof n=="object"&&n!==null&&(n.$$typeof===Wc||n.$$typeof===Hc||n.$$typeof===zc||n.$$typeof===$c||n.$$typeof===Bc||n.$$typeof===RD||n.$$typeof===ND||n.$$typeof===OD||n.$$typeof===AD)},typeOf:Vn},nt=kI(function(n,e){}),H0=(nt.AsyncMode,nt.ConcurrentMode,nt.ContextConsumer,nt.ContextProvider,nt.Element,nt.ForwardRef,nt.Fragment,nt.Lazy,nt.Memo,nt.Portal,nt.Profiler,nt.StrictMode,nt.Suspense,nt.isAsyncMode,nt.isConcurrentMode,nt.isContextConsumer,nt.isContextProvider,nt.isElement,nt.isForwardRef,nt.isFragment,nt.isLazy,nt.isMemo,nt.isPortal,nt.isProfiler,nt.isStrictMode,nt.isSuspense,nt.isValidElementType,nt.typeOf,kI(function(n){n.exports=DD})),LD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W0={};W0[H0.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},W0[H0.Memo]=LD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="type.googleapis.com/google.protobuf.Int64Value",jD="type.googleapis.com/google.protobuf.UInt64Value";function CI(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function wd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>wd(e));if(typeof n=="function"||typeof n=="object")return CI(n,e=>wd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function ma(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case MD:case jD:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>ma(e)):typeof n=="function"||typeof n=="object"?CI(n,e=>ma(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Cn extends Bn{constructor(e,t,i){super(`${cg}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,Cn.prototype)}}function VD(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ed(n,e){let t=VD(n),i=t,o;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!G0[u])return new Cn("internal","internal");t=G0[u],i=u}const h=a.message;typeof h=="string"&&(i=h),o=a.details,o!==void 0&&(o=ma(o))}}catch{}return t==="ok"?null:new Cn(t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o==null||o.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="us-central1",UD=/^data: (.*?)(?:\n|$)/;function zD(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new Cn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class $D{constructor(e,t,i,o,a=Jp,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new FD(e,t,i,o),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Jp}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function BD(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function qD(n,e,t){const i=o=>WD(n,e,o,{});return i.stream=(o,a)=>KD(n,e,o,a),i}async function HD(n,e,t,i){t["Content-Type"]="application/json";let o;try{o=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function PI(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function WD(n,e,t,i){const o=n._url(e);return GD(n,o,t,i)}async function GD(n,e,t,i){t=wd(t);const o={data:t},a=await PI(n,i),u=i.timeout||7e4,h=zD(u),f=await Promise.race([HD(e,o,a,n.fetchImpl),h.promise,n.cancelAllRequests]);if(h.cancel(),!f)throw new Cn("cancelled","Firebase Functions instance was deleted.");const m=Ed(f.status,f.json);if(m)throw m;if(!f.json)throw new Cn("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Cn("internal","Response is missing data field.");return{data:ma(v)}}function KD(n,e,t,i){const o=n._url(e);return QD(n,o,t,i||{})}async function QD(n,e,t,i){var o;t=wd(t);const a={data:t},u=await PI(n,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:u,signal:i==null?void 0:i.signal})}catch(M){if(M instanceof Error&&M.name==="AbortError"){const L=new Cn("cancelled","Request was cancelled.");return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}const $=Ed(0,null);return{data:Promise.reject($),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject($)}}}}}}let f,m;const v=new Promise((M,$)=>{f=M,m=$});(o=i==null?void 0:i.signal)===null||o===void 0||o.addEventListener("abort",()=>{const M=new Cn("cancelled","Request was cancelled.");m(M)});const S=h.body.getReader(),R=YD(S,f,m,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const M=R.getReader();return{async next(){const{value:$,done:L}=await M.read();return{value:$,done:L}},async return(){return await M.cancel(),{done:!0,value:void 0}}}}},data:v}}function YD(n,e,t,i){const o=(u,h)=>{const f=u.match(UD);if(!f)return;const m=f[1];try{const v=JSON.parse(m);if("result"in v){e(ma(v.result));return}if("message"in v){h.enqueue(ma(v.message));return}if("error"in v){const S=Ed(0,v);h.error(S),t(S);return}}catch(v){if(v instanceof Cn){h.error(v),t(v);return}}},a=new TextDecoder;return new ReadableStream({start(u){let h="";return f();async function f(){if(i!=null&&i.aborted){const m=new Cn("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:v}=await n.read();if(v){h.trim()&&o(h.trim(),u),u.close();return}if(i!=null&&i.aborted){const R=new Cn("cancelled","Request was cancelled");u.error(R),t(R),await n.cancel();return}h+=a.decode(m,{stream:!0});const S=h.split(`
`);h=S.pop()||"";for(const R of S)R.trim()&&o(R.trim(),u);return f()}catch(m){const v=m instanceof Cn?m:Ed(0,null);u.error(v),t(v)}}},cancel(){return n.cancel()}})}const K0="@firebase/functions",Q0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="auth-internal",JD="app-check-internal",ZD="messaging-internal";function eL(n){const e=(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider(XD),u=t.getProvider(ZD),h=t.getProvider(JD);return new $D(o,a,u,h,i)};er(new $n(cg,e,"PUBLIC").setMultipleInstances(!0)),sn(K0,Q0,n),sn(K0,Q0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n=Wl(),e=Jp){const i=gi(ut(n),cg).getImmediate({identifier:e}),o=nm("functions");return o&&tL(i,...o),i}function tL(n,e,t){BD(ut(n),e,t)}function Pl(n,e,t){return qD(ut(n),e)}eL();const nL="6Le6wP8qAAAAAIV6aM1kbahFnM3jH8Z5ieJ_pGMQ",rL=()=>{const[n,e]=Z.useState(""),[t,i]=Z.useState(""),[o,a]=Z.useState(""),{signIn:u,auth:h}=ao(),f=an(),{executeRecaptcha:m}=xI(),[v,S]=Z.useState(!1),R=async $=>{if($.preventDefault(),a(""),!m){ke.error("Error al cargar reCAPTCHA. Intenta de nuevo.");return}S(!0);try{const L=await m("login");if(!L)throw new Error("No se pudo obtener el token de reCAPTCHA.");console.log("reCAPTCHA Token:",L);const j=Td(Js,"us-central1"),Y=await Pl(j,"loginUserWithRecaptcha")({email:n,password:t,recaptchaToken:L});if(Y.data.success)await u(n,t),ke.success("Inicio de sesión exitoso"),f("/");else throw new Error(Y.data.message||"Error al iniciar sesión")}catch(L){const j=L.message||"Error al iniciar sesión";j.includes("reCAPTCHA")?(a("Error al verificar reCAPTCHA. Intenta de nuevo."),ke.error("Error al verificar reCAPTCHA. Intenta de nuevo.")):j.includes("auth/")?(a("Correo o contraseña incorrectos."),ke.error("Correo o contraseña incorrectos.")):(a(j),ke.error(j))}finally{S(!1)}},M=async()=>{a(""),S(!0);try{const $=new Mr;if((await BT(h,$)).user)ke.success("Inicio de sesión con Google exitoso"),f("/");else throw new Error("No se pudo obtener el usuario de Google.")}catch($){const L=$.message||"Error al iniciar sesión con Google";a(L),ke.error(L)}finally{S(!1)}};return T.jsx("div",{className:"bg-body text-white p-6",children:T.jsxs("div",{className:"container mx-auto max-w-md",children:[T.jsx("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Iniciar Sesión"}),o&&T.jsx("p",{className:"text-red-500 mb-4",children:o}),T.jsxs("form",{onSubmit:R,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Correo Electrónico"}),T.jsx("input",{type:"email",value:n,onChange:$=>e($.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Contraseña"}),T.jsx("input",{type:"password",value:t,onChange:$=>i($.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),T.jsx("button",{type:"submit",disabled:v,className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00] disabled:opacity-50",children:v?"Iniciando...":"Iniciar Sesión"})]}),T.jsx("div",{className:"mt-4",children:T.jsxs("button",{onClick:M,disabled:v,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[T.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:T.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.032,2,12.545,2C6.735,2,2,6.735,2,12.545c0,5.81,4.735,10.545,10.545,10.545c5.81,0,10.545-4.735,10.545-10.545c0-0.641-0.057-1.265-0.163-1.871H12.545z"})}),v?"Iniciando...":"Iniciar Sesión con Google"]})}),T.jsxs("p",{className:"mt-4 text-center",children:["¿No tienes una cuenta?"," ",T.jsx(tn,{to:"/auth/register",className:"text-[#f90] hover:underline",children:"Regístrate"})]})]})})},iL=()=>T.jsx(bI,{reCaptchaKey:nL,children:T.jsx(rL,{})}),sL=()=>{const{currentUser:n}=ao(),e=an(),[t,i]=Z.useState([]),[o,a]=Z.useState({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""});Z.useEffect(()=>{if(!n||n.email!=="admin@example.com"){e("/");return}const m=tr(fn(Rt,"products"),v=>{const S=v.docs.map(R=>({id:R.id,...R.data()}));i(S)});return()=>m()},[n,e]);const u=async m=>{m.preventDefault();try{await Vp(fn(Rt,"products"),{...o,nameLowercase:o.name.toLowerCase()}),a({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""})}catch(v){console.error("Error al añadir producto:",v)}},h=async m=>{try{await Hm(Gs(Rt,"products",m))}catch(v){console.error("Error al eliminar producto:",v)}},f=async(m,v)=>{try{await IA(Gs(Rt,"products",m),{stock:v})}catch(S){console.error("Error al actualizar stock:",S)}};return!n||n.email!=="admin@example.com"?null:T.jsx("div",{className:"p-6  min-h-screen",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h1",{className:"text-3xl font-semibold mb-6",style:{color:"var(--text-color)"},children:"Panel Administrativo"}),T.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-6",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Añadir Nuevo Producto"}),T.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Nombre"}),T.jsx("input",{type:"text",value:o.name,onChange:m=>a({...o,name:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Precio"}),T.jsx("input",{type:"number",value:o.price,onChange:m=>a({...o,price:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Imagen (URL)"}),T.jsx("input",{type:"text",value:o.image,onChange:m=>a({...o,image:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Categoría"}),T.jsx("input",{type:"text",value:o.category,onChange:m=>a({...o,category:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descripción"}),T.jsx("textarea",{value:o.description,onChange:m=>a({...o,description:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"},rows:4})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Descuento (%)"}),T.jsx("input",{type:"number",value:o.discount,onChange:m=>a({...o,discount:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Ventas"}),T.jsx("input",{type:"number",value:o.sales,onChange:m=>a({...o,sales:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Stock"}),T.jsx("input",{type:"number",value:o.stock,onChange:m=>a({...o,stock:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1",style:{color:"var(--text-color)"},children:"Cupón"}),T.jsx("input",{type:"text",value:o.coupon,onChange:m=>a({...o,coupon:m.target.value}),className:"w-full p-2 rounded-md bg-gray-200 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}})]}),T.jsx("div",{className:"md:col-span-2",children:T.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00] w-full",children:"Añadir Producto"})})]})]}),T.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",style:{color:"var(--text-color)"},children:"Gestionar Productos"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(m=>T.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[T.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-full h-40 object-cover rounded-md mb-4"}),T.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-color)"},children:m.name}),T.jsxs("p",{className:"text-md text-[#f90] mb-2",children:["$",m.price]}),T.jsxs("p",{style:{color:"var(--text-color)"},children:["Stock: ",m.stock]}),T.jsxs("div",{className:"flex items-center mt-2 gap-2",children:[T.jsx("input",{type:"number",defaultValue:m.stock,onBlur:v=>f(m.id,Number(v.target.value)),className:"w-20 p-2 rounded-md bg-gray-200 dark:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-[#f90]",style:{color:"var(--text-color)"}}),T.jsx("button",{onClick:()=>h(m.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Eliminar"})]})]},m.id))})]})]})})},oL=()=>{const{search:n}=ya(),e=an(),[t,i]=Z.useState([]),[o,a]=Z.useState(!0),h=new URLSearchParams(n).get("q");return Z.useEffect(()=>{if(!h){e("/");return}a(!0);const f=h.toLowerCase().trim(),m=Ta(fn(Rt,"products"),jm("searchKeywords","array-contains",f)),v=tr(m,S=>{const R=S.docs.map(M=>({id:M.id,...M.data()}));i(R),a(!1)},S=>{console.error("Error fetching search results:",S),a(!1)});return()=>v()},[h,e]),o?T.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):h?T.jsxs("div",{className:"container mx-auto p-6",children:[T.jsxs("h1",{className:"text-3xl font-semibold mb-4",style:{color:"var(--text-color)"},children:["Resultados de búsqueda para: ",h]}),t.length>0?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(f=>T.jsxs("div",{className:"flex flex-col min-h-[400px] p-8 rounded-lg border border-gray-700 bg-white justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-full h-40 object-cover rounded-md mb-4"}),T.jsx("h3",{className:"text-lg font-medium text-black truncate",children:f.name})]}),T.jsxs("div",{className:"mt-auto",children:[T.jsxs("p",{className:"text-2x1 text-button text-black mb-2",children:["$",zn(f.price)," "]}),T.jsx("button",{onClick:()=>e(`/product/${f.id}`),className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Ver detalles"})]})]},f.id))}):T.jsxs("p",{style:{color:"var(--text-color)"},children:['No se encontraron productos para "',h,'".']})]}):T.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"No se proporcionó término de búsqueda"})},aL="6Le6wP8qAAAAAIV6aM1kbahFnM3jH8Z5ieJ_pGMQ",lL=()=>{const{executeRecaptcha:n}=xI(),e=an(),{auth:t}=ao(),[i,o]=Z.useState(""),[a,u]=Z.useState(""),[h,f]=Z.useState(""),[m,v]=Z.useState(!1),S=async M=>{if(M.preventDefault(),!n){ke.error("Error al cargar reCAPTCHA. Intenta de nuevo.");return}v(!0);try{const $=await n("register");if(!$)throw new Error("No se pudo obtener el token de reCAPTCHA.");console.log("reCAPTCHA Token:",$);const L=Td(Js,"us-central1"),G=await Pl(L,"registerUserWithRecaptcha")({email:i,password:a,recaptchaToken:$});if(G.data.success){ke.success("Registro exitoso. ¡Bienvenido!");const J=await Pl(L,"sendWelcomeEmail")({email:i,fullName:h});J.data.success?(console.log("Correo de bienvenida enviado:",J.data.message),ke.info("Se ha enviado un correo de bienvenida.")):(console.error("Error al enviar correo:",J.data.message),ke.error("Registro exitoso, pero falló el envío del correo.")),e("/auth")}else throw new Error(G.data.message||"Error al registrarse")}catch($){const L=$.message||"Error al registrarse";L.includes("reCAPTCHA")?ke.error("Error al verificar reCAPTCHA. Intenta de nuevo."):L.includes("auth/email-already-in-use")?ke.error("El correo ya está registrado. Intenta iniciar sesión."):ke.error(L)}finally{v(!1)}},R=async()=>{v(!0);try{const M=new Mr,L=(await BT(t,M)).user;if(L){const j=Td(Js,"us-central1"),Y=await Pl(j,"sendWelcomeEmail")({email:L.email||"",fullName:L.displayName||"Usuario"});Y.data.success?(console.log("Correo de bienvenida enviado:",Y.data.message),ke.info("Se ha enviado un correo de bienvenida.")):(console.error("Error al enviar correo:",Y.data.message),ke.error("Registro exitoso, pero falló el envío del correo.")),ke.success("Registro con Google exitoso"),e("/")}else throw new Error("No se pudo obtener el usuario de Google.")}catch(M){const $=M.message||"Error al registrarse con Google";ke.error($)}finally{v(!1)}};return T.jsxs("div",{className:"space-y-4 max-w-md mx-auto p-6 rounded-lg shadow-lg",children:[T.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"var(--text-color)"},children:"Registro"}),T.jsxs("form",{onSubmit:S,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Nombre Completo"}),T.jsx("input",{type:"text",id:"fullName",value:h,onChange:M=>f(M.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Email"}),T.jsx("input",{type:"email",id:"email",value:i,onChange:M=>o(M.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"var(--text-color)"},children:"Contraseña"}),T.jsx("input",{type:"password",id:"password",value:a,onChange:M=>u(M.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 focus:ring-[#f90] focus:border-[#f90] bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0})]}),T.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] py-2 px-4 rounded-md hover:bg-[var (--button-bg-hover)] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f90] disabled:bg-gray-400 dark:disabled:bg-gray-600",children:m?"Registrando...":"Registrarse"})]}),T.jsx("div",{className:"mt-4",children:T.jsxs("button",{onClick:R,disabled:m,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[T.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:T.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.032,2,12.545,2C6.735,2,2,6.735,2,12.545c0,5.81,4.735,10.545,10.545,10.545c5.81,0,10.545-4.735,10.545-10.545c0-0.641-0.057-1.265-0.163-1.871H12.545z"})}),m?"Registrando...":"Registrarse con Google"]})}),T.jsxs("p",{className:"text-center text-sm",style:{color:"var(--text-color)"},children:["¿Ya tienes cuenta?"," ",T.jsx("a",{href:"/auth",className:"text-[var(--button-bg)] hover:underline",children:"Inicia sesión"})]})]})},uL=()=>T.jsx(bI,{reCaptchaKey:aL,children:T.jsx("div",{className:"min-h-screen bg-[var(--background-color)] flex items-center justify-center",children:T.jsx(lL,{})})}),AI=Z.createContext(void 0),cL=({children:n})=>{const[e,t]=Z.useState("dark");Z.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;t(o?"dark":"light")},[]),Z.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]);const i=()=>{t(o=>o==="light"?"dark":"light")};return T.jsx(AI.Provider,{value:{theme:e,toggleTheme:i},children:n})},dL=()=>{const n=Z.useContext(AI);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},hL=()=>{const[n,e]=Z.useState(""),[t,i]=Z.useState([]),{cartItems:o}=Wr(),{currentUser:a,signOutUser:u}=ao(),h=an(),[f,m]=Z.useState(!1),{theme:v,toggleTheme:S}=dL(),R=o.reduce((j,G)=>j+G.quantity,0);Z.useEffect(()=>{if(n.length===0){i([]);return}const j=n.toLowerCase().trim();console.log("Buscando término:",j);const G=Ta(fn(Rt,"products"),Um("nameLowercase"),yA(j),vA(j+""),$m(5)),Y=tr(G,J=>{console.log("Snapshot recibido:",J.docs.length);const ne=J.docs.map(V=>({id:V.id,...V.data()}));console.log("Resultados encontrados:",ne),i(ne)},J=>{console.error("Error en la búsqueda:",J),ke.error("Error al buscar productos. Intenta de nuevo.")});return()=>Y()},[n]);const M=j=>{e(j.target.value)},$=j=>{if(j.key==="Enter"){const G=n.toLowerCase().trim();G.length>0&&(console.log("Redirigiendo a /search con término:",G),h(`/search?q=${G}`),e(""),i([]))}},L=async()=>{try{await u(),ke.success("Sesión cerrada exitosamente"),h("/"),m(!1)}catch(j){console.error("Error al cerrar sesión:",j.message),ke.error("Error al cerrar sesión. Intenta de nuevo.")}};return T.jsx("header",{className:"bg-menu p-4 shadow-lg",style:{position:"sticky",top:0,zIndex:1e3,width:"100%"},children:T.jsxs("div",{className:"container mx-auto flex flex-wrap gap-5 items-center",children:[T.jsx("div",{className:"basis-3/24",children:T.jsx(tn,{to:"/",className:"flex-shrink-0",children:T.jsx("img",{src:"https://github.com/carlosarley/ecommercev2/raw/main/src/assets/img/Recurso-1.svg",alt:"Logo",className:"h-10 md:h-12"})})}),T.jsxs("div",{className:"basis-14/24 relative",children:[T.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:M,onKeyDown:$,className:"w-full p-3 rounded-full bg-gray-800 dark:bg-gray-200 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f90] text-base md:text-lg",style:{color:"black"},"aria-label":"Buscar productos"}),t.length>0&&T.jsx("ul",{className:"absolute w-full bg-gray-900 dark:bg-gray-100 border border-gray-700 dark:border-gray-300 mt-2 rounded-lg shadow-lg z-10",style:{color:"black"},children:t.map(j=>T.jsx("li",{className:"p-3 hover:bg-gray-700 dark:hover:bg-gray-200 cursor-pointer",style:{color:"black"},onClick:()=>{h(`/product/${j.id}`),e(""),i([])},children:j.name},j.id))})]}),T.jsx("div",{className:"basis-1/24",children:T.jsx("button",{onClick:S,className:"w-full bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)] text-sm flex items-center justify-center","aria-label":v==="light"?"Cambiar a modo oscuro":"Cambiar a modo claro",children:v==="light"?"🌙":"☀️"})}),T.jsx("div",{className:"basis-1/24",children:a?T.jsx("button",{onClick:L,className:"w-full bg-[var(--button-bg)] text-white px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)] text-sm flex items-center justify-center","aria-label":"Cerrar sesión",children:"Cerrar Sesión"}):T.jsx(tn,{to:"/auth",children:T.jsx("span",{className:"w-full bg-[var(--button-bg)] text-white px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)] text-sm flex items-center justify-center",children:"Iniciar Sesión"})})}),a&&T.jsx("div",{className:"basis-1/24 text-white",children:T.jsx(tn,{to:"/account",children:"Mi Cuenta"})}),!a&&T.jsx("div",{className:"basis-1/24 text-white",children:T.jsx(tn,{to:"/auth/register",children:"Registrarse"})}),T.jsx("div",{className:"basis-1/24",children:T.jsx(tn,{to:"/cart",className:"flex items-center justify-center",children:T.jsxs("span",{className:"bg-orange relative flex items-center justify-center bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]","aria-label":`Carrito con ${R} productos`,children:["🛒",R>0&&T.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:R})]})})}),f&&T.jsxs("div",{className:"md:hidden mt-2 w-full bg-menu p-2 rounded-lg shadow-lg",children:[a&&T.jsx("div",{className:"mb-2",children:T.jsx("span",{style:{color:"black"},children:`Bienvenido, ${a.email}`})}),a&&a.email==="admin@example.com"&&T.jsx(tn,{to:"/admin",className:"block w-full text-center mb-2",children:T.jsx("span",{className:"bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]",children:"Panel Admin"})}),a&&T.jsx(tn,{to:"/account",className:"block w-full text-center mb-2",children:T.jsx("span",{className:"bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]",children:"Mi Cuenta"})}),a&&T.jsx(tn,{to:"/wishlist",className:"block w-full text-center mb-2",children:T.jsx("span",{className:"bg-[var(--button-bg)] text-[var(--button-text)] px-2 py-1 rounded-full hover:bg-[var(--button-bg-hover)]",children:"Lista de Deseados"})})]})]})})},fL=()=>{const[n,e]=Z.useState(!1);return T.jsx("nav",{className:"bg-menu text-white p-4",children:T.jsx("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:T.jsxs("div",{className:"flex items-center w-full justify-between",children:[T.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:()=>e(!n),"aria-label":"Toggle menu",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),T.jsxs("div",{className:`md:flex space-x-6 ${n?"block":"hidden"} md:block`,children:[T.jsx(tn,{to:"/offers",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Ofertas"}),T.jsx(tn,{to:"/categories",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>e(!1),children:"Categorías"})]})]})})})},pL=()=>{const[n,e]=Z.useState(new Date().getFullYear());return Z.useEffect(()=>{e(new Date().getFullYear())},[]),T.jsx("footer",{className:"bg-menu text-white p-8 mt-8",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[T.jsxs("div",{children:[T.jsx(tn,{to:"/",className:"flex-shrink-0 pb",children:T.jsx("img",{src:"https://github.com/carlosarley/ecommercev2/raw/main/src/assets/img/Recurso-1.svg",alt:"Logo",className:"h-10 md:h-12"})}),T.jsx("p",{children:"Tu tienda favorita para componentes de PC y más."})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("a",{href:"/",className:"hover:text-button",children:"Inicio"})}),T.jsx("li",{children:T.jsx("a",{href:"/offers",className:"hover:text-button",children:"Ofertas"})}),T.jsx("li",{children:T.jsx("a",{href:"/categories",className:"hover:text-button",children:"Categorías"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-button",children:"Facebook"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-button",children:"Twitter"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"hover:text-button",children:"Instagram"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),T.jsx("p",{children:"Email: support@ecommercepcparts.com"}),T.jsx("p",{children:"Teléfono: +123 456 7890"})]})]}),T.jsxs("p",{className:"text-center mt-8",children:["© ",n," PC HUB. Todos los derechos reservados."]})]})})},mL=()=>{const{currentUser:n}=ao(),e=an();return Z.useEffect(()=>{n||e("/auth")},[n,e]),n?T.jsx("div",{className:"p-6 min-h-screen",children:T.jsxs("div",{className:"container mx-auto",children:[T.jsx("h1",{className:"text-3xl font-semibold mb-6",style:{color:"var(--text-color)"},children:"Mi Cuenta"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"text-3xl",children:"📦"}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-black",children:"Tus Pedidos"}),T.jsx("p",{className:"text-black",children:"Rastrea, devuelve o compra de nuevo"}),T.jsx(tn,{to:"/orders",className:"text-[#f90] hover:underline mt-2 block",children:"Ver Pedidos"})]})]})}),T.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"text-3xl",children:"❤️"}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-black",children:"Lista de Deseados"}),T.jsx("p",{className:"text-black",children:"Revisa los productos que te interesan"}),T.jsx(tn,{to:"/wishlist",className:"text-[#f90] hover:underline mt-2 block",children:"Ver Lista de Deseados"})]})]})}),T.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"text-3xl",children:"🏠"}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-black",children:"Tus Direcciones"}),T.jsx("p",{className:"text-black",children:"Edita, elimina o establece una dirección predeterminada"}),T.jsx(tn,{to:"/addresses",className:"text-[#f90] hover:underline mt-2 block",children:"Gestionar Direcciones"})]})]})}),T.jsx("div",{className:"bg-white  p-6 rounded-lg shadow-md",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"text-3xl",children:"⚙️"}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-black",children:"Configuración de Cuenta"}),T.jsx("p",{className:"text-black",children:"Edita tu nombre, correo y contraseña"}),T.jsx(tn,{to:"/settings",className:"text-[#f90] hover:underline mt-2 block",children:"Configurar Cuenta"})]})]})})]})]})}):null},gL=()=>{const{cartItems:n}=Wr(),{state:e}=ya(),{total:t=0}=e||{},i=Math.round(t*100),o=async()=>{if(n.length===0){ke.error("El carrito está vacío. Agrega productos antes de pagar.");return}const a=Td(),u=Pl(a,"createWompiTransaction");try{const h=await u({amountInCents:i,customerEmail:"cliente@example.com",customerData:{full_name:"Cliente Ejemplo",email:"cliente@example.com",phone_number:"3001234567",legal_id:"123456789",legal_id_type:"CC"}}),{success:f,transactionId:m,reference:v,redirectUrl:S,error:R}=h.data;f&&m&&v&&S?(ke.success("Transacción creada. Redirigiendo al checkout de Wompi..."),window.location.href=S):(console.error("Error al crear transacción:",R),ke.error("Error al procesar el pago. Intenta de nuevo."))}catch(h){console.error("Error al crear transacción:",h),ke.error("Error al procesar el pago. Intenta de nuevo.")}};return T.jsxs("div",{className:"container mx-auto p-6 min-h-screen",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-color)"},children:"Pago con Wompi"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("p",{className:"text-lg",style:{color:"var(--text-color)"},children:["Total a pagar: $",(t/100).toFixed(2)," COP"]}),T.jsx("button",{onClick:o,className:"bg-[#f90] text-white px-4 py-2 rounded hover:bg-[#e68a00]",children:"Pagar con Wompi"})]})]})},yL=()=>{const{currentUser:n}=ao(),e=an(),[t,i]=Z.useState([]),[o,a]=Z.useState(!0);Z.useEffect(()=>{if(!n){e("/auth");return}const h=fn(Rt,"wishlists",n.uid,"products"),f=tr(h,async m=>{const v=m.docs.map(R=>({id:R.id,...R.data()})),S=await Promise.all(v.map(async R=>{const M=await lT(Gs(Rt,"products",R.productId)),$=M.exists()?{id:M.id,...M.data()}:void 0;return{...R,product:$}}));i(S),a(!1)},m=>{console.error("Error al obtener la lista de deseados:",m),a(!1)});return()=>f()},[n,e]);const u=async h=>{try{await Hm(Gs(Rt,"wishlists",n.uid,"products",h)),ke.success("Producto eliminado de la lista de deseados")}catch(f){console.error("Error al eliminar de la lista de deseados:",f),ke.error("Error al eliminar de la lista de deseados")}};return o?T.jsx("div",{className:"container mx-auto p-6",style:{color:"var(--text-color)"},children:"Cargando..."}):T.jsxs("div",{className:"container mx-auto p-6",children:[T.jsx("h1",{className:"text-3xl font-semibold mb-6",style:{color:"var(--text-color)"},children:"Mi Lista de Deseados"}),t.length>0?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>T.jsx("div",{className:"bg-white  p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-600",children:h.product?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:h.product.image||"/placeholder.jpg",alt:h.product.name,className:"w-full h-40 object-cover rounded-md mb-4"}),T.jsx("h3",{className:"text-lg font-medium text-black",children:h.product.name}),T.jsxs("p",{className:"text-md text-[#f90] mb-2",children:["$",h.product.price]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>e(`/product/${h.productId}`),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00] flex-1",children:"Ver Producto"}),T.jsx("button",{onClick:()=>u(h.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Eliminar"})]})]}):T.jsx("p",{style:{color:"var(--text-color)"},children:"Producto no disponible"})},h.id))}):T.jsx("p",{style:{color:"var(--text-color)"},children:"Tu lista de deseados está vacía."})]})},vL=()=>T.jsx(ID,{children:T.jsx(mD,{children:T.jsxs(qb,{children:[T.jsx(hL,{}),T.jsx(fL,{}),T.jsxs(jb,{children:[T.jsx(Sn,{path:"/",element:T.jsx(wD,{})}),T.jsx(Sn,{path:"/payment",element:T.jsx(gL,{})}),T.jsx(Sn,{path:"/offers",element:T.jsx(ED,{})}),T.jsx(Sn,{path:"/categories",element:T.jsx(TD,{})}),T.jsx(Sn,{path:"/product/:id",element:T.jsx(SD,{})}),T.jsx(Sn,{path:"/wishlist",element:T.jsx(yL,{})}),T.jsx(Sn,{path:"/cart",element:T.jsx(bD,{})}),T.jsx(Sn,{path:"/admin",element:T.jsx(sL,{})}),T.jsx(Sn,{path:"/account",element:T.jsx(mL,{})}),T.jsx(Sn,{path:"/search",element:T.jsx(oL,{})}),T.jsxs(Sn,{path:"/auth",children:[T.jsx(Sn,{index:!0,element:T.jsx(iL,{})}),T.jsx(Sn,{path:"register",element:T.jsx(uL,{})})]})]}),T.jsx(pL,{}),T.jsx(pD,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})})});HS.createRoot(document.getElementById("root")).render(T.jsx(rt.StrictMode,{children:T.jsx(cL,{children:T.jsx(vL,{})})}));
