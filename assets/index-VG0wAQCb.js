(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cC(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var B0={exports:{}},dc={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var W0;function uC(){if(W0)return dc;W0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var p in s)p!=="key"&&(l[p]=s[p])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:l}}return dc.Fragment=e,dc.jsx=t,dc.jsxs=t,dc}var K0;function dC(){return K0||(K0=1,B0.exports=uC()),B0.exports}var R=dC(),Q0={exports:{}},Ve={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Y0;function hC(){if(Y0)return Ve;Y0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,D={};function $(E,V,Y){this.props=E,this.context=V,this.refs=D,this.updater=Y||P}$.prototype.isReactComponent={},$.prototype.setState=function(E,V){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,V,"setState")},$.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function H(){}H.prototype=$.prototype;function B(E,V,Y){this.props=E,this.context=V,this.refs=D,this.updater=Y||P}var X=B.prototype=new H;X.constructor=B,U(X,$.prototype),X.isPureReactComponent=!0;var le=Array.isArray,F={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function N(E,V,Y,J,ne,ce){return Y=ce.ref,{$$typeof:n,type:E,key:V,ref:Y!==void 0?Y:null,props:ce}}function I(E,V){return N(E.type,V,void 0,void 0,void 0,E.props)}function b(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function _(E){var V={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return V[Y]})}var M=/\/+/g;function j(E,V){return typeof E=="object"&&E!==null&&E.key!=null?_(""+E.key):V.toString(36)}function C(){}function se(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(C,C):(E.status="pending",E.then(function(V){E.status==="pending"&&(E.status="fulfilled",E.value=V)},function(V){E.status==="pending"&&(E.status="rejected",E.reason=V)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function pe(E,V,Y,J,ne){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var ye=!1;if(E===null)ye=!0;else switch(ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(E.$$typeof){case n:case e:ye=!0;break;case v:return ye=E._init,pe(ye(E._payload),V,Y,J,ne)}}if(ye)return ne=ne(E),ye=J===""?"."+j(E,0):J,le(ne)?(Y="",ye!=null&&(Y=ye.replace(M,"$&/")+"/"),pe(ne,V,Y,"",function(xe){return xe})):ne!=null&&(b(ne)&&(ne=I(ne,Y+(ne.key==null||E&&E.key===ne.key?"":(""+ne.key).replace(M,"$&/")+"/")+ye)),V.push(ne)),1;ye=0;var Se=J===""?".":J+":";if(le(E))for(var ke=0;ke<E.length;ke++)J=E[ke],ce=Se+j(J,ke),ye+=pe(J,V,Y,ce,ne);else if(ke=A(E),typeof ke=="function")for(E=ke.call(E),ke=0;!(J=E.next()).done;)J=J.value,ce=Se+j(J,ke++),ye+=pe(J,V,Y,ce,ne);else if(ce==="object"){if(typeof E.then=="function")return pe(se(E),V,Y,J,ne);throw V=String(E),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function te(E,V,Y){if(E==null)return E;var J=[],ne=0;return pe(E,J,"","",function(ce){return V.call(Y,ce,ne++)}),J}function T(E){if(E._status===-1){var V=E._result;V=V(),V.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=V)}if(E._status===1)return E._result.default;throw E._result}var ge=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function k(){}return Ve.Children={map:te,forEach:function(E,V,Y){te(E,function(){V.apply(this,arguments)},Y)},count:function(E){var V=0;return te(E,function(){V++}),V},toArray:function(E){return te(E,function(V){return V})||[]},only:function(E){if(!b(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ve.Component=$,Ve.Fragment=t,Ve.Profiler=s,Ve.PureComponent=B,Ve.StrictMode=i,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ve.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.cache=function(E){return function(){return E.apply(null,arguments)}},Ve.cloneElement=function(E,V,Y){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var J=U({},E.props),ne=E.key,ce=void 0;if(V!=null)for(ye in V.ref!==void 0&&(ce=void 0),V.key!==void 0&&(ne=""+V.key),V)!q.call(V,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&V.ref===void 0||(J[ye]=V[ye]);var ye=arguments.length-2;if(ye===1)J.children=Y;else if(1<ye){for(var Se=Array(ye),ke=0;ke<ye;ke++)Se[ke]=arguments[ke+2];J.children=Se}return N(E.type,ne,void 0,void 0,ce,J)},Ve.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},Ve.createElement=function(E,V,Y){var J,ne={},ce=null;if(V!=null)for(J in V.key!==void 0&&(ce=""+V.key),V)q.call(V,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ne[J]=V[J]);var ye=arguments.length-2;if(ye===1)ne.children=Y;else if(1<ye){for(var Se=Array(ye),ke=0;ke<ye;ke++)Se[ke]=arguments[ke+2];ne.children=Se}if(E&&E.defaultProps)for(J in ye=E.defaultProps,ye)ne[J]===void 0&&(ne[J]=ye[J]);return N(E,ce,void 0,void 0,null,ne)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(E){return{$$typeof:p,render:E}},Ve.isValidElement=b,Ve.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:T}},Ve.memo=function(E,V){return{$$typeof:m,type:E,compare:V===void 0?null:V}},Ve.startTransition=function(E){var V=F.T,Y={};F.T=Y;try{var J=E(),ne=F.S;ne!==null&&ne(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(k,ge)}catch(ce){ge(ce)}finally{F.T=V}},Ve.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ve.use=function(E){return F.H.use(E)},Ve.useActionState=function(E,V,Y){return F.H.useActionState(E,V,Y)},Ve.useCallback=function(E,V){return F.H.useCallback(E,V)},Ve.useContext=function(E){return F.H.useContext(E)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(E,V){return F.H.useDeferredValue(E,V)},Ve.useEffect=function(E,V){return F.H.useEffect(E,V)},Ve.useId=function(){return F.H.useId()},Ve.useImperativeHandle=function(E,V,Y){return F.H.useImperativeHandle(E,V,Y)},Ve.useInsertionEffect=function(E,V){return F.H.useInsertionEffect(E,V)},Ve.useLayoutEffect=function(E,V){return F.H.useLayoutEffect(E,V)},Ve.useMemo=function(E,V){return F.H.useMemo(E,V)},Ve.useOptimistic=function(E,V){return F.H.useOptimistic(E,V)},Ve.useReducer=function(E,V,Y){return F.H.useReducer(E,V,Y)},Ve.useRef=function(E){return F.H.useRef(E)},Ve.useState=function(E){return F.H.useState(E)},Ve.useSyncExternalStore=function(E,V,Y){return F.H.useSyncExternalStore(E,V,Y)},Ve.useTransition=function(){return F.H.useTransition()},Ve.version="19.0.0",Ve}var G0;function Kr(){return G0||(G0=1,Q0.exports=hC()),Q0.exports}var Q=Kr();const mt=Rg(Q);var gm={exports:{}},hc={},J0={exports:{}},X0={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Z0;function fC(){return Z0||(Z0=1,function(n){function e(te,T){var ge=te.length;te.push(T);e:for(;0<ge;){var k=ge-1>>>1,E=te[k];if(0<s(E,T))te[k]=T,te[ge]=E,ge=k;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var T=te[0],ge=te.pop();if(ge!==T){te[0]=ge;e:for(var k=0,E=te.length,V=E>>>1;k<V;){var Y=2*(k+1)-1,J=te[Y],ne=Y+1,ce=te[ne];if(0>s(J,ge))ne<E&&0>s(ce,J)?(te[k]=ce,te[ne]=ge,k=ne):(te[k]=J,te[Y]=ge,k=Y);else if(ne<E&&0>s(ce,ge))te[k]=ce,te[ne]=ge,k=ne;else break e}}return T}function s(te,T){var ge=te.sortIndex-T.sortIndex;return ge!==0?ge:te.id-T.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();n.unstable_now=function(){return u.now()-p}}var f=[],m=[],v=1,x=null,A=3,P=!1,U=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(te){for(var T=t(m);T!==null;){if(T.callback===null)i(m);else if(T.startTime<=te)i(m),T.sortIndex=T.expirationTime,e(f,T);else break;T=t(m)}}function le(te){if(D=!1,X(te),!U)if(t(f)!==null)U=!0,se();else{var T=t(m);T!==null&&pe(le,T.startTime-te)}}var F=!1,q=-1,N=5,I=-1;function b(){return!(n.unstable_now()-I<N)}function _(){if(F){var te=n.unstable_now();I=te;var T=!0;try{e:{U=!1,D&&(D=!1,H(q),q=-1),P=!0;var ge=A;try{t:{for(X(te),x=t(f);x!==null&&!(x.expirationTime>te&&b());){var k=x.callback;if(typeof k=="function"){x.callback=null,A=x.priorityLevel;var E=k(x.expirationTime<=te);if(te=n.unstable_now(),typeof E=="function"){x.callback=E,X(te),T=!0;break t}x===t(f)&&i(f),X(te)}else i(f);x=t(f)}if(x!==null)T=!0;else{var V=t(m);V!==null&&pe(le,V.startTime-te),T=!1}}break e}finally{x=null,A=ge,P=!1}T=void 0}}finally{T?M():F=!1}}}var M;if(typeof B=="function")M=function(){B(_)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,C=j.port2;j.port1.onmessage=_,M=function(){C.postMessage(null)}}else M=function(){$(_,0)};function se(){F||(F=!0,M())}function pe(te,T){q=$(function(){te(n.unstable_now())},T)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){U||P||(U=!0,se())},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(te){switch(A){case 1:case 2:case 3:var T=3;break;default:T=A}var ge=A;A=T;try{return te()}finally{A=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,T){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ge=A;A=te;try{return T()}finally{A=ge}},n.unstable_scheduleCallback=function(te,T,ge){var k=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?k+ge:k):ge=k,te){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ge+E,te={id:v++,callback:T,priorityLevel:te,startTime:ge,expirationTime:E,sortIndex:-1},ge>k?(te.sortIndex=ge,e(m,te),t(f)===null&&te===t(m)&&(D?(H(q),q=-1):D=!0,pe(le,ge-k))):(te.sortIndex=E,e(f,te),U||P||(U=!0,se())),te},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(te){var T=A;return function(){var ge=A;A=T;try{return te.apply(this,arguments)}finally{A=ge}}}}(X0)),X0}var ew;function pC(){return ew||(ew=1,J0.exports=fC()),J0.exports}var ym={exports:{}},un={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tw;function mC(){if(tw)return un;tw=1;var n=Kr();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,v)},un.flushSync=function(f){var m=u.T,v=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=m,i.p=v,i.d.f()}},un.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},un.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},un.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,P=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:P}):v==="script"&&i.d.X(f,{crossOrigin:x,integrity:A,fetchPriority:P,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},un.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},un.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin);i.d.L(f,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},un.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=p(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},un.requestFormReset=function(f){i.d.r(f)},un.unstable_batchedUpdates=function(f,m){return f(m)},un.useFormState=function(f,m,v){return u.H.useFormState(f,m,v)},un.useFormStatus=function(){return u.H.useHostTransitionStatus()},un.version="19.0.0",un}var nw;function gC(){if(nw)return ym.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ym.exports=mC(),ym.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var rw;function yC(){if(rw)return hc;rw=1;var n=pC(),e=Kr(),t=gC();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),le=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case f:return"Fragment";case p:return"Portal";case v:return"Profiler";case m:return"StrictMode";case D:return"Suspense";case $:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case P:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case U:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return a=r.displayName||null,a!==null?a:I(r.type)||"Memo";case B:a=r._payload,r=r._init;try{return I(r(a))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=Object.assign,M,j;function C(r){if(M===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);M=a&&a[1]||"",j=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+r+j}var se=!1;function pe(r,a){if(!r||se)return"";se=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var re=oe}Reflect.construct(r,[],me)}else{try{me.call()}catch(oe){re=oe}r.call(me.prototype)}}else{try{throw Error()}catch(oe){re=oe}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],O=g[1];if(S&&O){var z=S.split(`
`),K=O.split(`
`);for(h=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(c===z.length||h===K.length)for(c=z.length-1,h=K.length-1;1<=c&&0<=h&&z[c]!==K[h];)h--;for(;1<=c&&0<=h;c--,h--)if(z[c]!==K[h]){if(c!==1||h!==1)do if(c--,h--,0>h||z[c]!==K[h]){var ue=`
`+z[c].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=c&&0<=h);break}}}finally{se=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?C(o):""}function te(r){switch(r.tag){case 26:case 27:case 5:return C(r.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function T(r){try{var a="";do a+=te(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ge(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function k(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function E(r){if(ge(r)!==r)throw Error(i(188))}function V(r){var a=r.alternate;if(!a){if(a=ge(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,c=a;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return E(h),r;if(g===c)return E(h),a;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=g;else{for(var S=!1,O=h.child;O;){if(O===o){S=!0,o=h,c=g;break}if(O===c){S=!0,c=h,o=g;break}O=O.sibling}if(!S){for(O=g.child;O;){if(O===o){S=!0,o=g,c=h;break}if(O===c){S=!0,c=g,o=h;break}O=O.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function Y(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=Y(r),a!==null)return a;r=r.sibling}return null}var J=Array.isArray,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ye=[],Se=-1;function ke(r){return{current:r}}function xe(r){0>Se||(r.current=ye[Se],ye[Se]=null,Se--)}function _e(r,a){Se++,ye[Se]=r.current,r.current=a}var We=ke(null),Oe=ke(null),Ae=ke(null),Ue=ke(null);function ct(r,a){switch(_e(Ae,a),_e(Oe,r),_e(We,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?w0(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=w0(r),a=S0(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}xe(We),_e(We,a)}function Pe(){xe(We),xe(Oe),xe(Ae)}function dt(r){r.memoizedState!==null&&_e(Ue,r);var a=We.current,o=S0(a,r.type);a!==o&&(_e(Oe,r),_e(We,o))}function gt(r){Oe.current===r&&(xe(We),xe(Oe)),Ue.current===r&&(xe(Ue),sc._currentValue=ce)}var yt=Object.prototype.hasOwnProperty,It=n.unstable_scheduleCallback,Rn=n.unstable_cancelCallback,Ui=n.unstable_shouldYield,Fi=n.unstable_requestPaint,Lt=n.unstable_now,Hs=n.unstable_getCurrentPriorityLevel,st=n.unstable_ImmediatePriority,vt=n.unstable_UserBlockingPriority,ei=n.unstable_NormalPriority,lu=n.unstable_LowPriority,ll=n.unstable_IdlePriority,bf=n.log,Wa=n.unstable_setDisableYieldValue,zi=null,ln=null;function cl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(zi,r,void 0,(r.current.flags&128)===128)}catch{}}function Sr(r){if(typeof bf=="function"&&Wa(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(zi,r)}catch{}}var gn=Math.clz32?Math.clz32:uu,ul=Math.log,cu=Math.LN2;function uu(r){return r>>>=0,r===0?32:31-(ul(r)/cu|0)|0}var kr=128,Vi=4194304;function cr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hn(r,a){var o=r.pendingLanes;if(o===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var O=o&134217727;return O!==0?(o=O&~h,o!==0?c=cr(o):(g&=O,g!==0?c=cr(g):r||(S=O&~S,S!==0&&(c=cr(S))))):(O=o&~h,O!==0?c=cr(O):g!==0?c=cr(g):r||(S=o&~S,S!==0&&(c=cr(S)))),c===0?0:a!==0&&a!==c&&(a&h)===0&&(h=c&-c,S=a&-a,h>=S||h===32&&(S&4194176)!==0)?a:c}function $i(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Bs(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var r=kr;return kr<<=1,(kr&4194176)===0&&(kr=128),r}function qi(){var r=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),r}function Ws(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Nt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function du(r,a,o,c,h,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,z=r.expirationTimes,K=r.hiddenUpdates;for(o=S&~o;0<o;){var ue=31-gn(o),me=1<<ue;O[ue]=0,z[ue]=-1;var re=K[ue];if(re!==null)for(K[ue]=null,ue=0;ue<re.length;ue++){var oe=re[ue];oe!==null&&(oe.lane&=-536870913)}o&=~me}c!==0&&Hi(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~a))}function Hi(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-gn(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194218}function Bi(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var c=31-gn(o),h=1<<c;h&a|r[c]&a&&(r[c]|=a),o&=~h}}function hu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function fu(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:F0(r.type))}function Wi(r,a){var o=ne.p;try{return ne.p=r,a()}finally{ne.p=o}}var Er=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Er,Vt="__reactProps$"+Er,ti="__reactContainer$"+Er,Ka="__reactEvents$"+Er,Ks="__reactListeners$"+Er,_r="__reactHandles$"+Er,hl="__reactResources$"+Er,Ki="__reactMarker$"+Er;function Qa(r){delete r[Wt],delete r[Vt],delete r[Ka],delete r[Ks],delete r[_r]}function ur(r){var a=r[Wt];if(a)return a;for(var o=r.parentNode;o;){if(a=o[ti]||o[Wt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=_0(r);r!==null;){if(o=r[Wt])return o;r=_0(r)}return a}r=o,o=r.parentNode}return null}function ni(r){if(r=r[Wt]||r[ti]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Qi(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Yi(r){var a=r[hl];return a||(a=r[hl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function bt(r){r[Ki]=!0}var fl=new Set,Qs={};function Pn(r,a){_n(r,a),_n(r+"Capture",a)}function _n(r,a){for(Qs[r]=a,r=0;r<a.length;r++)fl.add(a[r])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},ml={};function pu(r){return yt.call(ml,r)?!0:yt.call(pl,r)?!1:wf.test(r)?ml[r]=!0:(pl[r]=!0,!1)}function Gi(r,a,o){if(pu(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Ji(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Bn(r,a,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+c)}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function mu(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Sf(r){var a=mu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ya(r){r._valueTracker||(r._valueTracker=Sf(r))}function gl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return r&&(c=mu(r)?r.checked?"true":"false":r.value),r=c,r!==o?(a.setValue(r),!0):!1}function Ys(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ri=/[\n"\\]/g;function At(r){return r.replace(ri,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Xi(r,a,o,c,h,g,S,O){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?Gs(r,S,yn(a)):o!=null?Gs(r,S,yn(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+yn(O):r.removeAttribute("name")}function Ga(r,a,o,c,h,g,S,O){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+yn(o):"",a=a!=null?""+yn(a):o,O||a===r.value||(r.value=a),r.defaultValue=a}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=O?r.checked:!!c,r.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Gs(r,a,o){a==="number"&&Ys(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ze(r,a,o,c){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+yn(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function Ja(r,a,o){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+yn(o):""}function Zi(r,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(i(92));if(J(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=yn(a),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Wn(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(r,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,o):typeof o!="number"||o===0||kf.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function gu(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in a)c=a[h],a.hasOwnProperty(h)&&o[h]!==c&&yl(r,h,c)}else for(var g in a)a.hasOwnProperty(g)&&yl(r,g,a[g])}function vl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(r){return _f.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Kn=null;function Js(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ii=null,ai=null;function si(r){var a=ni(r);if(a&&(r=a.stateNode)){var o=r[Vt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Xi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+At(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==r&&c.form===r.form){var h=c[Vt]||null;if(!h)throw Error(i(90));Xi(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===r.form&&gl(c)}break e;case"textarea":Ja(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ze(r,!!o.multiple,a,!1)}}}var bl=!1;function yu(r,a,o){if(bl)return r(a,o);bl=!0;try{var c=r(a);return c}finally{if(bl=!1,(ii!==null||ai!==null)&&(ld(),ii&&(a=ii,r=ai,ai=ii=null,si(a),r)))for(a=0;a<r.length;a++)si(r[a])}}function Xa(r,a){var o=r.stateNode;if(o===null)return null;var c=o[Vt]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Qn=!1;if(Ln)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Qn=!1}var xr=null,ea=null,oi=null;function wl(){if(oi)return oi;var r,a=ea,o=a.length,c,h="value"in xr?xr.value:xr.textContent,g=h.length;for(r=0;r<o&&a[r]===h[r];r++);var S=o-r;for(c=1;c<=S&&a[o-c]===h[g-c];c++);return oi=h.slice(r,1<c?1-c:void 0)}function Cr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ir(){return!0}function Sl(){return!1}function Kt(r){function a(o,c,h,g,S){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(g):g[O]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ir:Sl,this.isPropagationStopped=Sl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Kt(it),es=_({},it,{view:0,detail:0}),vu=Kt(es),Zs,eo,Nr,ts=_({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Nr&&(Nr&&r.type==="mousemove"?(Zs=r.screenX-Nr.screenX,eo=r.screenY-Nr.screenY):eo=Zs=0,Nr=r),Zs)},movementY:function(r){return"movementY"in r?r.movementY:eo}}),Yn=Kt(ts),bu=_({},ts,{dataTransfer:0}),Tf=Kt(bu),ns=_({},es,{relatedTarget:0}),to=Kt(ns),kl=_({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),no=Kt(kl),wu=_({},it,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ro=Kt(wu),xf=_({},it,{data:0}),El=Kt(xf),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=ku[r])?!!a[r]:!1}function is(){return _l}var Eu=_({},es,{key:function(r){if(r.key){var a=rs[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Cr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Su[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(r){return r.type==="keypress"?Cr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),io=Kt(Eu),_u=_({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=Kt(_u),li=_({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),Tu=Kt(li),xu=_({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Kt(xu),Iu=_({},ts,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Kt(Iu),vn=_({},it,{newState:0,oldState:0}),Nu=Kt(vn),Au=[9,13,27,32],Ar=Ln&&"CompositionEvent"in window,d=null;Ln&&"documentMode"in document&&(d=document.documentMode);var y=Ln&&"TextEvent"in window&&!d,w=Ln&&(!Ar||d&&8<d&&11>=d),L=" ",Z=!1;function ie(r,a){switch(r){case"keyup":return Au.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var et=!1;function $t(r,a){switch(r){case"compositionend":return ve(a);case"keypress":return a.which!==32?null:(Z=!0,L);case"textInput":return r=a.data,r===L&&Z?null:r;default:return null}}function rt(r,a){if(et)return r==="compositionend"||!Ar&&ie(r,a)?(r=wl(),oi=ea=xr=null,et=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Qt[r.type]:a==="textarea"}function ci(r,a,o,c){ii?ai?ai.push(c):ai=[c]:ii=c,a=fd(a,"onChange"),0<a.length&&(o=new Xs("onChange","change",null,o,c),r.push({event:o,listeners:a}))}var en=null,Or=null;function xl(r){m0(r,0)}function Ou(r){var a=Qi(r);if(gl(a))return r}function Hy(r,a){if(r==="change")return a}var By=!1;if(Ln){var Cf;if(Ln){var If="oninput"in document;if(!If){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),If=typeof Wy.oninput=="function"}Cf=If}else Cf=!1;By=Cf&&(!document.documentMode||9<document.documentMode)}function Ky(){en&&(en.detachEvent("onpropertychange",Qy),Or=en=null)}function Qy(r){if(r.propertyName==="value"&&Ou(Or)){var a=[];ci(a,Or,r,Js(r)),yu(xl,a)}}function Fx(r,a,o){r==="focusin"?(Ky(),en=a,Or=o,en.attachEvent("onpropertychange",Qy)):r==="focusout"&&Ky()}function zx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ou(Or)}function Vx(r,a){if(r==="click")return Ou(a)}function $x(r,a){if(r==="input"||r==="change")return Ou(a)}function qx(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Dn=typeof Object.is=="function"?Object.is:qx;function Cl(r,a){if(Dn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!yt.call(a,h)||!Dn(r[h],a[h]))return!1}return!0}function Yy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gy(r,a){var o=Yy(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=a&&c>=a)return{node:o,offset:a-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yy(o)}}function Jy(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Jy(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Xy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ys(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Ys(r.document)}return a}function Nf(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function Hx(r,a){var o=Xy(a);a=r.focusedElem;var c=r.selectionRange;if(o!==a&&a&&a.ownerDocument&&Jy(a.ownerDocument.documentElement,a)){if(c!==null&&Nf(a)){if(r=c.start,o=c.end,o===void 0&&(o=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(o,a.value.length);else if(o=(r=a.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=a.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!o.extend&&g>c&&(h=c,c=g,g=h),h=Gy(a,g);var S=Gy(a,c);h&&S&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),g>c?(o.addRange(r),o.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),o.addRange(r)))}}for(r=[],o=a;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)o=r[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Bx=Ln&&"documentMode"in document&&11>=document.documentMode,so=null,Af=null,Il=null,Of=!1;function Zy(r,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Of||so==null||so!==Ys(c)||(c=so,"selectionStart"in c&&Nf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Il&&Cl(Il,c)||(Il=c,c=fd(Af,"onSelect"),0<c.length&&(a=new Xs("onSelect","select",null,a,o),r.push({event:a,listeners:c}),a.target=so)))}function as(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var oo={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Rf={},ev={};Ln&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function ss(r){if(Rf[r])return Rf[r];if(!oo[r])return r;var a=oo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in ev)return Rf[r]=a[o];return r}var tv=ss("animationend"),nv=ss("animationiteration"),rv=ss("animationstart"),Wx=ss("transitionrun"),Kx=ss("transitionstart"),Qx=ss("transitioncancel"),iv=ss("transitionend"),av=new Map,sv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function dr(r,a){av.set(r,a),Pn(a,[r])}var Gn=[],lo=0,Pf=0;function Ru(){for(var r=lo,a=Pf=lo=0;a<r;){var o=Gn[a];Gn[a++]=null;var c=Gn[a];Gn[a++]=null;var h=Gn[a];Gn[a++]=null;var g=Gn[a];if(Gn[a++]=null,c!==null&&h!==null){var S=c.pending;S===null?h.next=h:(h.next=S.next,S.next=h),c.pending=h}g!==0&&ov(o,h,g)}}function Pu(r,a,o,c){Gn[lo++]=r,Gn[lo++]=a,Gn[lo++]=o,Gn[lo++]=c,Pf|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Lf(r,a,o,c){return Pu(r,a,o,c),Lu(r)}function ta(r,a){return Pu(r,null,null,a),Lu(r)}function ov(r,a,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;h&&a!==null&&r.tag===3&&(g=r.stateNode,h=31-gn(o),g=g.hiddenUpdates,r=g[h],r===null?g[h]=[a]:r.push(a),a.lane=o|536870912)}function Lu(r){if(50<Zl)throw Zl=0,zp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var co={},lv=new WeakMap;function Jn(r,a){if(typeof r=="object"&&r!==null){var o=lv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:T(a)},lv.set(r,a),a)}return{value:r,source:a,stack:T(a)}}var uo=[],ho=0,Du=null,Mu=0,Xn=[],Zn=0,os=null,ui=1,di="";function ls(r,a){uo[ho++]=Mu,uo[ho++]=Du,Du=r,Mu=a}function cv(r,a,o){Xn[Zn++]=ui,Xn[Zn++]=di,Xn[Zn++]=os,os=r;var c=ui;r=di;var h=32-gn(c)-1;c&=~(1<<h),o+=1;var g=32-gn(a)+h;if(30<g){var S=h-h%5;g=(c&(1<<S)-1).toString(32),c>>=S,h-=S,ui=1<<32-gn(a)+h|o<<h|c,di=g+r}else ui=1<<g|o<<h|c,di=r}function Df(r){r.return!==null&&(ls(r,1),cv(r,1,0))}function Mf(r){for(;r===Du;)Du=uo[--ho],uo[ho]=null,Mu=uo[--ho],uo[ho]=null;for(;r===os;)os=Xn[--Zn],Xn[Zn]=null,di=Xn[--Zn],Xn[Zn]=null,ui=Xn[--Zn],Xn[Zn]=null}var bn=null,tn=null,tt=!1,hr=null,Rr=!1,jf=Error(i(519));function cs(r){var a=Error(i(418,""));throw Ol(Jn(a,r)),jf}function uv(r){var a=r.stateNode,o=r.type,c=r.memoizedProps;switch(a[Wt]=r,a[Vt]=c,o){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(o=0;o<tc.length;o++)Ye(tc[o],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":Ye("invalid",a),Ga(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ya(a);break;case"select":Ye("invalid",a);break;case"textarea":Ye("invalid",a),Zi(a,c.value,c.defaultValue,c.children),Ya(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||b0(a.textContent,o)?(c.popover!=null&&(Ye("beforetoggle",a),Ye("toggle",a)),c.onScroll!=null&&Ye("scroll",a),c.onScrollEnd!=null&&Ye("scrollend",a),c.onClick!=null&&(a.onclick=pd),a=!0):a=!1,a||cs(r)}function dv(r){for(bn=r.return;bn;)switch(bn.tag){case 3:case 27:Rr=!0;return;case 5:case 13:Rr=!1;return;default:bn=bn.return}}function Nl(r){if(r!==bn)return!1;if(!tt)return dv(r),tt=!0,!1;var a=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||rm(r.type,r.memoizedProps)),o=!o),o&&(a=!0),a&&tn&&cs(r),dv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){tn=pr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}tn=null}}else tn=bn?pr(r.stateNode.nextSibling):null;return!0}function Al(){tn=bn=null,tt=!1}function Ol(r){hr===null?hr=[r]:hr.push(r)}var Rl=Error(i(460)),hv=Error(i(474)),Uf={then:function(){}};function fv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ju(){}function pv(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(ju,ju),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Rl?Error(i(483)):r;default:if(typeof a.status=="string")a.then(ju,ju);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=c}},function(c){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Rl?Error(i(483)):r}throw Pl=a,Rl}}var Pl=null;function mv(){if(Pl===null)throw Error(i(459));var r=Pl;return Pl=null,r}var fo=null,Ll=0;function Uu(r){var a=Ll;return Ll+=1,fo===null&&(fo=[]),pv(fo,r,a)}function Dl(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Fu(r,a){throw a.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function gv(r){var a=r._init;return a(r._payload)}function yv(r){function a(G,W){if(r){var ee=G.deletions;ee===null?(G.deletions=[W],G.flags|=16):ee.push(W)}}function o(G,W){if(!r)return null;for(;W!==null;)a(G,W),W=W.sibling;return null}function c(G){for(var W=new Map;G!==null;)G.key!==null?W.set(G.key,G):W.set(G.index,G),G=G.sibling;return W}function h(G,W){return G=fa(G,W),G.index=0,G.sibling=null,G}function g(G,W,ee){return G.index=ee,r?(ee=G.alternate,ee!==null?(ee=ee.index,ee<W?(G.flags|=33554434,W):ee):(G.flags|=33554434,W)):(G.flags|=1048576,W)}function S(G){return r&&G.alternate===null&&(G.flags|=33554434),G}function O(G,W,ee,he){return W===null||W.tag!==6?(W=Rp(ee,G.mode,he),W.return=G,W):(W=h(W,ee),W.return=G,W)}function z(G,W,ee,he){var Te=ee.type;return Te===f?ue(G,W,ee.props.children,he,ee.key):W!==null&&(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===B&&gv(Te)===W.type)?(W=h(W,ee.props),Dl(W,ee),W.return=G,W):(W=rd(ee.type,ee.key,ee.props,null,G.mode,he),Dl(W,ee),W.return=G,W)}function K(G,W,ee,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=Pp(ee,G.mode,he),W.return=G,W):(W=h(W,ee.children||[]),W.return=G,W)}function ue(G,W,ee,he,Te){return W===null||W.tag!==7?(W=bs(ee,G.mode,he,Te),W.return=G,W):(W=h(W,ee),W.return=G,W)}function me(G,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Rp(""+W,G.mode,ee),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case u:return ee=rd(W.type,W.key,W.props,null,G.mode,ee),Dl(ee,W),ee.return=G,ee;case p:return W=Pp(W,G.mode,ee),W.return=G,W;case B:var he=W._init;return W=he(W._payload),me(G,W,ee)}if(J(W)||q(W))return W=bs(W,G.mode,ee,null),W.return=G,W;if(typeof W.then=="function")return me(G,Uu(W),ee);if(W.$$typeof===P)return me(G,ed(G,W),ee);Fu(G,W)}return null}function re(G,W,ee,he){var Te=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Te!==null?null:O(G,W,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return ee.key===Te?z(G,W,ee,he):null;case p:return ee.key===Te?K(G,W,ee,he):null;case B:return Te=ee._init,ee=Te(ee._payload),re(G,W,ee,he)}if(J(ee)||q(ee))return Te!==null?null:ue(G,W,ee,he,null);if(typeof ee.then=="function")return re(G,W,Uu(ee),he);if(ee.$$typeof===P)return re(G,W,ed(G,ee),he);Fu(G,ee)}return null}function oe(G,W,ee,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return G=G.get(ee)||null,O(W,G,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return G=G.get(he.key===null?ee:he.key)||null,z(W,G,he,Te);case p:return G=G.get(he.key===null?ee:he.key)||null,K(W,G,he,Te);case B:var He=he._init;return he=He(he._payload),oe(G,W,ee,he,Te)}if(J(he)||q(he))return G=G.get(ee)||null,ue(W,G,he,Te,null);if(typeof he.then=="function")return oe(G,W,ee,Uu(he),Te);if(he.$$typeof===P)return oe(G,W,ee,ed(W,he),Te);Fu(W,he)}return null}function Ce(G,W,ee,he){for(var Te=null,He=null,Ie=W,Re=W=0,Jt=null;Ie!==null&&Re<ee.length;Re++){Ie.index>Re?(Jt=Ie,Ie=null):Jt=Ie.sibling;var nt=re(G,Ie,ee[Re],he);if(nt===null){Ie===null&&(Ie=Jt);break}r&&Ie&&nt.alternate===null&&a(G,Ie),W=g(nt,W,Re),He===null?Te=nt:He.sibling=nt,He=nt,Ie=Jt}if(Re===ee.length)return o(G,Ie),tt&&ls(G,Re),Te;if(Ie===null){for(;Re<ee.length;Re++)Ie=me(G,ee[Re],he),Ie!==null&&(W=g(Ie,W,Re),He===null?Te=Ie:He.sibling=Ie,He=Ie);return tt&&ls(G,Re),Te}for(Ie=c(Ie);Re<ee.length;Re++)Jt=oe(Ie,G,Re,ee[Re],he),Jt!==null&&(r&&Jt.alternate!==null&&Ie.delete(Jt.key===null?Re:Jt.key),W=g(Jt,W,Re),He===null?Te=Jt:He.sibling=Jt,He=Jt);return r&&Ie.forEach(function(wa){return a(G,wa)}),tt&&ls(G,Re),Te}function Fe(G,W,ee,he){if(ee==null)throw Error(i(151));for(var Te=null,He=null,Ie=W,Re=W=0,Jt=null,nt=ee.next();Ie!==null&&!nt.done;Re++,nt=ee.next()){Ie.index>Re?(Jt=Ie,Ie=null):Jt=Ie.sibling;var wa=re(G,Ie,nt.value,he);if(wa===null){Ie===null&&(Ie=Jt);break}r&&Ie&&wa.alternate===null&&a(G,Ie),W=g(wa,W,Re),He===null?Te=wa:He.sibling=wa,He=wa,Ie=Jt}if(nt.done)return o(G,Ie),tt&&ls(G,Re),Te;if(Ie===null){for(;!nt.done;Re++,nt=ee.next())nt=me(G,nt.value,he),nt!==null&&(W=g(nt,W,Re),He===null?Te=nt:He.sibling=nt,He=nt);return tt&&ls(G,Re),Te}for(Ie=c(Ie);!nt.done;Re++,nt=ee.next())nt=oe(Ie,G,Re,nt.value,he),nt!==null&&(r&&nt.alternate!==null&&Ie.delete(nt.key===null?Re:nt.key),W=g(nt,W,Re),He===null?Te=nt:He.sibling=nt,He=nt);return r&&Ie.forEach(function(lC){return a(G,lC)}),tt&&ls(G,Re),Te}function Ct(G,W,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:e:{for(var Te=ee.key;W!==null;){if(W.key===Te){if(Te=ee.type,Te===f){if(W.tag===7){o(G,W.sibling),he=h(W,ee.props.children),he.return=G,G=he;break e}}else if(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===B&&gv(Te)===W.type){o(G,W.sibling),he=h(W,ee.props),Dl(he,ee),he.return=G,G=he;break e}o(G,W);break}else a(G,W);W=W.sibling}ee.type===f?(he=bs(ee.props.children,G.mode,he,ee.key),he.return=G,G=he):(he=rd(ee.type,ee.key,ee.props,null,G.mode,he),Dl(he,ee),he.return=G,G=he)}return S(G);case p:e:{for(Te=ee.key;W!==null;){if(W.key===Te)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){o(G,W.sibling),he=h(W,ee.children||[]),he.return=G,G=he;break e}else{o(G,W);break}else a(G,W);W=W.sibling}he=Pp(ee,G.mode,he),he.return=G,G=he}return S(G);case B:return Te=ee._init,ee=Te(ee._payload),Ct(G,W,ee,he)}if(J(ee))return Ce(G,W,ee,he);if(q(ee)){if(Te=q(ee),typeof Te!="function")throw Error(i(150));return ee=Te.call(ee),Fe(G,W,ee,he)}if(typeof ee.then=="function")return Ct(G,W,Uu(ee),he);if(ee.$$typeof===P)return Ct(G,W,ed(G,ee),he);Fu(G,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(o(G,W.sibling),he=h(W,ee),he.return=G,G=he):(o(G,W),he=Rp(ee,G.mode,he),he.return=G,G=he),S(G)):o(G,W)}return function(G,W,ee,he){try{Ll=0;var Te=Ct(G,W,ee,he);return fo=null,Te}catch(Ie){if(Ie===Rl)throw Ie;var He=rr(29,Ie,null,G.mode);return He.lanes=he,He.return=G,He}finally{}}}var us=yv(!0),vv=yv(!1),po=ke(null),zu=ke(0);function bv(r,a){r=Ei,_e(zu,r),_e(po,a),Ei=r|a.baseLanes}function Ff(){_e(zu,Ei),_e(po,po.current)}function zf(){Ei=zu.current,xe(po),xe(zu)}var er=ke(null),hi=null;function na(r){var a=r.alternate;_e(qt,qt.current&1),_e(er,r),hi===null&&(a===null||po.current!==null||a.memoizedState!==null)&&(hi=r)}function wv(r){if(r.tag===22){if(_e(qt,qt.current),_e(er,r),hi===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(hi=r)}}else ra()}function ra(){_e(qt,qt.current),_e(er,er.current)}function fi(r){xe(er),hi===r&&(hi=null),xe(qt)}var qt=ke(0);function Vu(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Yx=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},Gx=n.unstable_scheduleCallback,Jx=n.unstable_NormalPriority,Ht={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new Yx,data:new Map,refCount:0}}function Ml(r){r.refCount--,r.refCount===0&&Gx(Jx,function(){r.controller.abort()})}var jl=null,$f=0,mo=0,go=null;function Xx(r,a){if(jl===null){var o=jl=[];$f=0,mo=Qp(),go={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $f++,a.then(Sv,Sv),a}function Sv(){if(--$f===0&&jl!==null){go!==null&&(go.status="fulfilled");var r=jl;jl=null,mo=0,go=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function Zx(r,a){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var kv=b.S;b.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Xx(r,a),kv!==null&&kv(r,a)};var ds=ke(null);function qf(){var r=ds.current;return r!==null?r:ht.pooledCache}function $u(r,a){a===null?_e(ds,ds.current):_e(ds,a.pool)}function Ev(){var r=qf();return r===null?null:{parent:Ht._currentValue,pool:r}}var ia=0,$e=null,ot=null,Dt=null,qu=!1,yo=!1,hs=!1,Hu=0,Ul=0,vo=null,e1=0;function Ot(){throw Error(i(321))}function Hf(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Dn(r[o],a[o]))return!1;return!0}function Bf(r,a,o,c,h,g){return ia=g,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,b.H=r===null||r.memoizedState===null?fs:aa,hs=!1,g=o(c,h),hs=!1,yo&&(g=Tv(a,o,c,h)),_v(r),g}function _v(r){b.H=Pr;var a=ot!==null&&ot.next!==null;if(ia=0,Dt=ot=$e=null,qu=!1,Ul=0,vo=null,a)throw Error(i(300));r===null||Yt||(r=r.dependencies,r!==null&&Zu(r)&&(Yt=!0))}function Tv(r,a,o,c){$e=r;var h=0;do{if(yo&&(vo=null),Ul=0,yo=!1,25<=h)throw Error(i(301));if(h+=1,Dt=ot=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}b.H=ps,g=a(o,c)}while(yo);return g}function t1(){var r=b.H,a=r.useState()[0];return a=typeof a.then=="function"?Fl(a):a,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&($e.flags|=1024),a}function Wf(){var r=Hu!==0;return Hu=0,r}function Kf(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Qf(r){if(qu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}qu=!1}ia=0,Dt=ot=$e=null,yo=!1,Ul=Hu=0,vo=null}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?$e.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Mt(){if(ot===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var a=Dt===null?$e.memoizedState:Dt.next;if(a!==null)Dt=a,ot=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Dt===null?$e.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}var Bu;Bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fl(r){var a=Ul;return Ul+=1,vo===null&&(vo=[]),r=pv(vo,r,a),a=$e,(Dt===null?a.memoizedState:Dt.next)===null&&(a=a.alternate,b.H=a===null||a.memoizedState===null?fs:aa),r}function Wu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fl(r);if(r.$$typeof===P)return cn(r)}throw Error(i(438,String(r)))}function Yf(r){var a=null,o=$e.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=$e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Bu(),$e.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),c=0;c<r;c++)o[c]=le;return a.index++,o}function pi(r,a){return typeof a=="function"?a(r):a}function Ku(r){var a=Mt();return Gf(a,ot,r)}function Gf(r,a,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var S=h.next;h.next=g.next,g.next=S}a.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{a=h.next;var O=S=null,z=null,K=a,ue=!1;do{var me=K.lane&-536870913;if(me!==K.lane?(Je&me)===me:(ia&me)===me){var re=K.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),me===mo&&(ue=!0);else if((ia&re)===re){K=K.next,re===mo&&(ue=!0);continue}else me={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(O=z=me,S=g):z=z.next=me,$e.lanes|=re,pa|=re;me=K.action,hs&&o(g,me),g=K.hasEagerState?K.eagerState:o(g,me)}else re={lane:me,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(O=z=re,S=g):z=z.next=re,$e.lanes|=me,pa|=me;K=K.next}while(K!==null&&K!==a);if(z===null?S=g:z.next=O,!Dn(g,r.memoizedState)&&(Yt=!0,ue&&(o=go,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=z,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Jf(r){var a=Mt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=a.memoizedState;if(h!==null){o.pending=null;var S=h=h.next;do g=r(g,S.action),S=S.next;while(S!==h);Dn(g,a.memoizedState)||(Yt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,c]}function xv(r,a,o){var c=$e,h=Mt(),g=tt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=a();var S=!Dn((ot||h).memoizedState,o);if(S&&(h.memoizedState=o,Yt=!0),h=h.queue,ep(Nv.bind(null,c,h,r),[r]),h.getSnapshot!==a||S||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,bo(9,Iv.bind(null,c,h,o,a),{destroy:void 0},null),ht===null)throw Error(i(349));g||(ia&60)!==0||Cv(c,a,o)}return o}function Cv(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=$e.updateQueue,a===null?(a=Bu(),$e.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function Iv(r,a,o,c){a.value=o,a.getSnapshot=c,Av(a)&&Ov(r)}function Nv(r,a,o){return o(function(){Av(a)&&Ov(r)})}function Av(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Dn(r,o)}catch{return!0}}function Ov(r){var a=ta(r,2);a!==null&&wn(a,r,2)}function Xf(r){var a=Tn();if(typeof r=="function"){var o=r;if(r=o(),hs){Sr(!0);try{o()}finally{Sr(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:r},a}function Rv(r,a,o,c){return r.baseState=o,Gf(r,ot,typeof c=="function"?c:pi)}function n1(r,a,o,c,h){if(Gu(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};b.T!==null?o(!0):g.isTransition=!1,c(g),o=a.pending,o===null?(g.next=a.pending=g,Pv(a,g)):(g.next=o.next,a.pending=o.next=g)}}function Pv(r,a){var o=a.action,c=a.payload,h=r.state;if(a.isTransition){var g=b.T,S={};b.T=S;try{var O=o(h,c),z=b.S;z!==null&&z(S,O),Lv(r,a,O)}catch(K){Zf(r,a,K)}finally{b.T=g}}else try{g=o(h,c),Lv(r,a,g)}catch(K){Zf(r,a,K)}}function Lv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Dv(r,a,c)},function(c){return Zf(r,a,c)}):Dv(r,a,o)}function Dv(r,a,o){a.status="fulfilled",a.value=o,Mv(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,Pv(r,o)))}function Zf(r,a,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,Mv(a),a=a.next;while(a!==c)}r.action=null}function Mv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function jv(r,a){return a}function Uv(r,a){if(tt){var o=ht.formState;if(o!==null){e:{var c=$e;if(tt){if(tn){t:{for(var h=tn,g=Rr;h.nodeType!==8;){if(!g){h=null;break t}if(h=pr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){tn=pr(h.nextSibling),c=h.data==="F!";break e}}cs(c)}c=!1}c&&(a=o[0])}}return o=Tn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jv,lastRenderedState:a},o.queue=c,o=nb.bind(null,$e,c),c.dispatch=o,c=Xf(!1),g=ap.bind(null,$e,!1,c.queue),c=Tn(),h={state:a,dispatch:null,action:r,pending:null},c.queue=h,o=n1.bind(null,$e,h,g,o),h.dispatch=o,c.memoizedState=r,[a,o,!1]}function Fv(r){var a=Mt();return zv(a,ot,r)}function zv(r,a,o){a=Gf(r,a,jv)[0],r=Ku(pi)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Fl(a):a;var c=Mt(),h=c.queue,g=h.dispatch;return o!==c.memoizedState&&($e.flags|=2048,bo(9,r1.bind(null,h,o),{destroy:void 0},null)),[a,g,r]}function r1(r,a){r.action=a}function Vv(r){var a=Mt(),o=ot;if(o!==null)return zv(a,o,r);Mt(),a=a.memoizedState,o=Mt();var c=o.queue.dispatch;return o.memoizedState=r,[a,c,!1]}function bo(r,a,o,c){return r={tag:r,create:a,inst:o,deps:c,next:null},a=$e.updateQueue,a===null&&(a=Bu(),$e.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,a.lastEffect=r),r}function $v(){return Mt().memoizedState}function Qu(r,a,o,c){var h=Tn();$e.flags|=r,h.memoizedState=bo(1|a,o,{destroy:void 0},c===void 0?null:c)}function Yu(r,a,o,c){var h=Mt();c=c===void 0?null:c;var g=h.memoizedState.inst;ot!==null&&c!==null&&Hf(c,ot.memoizedState.deps)?h.memoizedState=bo(a,o,g,c):($e.flags|=r,h.memoizedState=bo(1|a,o,g,c))}function qv(r,a){Qu(8390656,8,r,a)}function ep(r,a){Yu(2048,8,r,a)}function Hv(r,a){return Yu(4,2,r,a)}function Bv(r,a){return Yu(4,4,r,a)}function Wv(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Kv(r,a,o){o=o!=null?o.concat([r]):null,Yu(4,4,Wv.bind(null,a,r),o)}function tp(){}function Qv(r,a){var o=Mt();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Hf(a,c[1])?c[0]:(o.memoizedState=[r,a],r)}function Yv(r,a){var o=Mt();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Hf(a,c[1]))return c[0];if(c=r(),hs){Sr(!0);try{r()}finally{Sr(!1)}}return o.memoizedState=[c,a],c}function np(r,a,o){return o===void 0||(ia&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=Jb(),$e.lanes|=r,pa|=r,o)}function Gv(r,a,o,c){return Dn(o,a)?o:po.current!==null?(r=np(r,o,c),Dn(r,a)||(Yt=!0),r):(ia&42)===0?(Yt=!0,r.memoizedState=o):(r=Jb(),$e.lanes|=r,pa|=r,a)}function Jv(r,a,o,c,h){var g=ne.p;ne.p=g!==0&&8>g?g:8;var S=b.T,O={};b.T=O,ap(r,!1,a,o);try{var z=h(),K=b.S;if(K!==null&&K(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ue=Zx(z,c);zl(r,a,ue,Fn(r))}else zl(r,a,c,Fn(r))}catch(me){zl(r,a,{then:function(){},status:"rejected",reason:me},Fn())}finally{ne.p=g,b.T=S}}function i1(){}function rp(r,a,o,c){if(r.tag!==5)throw Error(i(476));var h=Xv(r).queue;Jv(r,h,a,ce,o===null?i1:function(){return Zv(r),o(c)})}function Xv(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:ce},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Zv(r){var a=Xv(r).next.queue;zl(r,a,{},Fn())}function ip(){return cn(sc)}function eb(){return Mt().memoizedState}function tb(){return Mt().memoizedState}function a1(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=Fn();r=la(o);var c=ca(a,r,o);c!==null&&(wn(c,a,o),ql(c,a,o)),a={cache:Vf()},r.payload=a;return}a=a.return}}function s1(r,a,o){var c=Fn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(r)?rb(a,o):(o=Lf(r,a,o,c),o!==null&&(wn(o,r,c),ib(o,a,c)))}function nb(r,a,o){var c=Fn();zl(r,a,o,c)}function zl(r,a,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gu(r))rb(a,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var S=a.lastRenderedState,O=g(S,o);if(h.hasEagerState=!0,h.eagerState=O,Dn(O,S))return Pu(r,a,h,0),ht===null&&Ru(),!1}catch{}finally{}if(o=Lf(r,a,h,c),o!==null)return wn(o,r,c),ib(o,a,c),!0}return!1}function ap(r,a,o,c){if(c={lane:2,revertLane:Qp(),action:c,hasEagerState:!1,eagerState:null,next:null},Gu(r)){if(a)throw Error(i(479))}else a=Lf(r,o,c,2),a!==null&&wn(a,r,2)}function Gu(r){var a=r.alternate;return r===$e||a!==null&&a===$e}function rb(r,a){yo=qu=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function ib(r,a,o){if((o&4194176)!==0){var c=a.lanes;c&=r.pendingLanes,o|=c,a.lanes=o,Bi(r,o)}}var Pr={readContext:cn,use:Wu,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot};Pr.useCacheRefresh=Ot,Pr.useMemoCache=Ot,Pr.useHostTransitionStatus=Ot,Pr.useFormState=Ot,Pr.useActionState=Ot,Pr.useOptimistic=Ot;var fs={readContext:cn,use:Wu,useCallback:function(r,a){return Tn().memoizedState=[r,a===void 0?null:a],r},useContext:cn,useEffect:qv,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Qu(4194308,4,Wv.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Qu(4194308,4,r,a)},useInsertionEffect:function(r,a){Qu(4,2,r,a)},useMemo:function(r,a){var o=Tn();a=a===void 0?null:a;var c=r();if(hs){Sr(!0);try{r()}finally{Sr(!1)}}return o.memoizedState=[c,a],c},useReducer:function(r,a,o){var c=Tn();if(o!==void 0){var h=o(a);if(hs){Sr(!0);try{o(a)}finally{Sr(!1)}}}else h=a;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=s1.bind(null,$e,r),[c.memoizedState,r]},useRef:function(r){var a=Tn();return r={current:r},a.memoizedState=r},useState:function(r){r=Xf(r);var a=r.queue,o=nb.bind(null,$e,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:tp,useDeferredValue:function(r,a){var o=Tn();return np(o,r,a)},useTransition:function(){var r=Xf(!1);return r=Jv.bind(null,$e,r.queue,!0,!1),Tn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var c=$e,h=Tn();if(tt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),ht===null)throw Error(i(349));(Je&60)!==0||Cv(c,a,o)}h.memoizedState=o;var g={value:o,getSnapshot:a};return h.queue=g,qv(Nv.bind(null,c,g,r),[r]),c.flags|=2048,bo(9,Iv.bind(null,c,g,o,a),{destroy:void 0},null),o},useId:function(){var r=Tn(),a=ht.identifierPrefix;if(tt){var o=di,c=ui;o=(c&~(1<<32-gn(c)-1)).toString(32)+o,a=":"+a+"R"+o,o=Hu++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=e1++,a=":"+a+"r"+o.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return Tn().memoizedState=a1.bind(null,$e)}};fs.useMemoCache=Yf,fs.useHostTransitionStatus=ip,fs.useFormState=Uv,fs.useActionState=Uv,fs.useOptimistic=function(r){var a=Tn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=ap.bind(null,$e,!0,o),o.dispatch=a,[r,a]};var aa={readContext:cn,use:Wu,useCallback:Qv,useContext:cn,useEffect:ep,useImperativeHandle:Kv,useInsertionEffect:Hv,useLayoutEffect:Bv,useMemo:Yv,useReducer:Ku,useRef:$v,useState:function(){return Ku(pi)},useDebugValue:tp,useDeferredValue:function(r,a){var o=Mt();return Gv(o,ot.memoizedState,r,a)},useTransition:function(){var r=Ku(pi)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:Fl(r),a]},useSyncExternalStore:xv,useId:eb};aa.useCacheRefresh=tb,aa.useMemoCache=Yf,aa.useHostTransitionStatus=ip,aa.useFormState=Fv,aa.useActionState=Fv,aa.useOptimistic=function(r,a){var o=Mt();return Rv(o,ot,r,a)};var ps={readContext:cn,use:Wu,useCallback:Qv,useContext:cn,useEffect:ep,useImperativeHandle:Kv,useInsertionEffect:Hv,useLayoutEffect:Bv,useMemo:Yv,useReducer:Jf,useRef:$v,useState:function(){return Jf(pi)},useDebugValue:tp,useDeferredValue:function(r,a){var o=Mt();return ot===null?np(o,r,a):Gv(o,ot.memoizedState,r,a)},useTransition:function(){var r=Jf(pi)[0],a=Mt().memoizedState;return[typeof r=="boolean"?r:Fl(r),a]},useSyncExternalStore:xv,useId:eb};ps.useCacheRefresh=tb,ps.useMemoCache=Yf,ps.useHostTransitionStatus=ip,ps.useFormState=Vv,ps.useActionState=Vv,ps.useOptimistic=function(r,a){var o=Mt();return ot!==null?Rv(o,ot,r,a):(o.baseState=r,[r,o.queue.dispatch])};function sp(r,a,o,c){a=r.memoizedState,o=o(c,a),o=o==null?a:_({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var op={isMounted:function(r){return(r=r._reactInternals)?ge(r)===r:!1},enqueueSetState:function(r,a,o){r=r._reactInternals;var c=Fn(),h=la(c);h.payload=a,o!=null&&(h.callback=o),a=ca(r,h,c),a!==null&&(wn(a,r,c),ql(a,r,c))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var c=Fn(),h=la(c);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=ca(r,h,c),a!==null&&(wn(a,r,c),ql(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Fn(),c=la(o);c.tag=2,a!=null&&(c.callback=a),a=ca(r,c,o),a!==null&&(wn(a,r,o),ql(a,r,o))}};function ab(r,a,o,c,h,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,S):a.prototype&&a.prototype.isPureReactComponent?!Cl(o,c)||!Cl(h,g):!0}function sb(r,a,o,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==r&&op.enqueueReplaceState(a,a.state,null)}function ms(r,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(r=r.defaultProps){o===a&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Ju=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function ob(r){Ju(r)}function lb(r){console.error(r)}function cb(r){Ju(r)}function Xu(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function ub(r,a,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lp(r,a,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){Xu(r,a)},o}function db(r){return r=la(r),r.tag=3,r}function hb(r,a,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){ub(a,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){ub(a,o,c),typeof h!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function o1(r,a,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&$l(a,o,h,!0),o=er.current,o!==null){switch(o.tag){case 13:return hi===null?qp():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Uf?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Bp(r,c,h)),!1;case 22:return o.flags|=65536,c===Uf?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Bp(r,c,h)),!1}throw Error(i(435,o.tag))}return Bp(r,c,h),qp(),!1}if(tt)return a=er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,c!==jf&&(r=Error(i(422),{cause:c}),Ol(Jn(r,o)))):(c!==jf&&(a=Error(i(423),{cause:c}),Ol(Jn(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=Jn(c,o),h=lp(r.stateNode,c,h),Ep(r,h),xt!==4&&(xt=2)),!1;var g=Error(i(520),{cause:c});if(g=Jn(g,o),Jl===null?Jl=[g]:Jl.push(g),xt!==4&&(xt=2),a===null)return!0;c=Jn(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=lp(o.stateNode,c,r),Ep(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ma===null||!ma.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=db(h),hb(h,r,o,c),Ep(o,h),!1}o=o.return}while(o!==null);return!1}var fb=Error(i(461)),Yt=!1;function nn(r,a,o,c){a.child=r===null?vv(a,null,o,c):us(a,r.child,o,c)}function pb(r,a,o,c,h){o=o.render;var g=a.ref;if("ref"in c){var S={};for(var O in c)O!=="ref"&&(S[O]=c[O])}else S=c;return ys(a),c=Bf(r,a,o,S,g,h),O=Wf(),r!==null&&!Yt?(Kf(r,a,h),mi(r,a,h)):(tt&&O&&Df(a),a.flags|=1,nn(r,a,c,h),a.child)}function mb(r,a,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!Op(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,gb(r,a,g,c,h)):(r=rd(o.type,null,c,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!yp(r,h)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Cl,o(S,c)&&r.ref===a.ref)return mi(r,a,h)}return a.flags|=1,r=fa(g,c),r.ref=a.ref,r.return=a,a.child=r}function gb(r,a,o,c,h){if(r!==null){var g=r.memoizedProps;if(Cl(g,c)&&r.ref===a.ref)if(Yt=!1,a.pendingProps=c=g,yp(r,h))(r.flags&131072)!==0&&(Yt=!0);else return a.lanes=r.lanes,mi(r,a,h)}return cp(r,a,o,c,h)}function yb(r,a,o){var c=a.pendingProps,h=c.children,g=(a.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(Vl(r,a),c.mode==="hidden"||g){if((a.flags&128)!==0){if(c=S!==null?S.baseLanes|o:o,r!==null){for(h=a.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return vb(r,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&$u(a,S!==null?S.cachePool:null),S!==null?bv(a,S):Ff(),wv(a);else return a.lanes=a.childLanes=536870912,vb(r,a,S!==null?S.baseLanes|o:o,o)}else S!==null?($u(a,S.cachePool),bv(a,S),ra(),a.memoizedState=null):(r!==null&&$u(a,null),Ff(),ra());return nn(r,a,h,o),a.child}function vb(r,a,o,c){var h=qf();return h=h===null?null:{parent:Ht._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},r!==null&&$u(a,null),Ff(),wv(a),r!==null&&$l(r,a,c,!0),null}function Vl(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=2097664)}}function cp(r,a,o,c,h){return ys(a),o=Bf(r,a,o,c,void 0,h),c=Wf(),r!==null&&!Yt?(Kf(r,a,h),mi(r,a,h)):(tt&&c&&Df(a),a.flags|=1,nn(r,a,o,h),a.child)}function bb(r,a,o,c,h,g){return ys(a),a.updateQueue=null,o=Tv(a,c,o,h),_v(r),c=Wf(),r!==null&&!Yt?(Kf(r,a,g),mi(r,a,g)):(tt&&c&&Df(a),a.flags|=1,nn(r,a,o,g),a.child)}function wb(r,a,o,c,h){if(ys(a),a.stateNode===null){var g=co,S=o.contextType;typeof S=="object"&&S!==null&&(g=cn(S)),g=new o(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=op,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Sp(a),S=o.contextType,g.context=typeof S=="object"&&S!==null?cn(S):co,g.state=a.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(sp(a,o,S,c),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&op.enqueueReplaceState(g,g.state,null),Bl(a,c,g,h),Hl(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){g=a.stateNode;var O=a.memoizedProps,z=ms(o,O);g.props=z;var K=g.context,ue=o.contextType;S=co,typeof ue=="object"&&ue!==null&&(S=cn(ue));var me=o.getDerivedStateFromProps;ue=typeof me=="function"||typeof g.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ue||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(O||K!==S)&&sb(a,g,c,S),oa=!1;var re=a.memoizedState;g.state=re,Bl(a,c,g,h),Hl(),K=a.memoizedState,O||re!==K||oa?(typeof me=="function"&&(sp(a,o,me,c),K=a.memoizedState),(z=oa||ab(a,o,z,c,re,K,S))?(ue||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),g.props=c,g.state=K,g.context=S,c=z):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,kp(r,a),S=a.memoizedProps,ue=ms(o,S),g.props=ue,me=a.pendingProps,re=g.context,K=o.contextType,z=co,typeof K=="object"&&K!==null&&(z=cn(K)),O=o.getDerivedStateFromProps,(K=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==me||re!==z)&&sb(a,g,c,z),oa=!1,re=a.memoizedState,g.state=re,Bl(a,c,g,h),Hl();var oe=a.memoizedState;S!==me||re!==oe||oa||r!==null&&r.dependencies!==null&&Zu(r.dependencies)?(typeof O=="function"&&(sp(a,o,O,c),oe=a.memoizedState),(ue=oa||ab(a,o,ue,c,re,oe,z)||r!==null&&r.dependencies!==null&&Zu(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,oe,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,oe,z)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=oe),g.props=c,g.state=oe,g.context=z,c=ue):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),c=!1)}return g=c,Vl(r,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&c?(a.child=us(a,r.child,null,h),a.child=us(a,null,o,h)):nn(r,a,o,h),a.memoizedState=g.state,r=a.child):r=mi(r,a,h),r}function Sb(r,a,o,c){return Al(),a.flags|=256,nn(r,a,o,c),a.child}var up={dehydrated:null,treeContext:null,retryLane:0};function dp(r){return{baseLanes:r,cachePool:Ev()}}function hp(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=ir),r}function kb(r,a,o){var c=a.pendingProps,h=!1,g=(a.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),S&&(h=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(tt){if(h?na(a):ra(),tt){var O=tn,z;if(z=O){e:{for(z=O,O=Rr;z.nodeType!==8;){if(!O){O=null;break e}if(z=pr(z.nextSibling),z===null){O=null;break e}}O=z}O!==null?(a.memoizedState={dehydrated:O,treeContext:os!==null?{id:ui,overflow:di}:null,retryLane:536870912},z=rr(18,null,null,0),z.stateNode=O,z.return=a,a.child=z,bn=a,tn=null,z=!0):z=!1}z||cs(a)}if(O=a.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return O.data==="$!"?a.lanes=16:a.lanes=536870912,null;fi(a)}return O=c.children,c=c.fallback,h?(ra(),h=a.mode,O=pp({mode:"hidden",children:O},h),c=bs(c,h,o,null),O.return=a,c.return=a,O.sibling=c,a.child=O,h=a.child,h.memoizedState=dp(o),h.childLanes=hp(r,S,o),a.memoizedState=up,c):(na(a),fp(a,O))}if(z=r.memoizedState,z!==null&&(O=z.dehydrated,O!==null)){if(g)a.flags&256?(na(a),a.flags&=-257,a=mp(r,a,o)):a.memoizedState!==null?(ra(),a.child=r.child,a.flags|=128,a=null):(ra(),h=c.fallback,O=a.mode,c=pp({mode:"visible",children:c.children},O),h=bs(h,O,o,null),h.flags|=2,c.return=a,h.return=a,c.sibling=h,a.child=c,us(a,r.child,null,o),c=a.child,c.memoizedState=dp(o),c.childLanes=hp(r,S,o),a.memoizedState=up,a=h);else if(na(a),O.data==="$!"){if(S=O.nextSibling&&O.nextSibling.dataset,S)var K=S.dgst;S=K,c=Error(i(419)),c.stack="",c.digest=S,Ol({value:c,source:null,stack:null}),a=mp(r,a,o)}else if(Yt||$l(r,a,o,!1),S=(o&r.childLanes)!==0,Yt||S){if(S=ht,S!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==z.retryLane)throw z.retryLane=c,ta(r,c),wn(S,r,c),fb}O.data==="$?"||qp(),a=mp(r,a,o)}else O.data==="$?"?(a.flags|=128,a.child=r.child,a=k1.bind(null,r),O._reactRetry=a,a=null):(r=z.treeContext,tn=pr(O.nextSibling),bn=a,tt=!0,hr=null,Rr=!1,r!==null&&(Xn[Zn++]=ui,Xn[Zn++]=di,Xn[Zn++]=os,ui=r.id,di=r.overflow,os=a),a=fp(a,c.children),a.flags|=4096);return a}return h?(ra(),h=c.fallback,O=a.mode,z=r.child,K=z.sibling,c=fa(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&31457280,K!==null?h=fa(K,h):(h=bs(h,O,o,null),h.flags|=2),h.return=a,c.return=a,c.sibling=h,a.child=c,c=h,h=a.child,O=r.child.memoizedState,O===null?O=dp(o):(z=O.cachePool,z!==null?(K=Ht._currentValue,z=z.parent!==K?{parent:K,pool:K}:z):z=Ev(),O={baseLanes:O.baseLanes|o,cachePool:z}),h.memoizedState=O,h.childLanes=hp(r,S,o),a.memoizedState=up,c):(na(a),o=r.child,r=o.sibling,o=fa(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=o,a.memoizedState=null,o)}function fp(r,a){return a=pp({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function pp(r,a){return Qb(r,a,0,null)}function mp(r,a,o){return us(a,r.child,null,o),r=fp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Eb(r,a,o){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),bp(r.return,a,o)}function gp(r,a,o,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=h)}function _b(r,a,o){var c=a.pendingProps,h=c.revealOrder,g=c.tail;if(nn(r,a,c.children,o),c=qt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Eb(r,o,a);else if(r.tag===19)Eb(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(_e(qt,c),h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&Vu(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),gp(a,!1,h,o,g);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&Vu(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}gp(a,!0,o,null,g);break;case"together":gp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function mi(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),pa|=a.lanes,(o&a.childLanes)===0)if(r!==null){if($l(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=fa(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=fa(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function yp(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Zu(r)))}function l1(r,a,o){switch(a.tag){case 3:ct(a,a.stateNode.containerInfo),sa(a,Ht,r.memoizedState.cache),Al();break;case 27:case 5:dt(a);break;case 4:ct(a,a.stateNode.containerInfo);break;case 10:sa(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(na(a),a.flags|=128,null):(o&a.child.childLanes)!==0?kb(r,a,o):(na(a),r=mi(r,a,o),r!==null?r.sibling:null);na(a);break;case 19:var h=(r.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||($l(r,a,o,!1),c=(o&a.childLanes)!==0),h){if(c)return _b(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),_e(qt,qt.current),c)break;return null;case 22:case 23:return a.lanes=0,yb(r,a,o);case 24:sa(a,Ht,r.memoizedState.cache)}return mi(r,a,o)}function Tb(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Yt=!0;else{if(!yp(r,o)&&(a.flags&128)===0)return Yt=!1,l1(r,a,o);Yt=(r.flags&131072)!==0}else Yt=!1,tt&&(a.flags&1048576)!==0&&cv(a,Mu,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var c=a.elementType,h=c._init;if(c=h(c._payload),a.type=c,typeof c=="function")Op(c)?(r=ms(c,r),a.tag=1,a=wb(null,a,c,r,o)):(a.tag=0,a=cp(null,a,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===U){a.tag=11,a=pb(null,a,c,r,o);break e}else if(h===H){a.tag=14,a=mb(null,a,c,r,o);break e}}throw a=I(c)||c,Error(i(306,a,""))}}return a;case 0:return cp(r,a,a.type,a.pendingProps,o);case 1:return c=a.type,h=ms(c,a.pendingProps),wb(r,a,c,h,o);case 3:e:{if(ct(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var g=a.pendingProps;h=a.memoizedState,c=h.element,kp(r,a),Bl(a,g,null,o);var S=a.memoizedState;if(g=S.cache,sa(a,Ht,g),g!==h.cache&&wp(a,[Ht],o,!0),Hl(),g=S.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Sb(r,a,g,o);break e}else if(g!==c){c=Jn(Error(i(424)),a),Ol(c),a=Sb(r,a,g,o);break e}else for(tn=pr(a.stateNode.containerInfo.firstChild),bn=a,tt=!0,hr=null,Rr=!0,o=vv(a,null,g,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Al(),g===c){a=mi(r,a,o);break e}nn(r,a,g,o)}a=a.child}return a;case 26:return Vl(r,a),r===null?(o=I0(a.type,null,a.pendingProps,null))?a.memoizedState=o:tt||(o=a.type,r=a.pendingProps,c=md(Ae.current).createElement(o),c[Wt]=a,c[Vt]=r,rn(c,o,r),bt(c),a.stateNode=c):a.memoizedState=I0(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return dt(a),r===null&&tt&&(c=a.stateNode=T0(a.type,a.pendingProps,Ae.current),bn=a,Rr=!0,tn=pr(c.firstChild)),c=a.pendingProps.children,r!==null||tt?nn(r,a,c,o):a.child=us(a,null,c,o),Vl(r,a),a.child;case 5:return r===null&&tt&&((h=c=tn)&&(c=U1(c,a.type,a.pendingProps,Rr),c!==null?(a.stateNode=c,bn=a,tn=pr(c.firstChild),Rr=!1,h=!0):h=!1),h||cs(a)),dt(a),h=a.type,g=a.pendingProps,S=r!==null?r.memoizedProps:null,c=g.children,rm(h,g)?c=null:S!==null&&rm(h,S)&&(a.flags|=32),a.memoizedState!==null&&(h=Bf(r,a,t1,null,null,o),sc._currentValue=h),Vl(r,a),nn(r,a,c,o),a.child;case 6:return r===null&&tt&&((r=o=tn)&&(o=F1(o,a.pendingProps,Rr),o!==null?(a.stateNode=o,bn=a,tn=null,r=!0):r=!1),r||cs(a)),null;case 13:return kb(r,a,o);case 4:return ct(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=us(a,null,c,o):nn(r,a,c,o),a.child;case 11:return pb(r,a,a.type,a.pendingProps,o);case 7:return nn(r,a,a.pendingProps,o),a.child;case 8:return nn(r,a,a.pendingProps.children,o),a.child;case 12:return nn(r,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,sa(a,a.type,c.value),nn(r,a,c.children,o),a.child;case 9:return h=a.type._context,c=a.pendingProps.children,ys(a),h=cn(h),c=c(h),a.flags|=1,nn(r,a,c,o),a.child;case 14:return mb(r,a,a.type,a.pendingProps,o);case 15:return gb(r,a,a.type,a.pendingProps,o);case 19:return _b(r,a,o);case 22:return yb(r,a,o);case 24:return ys(a),c=cn(Ht),r===null?(h=qf(),h===null&&(h=ht,g=Vf(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),a.memoizedState={parent:c,cache:h},Sp(a),sa(a,Ht,h)):((r.lanes&o)!==0&&(kp(r,a),Bl(a,null,null,o),Hl()),h=r.memoizedState,g=a.memoizedState,h.parent!==c?(h={parent:c,cache:c},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),sa(a,Ht,c)):(c=g.cache,sa(a,Ht,c),c!==h.cache&&wp(a,[Ht],o,!0))),nn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var vp=ke(null),gs=null,gi=null;function sa(r,a,o){_e(vp,a._currentValue),a._currentValue=o}function yi(r){r._currentValue=vp.current,xe(vp)}function bp(r,a,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===o)break;r=r.return}}function wp(r,a,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var S=h.child;g=g.firstContext;e:for(;g!==null;){var O=g;g=h;for(var z=0;z<a.length;z++)if(O.context===a[z]){g.lanes|=o,O=g.alternate,O!==null&&(O.lanes|=o),bp(g.return,o,r),c||(S=null);break e}g=O.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),bp(S,o,r),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===r){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function $l(r,a,o,c){r=null;for(var h=a,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var O=h.type;Dn(h.pendingProps.value,S.value)||(r!==null?r.push(O):r=[O])}}else if(h===Ue.current){if(S=h.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(sc):r=[sc])}h=h.return}r!==null&&wp(a,r,o,c),a.flags|=262144}function Zu(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ys(r){gs=r,gi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cn(r){return xb(gs,r)}function ed(r,a){return gs===null&&ys(r),xb(r,a)}function xb(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},gi===null){if(r===null)throw Error(i(308));gi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else gi=gi.next=a;return o}var oa=!1;function Sp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function la(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ca(r,a,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(St&2)!==0){var h=c.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a,a=Lu(r),ov(r,null,o),a}return Pu(r,c,a,o),Lu(r)}function ql(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194176)!==0)){var c=a.lanes;c&=r.pendingLanes,o|=c,a.lanes=o,Bi(r,o)}}function Ep(r,a){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?h=g=a:g=g.next=a}else h=g=a;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var _p=!1;function Hl(){if(_p){var r=go;if(r!==null)throw r}}function Bl(r,a,o,c){_p=!1;var h=r.updateQueue;oa=!1;var g=h.firstBaseUpdate,S=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var z=O,K=z.next;z.next=null,S===null?g=K:S.next=K,S=z;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==S&&(O===null?ue.firstBaseUpdate=K:O.next=K,ue.lastBaseUpdate=z))}if(g!==null){var me=h.baseState;S=0,ue=K=z=null,O=g;do{var re=O.lane&-536870913,oe=re!==O.lane;if(oe?(Je&re)===re:(c&re)===re){re!==0&&re===mo&&(_p=!0),ue!==null&&(ue=ue.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ce=r,Fe=O;re=a;var Ct=o;switch(Fe.tag){case 1:if(Ce=Fe.payload,typeof Ce=="function"){me=Ce.call(Ct,me,re);break e}me=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Fe.payload,re=typeof Ce=="function"?Ce.call(Ct,me,re):Ce,re==null)break e;me=_({},me,re);break e;case 2:oa=!0}}re=O.callback,re!==null&&(r.flags|=64,oe&&(r.flags|=8192),oe=h.callbacks,oe===null?h.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(K=ue=oe,z=me):ue=ue.next=oe,S|=re;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,h.lastBaseUpdate=oe,h.shared.pending=null}}while(!0);ue===null&&(z=me),h.baseState=z,h.firstBaseUpdate=K,h.lastBaseUpdate=ue,g===null&&(h.shared.lanes=0),pa|=S,r.lanes=S,r.memoizedState=me}}function Cb(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Ib(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Cb(o[r],a)}function Wl(r,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,S=o.inst;c=g(),S.destroy=c}o=o.next}while(o!==h)}}catch(O){ut(a,a.return,O)}}function ua(r,a,o){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var S=c.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,h=a;var z=o;try{O()}catch(K){ut(h,z,K)}}}c=c.next}while(c!==g)}}catch(K){ut(a,a.return,K)}}function Nb(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Ib(a,o)}catch(c){ut(r,r.return,c)}}}function Ab(r,a,o){o.props=ms(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ut(r,a,c)}}function vs(r,a){try{var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=c;break;default:h=c}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(g){ut(r,a,g)}}function Mn(r,a){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){ut(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ut(r,a,h)}else o.current=null}function Ob(r){var a=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){ut(r,r.return,h)}}function Rb(r,a,o){try{var c=r.stateNode;P1(c,r.type,o,a),c[Vt]=a}catch(h){ut(r,r.return,h)}}function Pb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Tp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Pb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xp(r,a,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(r,a):o.insertBefore(r,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(r,o)):(a=o,a.appendChild(r)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=pd));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(xp(r,a,o),r=r.sibling;r!==null;)xp(r,a,o),r=r.sibling}function td(r,a,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(td(r,a,o),r=r.sibling;r!==null;)td(r,a,o),r=r.sibling}var vi=!1,Tt=!1,Cp=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,Gt=null,Db=!1;function c1(r,a){if(r=r.containerInfo,tm=Sd,r=Xy(r),Nf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,O=-1,z=-1,K=0,ue=0,me=r,re=null;t:for(;;){for(var oe;me!==o||h!==0&&me.nodeType!==3||(O=S+h),me!==g||c!==0&&me.nodeType!==3||(z=S+c),me.nodeType===3&&(S+=me.nodeValue.length),(oe=me.firstChild)!==null;)re=me,me=oe;for(;;){if(me===r)break t;if(re===o&&++K===h&&(O=S),re===g&&++ue===c&&(z=S),(oe=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=oe}o=O===-1||z===-1?null:{start:O,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(nm={focusedElem:r,selectionRange:o},Sd=!1,Gt=a;Gt!==null;)if(a=Gt,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Gt=r;else for(;Gt!==null;){switch(a=Gt,g=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ce=ms(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Ce,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Fe){ut(o,o.return,Fe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)sm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":sm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Gt=r;break}Gt=a.return}return Ce=Db,Db=!1,Ce}function Mb(r,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:wi(r,o),c&4&&Wl(5,o);break;case 1:if(wi(r,o),c&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(O){ut(o,o.return,O)}else{var h=ms(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(O){ut(o,o.return,O)}}c&64&&Nb(o),c&512&&vs(o,o.return);break;case 3:if(wi(r,o),c&64&&(c=o.updateQueue,c!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Ib(c,r)}catch(O){ut(o,o.return,O)}}break;case 26:wi(r,o),c&512&&vs(o,o.return);break;case 27:case 5:wi(r,o),a===null&&c&4&&Ob(o),c&512&&vs(o,o.return);break;case 12:wi(r,o);break;case 13:wi(r,o),c&4&&Fb(r,o);break;case 22:if(h=o.memoizedState!==null||vi,!h){a=a!==null&&a.memoizedState!==null||Tt;var g=vi,S=Tt;vi=h,(Tt=a)&&!S?da(r,o,(o.subtreeFlags&8772)!==0):wi(r,o),vi=g,Tt=S}c&512&&(o.memoizedProps.mode==="manual"?vs(o,o.return):Mn(o,o.return));break;default:wi(r,o)}}function jb(r){var a=r.alternate;a!==null&&(r.alternate=null,jb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Qa(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var jt=null,jn=!1;function bi(r,a,o){for(o=o.child;o!==null;)Ub(r,a,o),o=o.sibling}function Ub(r,a,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(zi,o)}catch{}switch(o.tag){case 26:Tt||Mn(o,a),bi(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||Mn(o,a);var c=jt,h=jn;for(jt=o.stateNode,bi(r,a,o),o=o.stateNode,a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Qa(o),jt=c,jn=h;break;case 5:Tt||Mn(o,a);case 6:h=jt;var g=jn;if(jt=null,bi(r,a,o),jt=h,jn=g,jt!==null)if(jn)try{r=jt,c=o.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(S){ut(o,a,S)}else try{jt.removeChild(o.stateNode)}catch(S){ut(o,a,S)}break;case 18:jt!==null&&(jn?(a=jt,o=o.stateNode,a.nodeType===8?am(a.parentNode,o):a.nodeType===1&&am(a,o),uc(a)):am(jt,o.stateNode));break;case 4:c=jt,h=jn,jt=o.stateNode.containerInfo,jn=!0,bi(r,a,o),jt=c,jn=h;break;case 0:case 11:case 14:case 15:Tt||ua(2,o,a),Tt||ua(4,o,a),bi(r,a,o);break;case 1:Tt||(Mn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ab(o,a,c)),bi(r,a,o);break;case 21:bi(r,a,o);break;case 22:Tt||Mn(o,a),Tt=(c=Tt)||o.memoizedState!==null,bi(r,a,o),Tt=c;break;default:bi(r,a,o)}}function Fb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{uc(r)}catch(o){ut(a,a.return,o)}}function u1(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Lb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Lb),a;default:throw Error(i(435,r.tag))}}function Ip(r,a){var o=u1(r);a.forEach(function(c){var h=E1.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function tr(r,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,S=a,O=S;e:for(;O!==null;){switch(O.tag){case 27:case 5:jt=O.stateNode,jn=!1;break e;case 3:jt=O.stateNode.containerInfo,jn=!0;break e;case 4:jt=O.stateNode.containerInfo,jn=!0;break e}O=O.return}if(jt===null)throw Error(i(160));Ub(g,S,h),jt=null,jn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)zb(a,r),a=a.sibling}var fr=null;function zb(r,a){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:tr(a,r),nr(r),c&4&&(ua(3,r,r.return),Wl(3,r),ua(5,r,r.return));break;case 1:tr(a,r),nr(r),c&512&&(Tt||o===null||Mn(o,o.return)),c&64&&vi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=fr;if(tr(a,r),nr(r),c&512&&(Tt||o===null||Mn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Ki]||g[Wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),rn(g,c,o),g[Wt]=r,bt(g),c=g;break e;case"link":var S=O0("link","href",h).get(c+(o.href||""));if(S){for(var O=0;O<S.length;O++)if(g=S[O],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(O,1);break t}}g=h.createElement(c),rn(g,c,o),h.head.appendChild(g);break;case"meta":if(S=O0("meta","content",h).get(c+(o.content||""))){for(O=0;O<S.length;O++)if(g=S[O],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(O,1);break t}}g=h.createElement(c),rn(g,c,o),h.head.appendChild(g);break;default:throw Error(i(468,c))}g[Wt]=r,bt(g),c=g}r.stateNode=c}else R0(h,r.type,r.stateNode);else r.stateNode=A0(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?R0(h,r.type,r.stateNode):A0(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Rb(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){h=r.stateNode,g=r.memoizedProps;try{for(var z=h.firstChild;z;){var K=z.nextSibling,ue=z.nodeName;z[Ki]||ue==="HEAD"||ue==="BODY"||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&z.rel.toLowerCase()==="stylesheet"||h.removeChild(z),z=K}for(var me=r.type,re=h.attributes;re.length;)h.removeAttributeNode(re[0]);rn(h,me,g),h[Wt]=r,h[Vt]=g}catch(Ce){ut(r,r.return,Ce)}}case 5:if(tr(a,r),nr(r),c&512&&(Tt||o===null||Mn(o,o.return)),r.flags&32){h=r.stateNode;try{Wn(h,"")}catch(Ce){ut(r,r.return,Ce)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,Rb(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Cp=!0);break;case 6:if(tr(a,r),nr(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Ce){ut(r,r.return,Ce)}}break;case 3:if(vd=null,h=fr,fr=gd(a.containerInfo),tr(a,r),fr=h,nr(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{uc(a.containerInfo)}catch(Ce){ut(r,r.return,Ce)}Cp&&(Cp=!1,Vb(r));break;case 4:c=fr,fr=gd(r.stateNode.containerInfo),tr(a,r),nr(r),fr=c;break;case 12:tr(a,r),nr(r);break;case 13:tr(a,r),nr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jp=Lt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ip(r,c)));break;case 22:if(c&512&&(Tt||o===null||Mn(o,o.return)),z=r.memoizedState!==null,K=o!==null&&o.memoizedState!==null,ue=vi,me=Tt,vi=ue||z,Tt=me||K,tr(a,r),Tt=me,vi=ue,nr(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=z?a._visibility&-2:a._visibility|1,z&&(a=vi||Tt,o===null||K||a||wo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(o===null){K=o=a;try{if(h=K.stateNode,z)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=K.stateNode,O=K.memoizedProps.style;var oe=O!=null&&O.hasOwnProperty("display")?O.display:null;S.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ce){ut(K,K.return,Ce)}}}else if(a.tag===6){if(o===null){K=a;try{K.stateNode.nodeValue=z?"":K.memoizedProps}catch(Ce){ut(K,K.return,Ce)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ip(r,o))));break;case 19:tr(a,r),nr(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ip(r,c)));break;case 21:break;default:tr(a,r),nr(r)}}function nr(r){var a=r.flags;if(a&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(Pb(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var h=c.stateNode,g=Tp(r);td(r,g,h);break;case 5:var S=c.stateNode;c.flags&32&&(Wn(S,""),c.flags&=-33);var O=Tp(r);td(r,O,S);break;case 3:case 4:var z=c.stateNode.containerInfo,K=Tp(r);xp(r,K,z);break;default:throw Error(i(161))}}}catch(ue){ut(r,r.return,ue)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Vb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Vb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function wi(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Mb(r,a.alternate,a),a=a.sibling}function wo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ua(4,a,a.return),wo(a);break;case 1:Mn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Ab(a,a.return,o),wo(a);break;case 26:case 27:case 5:Mn(a,a.return),wo(a);break;case 22:Mn(a,a.return),a.memoizedState===null&&wo(a);break;default:wo(a)}r=r.sibling}}function da(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,h=r,g=a,S=g.flags;switch(g.tag){case 0:case 11:case 15:da(h,g,o),Wl(4,g);break;case 1:if(da(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){ut(c,c.return,K)}if(c=g,h=c.updateQueue,h!==null){var O=c.stateNode;try{var z=h.shared.hiddenCallbacks;if(z!==null)for(h.shared.hiddenCallbacks=null,h=0;h<z.length;h++)Cb(z[h],O)}catch(K){ut(c,c.return,K)}}o&&S&64&&Nb(g),vs(g,g.return);break;case 26:case 27:case 5:da(h,g,o),o&&c===null&&S&4&&Ob(g),vs(g,g.return);break;case 12:da(h,g,o);break;case 13:da(h,g,o),o&&S&4&&Fb(h,g);break;case 22:g.memoizedState===null&&da(h,g,o),vs(g,g.return);break;default:da(h,g,o)}a=a.sibling}}function Np(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ml(o))}function Ap(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ml(r))}function ha(r,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$b(r,a,o,c),a=a.sibling}function $b(r,a,o,c){var h=a.flags;switch(a.tag){case 0:case 11:case 15:ha(r,a,o,c),h&2048&&Wl(9,a);break;case 3:ha(r,a,o,c),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ml(r)));break;case 12:if(h&2048){ha(r,a,o,c),r=a.stateNode;try{var g=a.memoizedProps,S=g.id,O=g.onPostCommit;typeof O=="function"&&O(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){ut(a,a.return,z)}}else ha(r,a,o,c);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?ha(r,a,o,c):Kl(r,a):g._visibility&4?ha(r,a,o,c):(g._visibility|=4,So(r,a,o,c,(a.subtreeFlags&10256)!==0)),h&2048&&Np(a.alternate,a);break;case 24:ha(r,a,o,c),h&2048&&Ap(a.alternate,a);break;default:ha(r,a,o,c)}}function So(r,a,o,c,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=r,S=a,O=o,z=c,K=S.flags;switch(S.tag){case 0:case 11:case 15:So(g,S,O,z,h),Wl(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&4?So(g,S,O,z,h):Kl(g,S):(ue._visibility|=4,So(g,S,O,z,h)),h&&K&2048&&Np(S.alternate,S);break;case 24:So(g,S,O,z,h),h&&K&2048&&Ap(S.alternate,S);break;default:So(g,S,O,z,h)}a=a.sibling}}function Kl(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,c=a,h=c.flags;switch(c.tag){case 22:Kl(o,c),h&2048&&Np(c.alternate,c);break;case 24:Kl(o,c),h&2048&&Ap(c.alternate,c);break;default:Kl(o,c)}a=a.sibling}}var Ql=8192;function ko(r){if(r.subtreeFlags&Ql)for(r=r.child;r!==null;)qb(r),r=r.sibling}function qb(r){switch(r.tag){case 26:ko(r),r.flags&Ql&&r.memoizedState!==null&&X1(fr,r.memoizedState,r.memoizedProps);break;case 5:ko(r);break;case 3:case 4:var a=fr;fr=gd(r.stateNode.containerInfo),ko(r),fr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Ql,Ql=16777216,ko(r),Ql=a):ko(r));break;default:ko(r)}}function Hb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Yl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Gt=c,Wb(c,r)}Hb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bb(r),r=r.sibling}function Bb(r){switch(r.tag){case 0:case 11:case 15:Yl(r),r.flags&2048&&ua(9,r,r.return);break;case 3:Yl(r);break;case 12:Yl(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,nd(r)):Yl(r);break;default:Yl(r)}}function nd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Gt=c,Wb(c,r)}Hb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ua(8,a,a.return),nd(a);break;case 22:o=a.stateNode,o._visibility&4&&(o._visibility&=-5,nd(a));break;default:nd(a)}r=r.sibling}}function Wb(r,a){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:ua(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Gt=c;else e:for(o=r;Gt!==null;){c=Gt;var h=c.sibling,g=c.return;if(jb(c),c===o){Gt=null;break e}if(h!==null){h.return=g,Gt=h;break e}Gt=g}}}function d1(r,a,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,a,o,c){return new d1(r,a,o,c)}function Op(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fa(r,a){var o=r.alternate;return o===null?(o=rr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Kb(r,a){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function rd(r,a,o,c,h,g){var S=0;if(c=r,typeof r=="function")Op(r)&&(S=1);else if(typeof r=="string")S=G1(r,o,We.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case f:return bs(o.children,h,g,a);case m:S=8,h|=24;break;case v:return r=rr(12,o,a,h|2),r.elementType=v,r.lanes=g,r;case D:return r=rr(13,o,a,h),r.elementType=D,r.lanes=g,r;case $:return r=rr(19,o,a,h),r.elementType=$,r.lanes=g,r;case X:return Qb(o,h,g,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case P:S=10;break e;case A:S=9;break e;case U:S=11;break e;case H:S=14;break e;case B:S=16,c=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=rr(S,o,a,h),a.elementType=r,a.type=c,a.lanes=g,a}function bs(r,a,o,c){return r=rr(7,r,c,a),r.lanes=o,r}function Qb(r,a,o,c){r=rr(22,r,c,a),r.elementType=X,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(i(456));if((h._pendingVisibility&2)===0){var S=ta(g,2);S!==null&&(h._pendingVisibility|=2,wn(S,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(i(456));if((h._pendingVisibility&2)!==0){var S=ta(g,2);S!==null&&(h._pendingVisibility&=-3,wn(S,g,2))}}};return r.stateNode=h,r}function Rp(r,a,o){return r=rr(6,r,null,a),r.lanes=o,r}function Pp(r,a,o){return a=rr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Si(r){r.flags|=4}function Yb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!P0(a)){if(a=er.current,a!==null&&((Je&4194176)===Je?hi!==null:(Je&62914560)!==Je&&(Je&536870912)===0||a!==hi))throw Pl=Uf,hv;r.flags|=8192}}function id(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?qi():536870912,r.lanes|=a,_o|=a)}function Gl(r,a){if(!tt)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function wt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&31457280,c|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,a}function h1(r,a,o){var c=a.pendingProps;switch(Mf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(a),null;case 1:return wt(a),null;case 3:return o=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),yi(Ht),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Nl(a)?Si(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,hr!==null&&(Vp(hr),hr=null))),wt(a),null;case 26:return o=a.memoizedState,r===null?(Si(a),o!==null?(wt(a),Yb(a,o)):(wt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Si(a),wt(a),Yb(a,o)):(wt(a),a.flags&=-16777217):(r.memoizedProps!==c&&Si(a),wt(a),a.flags&=-16777217),null;case 27:gt(a),o=Ae.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Si(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return wt(a),null}r=We.current,Nl(a)?uv(a):(r=T0(h,c,o),a.stateNode=r,Si(a))}return wt(a),null;case 5:if(gt(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Si(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return wt(a),null}if(r=We.current,Nl(a))uv(a);else{switch(h=md(Ae.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[Wt]=a,r[Vt]=c;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(rn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(a)}}return wt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Si(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ae.current,Nl(a)){if(r=a.stateNode,o=a.memoizedProps,c=null,h=bn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Wt]=a,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||b0(r.nodeValue,o)),r||cs(a)}else r=md(r).createTextNode(c),r[Wt]=a,a.stateNode=r}return wt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Nl(a),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Wt]=a}else Al(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wt(a),h=!1}else hr!==null&&(Vp(hr),hr=null),h=!0;if(!h)return a.flags&256?(fi(a),a):(fi(a),null)}if(fi(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=a.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),id(a,a.updateQueue),wt(a),null;case 4:return Pe(),r===null&&Xp(a.stateNode.containerInfo),wt(a),null;case 10:return yi(a.type),wt(a),null;case 19:if(xe(qt),h=a.memoizedState,h===null)return wt(a),null;if(c=(a.flags&128)!==0,g=h.rendering,g===null)if(c)Gl(h,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=Vu(r),g!==null){for(a.flags|=128,Gl(h,!1),r=g.updateQueue,a.updateQueue=r,id(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Kb(o,r),o=o.sibling;return _e(qt,qt.current&1|2),a.child}r=r.sibling}h.tail!==null&&Lt()>ad&&(a.flags|=128,c=!0,Gl(h,!1),a.lanes=4194304)}else{if(!c)if(r=Vu(g),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,id(a,r),Gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!tt)return wt(a),null}else 2*Lt()-h.renderingStartTime>ad&&o!==536870912&&(a.flags|=128,c=!0,Gl(h,!1),a.lanes=4194304);h.isBackwards?(g.sibling=a.child,a.child=g):(r=h.last,r!==null?r.sibling=g:a.child=g,h.last=g)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Lt(),a.sibling=null,r=qt.current,_e(qt,c?r&1|2:r&1),a):(wt(a),null);case 22:case 23:return fi(a),zf(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(wt(a),a.subtreeFlags&6&&(a.flags|=8192)):wt(a),o=a.updateQueue,o!==null&&id(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),r!==null&&xe(ds),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),yi(Ht),wt(a),null;case 25:return null}throw Error(i(156,a.tag))}function f1(r,a){switch(Mf(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return yi(Ht),Pe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return gt(a),null;case 13:if(fi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Al()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return xe(qt),null;case 4:return Pe(),null;case 10:return yi(a.type),null;case 22:case 23:return fi(a),zf(),r!==null&&xe(ds),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return yi(Ht),null;case 25:return null;default:return null}}function Gb(r,a){switch(Mf(a),a.tag){case 3:yi(Ht),Pe();break;case 26:case 27:case 5:gt(a);break;case 4:Pe();break;case 13:fi(a);break;case 19:xe(qt);break;case 10:yi(a.type);break;case 22:case 23:fi(a),zf(),r!==null&&xe(ds);break;case 24:yi(Ht)}}var p1={getCacheForType:function(r){var a=cn(Ht),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},m1=typeof WeakMap=="function"?WeakMap:Map,St=0,ht=null,Be=null,Je=0,ft=0,Un=null,ki=!1,Eo=!1,Lp=!1,Ei=0,xt=0,pa=0,ws=0,Dp=0,ir=0,_o=0,Jl=null,Lr=null,Mp=!1,jp=0,ad=1/0,sd=null,ma=null,od=!1,Ss=null,Xl=0,Up=0,Fp=null,Zl=0,zp=null;function Fn(){if((St&2)!==0&&Je!==0)return Je&-Je;if(b.T!==null){var r=mo;return r!==0?r:Qp()}return fu()}function Jb(){ir===0&&(ir=(Je&536870912)===0||tt?dl():536870912);var r=er.current;return r!==null&&(r.flags|=32),ir}function wn(r,a,o){(r===ht&&ft===2||r.cancelPendingCommit!==null)&&(To(r,0),_i(r,Je,ir,!1)),Nt(r,o),((St&2)===0||r!==ht)&&(r===ht&&((St&2)===0&&(ws|=o),xt===4&&_i(r,Je,ir,!1)),Dr(r))}function Xb(r,a,o){if((St&6)!==0)throw Error(i(327));var c=!o&&(a&60)===0&&(a&r.expiredLanes)===0||$i(r,a),h=c?v1(r,a):Hp(r,a,!0),g=c;do{if(h===0){Eo&&!c&&_i(r,a,0,!1);break}else if(h===6)_i(r,a,0,!ki);else{if(o=r.current.alternate,g&&!g1(o)){h=Hp(r,a,!1),g=!1;continue}if(h===2){if(g=a,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var O=r;h=Jl;var z=O.current.memoizedState.isDehydrated;if(z&&(To(O,S).flags|=256),S=Hp(O,S,!1),S!==2){if(Lp&&!z){O.errorRecoveryDisabledLanes|=g,ws|=g,h=4;break e}g=Lr,Lr=h,g!==null&&Vp(g)}h=S}if(g=!1,h!==2)continue}}if(h===1){To(r,0),_i(r,a,0,!0);break}e:{switch(c=r,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){_i(c,a,ir,!ki);break e}break;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=a,(a&62914560)===a&&(g=jp+300-Lt(),10<g)){if(_i(c,a,ir,!ki),Hn(c,0)!==0)break e;c.timeoutHandle=k0(Zb.bind(null,c,o,Lr,sd,Mp,a,ir,ws,_o,ki,2,-0,0),g);break e}Zb(c,o,Lr,sd,Mp,a,ir,ws,_o,ki,0,-0,0)}}break}while(!0);Dr(r)}function Vp(r){Lr===null?Lr=r:Lr.push.apply(Lr,r)}function Zb(r,a,o,c,h,g,S,O,z,K,ue,me,re){var oe=a.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(ac={stylesheets:null,count:0,unsuspend:J1},qb(a),a=Z1(),a!==null)){r.cancelPendingCommit=a(s0.bind(null,r,o,c,h,S,O,z,1,me,re)),_i(r,g,S,!K);return}s0(r,o,c,h,S,O,z,ue,me,re)}function g1(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!Dn(g(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _i(r,a,o,c){a&=~Dp,a&=~ws,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var h=a;0<h;){var g=31-gn(h),S=1<<g;c[g]=-1,h&=~S}o!==0&&Hi(r,o,a)}function ld(){return(St&6)===0?(ec(0),!1):!0}function $p(){if(Be!==null){if(ft===0)var r=Be.return;else r=Be,gi=gs=null,Qf(r),fo=null,Ll=0,r=Be;for(;r!==null;)Gb(r.alternate,r),r=r.return;Be=null}}function To(r,a){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,D1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),$p(),ht=r,Be=o=fa(r.current,null),Je=a,ft=0,Un=null,ki=!1,Eo=$i(r,a),Lp=!1,_o=ir=Dp=ws=pa=xt=0,Lr=Jl=null,Mp=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var h=31-gn(c),g=1<<h;a|=r[h],c&=~g}return Ei=a,Ru(),o}function e0(r,a){$e=null,b.H=Pr,a===Rl?(a=mv(),ft=3):a===hv?(a=mv(),ft=4):ft=a===fb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Un=a,Be===null&&(xt=1,Xu(r,Jn(a,r.current)))}function t0(){var r=b.H;return b.H=Pr,r===null?Pr:r}function n0(){var r=b.A;return b.A=p1,r}function qp(){xt=4,ki||(Je&4194176)!==Je&&er.current!==null||(Eo=!0),(pa&134217727)===0&&(ws&134217727)===0||ht===null||_i(ht,Je,ir,!1)}function Hp(r,a,o){var c=St;St|=2;var h=t0(),g=n0();(ht!==r||Je!==a)&&(sd=null,To(r,a)),a=!1;var S=xt;e:do try{if(ft!==0&&Be!==null){var O=Be,z=Un;switch(ft){case 8:$p(),S=6;break e;case 3:case 2:case 6:er.current===null&&(a=!0);var K=ft;if(ft=0,Un=null,xo(r,O,z,K),o&&Eo){S=0;break e}break;default:K=ft,ft=0,Un=null,xo(r,O,z,K)}}y1(),S=xt;break}catch(ue){e0(r,ue)}while(!0);return a&&r.shellSuspendCounter++,gi=gs=null,St=c,b.H=h,b.A=g,Be===null&&(ht=null,Je=0,Ru()),S}function y1(){for(;Be!==null;)r0(Be)}function v1(r,a){var o=St;St|=2;var c=t0(),h=n0();ht!==r||Je!==a?(sd=null,ad=Lt()+500,To(r,a)):Eo=$i(r,a);e:do try{if(ft!==0&&Be!==null){a=Be;var g=Un;t:switch(ft){case 1:ft=0,Un=null,xo(r,a,g,1);break;case 2:if(fv(g)){ft=0,Un=null,i0(a);break}a=function(){ft===2&&ht===r&&(ft=7),Dr(r)},g.then(a,a);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:fv(g)?(ft=0,Un=null,i0(a)):(ft=0,Un=null,xo(r,a,g,7));break;case 5:var S=null;switch(Be.tag){case 26:S=Be.memoizedState;case 5:case 27:var O=Be;if(!S||P0(S)){ft=0,Un=null;var z=O.sibling;if(z!==null)Be=z;else{var K=O.return;K!==null?(Be=K,cd(K)):Be=null}break t}}ft=0,Un=null,xo(r,a,g,5);break;case 6:ft=0,Un=null,xo(r,a,g,6);break;case 8:$p(),xt=6;break e;default:throw Error(i(462))}}b1();break}catch(ue){e0(r,ue)}while(!0);return gi=gs=null,b.H=c,b.A=h,St=o,Be!==null?0:(ht=null,Je=0,Ru(),xt)}function b1(){for(;Be!==null&&!Ui();)r0(Be)}function r0(r){var a=Tb(r.alternate,r,Ei);r.memoizedProps=r.pendingProps,a===null?cd(r):Be=a}function i0(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=bb(o,a,a.pendingProps,a.type,void 0,Je);break;case 11:a=bb(o,a,a.pendingProps,a.type.render,a.ref,Je);break;case 5:Qf(a);default:Gb(o,a),a=Be=Kb(a,Ei),a=Tb(o,a,Ei)}r.memoizedProps=r.pendingProps,a===null?cd(r):Be=a}function xo(r,a,o,c){gi=gs=null,Qf(a),fo=null,Ll=0;var h=a.return;try{if(o1(r,h,a,o,Je)){xt=1,Xu(r,Jn(o,r.current)),Be=null;return}}catch(g){if(h!==null)throw Be=h,g;xt=1,Xu(r,Jn(o,r.current)),Be=null;return}a.flags&32768?(tt||c===1?r=!0:Eo||(Je&536870912)!==0?r=!1:(ki=r=!0,(c===2||c===3||c===6)&&(c=er.current,c!==null&&c.tag===13&&(c.flags|=16384))),a0(a,r)):cd(a)}function cd(r){var a=r;do{if((a.flags&32768)!==0){a0(a,ki);return}r=a.return;var o=h1(a.alternate,a,Ei);if(o!==null){Be=o;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=r}while(a!==null);xt===0&&(xt=5)}function a0(r,a){do{var o=f1(r.alternate,r);if(o!==null){o.flags&=32767,Be=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Be=r;return}Be=r=o}while(r!==null);xt=6,Be=null}function s0(r,a,o,c,h,g,S,O,z,K){var ue=b.T,me=ne.p;try{ne.p=2,b.T=null,w1(r,a,o,c,me,h,g,S,O,z,K)}finally{b.T=ue,ne.p=me}}function w1(r,a,o,c,h,g,S,O){do Co();while(Ss!==null);if((St&6)!==0)throw Error(i(327));var z=r.finishedWork;if(c=r.finishedLanes,z===null)return null;if(r.finishedWork=null,r.finishedLanes=0,z===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var K=z.lanes|z.childLanes;if(K|=Pf,du(r,c,K,g,S,O),r===ht&&(Be=ht=null,Je=0),(z.subtreeFlags&10256)===0&&(z.flags&10256)===0||od||(od=!0,Up=K,Fp=o,_1(ei,function(){return Co(),null})),o=(z.flags&15990)!==0,(z.subtreeFlags&15990)!==0||o?(o=b.T,b.T=null,g=ne.p,ne.p=2,S=St,St|=4,c1(r,z),zb(z,r),Hx(nm,r.containerInfo),Sd=!!tm,nm=tm=null,r.current=z,Mb(r,z.alternate,z),Fi(),St=S,ne.p=g,b.T=o):r.current=z,od?(od=!1,Ss=r,Xl=c):o0(r,K),K=r.pendingLanes,K===0&&(ma=null),cl(z.stateNode),Dr(r),a!==null)for(h=r.onRecoverableError,z=0;z<a.length;z++)K=a[z],h(K.value,{componentStack:K.stack});return(Xl&3)!==0&&Co(),K=r.pendingLanes,(c&4194218)!==0&&(K&42)!==0?r===zp?Zl++:(Zl=0,zp=r):Zl=0,ec(0),null}function o0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Ml(a)))}function Co(){if(Ss!==null){var r=Ss,a=Up;Up=0;var o=hu(Xl),c=b.T,h=ne.p;try{if(ne.p=32>o?32:o,b.T=null,Ss===null)var g=!1;else{o=Fp,Fp=null;var S=Ss,O=Xl;if(Ss=null,Xl=0,(St&6)!==0)throw Error(i(331));var z=St;if(St|=4,Bb(S.current),$b(S,S.current,O,o),St=z,ec(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(zi,S)}catch{}g=!0}return g}finally{ne.p=h,b.T=c,o0(r,a)}}return!1}function l0(r,a,o){a=Jn(o,a),a=lp(r.stateNode,a,2),r=ca(r,a,2),r!==null&&(Nt(r,2),Dr(r))}function ut(r,a,o){if(r.tag===3)l0(r,r,o);else for(;a!==null;){if(a.tag===3){l0(a,r,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ma===null||!ma.has(c))){r=Jn(o,r),o=db(2),c=ca(a,o,2),c!==null&&(hb(o,c,a,r),Nt(c,2),Dr(c));break}}a=a.return}}function Bp(r,a,o){var c=r.pingCache;if(c===null){c=r.pingCache=new m1;var h=new Set;c.set(a,h)}else h=c.get(a),h===void 0&&(h=new Set,c.set(a,h));h.has(o)||(Lp=!0,h.add(o),r=S1.bind(null,r,a,o),a.then(r,r))}function S1(r,a,o){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(Je&o)===o&&(xt===4||xt===3&&(Je&62914560)===Je&&300>Lt()-jp?(St&2)===0&&To(r,0):Dp|=o,_o===Je&&(_o=0)),Dr(r)}function c0(r,a){a===0&&(a=qi()),r=ta(r,a),r!==null&&(Nt(r,a),Dr(r))}function k1(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),c0(r,o)}function E1(r,a){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),c0(r,o)}function _1(r,a){return It(r,a)}var ud=null,Io=null,Wp=!1,dd=!1,Kp=!1,ks=0;function Dr(r){r!==Io&&r.next===null&&(Io===null?ud=Io=r:Io=Io.next=r),dd=!0,Wp||(Wp=!0,x1(T1))}function ec(r,a){if(!Kp&&dd){Kp=!0;do for(var o=!1,c=ud;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var S=c.suspendedLanes,O=c.pingedLanes;g=(1<<31-gn(42|r)+1)-1,g&=h&~(S&~O),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,h0(c,g))}else g=Je,g=Hn(c,c===ht?g:0),(g&3)===0||$i(c,g)||(o=!0,h0(c,g));c=c.next}while(o);Kp=!1}}function T1(){dd=Wp=!1;var r=0;ks!==0&&(L1()&&(r=ks),ks=0);for(var a=Lt(),o=null,c=ud;c!==null;){var h=c.next,g=u0(c,a);g===0?(c.next=null,o===null?ud=h:o.next=h,h===null&&(Io=o)):(o=c,(r!==0||(g&3)!==0)&&(dd=!0)),c=h}ec(r)}function u0(r,a){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-gn(g),O=1<<S,z=h[S];z===-1?((O&o)===0||(O&c)!==0)&&(h[S]=Bs(O,a)):z<=a&&(r.expiredLanes|=O),g&=~O}if(a=ht,o=Je,o=Hn(r,r===a?o:0),c=r.callbackNode,o===0||r===a&&ft===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Rn(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||$i(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(c!==null&&Rn(c),hu(o)){case 2:case 8:o=vt;break;case 32:o=ei;break;case 268435456:o=ll;break;default:o=ei}return c=d0.bind(null,r),o=It(o,c),r.callbackPriority=a,r.callbackNode=o,a}return c!==null&&c!==null&&Rn(c),r.callbackPriority=2,r.callbackNode=null,2}function d0(r,a){var o=r.callbackNode;if(Co()&&r.callbackNode!==o)return null;var c=Je;return c=Hn(r,r===ht?c:0),c===0?null:(Xb(r,c,a),u0(r,Lt()),r.callbackNode!=null&&r.callbackNode===o?d0.bind(null,r):null)}function h0(r,a){if(Co())return null;Xb(r,a,!0)}function x1(r){M1(function(){(St&6)!==0?It(st,r):r()})}function Qp(){return ks===0&&(ks=dl()),ks}function f0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Tr(""+r)}function p0(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function C1(r,a,o,c,h){if(a==="submit"&&o&&o.stateNode===h){var g=f0((h[Vt]||null).action),S=c.submitter;S&&(a=(a=S[Vt]||null)?f0(a.formAction):S.getAttribute("formAction"),a!==null&&(g=a,S=null));var O=new Xs("action","action",null,c,h);r.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ks!==0){var z=S?p0(h,S):new FormData(h);rp(o,{pending:!0,data:z,method:h.method,action:g},null,z)}}else typeof g=="function"&&(O.preventDefault(),z=S?p0(h,S):new FormData(h),rp(o,{pending:!0,data:z,method:h.method,action:g},g,z))},currentTarget:h}]})}}for(var Yp=0;Yp<sv.length;Yp++){var Gp=sv[Yp],I1=Gp.toLowerCase(),N1=Gp[0].toUpperCase()+Gp.slice(1);dr(I1,"on"+N1)}dr(tv,"onAnimationEnd"),dr(nv,"onAnimationIteration"),dr(rv,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(Wx,"onTransitionRun"),dr(Kx,"onTransitionStart"),dr(Qx,"onTransitionCancel"),dr(iv,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function m0(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var S=c.length-1;0<=S;S--){var O=c[S],z=O.instance,K=O.currentTarget;if(O=O.listener,z!==g&&h.isPropagationStopped())break e;g=O,h.currentTarget=K;try{g(h)}catch(ue){Ju(ue)}h.currentTarget=null,g=z}else for(S=0;S<c.length;S++){if(O=c[S],z=O.instance,K=O.currentTarget,O=O.listener,z!==g&&h.isPropagationStopped())break e;g=O,h.currentTarget=K;try{g(h)}catch(ue){Ju(ue)}h.currentTarget=null,g=z}}}}function Ye(r,a){var o=a[Ka];o===void 0&&(o=a[Ka]=new Set);var c=r+"__bubble";o.has(c)||(g0(a,r,2,!1),o.add(c))}function Jp(r,a,o){var c=0;a&&(c|=4),g0(o,r,c,a)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Xp(r){if(!r[hd]){r[hd]=!0,fl.forEach(function(o){o!=="selectionchange"&&(A1.has(o)||Jp(o,!1,r),Jp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[hd]||(a[hd]=!0,Jp("selectionchange",!1,a))}}function g0(r,a,o,c){switch(F0(a)){case 2:var h=nC;break;case 8:h=rC;break;default:h=dm}o=h.bind(null,a,o,r),h=void 0,!Qn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function Zp(r,a,o,c,h){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var O=c.stateNode.containerInfo;if(O===h||O.nodeType===8&&O.parentNode===h)break;if(S===4)for(S=c.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===h||z.nodeType===8&&z.parentNode===h))return;S=S.return}for(;O!==null;){if(S=ur(O),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){c=g=S;continue e}O=O.parentNode}}c=c.return}yu(function(){var K=g,ue=Js(o),me=[];e:{var re=av.get(r);if(re!==void 0){var oe=Xs,Ce=r;switch(r){case"keypress":if(Cr(o)===0)break e;case"keydown":case"keyup":oe=io;break;case"focusin":Ce="focus",oe=to;break;case"focusout":Ce="blur",oe=to;break;case"beforeblur":case"afterblur":oe=to;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Tu;break;case tv:case nv:case rv:oe=no;break;case iv:oe=Cu;break;case"scroll":case"scrollend":oe=vu;break;case"wheel":oe=ao;break;case"copy":case"cut":case"paste":oe=ro;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Tl;break;case"toggle":case"beforetoggle":oe=Nu}var Fe=(a&4)!==0,Ct=!Fe&&(r==="scroll"||r==="scrollend"),G=Fe?re!==null?re+"Capture":null:re;Fe=[];for(var W=K,ee;W!==null;){var he=W;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||G===null||(he=Xa(W,G),he!=null&&Fe.push(nc(W,he,ee))),Ct)break;W=W.return}0<Fe.length&&(re=new oe(re,Ce,null,o,ue),me.push({event:re,listeners:Fe}))}}if((a&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",re&&o!==Kn&&(Ce=o.relatedTarget||o.fromElement)&&(ur(Ce)||Ce[ti]))break e;if((oe||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Ce=o.relatedTarget||o.toElement,oe=K,Ce=Ce?ur(Ce):null,Ce!==null&&(Ct=ge(Ce),Fe=Ce.tag,Ce!==Ct||Fe!==5&&Fe!==27&&Fe!==6)&&(Ce=null)):(oe=null,Ce=K),oe!==Ce)){if(Fe=Yn,he="onMouseLeave",G="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=Tl,he="onPointerLeave",G="onPointerEnter",W="pointer"),Ct=oe==null?re:Qi(oe),ee=Ce==null?re:Qi(Ce),re=new Fe(he,W+"leave",oe,o,ue),re.target=Ct,re.relatedTarget=ee,he=null,ur(ue)===K&&(Fe=new Fe(G,W+"enter",Ce,o,ue),Fe.target=ee,Fe.relatedTarget=Ct,he=Fe),Ct=he,oe&&Ce)t:{for(Fe=oe,G=Ce,W=0,ee=Fe;ee;ee=No(ee))W++;for(ee=0,he=G;he;he=No(he))ee++;for(;0<W-ee;)Fe=No(Fe),W--;for(;0<ee-W;)G=No(G),ee--;for(;W--;){if(Fe===G||G!==null&&Fe===G.alternate)break t;Fe=No(Fe),G=No(G)}Fe=null}else Fe=null;oe!==null&&y0(me,re,oe,Fe,!1),Ce!==null&&Ct!==null&&y0(me,Ct,Ce,Fe,!0)}}e:{if(re=K?Qi(K):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var Te=Hy;else if(Zt(re))if(By)Te=$x;else{Te=zx;var He=Fx}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?K&&vl(K.elementType)&&(Te=Hy):Te=Vx;if(Te&&(Te=Te(r,K))){ci(me,Te,o,ue);break e}He&&He(r,re,K),r==="focusout"&&K&&re.type==="number"&&K.memoizedProps.value!=null&&Gs(re,"number",re.value)}switch(He=K?Qi(K):window,r){case"focusin":(Zt(He)||He.contentEditable==="true")&&(so=He,Af=K,Il=null);break;case"focusout":Il=Af=so=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Zy(me,o,ue);break;case"selectionchange":if(Bx)break;case"keydown":case"keyup":Zy(me,o,ue)}var Ie;if(Ar)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else et?ie(r,o)&&(Re="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(w&&o.locale!=="ko"&&(et||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&et&&(Ie=wl()):(xr=ue,ea="value"in xr?xr.value:xr.textContent,et=!0)),He=fd(K,Re),0<He.length&&(Re=new El(Re,r,null,o,ue),me.push({event:Re,listeners:He}),Ie?Re.data=Ie:(Ie=ve(o),Ie!==null&&(Re.data=Ie)))),(Ie=y?$t(r,o):rt(r,o))&&(Re=fd(K,"onBeforeInput"),0<Re.length&&(He=new El("onBeforeInput","beforeinput",null,o,ue),me.push({event:He,listeners:Re}),He.data=Ie)),C1(me,r,K,o,ue)}m0(me,a)})}function nc(r,a,o){return{instance:r,listener:a,currentTarget:o}}function fd(r,a){for(var o=a+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Xa(r,o),h!=null&&c.unshift(nc(r,h,g)),h=Xa(r,a),h!=null&&c.push(nc(r,h,g))),r=r.return}return c}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function y0(r,a,o,c,h){for(var g=a._reactName,S=[];o!==null&&o!==c;){var O=o,z=O.alternate,K=O.stateNode;if(O=O.tag,z!==null&&z===c)break;O!==5&&O!==26&&O!==27||K===null||(z=K,h?(K=Xa(o,g),K!=null&&S.unshift(nc(o,K,z))):h||(K=Xa(o,g),K!=null&&S.push(nc(o,K,z)))),o=o.return}S.length!==0&&r.push({event:a,listeners:S})}var O1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function v0(r){return(typeof r=="string"?r:""+r).replace(O1,`
`).replace(R1,"")}function b0(r,a){return a=v0(a),v0(r)===a}function pd(){}function lt(r,a,o,c,h,g){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Wn(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Wn(r,""+c);break;case"className":Ji(r,"class",c);break;case"tabIndex":Ji(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(r,o,c);break;case"style":gu(r,c,g);break;case"data":if(a!=="object"){Ji(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Tr(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&lt(r,a,"name",h.name,h,null),lt(r,a,"formEncType",h.formEncType,h,null),lt(r,a,"formMethod",h.formMethod,h,null),lt(r,a,"formTarget",h.formTarget,h,null)):(lt(r,a,"encType",h.encType,h,null),lt(r,a,"method",h.method,h,null),lt(r,a,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Tr(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=pd);break;case"onScroll":c!=null&&Ye("scroll",r);break;case"onScrollEnd":c!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Tr(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),Gi(r,"popover",c);break;case"xlinkActuate":Bn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ef.get(o)||o,Gi(r,o,c))}}function em(r,a,o,c,h,g){switch(o){case"style":gu(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Wn(r,c):(typeof c=="number"||typeof c=="bigint")&&Wn(r,""+c);break;case"onScroll":c!=null&&Ye("scroll",r);break;case"onScrollEnd":c!=null&&Ye("scrollend",r);break;case"onClick":c!=null&&(r.onclick=pd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),g=r[Vt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Gi(r,o,c)}}}function rn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,g,S,o,null)}}h&&lt(r,a,"srcSet",o.srcSet,o,null),c&&lt(r,a,"src",o.src,o,null);return;case"input":Ye("invalid",r);var O=g=S=h=null,z=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var ue=o[c];if(ue!=null)switch(c){case"name":h=ue;break;case"type":S=ue;break;case"checked":z=ue;break;case"defaultChecked":K=ue;break;case"value":g=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,a));break;default:lt(r,a,c,ue,o,null)}}Ga(r,g,O,z,K,S,h,!1),Ya(r);return;case"select":Ye("invalid",r),c=S=g=null;for(h in o)if(o.hasOwnProperty(h)&&(O=o[h],O!=null))switch(h){case"value":g=O;break;case"defaultValue":S=O;break;case"multiple":c=O;default:lt(r,a,h,O,o,null)}a=g,o=S,r.multiple=!!c,a!=null?Ze(r,!!c,a,!1):o!=null&&Ze(r,!!c,o,!0);return;case"textarea":Ye("invalid",r),g=h=c=null;for(S in o)if(o.hasOwnProperty(S)&&(O=o[S],O!=null))switch(S){case"value":c=O;break;case"defaultValue":h=O;break;case"children":g=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:lt(r,a,S,O,o,null)}Zi(r,c,h,g),Ya(r);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:lt(r,a,z,c,o,null)}return;case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(c=0;c<tc.length;c++)Ye(tc[c],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,K,c,o,null)}return;default:if(vl(a)){for(ue in o)o.hasOwnProperty(ue)&&(c=o[ue],c!==void 0&&em(r,a,ue,c,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(c=o[O],c!=null&&lt(r,a,O,c,o,null))}function P1(r,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,S=null,O=null,z=null,K=null,ue=null;for(oe in o){var me=o[oe];if(o.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":z=me;default:c.hasOwnProperty(oe)||lt(r,a,oe,null,c,me)}}for(var re in c){var oe=c[re];if(me=o[re],c.hasOwnProperty(re)&&(oe!=null||me!=null))switch(re){case"type":g=oe;break;case"name":h=oe;break;case"checked":K=oe;break;case"defaultChecked":ue=oe;break;case"value":S=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:oe!==me&&lt(r,a,re,oe,c,me)}}Xi(r,S,O,z,K,ue,g,h);return;case"select":oe=S=O=re=null;for(g in o)if(z=o[g],o.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":oe=z;default:c.hasOwnProperty(g)||lt(r,a,g,null,c,z)}for(h in c)if(g=c[h],z=o[h],c.hasOwnProperty(h)&&(g!=null||z!=null))switch(h){case"value":re=g;break;case"defaultValue":O=g;break;case"multiple":S=g;default:g!==z&&lt(r,a,h,g,c,z)}a=O,o=S,c=oe,re!=null?Ze(r,!!o,re,!1):!!c!=!!o&&(a!=null?Ze(r,!!o,a,!0):Ze(r,!!o,o?[]:"",!1));return;case"textarea":oe=re=null;for(O in o)if(h=o[O],o.hasOwnProperty(O)&&h!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:lt(r,a,O,null,c,h)}for(S in c)if(h=c[S],g=o[S],c.hasOwnProperty(S)&&(h!=null||g!=null))switch(S){case"value":re=h;break;case"defaultValue":oe=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&lt(r,a,S,h,c,g)}Ja(r,re,oe);return;case"option":for(var Ce in o)if(re=o[Ce],o.hasOwnProperty(Ce)&&re!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:lt(r,a,Ce,null,c,re)}for(z in c)if(re=c[z],oe=o[z],c.hasOwnProperty(z)&&re!==oe&&(re!=null||oe!=null))switch(z){case"selected":r.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:lt(r,a,z,re,c,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in o)re=o[Fe],o.hasOwnProperty(Fe)&&re!=null&&!c.hasOwnProperty(Fe)&&lt(r,a,Fe,null,c,re);for(K in c)if(re=c[K],oe=o[K],c.hasOwnProperty(K)&&re!==oe&&(re!=null||oe!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:lt(r,a,K,re,c,oe)}return;default:if(vl(a)){for(var Ct in o)re=o[Ct],o.hasOwnProperty(Ct)&&re!==void 0&&!c.hasOwnProperty(Ct)&&em(r,a,Ct,void 0,c,re);for(ue in c)re=c[ue],oe=o[ue],!c.hasOwnProperty(ue)||re===oe||re===void 0&&oe===void 0||em(r,a,ue,re,c,oe);return}}for(var G in o)re=o[G],o.hasOwnProperty(G)&&re!=null&&!c.hasOwnProperty(G)&&lt(r,a,G,null,c,re);for(me in c)re=c[me],oe=o[me],!c.hasOwnProperty(me)||re===oe||re==null&&oe==null||lt(r,a,me,re,c,oe)}var tm=null,nm=null;function md(r){return r.nodeType===9?r:r.ownerDocument}function w0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function rm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var im=null;function L1(){var r=window.event;return r&&r.type==="popstate"?r===im?!1:(im=r,!0):(im=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(r){return E0.resolve(null).then(r).catch(j1)}:k0;function j1(r){setTimeout(function(){throw r})}function am(r,a){var o=a,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(c===0){r.removeChild(h),uc(a);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=h}while(o);uc(a)}function sm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sm(o),Qa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function U1(r,a,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ki])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence")||g!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function F1(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pr(r.nextSibling),r===null))return null;return r}function pr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function _0(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function T0(r,a,o){switch(a=md(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var ar=new Map,x0=new Set;function gd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ti=ne.d;ne.d={f:z1,r:V1,D:$1,C:q1,L:H1,m:B1,X:K1,S:W1,M:Q1};function z1(){var r=Ti.f(),a=ld();return r||a}function V1(r){var a=ni(r);a!==null&&a.tag===5&&a.type==="form"?Zv(a):Ti.r(r)}var Ao=typeof document>"u"?null:document;function C0(r,a,o){var c=Ao;if(c&&typeof a=="string"&&a){var h=At(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),x0.has(h)||(x0.add(h),r={rel:r,crossOrigin:o,href:a},c.querySelector(h)===null&&(a=c.createElement("link"),rn(a,"link",r),bt(a),c.head.appendChild(a)))}}function $1(r){Ti.D(r),C0("dns-prefetch",r,null)}function q1(r,a){Ti.C(r,a),C0("preconnect",r,a)}function H1(r,a,o){Ti.L(r,a,o);var c=Ao;if(c&&r&&a){var h='link[rel="preload"][as="'+At(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+At(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+At(o.imageSizes)+'"]')):h+='[href="'+At(r)+'"]';var g=h;switch(a){case"style":g=Oo(r);break;case"script":g=Ro(r)}ar.has(g)||(r=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),ar.set(g,r),c.querySelector(h)!==null||a==="style"&&c.querySelector(rc(g))||a==="script"&&c.querySelector(ic(g))||(a=c.createElement("link"),rn(a,"link",r),bt(a),c.head.appendChild(a)))}}function B1(r,a){Ti.m(r,a);var o=Ao;if(o&&r){var c=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+At(c)+'"][href="'+At(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ro(r)}if(!ar.has(g)&&(r=_({rel:"modulepreload",href:r},a),ar.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ic(g)))return}c=o.createElement("link"),rn(c,"link",r),bt(c),o.head.appendChild(c)}}}function W1(r,a,o){Ti.S(r,a,o);var c=Ao;if(c&&r){var h=Yi(c).hoistableStyles,g=Oo(r);a=a||"default";var S=h.get(g);if(!S){var O={loading:0,preload:null};if(S=c.querySelector(rc(g)))O.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},o),(o=ar.get(g))&&om(r,o);var z=S=c.createElement("link");bt(z),rn(z,"link",r),z._p=new Promise(function(K,ue){z.onload=K,z.onerror=ue}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,yd(S,a,c)}S={type:"stylesheet",instance:S,count:1,state:O},h.set(g,S)}}}function K1(r,a){Ti.X(r,a);var o=Ao;if(o&&r){var c=Yi(o).hoistableScripts,h=Ro(r),g=c.get(h);g||(g=o.querySelector(ic(h)),g||(r=_({src:r,async:!0},a),(a=ar.get(h))&&lm(r,a),g=o.createElement("script"),bt(g),rn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function Q1(r,a){Ti.M(r,a);var o=Ao;if(o&&r){var c=Yi(o).hoistableScripts,h=Ro(r),g=c.get(h);g||(g=o.querySelector(ic(h)),g||(r=_({src:r,async:!0,type:"module"},a),(a=ar.get(h))&&lm(r,a),g=o.createElement("script"),bt(g),rn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function I0(r,a,o,c){var h=(h=Ae.current)?gd(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Oo(o.href),o=Yi(h).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Oo(o.href);var g=Yi(h).hoistableStyles,S=g.get(r);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=h.querySelector(rc(r)))&&!g._p&&(S.instance=g,S.state.loading=5),ar.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(r,o),g||Y1(h,r,o,S.state))),a&&c===null)throw Error(i(528,""));return S}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ro(o),o=Yi(h).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Oo(r){return'href="'+At(r)+'"'}function rc(r){return'link[rel="stylesheet"]['+r+"]"}function N0(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function Y1(r,a,o,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),rn(a,"link",o),bt(a),r.head.appendChild(a))}function Ro(r){return'[src="'+At(r)+'"]'}function ic(r){return"script[async]"+r}function A0(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+At(o.href)+'"]');if(c)return a.instance=c,bt(c),c;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),bt(c),rn(c,"style",h),yd(c,o.precedence,r),a.instance=c;case"stylesheet":h=Oo(o.href);var g=r.querySelector(rc(h));if(g)return a.state.loading|=4,a.instance=g,bt(g),g;c=N0(o),(h=ar.get(h))&&om(c,h),g=(r.ownerDocument||r).createElement("link"),bt(g);var S=g;return S._p=new Promise(function(O,z){S.onload=O,S.onerror=z}),rn(g,"link",c),a.state.loading|=4,yd(g,o.precedence,r),a.instance=g;case"script":return g=Ro(o.src),(h=r.querySelector(ic(g)))?(a.instance=h,bt(h),h):(c=o,(h=ar.get(g))&&(c=_({},o),lm(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),bt(h),rn(h,"link",c),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,yd(c,o.precedence,r));return a.instance}function yd(r,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,S=0;S<c.length;S++){var O=c[S];if(O.dataset.precedence===a)g=O;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function om(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function lm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var vd=null;function O0(r,a,o){if(vd===null){var c=new Map,h=vd=new Map;h.set(o,c)}else h=vd,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[Ki]||g[Wt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(a)||"";S=r+S;var O=c.get(S);O?O.push(g):c.set(S,[g])}}return c}function R0(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function G1(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function P0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ac=null;function J1(){}function X1(r,a,o){if(ac===null)throw Error(i(475));var c=ac;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Oo(o.href),g=r.querySelector(rc(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=bd.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=g,bt(g);return}g=r.ownerDocument||r,o=N0(o),(h=ar.get(h))&&om(o,h),g=g.createElement("link"),bt(g);var S=g;S._p=new Promise(function(O,z){S.onload=O,S.onerror=z}),rn(g,"link",o),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=bd.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function Z1(){if(ac===null)throw Error(i(475));var r=ac;return r.stylesheets&&r.count===0&&cm(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&cm(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function bd(){if(this.count--,this.count===0){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wd=null;function cm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wd=new Map,a.forEach(eC,r),wd=null,bd.call(r))}function eC(r,a){if(!(a.state.loading&4)){var o=wd.get(r);if(o)var c=o.get(null);else{o=new Map,wd.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var S=h[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}h=a.instance,S=h.getAttribute("data-precedence"),g=o.get(S)||c,g===c&&o.set(null,h),o.set(S,h),this.count++,c=bd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var sc={$$typeof:P,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function tC(r,a,o,c,h,g,S,O){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function L0(r,a,o,c,h,g,S,O,z,K,ue,me){return r=new tC(r,a,o,S,O,z,K,me),a=1,g===!0&&(a|=24),g=rr(3,null,null,a),r.current=g,g.stateNode=r,a=Vf(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:a},Sp(g),r}function D0(r){return r?(r=co,r):co}function M0(r,a,o,c,h,g){h=D0(h),c.context===null?c.context=h:c.pendingContext=h,c=la(a),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ca(r,c,a),o!==null&&(wn(o,r,a),ql(o,r,a))}function j0(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function um(r,a){j0(r,a),(r=r.alternate)&&j0(r,a)}function U0(r){if(r.tag===13){var a=ta(r,67108864);a!==null&&wn(a,r,67108864),um(r,67108864)}}var Sd=!0;function nC(r,a,o,c){var h=b.T;b.T=null;var g=ne.p;try{ne.p=2,dm(r,a,o,c)}finally{ne.p=g,b.T=h}}function rC(r,a,o,c){var h=b.T;b.T=null;var g=ne.p;try{ne.p=8,dm(r,a,o,c)}finally{ne.p=g,b.T=h}}function dm(r,a,o,c){if(Sd){var h=hm(c);if(h===null)Zp(r,a,c,kd,o),z0(r,c);else if(aC(h,r,a,o,c))c.stopPropagation();else if(z0(r,c),a&4&&-1<iC.indexOf(r)){for(;h!==null;){var g=ni(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=cr(g.pendingLanes);if(S!==0){var O=g;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var z=1<<31-gn(S);O.entanglements[1]|=z,S&=~z}Dr(g),(St&6)===0&&(ad=Lt()+500,ec(0))}}break;case 13:O=ta(g,2),O!==null&&wn(O,g,2),ld(),um(g,2)}if(g=hm(c),g===null&&Zp(r,a,c,kd,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else Zp(r,a,c,null,o)}}function hm(r){return r=Js(r),fm(r)}var kd=null;function fm(r){if(kd=null,r=ur(r),r!==null){var a=ge(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=k(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return kd=r,null}function F0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case st:return 2;case vt:return 8;case ei:case lu:return 32;case ll:return 268435456;default:return 32}default:return 32}}var pm=!1,ga=null,ya=null,va=null,oc=new Map,lc=new Map,ba=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z0(r,a){switch(r){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(a.pointerId)}}function cc(r,a,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},a!==null&&(a=ni(a),a!==null&&U0(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function aC(r,a,o,c,h){switch(a){case"focusin":return ga=cc(ga,r,a,o,c,h),!0;case"dragenter":return ya=cc(ya,r,a,o,c,h),!0;case"mouseover":return va=cc(va,r,a,o,c,h),!0;case"pointerover":var g=h.pointerId;return oc.set(g,cc(oc.get(g)||null,r,a,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,lc.set(g,cc(lc.get(g)||null,r,a,o,c,h)),!0}return!1}function V0(r){var a=ur(r.target);if(a!==null){var o=ge(a);if(o!==null){if(a=o.tag,a===13){if(a=k(o),a!==null){r.blockedOn=a,Wi(r.priority,function(){if(o.tag===13){var c=Fn(),h=ta(o,c);h!==null&&wn(h,o,c),um(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ed(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=hm(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Kn=c,o.target.dispatchEvent(c),Kn=null}else return a=ni(o),a!==null&&U0(a),r.blockedOn=o,!1;a.shift()}return!0}function $0(r,a,o){Ed(r)&&o.delete(a)}function sC(){pm=!1,ga!==null&&Ed(ga)&&(ga=null),ya!==null&&Ed(ya)&&(ya=null),va!==null&&Ed(va)&&(va=null),oc.forEach($0),lc.forEach($0)}function _d(r,a){r.blockedOn===a&&(r.blockedOn=null,pm||(pm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sC)))}var Td=null;function q0(r){Td!==r&&(Td=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Td===r&&(Td=null);for(var a=0;a<r.length;a+=3){var o=r[a],c=r[a+1],h=r[a+2];if(typeof c!="function"){if(fm(c||o)===null)continue;break}var g=ni(o);g!==null&&(r.splice(a,3),a-=3,rp(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function uc(r){function a(z){return _d(z,r)}ga!==null&&_d(ga,r),ya!==null&&_d(ya,r),va!==null&&_d(va,r),oc.forEach(a),lc.forEach(a);for(var o=0;o<ba.length;o++){var c=ba[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ba.length&&(o=ba[0],o.blockedOn===null);)V0(o),o.blockedOn===null&&ba.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],S=h[Vt]||null;if(typeof g=="function")S||q0(o);else if(S){var O=null;if(g&&g.hasAttribute("formAction")){if(h=g,S=g[Vt]||null)O=S.formAction;else if(fm(h)!==null)continue}else O=S.action;typeof O=="function"?o[c+1]=O:(o.splice(c,3),c-=3),q0(o)}}}function mm(r){this._internalRoot=r}xd.prototype.render=mm.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,c=Fn();M0(o,c,r,a,null,null)},xd.prototype.unmount=mm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&Co(),M0(r.current,2,null,r,null,null),ld(),a[ti]=null}};function xd(r){this._internalRoot=r}xd.prototype.unstable_scheduleHydration=function(r){if(r){var a=fu();r={blockedOn:null,target:r,priority:a};for(var o=0;o<ba.length&&a!==0&&a<ba[o].priority;o++);ba.splice(o,0,r),o===0&&V0(r)}};var H0=e.version;if(H0!=="19.0.0")throw Error(i(527,H0,"19.0.0"));ne.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=V(a),r=r!==null?Y(r):null,r=r===null?null:r.stateNode,r};var oC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:ur,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{zi=Cd.inject(oC),ln=Cd}catch{}}return hc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,c="",h=ob,g=lb,S=cb,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks)),a=L0(r,1,!1,null,null,o,c,h,g,S,O,null),r[ti]=a.current,Xp(r.nodeType===8?r.parentNode:r),new mm(a)},hc.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var c=!1,h="",g=ob,S=lb,O=cb,z=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),a=L0(r,1,!0,a,o??null,c,h,g,S,O,z,K),a.context=D0(null),o=a.current,c=Fn(),h=la(c),h.callback=null,ca(o,h,c),a.current.lanes=c,Nt(a,c),Dr(a),r[ti]=a.current,Xp(r),new xd(a)},hc.version="19.0.0",hc}var iw;function vC(){if(iw)return gm.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gm.exports=yC(),gm.exports}var bC=vC();const wC=Rg(bC);var fc={},aw;function SC(){if(aw)return fc;aw=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.parse=u,fc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function u(A,P){const U=new l,D=A.length;if(D<2)return U;const $=(P==null?void 0:P.decode)||v;let H=0;do{const B=A.indexOf("=",H);if(B===-1)break;const X=A.indexOf(";",H),le=X===-1?D:X;if(B>le){H=A.lastIndexOf(";",B-1)+1;continue}const F=p(A,H,B),q=f(A,B,F),N=A.slice(F,q);if(U[N]===void 0){let I=p(A,B+1,le),b=f(A,le,I);const _=$(A.slice(I,b));U[N]=_}H=le+1}while(H<D);return U}function p(A,P,U){do{const D=A.charCodeAt(P);if(D!==32&&D!==9)return P}while(++P<U);return U}function f(A,P,U){for(;P>U;){const D=A.charCodeAt(--P);if(D!==32&&D!==9)return P+1}return U}function m(A,P,U){const D=(U==null?void 0:U.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const $=D(P);if(!e.test($))throw new TypeError(`argument val is invalid: ${P}`);let H=A+"="+$;if(!U)return H;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);H+="; Max-Age="+U.maxAge}if(U.domain){if(!t.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);H+="; Domain="+U.domain}if(U.path){if(!i.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);H+="; Path="+U.path}if(U.expires){if(!x(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);H+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(H+="; HttpOnly"),U.secure&&(H+="; Secure"),U.partitioned&&(H+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return H}function v(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function x(A){return s.call(A)==="[object Date]"}return fc}SC();/**
* react-router v7.3.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var sw="popstate";function kC(n={}){function e(i,s){let{pathname:l,search:u,hash:p}=i.location;return Wm("",{pathname:l,search:u,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Ac(s)}return _C(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substring(2,10)}function ow(n,e){return{usr:n.state,key:n.key,idx:e}}function Wm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:t,key:e&&e.key||i||EC()}}function Ac({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _C(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,u=s.history,p="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function x(){p="POP";let $=v(),H=$==null?null:$-m;m=$,f&&f({action:p,location:D.location,delta:H})}function A($,H){p="PUSH";let B=Wm(D.location,$,H);m=v()+1;let X=ow(B,m),le=D.createHref(B);try{u.pushState(X,"",le)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(le)}l&&f&&f({action:p,location:D.location,delta:1})}function P($,H){p="REPLACE";let B=Wm(D.location,$,H);m=v();let X=ow(B,m),le=D.createHref(B);u.replaceState(X,"",le),l&&f&&f({action:p,location:D.location,delta:0})}function U($){let H=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof $=="string"?$:Ac($);return B=B.replace(/ $/,"%20"),kt(H,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,H)}let D={get action(){return p},get location(){return n(s,u)},listen($){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(sw,x),f=$,()=>{s.removeEventListener(sw,x),f=null}},createHref($){return e(s,$)},createURL:U,encodeLocation($){let H=U($);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:A,replace:P,go($){return u.go($)}};return D}function Mk(n,e,t="/"){return TC(n,e,t,!1)}function TC(n,e,t,i){let s=typeof e=="string"?Xo(e):e,l=Oi(s.pathname||"/",t);if(l==null)return null;let u=jk(n);xC(u);let p=null;for(let f=0;p==null&&f<u.length;++f){let m=jC(l);p=DC(u[f],m,i)}return p}function jk(n,e=[],t=[],i=""){let s=(l,u,p)=>{let f={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=Ni([i,f.relativePath]),v=t.concat(f);l.children&&l.children.length>0&&(kt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jk(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:PC(m,l.index),routesMeta:v})};return n.forEach((l,u)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))s(l,u);else for(let f of Uk(l.path))s(l,u,f)}),e}function Uk(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let u=Uk(i.join("/")),p=[];return p.push(...u.map(f=>f===""?l:[l,f].join("/"))),s&&p.push(...u),p.map(f=>n.startsWith("/")&&f===""?"/":f)}function xC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var CC=/^:[\w-]+$/,IC=3,NC=2,AC=1,OC=10,RC=-2,lw=n=>n==="*";function PC(n,e){let t=n.split("/"),i=t.length;return t.some(lw)&&(i+=RC),e&&(i+=NC),t.filter(s=>!lw(s)).reduce((s,l)=>s+(CC.test(l)?IC:l===""?AC:OC),i)}function LC(n,e){return n.length===e.length&&n.slice(0,-1).every((t,i)=>t===e[i])?n[n.length-1]-e[e.length-1]:0}function DC(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",u=[];for(let p=0;p<i.length;++p){let f=i[p],m=p===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Zd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),A=f.route;if(!x&&m&&t&&!i[i.length-1].route.index&&(x=Zd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:Ni([l,x.pathname]),pathnameBase:VC(Ni([l,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(l=Ni([l,x.pathnameBase]))}return u}function Zd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=MC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:v},x)=>{if(m==="*"){let P=p[x]||"";u=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const A=p[x];return v&&!A?f[m]=void 0:f[m]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:n}}function MC(n,e=!1,t=!0){Hr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,p)=>(i.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function jC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UC(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Xo(n):n;return{pathname:t?t.startsWith("/")?t:FC(t,e):e,search:$C(i),hash:qC(s)}}function FC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fk(n){let e=zC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function zk(n,e,t,i=!1){let s;typeof n=="string"?s=Xo(n):(s={...n},kt(!s.pathname||!s.pathname.includes("?"),vm("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),vm("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),vm("#","search","hash",s)));let l=n===""||s.pathname==="",u=l?"/":s.pathname,p;if(u==null)p=t;else{let x=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),x-=1;s.pathname=A.join("/")}p=x>=0?e[x]:"/"}let f=UC(s,p),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Ni=n=>n.join("/").replace(/\/\/+/g,"/"),VC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$C=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Vk=["POST","PUT","PATCH","DELETE"];new Set(Vk);var BC=["GET",...Vk];new Set(BC);var Zo=Q.createContext(null);Zo.displayName="DataRouter";var Ih=Q.createContext(null);Ih.displayName="DataRouterState";var $k=Q.createContext({isTransitioning:!1});$k.displayName="ViewTransition";var WC=Q.createContext(new Map);WC.displayName="Fetchers";var KC=Q.createContext(null);KC.displayName="Await";var Qr=Q.createContext(null);Qr.displayName="Navigation";var qc=Q.createContext(null);qc.displayName="Location";var Yr=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var Pg=Q.createContext(null);Pg.displayName="RouteError";function QC(n,{relative:e}={}){kt(Hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Q.useContext(Qr),{hash:s,pathname:l,search:u}=Bc(n,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Ni([t,l])),i.createHref({pathname:p,search:u,hash:s})}function Hc(){return Q.useContext(qc)!=null}function ji(){return kt(Hc(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(qc).location}var qk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hk(n){Q.useContext(Qr).static||Q.useLayoutEffect(n)}function On(){let{isDataRoute:n}=Q.useContext(Yr);return n?lI():YC()}function YC(){kt(Hc(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Zo),{basename:e,navigator:t}=Q.useContext(Qr),{matches:i}=Q.useContext(Yr),{pathname:s}=ji(),l=JSON.stringify(Fk(i)),u=Q.useRef(!1);return Hk(()=>{u.current=!0}),Q.useCallback((p,f={})=>{if(Hr(u.current,qk),!u.current)return;if(typeof p=="number"){t.go(p);return}let m=zk(p,JSON.parse(l),s,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ni([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,l,s,n])}Q.createContext(null);function GC(){let{matches:n}=Q.useContext(Yr),e=n[n.length-1];return e?e.params:{}}function Bc(n,{relative:e}={}){let{matches:t}=Q.useContext(Yr),{pathname:i}=ji(),s=JSON.stringify(Fk(t));return Q.useMemo(()=>zk(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function JC(n,e){return Bk(n,e)}function Bk(n,e,t,i){var s;kt(Hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=Q.useContext(Qr),{matches:p}=Q.useContext(Yr),f=p[p.length-1],m=f?f.params:{},v=f?f.pathname:"/",x=f?f.pathnameBase:"/",A=f&&f.route;{let X=A&&A.path||"";Wk(v,!A||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let P=ji(),U;if(e){let X=typeof e=="string"?Xo(e):e;kt(x==="/"||((s=X.pathname)==null?void 0:s.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${X.pathname}" was given in the \`location\` prop.`),U=X}else U=P;let D=U.pathname||"/",$=D;if(x!=="/"){let X=x.replace(/^\//,"").split("/");$="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let H=!u&&t&&t.matches&&t.matches.length>0?t.matches:Mk(n,{pathname:$});Hr(A||H!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Hr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=nI(H&&H.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:Ni([x,l.encodeLocation?l.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?x:Ni([x,l.encodeLocation?l.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),p,t,i);return e&&B?Q.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},B):B}function XC(){let n=oI(),e=HC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:l},"ErrorBoundary")," or"," ",Q.createElement("code",{style:l},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:s},t):null,u)}var ZC=Q.createElement(XC,null),eI=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(Yr.Provider,{value:this.props.routeContext},Q.createElement(Pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tI({routeContext:n,match:e,children:t}){let i=Q.useContext(Zo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Yr.Provider,{value:n},t)}function nI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,p=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=f),m.route.id){let{loaderData:v,errors:x}=t,A=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||A){u=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((f,m,v)=>{let x,A=!1,P=null,U=null;t&&(x=l&&m.route.id?l[m.route.id]:void 0,P=m.route.errorElement||ZC,u&&(p<0&&v===0?(Wk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):p===v&&(A=!0,U=m.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,v+1)),$=()=>{let H;return x?H=P:A?H=U:m.route.Component?H=Q.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=f,Q.createElement(tI,{match:m,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:H})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?Q.createElement(eI,{location:t.location,revalidation:t.revalidation,component:P,error:x,children:$(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):$()},null)}function Lg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rI(n){let e=Q.useContext(Zo);return kt(e,Lg(n)),e}function iI(n){let e=Q.useContext(Ih);return kt(e,Lg(n)),e}function aI(n){let e=Q.useContext(Yr);return kt(e,Lg(n)),e}function Dg(n){let e=aI(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sI(){return Dg("useRouteId")}function oI(){var n;let e=Q.useContext(Pg),t=iI("useRouteError"),i=Dg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function lI(){let{router:n}=rI("useNavigate"),e=Dg("useNavigate"),t=Q.useRef(!1);return Hk(()=>{t.current=!0}),Q.useCallback(async(i,s={})=>{Hr(t.current,qk),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var cw={};function Wk(n,e,t){!e&&!cw[n]&&(cw[n]=!0,Hr(!1,t))}Q.memo(cI);function cI({routes:n,future:e,state:t}){return Bk(n,void 0,t,e)}function jr(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){kt(!Hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),p=Q.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof t=="string"&&(t=Xo(t));let{pathname:f="/",search:m="",hash:v="",state:x=null,key:A="default"}=t,P=Q.useMemo(()=>{let U=Oi(f,u);return U==null?null:{location:{pathname:U,search:m,hash:v,state:x,key:A},navigationType:i}},[u,f,m,v,x,A,i]);return Hr(P!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Q.createElement(Qr.Provider,{value:p},Q.createElement(qc.Provider,{children:e,value:P}))}function dI({children:n,location:e}){return JC(Km(n),e)}function Km(n,e=[]){let t=[];return Q.Children.forEach(n,(i,s)=>{if(!Q.isValidElement(i))return;let l=[...e,s];if(i.type===Q.Fragment){t.push.apply(t,Km(i.props.children,l));return}kt(i.type===jr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Km(i.props.children,l)),t.push(u)}),t}var Ud="get",Fd="application/x-www-form-urlencoded";function Nh(n){return n!=null&&typeof n.tagName=="string"}function hI(n){return Nh(n)&&n.tagName.toLowerCase()==="button"}function fI(n){return Nh(n)&&n.tagName.toLowerCase()==="form"}function pI(n){return Nh(n)&&n.tagName.toLowerCase()==="input"}function mI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gI(n,e){return n.button===0&&(!e||e==="_self")&&!mI(n)}var Nd=null;function yI(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var vI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(n){return n!=null&&!vI.has(n)?(Hr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):n}function bI(n,e){let t,i,s,l,u;if(fI(n)){let p=n.getAttribute("action");i=p?Oi(p,e):null,t=n.getAttribute("method")||Ud,s=bm(n.getAttribute("enctype"))||Fd,l=new FormData(n)}else if(hI(n)||pI(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||p.getAttribute("action");if(i=f?Oi(f,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Ud,s=bm(n.getAttribute("formenctype"))||bm(p.getAttribute("enctype"))||Fd,l=new FormData(p,n),!yI()){let{name:m,type:v,value:x}=n;if(v==="image"){let A=m?`${m}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else m&&l.append(m,x)}}else{if(Nh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ud,i=null,s=Fd,u=n}return l&&s==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:u}}function Mg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function wI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kI(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await wI(l,t);return u.links?u.links():[]}return[]}));return xI(i.flat(1).filter(SI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uw(n,e,t,i,s,l){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,p=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>u(f,m)||p(f,m)):l==="data"?e.filter((f,m)=>{var v;let x=i.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(u(f,m)||p(f,m))return!0;if(f.route.shouldRevalidate){let A=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function EI(n,e,{includeHydrateFallback:t}={}){return _I(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function _I(n){return[...new Set(n)]}function TI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function xI(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(TI(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function CI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Oi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Kk(){let n=Q.useContext(Zo);return Mg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function II(){let n=Q.useContext(Ih);return Mg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jg=Q.createContext(void 0);jg.displayName="FrameworkContext";function Qk(){let n=Q.useContext(jg);return Mg(n,"You must render this element inside a <HydratedRouter> element"),n}function NI(n,e){let t=Q.useContext(jg),[i,s]=Q.useState(!1),[l,u]=Q.useState(!1),{onFocus:p,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:x}=e,A=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=H=>{H.forEach(B=>{u(B.isIntersecting)})},$=new IntersectionObserver(D,{threshold:.5});return A.current&&$.observe(A.current),()=>{$.disconnect()}}},[n]),Q.useEffect(()=>{if(i){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[i]);let P=()=>{s(!0)},U=()=>{s(!1),u(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:pc(p,P),onBlur:pc(f,U),onMouseEnter:pc(m,P),onMouseLeave:pc(v,U),onTouchStart:pc(x,P)}]:[!1,A,{}]}function pc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AI({page:n,...e}){let{router:t}=Kk(),i=Q.useMemo(()=>Mk(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Q.createElement(RI,{page:n,matches:i,...e}):null}function OI(n){let{manifest:e,routeModules:t}=Qk(),[i,s]=Q.useState([]);return Q.useEffect(()=>{let l=!1;return kI(n,e,t).then(u=>{l||s(u)}),()=>{l=!0}},[n,e,t]),i}function RI({page:n,matches:e,...t}){let i=ji(),{manifest:s,routeModules:l}=Qk(),{basename:u}=Kk(),{loaderData:p,matches:f}=II(),m=Q.useMemo(()=>uw(n,e,f,s,i,"data"),[n,e,f,s,i]),v=Q.useMemo(()=>uw(n,e,f,s,i,"assets"),[n,e,f,s,i]),x=Q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let U=new Set,D=!1;if(e.forEach(H=>{var B;let X=s.routes[H.route.id];!X||!X.hasLoader||(!m.some(le=>le.route.id===H.route.id)&&H.route.id in p&&(B=l[H.route.id])!=null&&B.shouldRevalidate||X.hasClientLoader?D=!0:U.add(H.route.id))}),U.size===0)return[];let $=CI(n,u);return D&&U.size>0&&$.searchParams.set("_routes",e.filter(H=>U.has(H.route.id)).map(H=>H.route.id).join(",")),[$.pathname+$.search]},[u,p,i,s,m,e,n,l]),A=Q.useMemo(()=>EI(v,s),[v,s]),P=OI(v);return Q.createElement(Q.Fragment,null,x.map(U=>Q.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),A.map(U=>Q.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),P.map(({key:U,link:D})=>Q.createElement("link",{key:U,...D})))}function PI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yk&&(window.__reactRouterVersion="7.3.0")}catch{}function LI({basename:n,children:e,window:t}){let i=Q.useRef();i.current==null&&(i.current=kC({window:t,v5Compat:!0}));let s=i.current,[l,u]=Q.useState({action:s.action,location:s.location}),p=Q.useCallback(f=>{Q.startTransition(()=>u(f))},[u]);return Q.useLayoutEffect(()=>s.listen(p),[s,p]),Q.createElement(uI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var Gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xa=Q.forwardRef(function({onClick:n,discover:e="render",prefetch:t="none",relative:i,reloadDocument:s,replace:l,state:u,target:p,to:f,preventScrollReset:m,viewTransition:v,...x},A){let{basename:P}=Q.useContext(Qr),U=typeof f=="string"&&Gk.test(f),D,$=!1;if(typeof f=="string"&&U&&(D=f,Yk))try{let I=new URL(window.location.href),b=f.startsWith("//")?new URL(I.protocol+f):new URL(f),_=Oi(b.pathname,P);b.origin===I.origin&&_!=null?f=_+b.search+b.hash:$=!0}catch{Hr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=QC(f,{relative:i}),[B,X,le]=NI(t,x),F=UI(f,{replace:l,state:u,target:p,preventScrollReset:m,relative:i,viewTransition:v});function q(I){n&&n(I),I.defaultPrevented||F(I)}let N=Q.createElement("a",{...x,...le,href:D||H,onClick:$||s?n:q,ref:PI(A,X),target:p,"data-discover":!U&&e==="render"?"true":void 0});return B&&!U?Q.createElement(Q.Fragment,null,N,Q.createElement(AI,{page:H})):N});xa.displayName="Link";var DI=Q.forwardRef(function({"aria-current":n="page",caseSensitive:e=!1,className:t="",end:i=!1,style:s,to:l,viewTransition:u,children:p,...f},m){let v=Bc(l,{relative:f.relative}),x=ji(),A=Q.useContext(Ih),{navigator:P,basename:U}=Q.useContext(Qr),D=A!=null&&qI(v)&&u===!0,$=P.encodeLocation?P.encodeLocation(v).pathname:v.pathname,H=x.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(H=H.toLowerCase(),B=B?B.toLowerCase():null,$=$.toLowerCase()),B&&U&&(B=Oi(B,U)||B);const X=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let le=H===$||!i&&H.startsWith($)&&H.charAt(X)==="/",F=B!=null&&(B===$||!i&&B.startsWith($)&&B.charAt($.length)==="/"),q={isActive:le,isPending:F,isTransitioning:D},N=le?n:void 0,I;typeof t=="function"?I=t(q):I=[t,le?"active":null,F?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let b=typeof s=="function"?s(q):s;return Q.createElement(xa,{...f,"aria-current":N,className:I,ref:m,style:b,to:l,viewTransition:u},typeof p=="function"?p(q):p)});DI.displayName="NavLink";var MI=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:u=Ud,action:p,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:x,...A},P)=>{let U=VI(),D=$I(p,{relative:m}),$=u.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&Gk.test(p),B=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let le=X.nativeEvent.submitter,F=(le==null?void 0:le.getAttribute("formmethod"))||u;U(le||X.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:s,state:l,relative:m,preventScrollReset:v,viewTransition:x})};return Q.createElement("form",{ref:P,method:$,action:D,onSubmit:i?f:B,...A,"data-discover":!H&&n==="render"?"true":void 0})});MI.displayName="Form";function jI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jk(n){let e=Q.useContext(Zo);return kt(e,jI(n)),e}function UI(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:u}={}){let p=On(),f=ji(),m=Bc(n,{relative:l});return Q.useCallback(v=>{if(gI(v,e)){v.preventDefault();let x=t!==void 0?t:Ac(f)===Ac(m);p(n,{replace:x,state:i,preventScrollReset:s,relative:l,viewTransition:u})}},[f,p,m,t,i,e,n,s,l,u])}var FI=0,zI=()=>`__${String(++FI)}__`;function VI(){let{router:n}=Jk("useSubmit"),{basename:e}=Q.useContext(Qr),t=sI();return Q.useCallback(async(i,s={})=>{let{action:l,method:u,encType:p,formData:f,body:m}=bI(i,e);if(s.navigate===!1){let v=s.fetcherKey||zI();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||p,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function $I(n,{relative:e}={}){let{basename:t}=Q.useContext(Qr),i=Q.useContext(Yr);kt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Bc(n||".",{relative:e})},u=ji();if(n==null){l.search=u.search;let p=new URLSearchParams(l.search),f=p.getAll("index");if(f.some(m=>m==="")){p.delete("index"),f.filter(v=>v).forEach(v=>p.append("index",v));let m=p.toString();l.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ni([t,l.pathname])),Ac(l)}function qI(n,e={}){let t=Q.useContext($k);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jk("useViewTransitionState"),s=Bc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Oi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Oi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Zd(s.pathname,u)!=null||Zd(s.pathname,l)!=null}new TextEncoder;var dw={},hw={},mc={},fw={},pw;function HI(){return pw||(pw=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(fw)),fw}var wm,mw;function BI(){if(mw)return wm;mw=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt,f=typeof Id=="object"&&Id&&Id.Object===Object&&Id,m=typeof self=="object"&&self&&self.Object===Object&&self,v=f||m||Function("return this")(),x=Object.prototype,A=x.toString,P=Math.max,U=Math.min,D=function(){return v.Date.now()};function $(F,q,N){var I,b,_,M,j,C,se=0,pe=!1,te=!1,T=!0;if(typeof F!="function")throw new TypeError(n);q=le(q)||0,H(N)&&(pe=!!N.leading,te="maxWait"in N,_=te?P(le(N.maxWait)||0,q):_,T="trailing"in N?!!N.trailing:T);function ge(Se){var ke=I,xe=b;return I=b=void 0,se=Se,M=F.apply(xe,ke),M}function k(Se){return se=Se,j=setTimeout(Y,q),pe?ge(Se):M}function E(Se){var ke=Se-C,xe=Se-se,_e=q-ke;return te?U(_e,_-xe):_e}function V(Se){var ke=Se-C,xe=Se-se;return C===void 0||ke>=q||ke<0||te&&xe>=_}function Y(){var Se=D();if(V(Se))return J(Se);j=setTimeout(Y,E(Se))}function J(Se){return j=void 0,T&&I?ge(Se):(I=b=void 0,M)}function ne(){j!==void 0&&clearTimeout(j),se=0,I=C=b=j=void 0}function ce(){return j===void 0?M:J(D())}function ye(){var Se=D(),ke=V(Se);if(I=arguments,b=this,C=Se,ke){if(j===void 0)return k(C);if(te)return j=setTimeout(Y,q),ge(C)}return j===void 0&&(j=setTimeout(Y,q)),M}return ye.cancel=ne,ye.flush=ce,ye}function H(F){var q=typeof F;return!!F&&(q=="object"||q=="function")}function B(F){return!!F&&typeof F=="object"}function X(F){return typeof F=="symbol"||B(F)&&A.call(F)==t}function le(F){if(typeof F=="number")return F;if(X(F))return e;if(H(F)){var q=typeof F.valueOf=="function"?F.valueOf():F;F=H(q)?q+"":q}if(typeof F!="string")return F===0?F:+F;F=F.replace(i,"");var N=l.test(F);return N||u.test(F)?p(F.slice(2),N?2:8):s.test(F)?e:+F}return wm=$,wm}var gw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var yw;function Ah(){return yw||(yw=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",u=0;u<arguments.length;u++){var p=arguments[u];p&&(l=s(l,i(p)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var u="";for(var p in l)e.call(l,p)&&l[p]&&(u=s(u,p));return u}function s(l,u){return u?l?l+" "+u:l+u:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(gw)),gw.exports}var we={},vw={},bw;function Xk(){return bw||(bw=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Kr());function t(s){return s&&s.__esModule?s:{default:s}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}(vw)),vw}var ww;function Wc(){if(ww)return we;ww=1,Object.defineProperty(we,"__esModule",{value:!0}),we.checkSpecKeys=we.checkNavigable=we.changeSlide=we.canUseDOM=we.canGoNext=void 0,we.clamp=m,we.extractObject=void 0,we.filterSettings=ge,we.validSettings=we.swipeStart=we.swipeMove=we.swipeEnd=we.slidesOnRight=we.slidesOnLeft=we.slideHandler=we.siblingDirection=we.safePreventDefault=we.lazyStartIndex=we.lazySlidesOnRight=we.lazySlidesOnLeft=we.lazyEndIndex=we.keyHandler=we.initializedState=we.getWidth=we.getTrackLeft=we.getTrackCSS=we.getTrackAnimateCSS=we.getTotalSlides=we.getSwipeDirection=we.getSlideCount=we.getRequiredLazySlides=we.getPreClones=we.getPostClones=we.getOnDemandLazySlides=we.getNavigableIndexes=we.getHeight=void 0;var n=t(Kr()),e=t(Xk());function t(k){return k&&k.__esModule?k:{default:k}}function i(k){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(k)}function s(k,E){var V=Object.keys(k);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(k);E&&(Y=Y.filter(function(J){return Object.getOwnPropertyDescriptor(k,J).enumerable})),V.push.apply(V,Y)}return V}function l(k){for(var E=1;E<arguments.length;E++){var V=arguments[E]!=null?arguments[E]:{};E%2?s(Object(V),!0).forEach(function(Y){u(k,Y,V[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(V)):s(Object(V)).forEach(function(Y){Object.defineProperty(k,Y,Object.getOwnPropertyDescriptor(V,Y))})}return k}function u(k,E,V){return E=p(E),E in k?Object.defineProperty(k,E,{value:V,enumerable:!0,configurable:!0,writable:!0}):k[E]=V,k}function p(k){var E=f(k,"string");return i(E)=="symbol"?E:String(E)}function f(k,E){if(i(k)!="object"||!k)return k;var V=k[Symbol.toPrimitive];if(V!==void 0){var Y=V.call(k,E);if(i(Y)!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(k)}function m(k,E,V){return Math.max(E,Math.min(k,V))}var v=we.safePreventDefault=function(k){var E=["onTouchStart","onTouchMove","onWheel"];E.includes(k._reactName)||k.preventDefault()},x=we.getOnDemandLazySlides=function(k){for(var E=[],V=A(k),Y=P(k),J=V;J<Y;J++)k.lazyLoadedList.indexOf(J)<0&&E.push(J);return E};we.getRequiredLazySlides=function(k){for(var E=[],V=A(k),Y=P(k),J=V;J<Y;J++)E.push(J);return E};var A=we.lazyStartIndex=function(k){return k.currentSlide-U(k)},P=we.lazyEndIndex=function(k){return k.currentSlide+D(k)},U=we.lazySlidesOnLeft=function(k){return k.centerMode?Math.floor(k.slidesToShow/2)+(parseInt(k.centerPadding)>0?1:0):0},D=we.lazySlidesOnRight=function(k){return k.centerMode?Math.floor((k.slidesToShow-1)/2)+1+(parseInt(k.centerPadding)>0?1:0):k.slidesToShow},$=we.getWidth=function(k){return k&&k.offsetWidth||0},H=we.getHeight=function(k){return k&&k.offsetHeight||0},B=we.getSwipeDirection=function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V,Y,J,ne;return V=k.startX-k.curX,Y=k.startY-k.curY,J=Math.atan2(Y,V),ne=Math.round(J*180/Math.PI),ne<0&&(ne=360-Math.abs(ne)),ne<=45&&ne>=0||ne<=360&&ne>=315?"left":ne>=135&&ne<=225?"right":E===!0?ne>=35&&ne<=135?"up":"down":"vertical"},X=we.canGoNext=function(k){var E=!0;return k.infinite||(k.centerMode&&k.currentSlide>=k.slideCount-1||k.slideCount<=k.slidesToShow||k.currentSlide>=k.slideCount-k.slidesToShow)&&(E=!1),E};we.extractObject=function(k,E){var V={};return E.forEach(function(Y){return V[Y]=k[Y]}),V},we.initializedState=function(k){var E=n.default.Children.count(k.children),V=k.listRef,Y=Math.ceil($(V)),J=k.trackRef&&k.trackRef.node,ne=Math.ceil($(J)),ce;if(k.vertical)ce=Y;else{var ye=k.centerMode&&parseInt(k.centerPadding)*2;typeof k.centerPadding=="string"&&k.centerPadding.slice(-1)==="%"&&(ye*=Y/100),ce=Math.ceil((Y-ye)/k.slidesToShow)}var Se=V&&H(V.querySelector('[data-index="0"]')),ke=Se*k.slidesToShow,xe=k.currentSlide===void 0?k.initialSlide:k.currentSlide;k.rtl&&k.currentSlide===void 0&&(xe=E-1-k.initialSlide);var _e=k.lazyLoadedList||[],We=x(l(l({},k),{},{currentSlide:xe,lazyLoadedList:_e}));_e=_e.concat(We);var Oe={slideCount:E,slideWidth:ce,listWidth:Y,trackWidth:ne,currentSlide:xe,slideHeight:Se,listHeight:ke,lazyLoadedList:_e};return k.autoplaying===null&&k.autoplay&&(Oe.autoplaying="playing"),Oe},we.slideHandler=function(k){var E=k.waitForAnimate,V=k.animating,Y=k.fade,J=k.infinite,ne=k.index,ce=k.slideCount,ye=k.lazyLoad,Se=k.currentSlide,ke=k.centerMode,xe=k.slidesToScroll,_e=k.slidesToShow,We=k.useCSS,Oe=k.lazyLoadedList;if(E&&V)return{};var Ae=ne,Ue,ct,Pe,dt={},gt={},yt=J?ne:m(ne,0,ce-1);if(Y){if(!J&&(ne<0||ne>=ce))return{};ne<0?Ae=ne+ce:ne>=ce&&(Ae=ne-ce),ye&&Oe.indexOf(Ae)<0&&(Oe=Oe.concat(Ae)),dt={animating:!0,currentSlide:Ae,lazyLoadedList:Oe,targetSlide:Ae},gt={animating:!1,targetSlide:Ae}}else Ue=Ae,Ae<0?(Ue=Ae+ce,J?ce%xe!==0&&(Ue=ce-ce%xe):Ue=0):!X(k)&&Ae>Se?Ae=Ue=Se:ke&&Ae>=ce?(Ae=J?ce:ce-1,Ue=J?0:ce-1):Ae>=ce&&(Ue=Ae-ce,J?ce%xe!==0&&(Ue=0):Ue=ce-_e),!J&&Ae+_e>=ce&&(Ue=ce-_e),ct=_(l(l({},k),{},{slideIndex:Ae})),Pe=_(l(l({},k),{},{slideIndex:Ue})),J||(ct===Pe&&(Ae=Ue),ct=Pe),ye&&(Oe=Oe.concat(x(l(l({},k),{},{currentSlide:Ae})))),We?(dt={animating:!0,currentSlide:Ue,trackStyle:b(l(l({},k),{},{left:ct})),lazyLoadedList:Oe,targetSlide:yt},gt={animating:!1,currentSlide:Ue,trackStyle:I(l(l({},k),{},{left:Pe})),swipeLeft:null,targetSlide:yt}):dt={currentSlide:Ue,trackStyle:I(l(l({},k),{},{left:Pe})),lazyLoadedList:Oe,targetSlide:yt};return{state:dt,nextState:gt}},we.changeSlide=function(k,E){var V,Y,J,ne,ce,ye=k.slidesToScroll,Se=k.slidesToShow,ke=k.slideCount,xe=k.currentSlide,_e=k.targetSlide,We=k.lazyLoad,Oe=k.infinite;if(ne=ke%ye!==0,V=ne?0:(ke-xe)%ye,E.message==="previous")J=V===0?ye:Se-V,ce=xe-J,We&&!Oe&&(Y=xe-J,ce=Y===-1?ke-1:Y),Oe||(ce=_e-ye);else if(E.message==="next")J=V===0?ye:V,ce=xe+J,We&&!Oe&&(ce=(xe+ye)%ke+V),Oe||(ce=_e+ye);else if(E.message==="dots")ce=E.index*E.slidesToScroll;else if(E.message==="children"){if(ce=E.index,Oe){var Ae=se(l(l({},k),{},{targetSlide:ce}));ce>E.currentSlide&&Ae==="left"?ce=ce-ke:ce<E.currentSlide&&Ae==="right"&&(ce=ce+ke)}}else E.message==="index"&&(ce=Number(E.index));return ce},we.keyHandler=function(k,E,V){return k.target.tagName.match("TEXTAREA|INPUT|SELECT")||!E?"":k.keyCode===37?V?"next":"previous":k.keyCode===39?V?"previous":"next":""},we.swipeStart=function(k,E,V){return k.target.tagName==="IMG"&&v(k),!E||!V&&k.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:k.touches?k.touches[0].pageX:k.clientX,startY:k.touches?k.touches[0].pageY:k.clientY,curX:k.touches?k.touches[0].pageX:k.clientX,curY:k.touches?k.touches[0].pageY:k.clientY}}},we.swipeMove=function(k,E){var V=E.scrolling,Y=E.animating,J=E.vertical,ne=E.swipeToSlide,ce=E.verticalSwiping,ye=E.rtl,Se=E.currentSlide,ke=E.edgeFriction,xe=E.edgeDragged,_e=E.onEdge,We=E.swiped,Oe=E.swiping,Ae=E.slideCount,Ue=E.slidesToScroll,ct=E.infinite,Pe=E.touchObject,dt=E.swipeEvent,gt=E.listHeight,yt=E.listWidth;if(!V){if(Y)return v(k);J&&ne&&ce&&v(k);var It,Rn={},Ui=_(E);Pe.curX=k.touches?k.touches[0].pageX:k.clientX,Pe.curY=k.touches?k.touches[0].pageY:k.clientY,Pe.swipeLength=Math.round(Math.sqrt(Math.pow(Pe.curX-Pe.startX,2)));var Fi=Math.round(Math.sqrt(Math.pow(Pe.curY-Pe.startY,2)));if(!ce&&!Oe&&Fi>10)return{scrolling:!0};ce&&(Pe.swipeLength=Fi);var Lt=(ye?-1:1)*(Pe.curX>Pe.startX?1:-1);ce&&(Lt=Pe.curY>Pe.startY?1:-1);var Hs=Math.ceil(Ae/Ue),st=B(E.touchObject,ce),vt=Pe.swipeLength;return ct||(Se===0&&(st==="right"||st==="down")||Se+1>=Hs&&(st==="left"||st==="up")||!X(E)&&(st==="left"||st==="up"))&&(vt=Pe.swipeLength*ke,xe===!1&&_e&&(_e(st),Rn.edgeDragged=!0)),!We&&dt&&(dt(st),Rn.swiped=!0),J?It=Ui+vt*(gt/yt)*Lt:ye?It=Ui-vt*Lt:It=Ui+vt*Lt,ce&&(It=Ui+vt*Lt),Rn=l(l({},Rn),{},{touchObject:Pe,swipeLeft:It,trackStyle:I(l(l({},E),{},{left:It}))}),Math.abs(Pe.curX-Pe.startX)<Math.abs(Pe.curY-Pe.startY)*.8||Pe.swipeLength>10&&(Rn.swiping=!0,v(k)),Rn}},we.swipeEnd=function(k,E){var V=E.dragging,Y=E.swipe,J=E.touchObject,ne=E.listWidth,ce=E.touchThreshold,ye=E.verticalSwiping,Se=E.listHeight,ke=E.swipeToSlide,xe=E.scrolling,_e=E.onSwipe,We=E.targetSlide,Oe=E.currentSlide,Ae=E.infinite;if(!V)return Y&&v(k),{};var Ue=ye?Se/ce:ne/ce,ct=B(J,ye),Pe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(xe||!J.swipeLength)return Pe;if(J.swipeLength>Ue){v(k),_e&&_e(ct);var dt,gt,yt=Ae?Oe:We;switch(ct){case"left":case"up":gt=yt+q(E),dt=ke?F(E,gt):gt,Pe.currentDirection=0;break;case"right":case"down":gt=yt-q(E),dt=ke?F(E,gt):gt,Pe.currentDirection=1;break;default:dt=yt}Pe.triggerSlideHandler=dt}else{var It=_(E);Pe.trackStyle=b(l(l({},E),{},{left:It}))}return Pe};var le=we.getNavigableIndexes=function(k){for(var E=k.infinite?k.slideCount*2:k.slideCount,V=k.infinite?k.slidesToShow*-1:0,Y=k.infinite?k.slidesToShow*-1:0,J=[];V<E;)J.push(V),V=Y+k.slidesToScroll,Y+=Math.min(k.slidesToScroll,k.slidesToShow);return J},F=we.checkNavigable=function(k,E){var V=le(k),Y=0;if(E>V[V.length-1])E=V[V.length-1];else for(var J in V){if(E<V[J]){E=Y;break}Y=V[J]}return E},q=we.getSlideCount=function(k){var E=k.centerMode?k.slideWidth*Math.floor(k.slidesToShow/2):0;if(k.swipeToSlide){var V,Y=k.listRef,J=Y.querySelectorAll&&Y.querySelectorAll(".slick-slide")||[];if(Array.from(J).every(function(ye){if(k.vertical){if(ye.offsetTop+H(ye)/2>k.swipeLeft*-1)return V=ye,!1}else if(ye.offsetLeft-E+$(ye)/2>k.swipeLeft*-1)return V=ye,!1;return!0}),!V)return 0;var ne=k.rtl===!0?k.slideCount-k.currentSlide:k.currentSlide,ce=Math.abs(V.dataset.index-ne)||1;return ce}else return k.slidesToScroll},N=we.checkSpecKeys=function(k,E){return E.reduce(function(V,Y){return V&&k.hasOwnProperty(Y)},!0)?null:console.error("Keys Missing:",k)},I=we.getTrackCSS=function(k){N(k,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var E,V,Y=k.slideCount+2*k.slidesToShow;k.vertical?V=Y*k.slideHeight:E=C(k)*k.slideWidth;var J={opacity:1,transition:"",WebkitTransition:""};if(k.useTransform){var ne=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",ce=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",ye=k.vertical?"translateY("+k.left+"px)":"translateX("+k.left+"px)";J=l(l({},J),{},{WebkitTransform:ne,transform:ce,msTransform:ye})}else k.vertical?J.top=k.left:J.left=k.left;return k.fade&&(J={opacity:1}),E&&(J.width=E),V&&(J.height=V),window&&!window.addEventListener&&window.attachEvent&&(k.vertical?J.marginTop=k.left+"px":J.marginLeft=k.left+"px"),J},b=we.getTrackAnimateCSS=function(k){N(k,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var E=I(k);return k.useTransform?(E.WebkitTransition="-webkit-transform "+k.speed+"ms "+k.cssEase,E.transition="transform "+k.speed+"ms "+k.cssEase):k.vertical?E.transition="top "+k.speed+"ms "+k.cssEase:E.transition="left "+k.speed+"ms "+k.cssEase,E},_=we.getTrackLeft=function(k){if(k.unslick)return 0;N(k,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var E=k.slideIndex,V=k.trackRef,Y=k.infinite,J=k.centerMode,ne=k.slideCount,ce=k.slidesToShow,ye=k.slidesToScroll,Se=k.slideWidth,ke=k.listWidth,xe=k.variableWidth,_e=k.slideHeight,We=k.fade,Oe=k.vertical,Ae=0,Ue,ct,Pe=0;if(We||k.slideCount===1)return 0;var dt=0;if(Y?(dt=-M(k),ne%ye!==0&&E+ye>ne&&(dt=-(E>ne?ce-(E-ne):ne%ye)),J&&(dt+=parseInt(ce/2))):(ne%ye!==0&&E+ye>ne&&(dt=ce-ne%ye),J&&(dt=parseInt(ce/2))),Ae=dt*Se,Pe=dt*_e,Oe?Ue=E*_e*-1+Pe:Ue=E*Se*-1+Ae,xe===!0){var gt,yt=V&&V.node;if(gt=E+M(k),ct=yt&&yt.childNodes[gt],Ue=ct?ct.offsetLeft*-1:0,J===!0){gt=Y?E+M(k):E,ct=yt&&yt.children[gt],Ue=0;for(var It=0;It<gt;It++)Ue-=yt&&yt.children[It]&&yt.children[It].offsetWidth;Ue-=parseInt(k.centerPadding),Ue+=ct&&(ke-ct.offsetWidth)/2}}return Ue},M=we.getPreClones=function(k){return k.unslick||!k.infinite?0:k.variableWidth?k.slideCount:k.slidesToShow+(k.centerMode?1:0)},j=we.getPostClones=function(k){return k.unslick||!k.infinite?0:k.slideCount},C=we.getTotalSlides=function(k){return k.slideCount===1?1:M(k)+k.slideCount+j(k)},se=we.siblingDirection=function(k){return k.targetSlide>k.currentSlide?k.targetSlide>k.currentSlide+pe(k)?"left":"right":k.targetSlide<k.currentSlide-te(k)?"right":"left"},pe=we.slidesOnRight=function(k){var E=k.slidesToShow,V=k.centerMode,Y=k.rtl,J=k.centerPadding;if(V){var ne=(E-1)/2+1;return parseInt(J)>0&&(ne+=1),Y&&E%2===0&&(ne+=1),ne}return Y?0:E-1},te=we.slidesOnLeft=function(k){var E=k.slidesToShow,V=k.centerMode,Y=k.rtl,J=k.centerPadding;if(V){var ne=(E-1)/2+1;return parseInt(J)>0&&(ne+=1),!Y&&E%2===0&&(ne+=1),ne}return Y?E-1:0};we.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=we.validSettings=Object.keys(e.default);function ge(k){return T.reduce(function(E,V){return k.hasOwnProperty(V)&&(E[V]=k[V]),E},{})}return we}var gc={},Sw;function WI(){if(Sw)return gc;Sw=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.Track=void 0;var n=i(Kr()),e=i(Ah()),t=Wc();function i(b){return b&&b.__esModule?b:{default:b}}function s(b){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s(b)}function l(){return l=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var M=arguments[_];for(var j in M)Object.prototype.hasOwnProperty.call(M,j)&&(b[j]=M[j])}return b},l.apply(this,arguments)}function u(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function p(b,_){for(var M=0;M<_.length;M++){var j=_[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,X(j.key),j)}}function f(b,_,M){return _&&p(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b}function m(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),_&&v(b,_)}function v(b,_){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,j){return M.__proto__=j,M},v(b,_)}function x(b){var _=U();return function(){var M=D(b),j;if(_){var C=D(this).constructor;j=Reflect.construct(M,arguments,C)}else j=M.apply(this,arguments);return A(this,j)}}function A(b,_){if(_&&(s(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(b)}function P(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function U(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!b})()}function D(b){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},D(b)}function $(b,_){var M=Object.keys(b);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(b);_&&(j=j.filter(function(C){return Object.getOwnPropertyDescriptor(b,C).enumerable})),M.push.apply(M,j)}return M}function H(b){for(var _=1;_<arguments.length;_++){var M=arguments[_]!=null?arguments[_]:{};_%2?$(Object(M),!0).forEach(function(j){B(b,j,M[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(M)):$(Object(M)).forEach(function(j){Object.defineProperty(b,j,Object.getOwnPropertyDescriptor(M,j))})}return b}function B(b,_,M){return _=X(_),_ in b?Object.defineProperty(b,_,{value:M,enumerable:!0,configurable:!0,writable:!0}):b[_]=M,b}function X(b){var _=le(b,"string");return s(_)=="symbol"?_:String(_)}function le(b,_){if(s(b)!="object"||!b)return b;var M=b[Symbol.toPrimitive];if(M!==void 0){var j=M.call(b,_);if(s(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}var F=function(b){var _,M,j,C,se;b.rtl?se=b.slideCount-1-b.index:se=b.index,j=se<0||se>=b.slideCount,b.centerMode?(C=Math.floor(b.slidesToShow/2),M=(se-b.currentSlide)%b.slideCount===0,se>b.currentSlide-C-1&&se<=b.currentSlide+C&&(_=!0)):_=b.currentSlide<=se&&se<b.currentSlide+b.slidesToShow;var pe;b.targetSlide<0?pe=b.targetSlide+b.slideCount:b.targetSlide>=b.slideCount?pe=b.targetSlide-b.slideCount:pe=b.targetSlide;var te=se===pe;return{"slick-slide":!0,"slick-active":_,"slick-center":M,"slick-cloned":j,"slick-current":te}},q=function(b){var _={};return(b.variableWidth===void 0||b.variableWidth===!1)&&(_.width=b.slideWidth),b.fade&&(_.position="relative",b.vertical?_.top=-b.index*parseInt(b.slideHeight):_.left=-b.index*parseInt(b.slideWidth),_.opacity=b.currentSlide===b.index?1:0,_.zIndex=b.currentSlide===b.index?999:998,b.useCSS&&(_.transition="opacity "+b.speed+"ms "+b.cssEase+", visibility "+b.speed+"ms "+b.cssEase)),_},N=function(b,_){return b.key||_},I=function(b){var _,M=[],j=[],C=[],se=n.default.Children.count(b.children),pe=(0,t.lazyStartIndex)(b),te=(0,t.lazyEndIndex)(b);return n.default.Children.forEach(b.children,function(T,ge){var k,E={message:"children",index:ge,slidesToScroll:b.slidesToScroll,currentSlide:b.currentSlide};!b.lazyLoad||b.lazyLoad&&b.lazyLoadedList.indexOf(ge)>=0?k=T:k=n.default.createElement("div",null);var V=q(H(H({},b),{},{index:ge})),Y=k.props.className||"",J=F(H(H({},b),{},{index:ge}));if(M.push(n.default.cloneElement(k,{key:"original"+N(k,ge),"data-index":ge,className:(0,e.default)(J,Y),tabIndex:"-1","aria-hidden":!J["slick-active"],style:H(H({outline:"none"},k.props.style||{}),V),onClick:function(ce){k.props&&k.props.onClick&&k.props.onClick(ce),b.focusOnSelect&&b.focusOnSelect(E)}})),b.infinite&&b.fade===!1){var ne=se-ge;ne<=(0,t.getPreClones)(b)&&(_=-ne,_>=pe&&(k=T),J=F(H(H({},b),{},{index:_})),j.push(n.default.cloneElement(k,{key:"precloned"+N(k,_),"data-index":_,tabIndex:"-1",className:(0,e.default)(J,Y),"aria-hidden":!J["slick-active"],style:H(H({},k.props.style||{}),V),onClick:function(ce){k.props&&k.props.onClick&&k.props.onClick(ce),b.focusOnSelect&&b.focusOnSelect(E)}}))),_=se+ge,_<te&&(k=T),J=F(H(H({},b),{},{index:_})),C.push(n.default.cloneElement(k,{key:"postcloned"+N(k,_),"data-index":_,tabIndex:"-1",className:(0,e.default)(J,Y),"aria-hidden":!J["slick-active"],style:H(H({},k.props.style||{}),V),onClick:function(ce){k.props&&k.props.onClick&&k.props.onClick(ce),b.focusOnSelect&&b.focusOnSelect(E)}}))}}),b.rtl?j.concat(M,C).reverse():j.concat(M,C)};return gc.Track=function(b){m(M,b);var _=x(M);function M(){var j;u(this,M);for(var C=arguments.length,se=new Array(C),pe=0;pe<C;pe++)se[pe]=arguments[pe];return j=_.call.apply(_,[this].concat(se)),B(P(j),"node",null),B(P(j),"handleRef",function(te){j.node=te}),j}return f(M,[{key:"render",value:function(){var j=I(this.props),C=this.props,se=C.onMouseEnter,pe=C.onMouseOver,te=C.onMouseLeave,T={onMouseEnter:se,onMouseOver:pe,onMouseLeave:te};return n.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},T),j)}}]),M}(n.default.PureComponent),gc}var yc={},kw;function KI(){if(kw)return yc;kw=1;function n(F){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},n(F)}Object.defineProperty(yc,"__esModule",{value:!0}),yc.Dots=void 0;var e=s(Kr()),t=s(Ah()),i=Wc();function s(F){return F&&F.__esModule?F:{default:F}}function l(F,q){var N=Object.keys(F);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(F);q&&(I=I.filter(function(b){return Object.getOwnPropertyDescriptor(F,b).enumerable})),N.push.apply(N,I)}return N}function u(F){for(var q=1;q<arguments.length;q++){var N=arguments[q]!=null?arguments[q]:{};q%2?l(Object(N),!0).forEach(function(I){p(F,I,N[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(N)):l(Object(N)).forEach(function(I){Object.defineProperty(F,I,Object.getOwnPropertyDescriptor(N,I))})}return F}function p(F,q,N){return q=x(q),q in F?Object.defineProperty(F,q,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[q]=N,F}function f(F,q){if(!(F instanceof q))throw new TypeError("Cannot call a class as a function")}function m(F,q){for(var N=0;N<q.length;N++){var I=q[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,x(I.key),I)}}function v(F,q,N){return q&&m(F.prototype,q),Object.defineProperty(F,"prototype",{writable:!1}),F}function x(F){var q=A(F,"string");return n(q)=="symbol"?q:String(q)}function A(F,q){if(n(F)!="object"||!F)return F;var N=F[Symbol.toPrimitive];if(N!==void 0){var I=N.call(F,q);if(n(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}function P(F,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(q&&q.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),q&&U(F,q)}function U(F,q){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,I){return N.__proto__=I,N},U(F,q)}function D(F){var q=B();return function(){var N=X(F),I;if(q){var b=X(this).constructor;I=Reflect.construct(N,arguments,b)}else I=N.apply(this,arguments);return $(this,I)}}function $(F,q){if(q&&(n(q)==="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(F)}function H(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function B(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!F})()}function X(F){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},X(F)}var le=function(F){var q;return F.infinite?q=Math.ceil(F.slideCount/F.slidesToScroll):q=Math.ceil((F.slideCount-F.slidesToShow)/F.slidesToScroll)+1,q};return yc.Dots=function(F){P(N,F);var q=D(N);function N(){return f(this,N),q.apply(this,arguments)}return v(N,[{key:"clickHandler",value:function(I,b){b.preventDefault(),this.props.clickHandler(I)}},{key:"render",value:function(){for(var I=this.props,b=I.onMouseEnter,_=I.onMouseOver,M=I.onMouseLeave,j=I.infinite,C=I.slidesToScroll,se=I.slidesToShow,pe=I.slideCount,te=I.currentSlide,T=le({slideCount:pe,slidesToScroll:C,slidesToShow:se,infinite:j}),ge={onMouseEnter:b,onMouseOver:_,onMouseLeave:M},k=[],E=0;E<T;E++){var V=(E+1)*C-1,Y=j?V:(0,i.clamp)(V,0,pe-1),J=Y-(C-1),ne=j?J:(0,i.clamp)(J,0,pe-1),ce=(0,t.default)({"slick-active":j?te>=ne&&te<=Y:te===ne}),ye={message:"dots",index:E,slidesToScroll:C,currentSlide:te},Se=this.clickHandler.bind(this,ye);k=k.concat(e.default.createElement("li",{key:E,className:ce},e.default.cloneElement(this.props.customPaging(E),{onClick:Se})))}return e.default.cloneElement(this.props.appendDots(k),u({className:this.props.dotsClass},ge))}}]),N}(e.default.PureComponent),yc}var Es={},Ew;function QI(){if(Ew)return Es;Ew=1;function n(F){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},n(F)}Object.defineProperty(Es,"__esModule",{value:!0}),Es.PrevArrow=Es.NextArrow=void 0;var e=s(Kr()),t=s(Ah()),i=Wc();function s(F){return F&&F.__esModule?F:{default:F}}function l(){return l=Object.assign?Object.assign.bind():function(F){for(var q=1;q<arguments.length;q++){var N=arguments[q];for(var I in N)Object.prototype.hasOwnProperty.call(N,I)&&(F[I]=N[I])}return F},l.apply(this,arguments)}function u(F,q){var N=Object.keys(F);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(F);q&&(I=I.filter(function(b){return Object.getOwnPropertyDescriptor(F,b).enumerable})),N.push.apply(N,I)}return N}function p(F){for(var q=1;q<arguments.length;q++){var N=arguments[q]!=null?arguments[q]:{};q%2?u(Object(N),!0).forEach(function(I){f(F,I,N[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(N)):u(Object(N)).forEach(function(I){Object.defineProperty(F,I,Object.getOwnPropertyDescriptor(N,I))})}return F}function f(F,q,N){return q=A(q),q in F?Object.defineProperty(F,q,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[q]=N,F}function m(F,q){if(!(F instanceof q))throw new TypeError("Cannot call a class as a function")}function v(F,q){for(var N=0;N<q.length;N++){var I=q[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,A(I.key),I)}}function x(F,q,N){return q&&v(F.prototype,q),Object.defineProperty(F,"prototype",{writable:!1}),F}function A(F){var q=P(F,"string");return n(q)=="symbol"?q:String(q)}function P(F,q){if(n(F)!="object"||!F)return F;var N=F[Symbol.toPrimitive];if(N!==void 0){var I=N.call(F,q);if(n(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}function U(F,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(q&&q.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),q&&D(F,q)}function D(F,q){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,I){return N.__proto__=I,N},D(F,q)}function $(F){var q=X();return function(){var N=le(F),I;if(q){var b=le(this).constructor;I=Reflect.construct(N,arguments,b)}else I=N.apply(this,arguments);return H(this,I)}}function H(F,q){if(q&&(n(q)==="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(F)}function B(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function X(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!F})()}function le(F){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},le(F)}return Es.PrevArrow=function(F){U(N,F);var q=$(N);function N(){return m(this,N),q.apply(this,arguments)}return x(N,[{key:"clickHandler",value:function(I,b){b&&b.preventDefault(),this.props.clickHandler(I,b)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-prev":!0},b=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(I["slick-disabled"]=!0,b=null);var _={key:"0","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:b},M={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},j;return this.props.prevArrow?j=e.default.cloneElement(this.props.prevArrow,p(p({},_),M)):j=e.default.createElement("button",l({key:"0",type:"button"},_)," ","Previous"),j}}]),N}(e.default.PureComponent),Es.NextArrow=function(F){U(N,F);var q=$(N);function N(){return m(this,N),q.apply(this,arguments)}return x(N,[{key:"clickHandler",value:function(I,b){b&&b.preventDefault(),this.props.clickHandler(I,b)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-next":!0},b=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(I["slick-disabled"]=!0,b=null);var _={key:"1","data-role":"none",className:(0,t.default)(I),style:{display:"block"},onClick:b},M={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},j;return this.props.nextArrow?j=e.default.cloneElement(this.props.nextArrow,p(p({},_),M)):j=e.default.createElement("button",l({key:"1",type:"button"},_)," ","Next"),j}}]),N}(e.default.PureComponent),Es}var Zk=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(s,l){return s[0]===t?(i=l,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),s=this.__entries__[i];return s&&s[1]},e.prototype.set=function(t,i){var s=n(this.__entries__,t);~s?this.__entries__[s][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,s=n(i,t);~s&&i.splice(s,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var s=0,l=this.__entries__;s<l.length;s++){var u=l[s];t.call(i,u[1],u[0])}},e}()}(),Qm=typeof window<"u"&&typeof document<"u"&&window.document===document,eh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),YI=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(eh):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),GI=2;function JI(n,e){var t=!1,i=!1,s=0;function l(){t&&(t=!1,n()),i&&p()}function u(){YI(l)}function p(){var f=Date.now();if(t){if(f-s<GI)return;i=!0}else t=!0,i=!1,setTimeout(u,e);s=f}return p}var XI=20,ZI=["top","right","bottom","left","width","height","size","weight"],eN=typeof MutationObserver<"u",tN=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=JI(this.refresh.bind(this),XI)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Qm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),eN?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Qm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,s=ZI.some(function(l){return!!~i.indexOf(l)});s&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),eE=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var s=i[t];Object.defineProperty(n,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return n},qo=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||eh},tE=Oh(0,0,0,0);function th(n){return parseFloat(n)||0}function _w(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,s){var l=n["border-"+s+"-width"];return i+th(l)},0)}function nN(n){for(var e=["top","right","bottom","left"],t={},i=0,s=e;i<s.length;i++){var l=s[i],u=n["padding-"+l];t[l]=th(u)}return t}function rN(n){var e=n.getBBox();return Oh(0,0,e.width,e.height)}function iN(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return tE;var i=qo(n).getComputedStyle(n),s=nN(i),l=s.left+s.right,u=s.top+s.bottom,p=th(i.width),f=th(i.height);if(i.boxSizing==="border-box"&&(Math.round(p+l)!==e&&(p-=_w(i,"left","right")+l),Math.round(f+u)!==t&&(f-=_w(i,"top","bottom")+u)),!sN(n)){var m=Math.round(p+l)-e,v=Math.round(f+u)-t;Math.abs(m)!==1&&(p-=m),Math.abs(v)!==1&&(f-=v)}return Oh(s.left,s.top,p,f)}var aN=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof qo(n).SVGGraphicsElement}:function(n){return n instanceof qo(n).SVGElement&&typeof n.getBBox=="function"}}();function sN(n){return n===qo(n).document.documentElement}function oN(n){return Qm?aN(n)?rN(n):iN(n):tE}function lN(n){var e=n.x,t=n.y,i=n.width,s=n.height,l=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(l.prototype);return eE(u,{x:e,y:t,width:i,height:s,top:t,right:e+i,bottom:s+t,left:e}),u}function Oh(n,e,t,i){return{x:n,y:e,width:t,height:i}}var cN=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Oh(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=oN(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),uN=function(){function n(e,t){var i=lN(t);eE(this,{target:e,contentRect:i})}return n}(),dN=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new Zk,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof qo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new cN(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof qo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new uN(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),nE=typeof WeakMap<"u"?new WeakMap:new Zk,rE=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=tN.getInstance(),i=new dN(e,t,this);nE.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){rE.prototype[n]=function(){var e;return(e=nE.get(this))[n].apply(e,arguments)}});var hN=function(){return typeof eh.ResizeObserver<"u"?eh.ResizeObserver:rE}();const fN=Object.freeze(Object.defineProperty({__proto__:null,default:hN},Symbol.toStringTag,{value:"Module"})),pN=cC(fN);var Tw;function mN(){if(Tw)return mc;Tw=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.InnerSlider=void 0;var n=m(Kr()),e=m(HI()),t=m(BI()),i=m(Ah()),s=Wc(),l=WI(),u=KI(),p=QI(),f=m(pN);function m(C){return C&&C.__esModule?C:{default:C}}function v(C){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},v(C)}function x(){return x=Object.assign?Object.assign.bind():function(C){for(var se=1;se<arguments.length;se++){var pe=arguments[se];for(var te in pe)Object.prototype.hasOwnProperty.call(pe,te)&&(C[te]=pe[te])}return C},x.apply(this,arguments)}function A(C,se){if(C==null)return{};var pe=P(C,se),te,T;if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(C);for(T=0;T<ge.length;T++)te=ge[T],!(se.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(C,te)&&(pe[te]=C[te])}return pe}function P(C,se){if(C==null)return{};var pe={},te=Object.keys(C),T,ge;for(ge=0;ge<te.length;ge++)T=te[ge],!(se.indexOf(T)>=0)&&(pe[T]=C[T]);return pe}function U(C,se){var pe=Object.keys(C);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(C);se&&(te=te.filter(function(T){return Object.getOwnPropertyDescriptor(C,T).enumerable})),pe.push.apply(pe,te)}return pe}function D(C){for(var se=1;se<arguments.length;se++){var pe=arguments[se]!=null?arguments[se]:{};se%2?U(Object(pe),!0).forEach(function(te){_(C,te,pe[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(pe)):U(Object(pe)).forEach(function(te){Object.defineProperty(C,te,Object.getOwnPropertyDescriptor(pe,te))})}return C}function $(C,se){if(!(C instanceof se))throw new TypeError("Cannot call a class as a function")}function H(C,se){for(var pe=0;pe<se.length;pe++){var te=se[pe];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(C,M(te.key),te)}}function B(C,se,pe){return se&&H(C.prototype,se),Object.defineProperty(C,"prototype",{writable:!1}),C}function X(C,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(se&&se.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),se&&le(C,se)}function le(C,se){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,te){return pe.__proto__=te,pe},le(C,se)}function F(C){var se=I();return function(){var pe=b(C),te;if(se){var T=b(this).constructor;te=Reflect.construct(pe,arguments,T)}else te=pe.apply(this,arguments);return q(this,te)}}function q(C,se){if(se&&(v(se)==="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(C)}function N(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function I(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!C})()}function b(C){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},b(C)}function _(C,se,pe){return se=M(se),se in C?Object.defineProperty(C,se,{value:pe,enumerable:!0,configurable:!0,writable:!0}):C[se]=pe,C}function M(C){var se=j(C,"string");return v(se)=="symbol"?se:String(se)}function j(C,se){if(v(C)!="object"||!C)return C;var pe=C[Symbol.toPrimitive];if(pe!==void 0){var te=pe.call(C,se);if(v(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(se==="string"?String:Number)(C)}return mc.InnerSlider=function(C){X(pe,C);var se=F(pe);function pe(te){var T;$(this,pe),T=se.call(this,te),_(N(T),"listRefHandler",function(k){return T.list=k}),_(N(T),"trackRefHandler",function(k){return T.track=k}),_(N(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var k=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,s.getHeight)(k)+"px"}}),_(N(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var k=(0,s.getOnDemandLazySlides)(D(D({},T.props),T.state));k.length>0&&(T.setState(function(V){return{lazyLoadedList:V.lazyLoadedList.concat(k)}}),T.props.onLazyLoad&&T.props.onLazyLoad(k))}var E=D({listRef:T.list,trackRef:T.track},T.props);T.updateState(E,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new f.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(V){V.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,V.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),_(N(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(k){return clearTimeout(k)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),_(N(T),"componentDidUpdate",function(k){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var E=(0,s.getOnDemandLazySlides)(D(D({},T.props),T.state));E.length>0&&(T.setState(function(J){return{lazyLoadedList:J.lazyLoadedList.concat(E)}}),T.props.onLazyLoad&&T.props.onLazyLoad(E))}T.adaptHeight();var V=D(D({listRef:T.list,trackRef:T.track},T.props),T.state),Y=T.didPropsChange(k);Y&&T.updateState(V,Y,function(){T.state.currentSlide>=n.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:n.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),_(N(T),"onWindowResized",function(k){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,t.default)(function(){return T.resizeWindow(k)},50),T.debouncedResize()}),_(N(T),"resizeWindow",function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=!!(T.track&&T.track.node);if(E){var V=D(D({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(V,k,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),_(N(T),"updateState",function(k,E,V){var Y=(0,s.initializedState)(k);k=D(D(D({},k),Y),{},{slideIndex:Y.currentSlide});var J=(0,s.getTrackLeft)(k);k=D(D({},k),{},{left:J});var ne=(0,s.getTrackCSS)(k);(E||n.default.Children.count(T.props.children)!==n.default.Children.count(k.children))&&(Y.trackStyle=ne),T.setState(Y,V)}),_(N(T),"ssrInit",function(){if(T.props.variableWidth){var k=0,E=0,V=[],Y=(0,s.getPreClones)(D(D(D({},T.props),T.state),{},{slideCount:T.props.children.length})),J=(0,s.getPostClones)(D(D(D({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function(Pe){V.push(Pe.props.style.width),k+=Pe.props.style.width});for(var ne=0;ne<Y;ne++)E+=V[V.length-1-ne],k+=V[V.length-1-ne];for(var ce=0;ce<J;ce++)k+=V[ce];for(var ye=0;ye<T.state.currentSlide;ye++)E+=V[ye];var Se={width:k+"px",left:-E+"px"};if(T.props.centerMode){var ke="".concat(V[T.state.currentSlide],"px");Se.left="calc(".concat(Se.left," + (100% - ").concat(ke,") / 2 ) ")}return{trackStyle:Se}}var xe=n.default.Children.count(T.props.children),_e=D(D(D({},T.props),T.state),{},{slideCount:xe}),We=(0,s.getPreClones)(_e)+(0,s.getPostClones)(_e)+xe,Oe=100/T.props.slidesToShow*We,Ae=100/We,Ue=-Ae*((0,s.getPreClones)(_e)+T.state.currentSlide)*Oe/100;T.props.centerMode&&(Ue+=(100-Ae*Oe/100)/2);var ct={width:Oe+"%",left:Ue+"%"};return{slideWidth:Ae+"%",trackStyle:ct}}),_(N(T),"checkImagesLoad",function(){var k=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],E=k.length,V=0;Array.prototype.forEach.call(k,function(Y){var J=function(){return++V&&V>=E&&T.onWindowResized()};if(!Y.onclick)Y.onclick=function(){return Y.parentNode.focus()};else{var ne=Y.onclick;Y.onclick=function(ce){ne(ce),Y.parentNode.focus()}}Y.onload||(T.props.lazyLoad?Y.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(Y.onload=J,Y.onerror=function(){J(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),_(N(T),"progressiveLazyLoad",function(){for(var k=[],E=D(D({},T.props),T.state),V=T.state.currentSlide;V<T.state.slideCount+(0,s.getPostClones)(E);V++)if(T.state.lazyLoadedList.indexOf(V)<0){k.push(V);break}for(var Y=T.state.currentSlide-1;Y>=-(0,s.getPreClones)(E);Y--)if(T.state.lazyLoadedList.indexOf(Y)<0){k.push(Y);break}k.length>0?(T.setState(function(J){return{lazyLoadedList:J.lazyLoadedList.concat(k)}}),T.props.onLazyLoad&&T.props.onLazyLoad(k)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),_(N(T),"slideHandler",function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=T.props,Y=V.asNavFor,J=V.beforeChange,ne=V.onLazyLoad,ce=V.speed,ye=V.afterChange,Se=T.state.currentSlide,ke=(0,s.slideHandler)(D(D(D({index:k},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!E})),xe=ke.state,_e=ke.nextState;if(xe){J&&J(Se,xe.currentSlide);var We=xe.lazyLoadedList.filter(function(Oe){return T.state.lazyLoadedList.indexOf(Oe)<0});ne&&We.length>0&&ne(We),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),ye&&ye(Se),delete T.animationEndCallback),T.setState(xe,function(){Y&&T.asNavForIndex!==k&&(T.asNavForIndex=k,Y.innerSlider.slideHandler(k)),_e&&(T.animationEndCallback=setTimeout(function(){var Oe=_e.animating,Ae=A(_e,["animating"]);T.setState(Ae,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:Oe})},10)),ye&&ye(xe.currentSlide),delete T.animationEndCallback})},ce))})}}),_(N(T),"changeSlide",function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=D(D({},T.props),T.state),Y=(0,s.changeSlide)(V,k);if(!(Y!==0&&!Y)&&(E===!0?T.slideHandler(Y,E):T.slideHandler(Y),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var J=T.list.querySelectorAll(".slick-current");J[0]&&J[0].focus()}}),_(N(T),"clickHandler",function(k){T.clickable===!1&&(k.stopPropagation(),k.preventDefault()),T.clickable=!0}),_(N(T),"keyHandler",function(k){var E=(0,s.keyHandler)(k,T.props.accessibility,T.props.rtl);E!==""&&T.changeSlide({message:E})}),_(N(T),"selectHandler",function(k){T.changeSlide(k)}),_(N(T),"disableBodyScroll",function(){var k=function(E){E=E||window.event,E.preventDefault&&E.preventDefault(),E.returnValue=!1};window.ontouchmove=k}),_(N(T),"enableBodyScroll",function(){window.ontouchmove=null}),_(N(T),"swipeStart",function(k){T.props.verticalSwiping&&T.disableBodyScroll();var E=(0,s.swipeStart)(k,T.props.swipe,T.props.draggable);E!==""&&T.setState(E)}),_(N(T),"swipeMove",function(k){var E=(0,s.swipeMove)(k,D(D(D({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));E&&(E.swiping&&(T.clickable=!1),T.setState(E))}),_(N(T),"swipeEnd",function(k){var E=(0,s.swipeEnd)(k,D(D(D({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(E){var V=E.triggerSlideHandler;delete E.triggerSlideHandler,T.setState(E),V!==void 0&&(T.slideHandler(V),T.props.verticalSwiping&&T.enableBodyScroll())}}),_(N(T),"touchEnd",function(k){T.swipeEnd(k),T.clickable=!0}),_(N(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),_(N(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),_(N(T),"slickGoTo",function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k=Number(k),isNaN(k))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:k,currentSlide:T.state.currentSlide},E)},0))}),_(N(T),"play",function(){var k;if(T.props.rtl)k=T.state.currentSlide-T.props.slidesToScroll;else if((0,s.canGoNext)(D(D({},T.props),T.state)))k=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(k)}),_(N(T),"autoPlay",function(k){T.autoplayTimer&&clearInterval(T.autoplayTimer);var E=T.state.autoplaying;if(k==="update"){if(E==="hovered"||E==="focused"||E==="paused")return}else if(k==="leave"){if(E==="paused"||E==="focused")return}else if(k==="blur"&&(E==="paused"||E==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),_(N(T),"pause",function(k){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var E=T.state.autoplaying;k==="paused"?T.setState({autoplaying:"paused"}):k==="focused"?(E==="hovered"||E==="playing")&&T.setState({autoplaying:"focused"}):E==="playing"&&T.setState({autoplaying:"hovered"})}),_(N(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),_(N(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),_(N(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),_(N(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),_(N(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),_(N(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),_(N(T),"render",function(){var k=(0,i.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),E=D(D({},T.props),T.state),V=(0,s.extractObject)(E,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),Y=T.props.pauseOnHover;V=D(D({},V),{},{onMouseEnter:Y?T.onTrackOver:null,onMouseLeave:Y?T.onTrackLeave:null,onMouseOver:Y?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var J;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var ne=(0,s.extractObject)(E,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ce=T.props.pauseOnDotsHover;ne=D(D({},ne),{},{clickHandler:T.changeSlide,onMouseEnter:ce?T.onDotsLeave:null,onMouseOver:ce?T.onDotsOver:null,onMouseLeave:ce?T.onDotsLeave:null}),J=n.default.createElement(u.Dots,ne)}var ye,Se,ke=(0,s.extractObject)(E,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);ke.clickHandler=T.changeSlide,T.props.arrows&&(ye=n.default.createElement(p.PrevArrow,ke),Se=n.default.createElement(p.NextArrow,ke));var xe=null;T.props.vertical&&(xe={height:T.state.listHeight});var _e=null;T.props.vertical===!1?T.props.centerMode===!0&&(_e={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(_e={padding:T.props.centerPadding+" 0px"});var We=D(D({},xe),_e),Oe=T.props.touchMove,Ae={className:"slick-list",style:We,onClick:T.clickHandler,onMouseDown:Oe?T.swipeStart:null,onMouseMove:T.state.dragging&&Oe?T.swipeMove:null,onMouseUp:Oe?T.swipeEnd:null,onMouseLeave:T.state.dragging&&Oe?T.swipeEnd:null,onTouchStart:Oe?T.swipeStart:null,onTouchMove:T.state.dragging&&Oe?T.swipeMove:null,onTouchEnd:Oe?T.touchEnd:null,onTouchCancel:T.state.dragging&&Oe?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},Ue={className:k,dir:"ltr",style:T.props.style};return T.props.unslick&&(Ae={className:"slick-list"},Ue={className:k}),n.default.createElement("div",Ue,T.props.unslick?"":ye,n.default.createElement("div",x({ref:T.listRefHandler},Ae),n.default.createElement(l.Track,x({ref:T.trackRefHandler},V),T.props.children)),T.props.unslick?"":Se,T.props.unslick?"":J)}),T.list=null,T.track=null,T.state=D(D({},e.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:n.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var ge=T.ssrInit();return T.state=D(D({},T.state),ge),T}return B(pe,[{key:"didPropsChange",value:function(te){for(var T=!1,ge=0,k=Object.keys(this.props);ge<k.length;ge++){var E=k[ge];if(!te.hasOwnProperty(E)){T=!0;break}if(!(v(te[E])==="object"||typeof te[E]=="function"||isNaN(te[E]))&&te[E]!==this.props[E]){T=!0;break}}return T||n.default.Children.count(this.props.children)!==n.default.Children.count(te.children)}}]),pe}(n.default.Component),mc}var Sm,xw;function gN(){if(xw)return Sm;xw=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return Sm=n,Sm}var km,Cw;function yN(){if(Cw)return km;Cw=1;var n=gN(),e=function(s){var l=/[height|width]$/;return l.test(s)},t=function(s){var l="",u=Object.keys(s);return u.forEach(function(p,f){var m=s[p];p=n(p),e(p)&&typeof m=="number"&&(m=m+"px"),m===!0?l+=p:m===!1?l+="not "+p:l+="("+p+": "+m+")",f<u.length-1&&(l+=" and ")}),l},i=function(s){var l="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(u,p){l+=t(u),p<s.length-1&&(l+=", ")}),l):t(s)};return km=i,km}var Em,Iw;function vN(){if(Iw)return Em;Iw=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Em=n,Em}var _m,Nw;function iE(){if(Nw)return _m;Nw=1;function n(i,s){var l=0,u=i.length,p;for(l;l<u&&(p=s(i[l],l),p!==!1);l++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return _m={isFunction:t,isArray:e,each:n},_m}var Tm,Aw;function bN(){if(Aw)return Tm;Aw=1;var n=vN(),e=iE().each;function t(i,s){this.query=i,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(i);var l=this;this.listener=function(u){l.mql=u.currentTarget||u,l.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var s=new n(i);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(i){var s=this.handlers;e(s,function(l,u){if(l.equals(i))return l.destroy(),!s.splice(u,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(s){s[i]()})}},Tm=t,Tm}var xm,Ow;function wN(){if(Ow)return xm;Ow=1;var n=bN(),e=iE(),t=e.each,i=e.isFunction,s=e.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return l.prototype={constructor:l,register:function(u,p,f){var m=this.queries,v=f&&this.browserIsIncapable;return m[u]||(m[u]=new n(u,v)),i(p)&&(p={match:p}),s(p)||(p=[p]),t(p,function(x){i(x)&&(x={match:x}),m[u].addHandler(x)}),this},unregister:function(u,p){var f=this.queries[u];return f&&(p?f.removeHandler(p):(f.clear(),delete this.queries[u])),this}},xm=l,xm}var Cm,Rw;function SN(){if(Rw)return Cm;Rw=1;var n=wN();return Cm=new n,Cm}var Pw;function kN(){return Pw||(Pw=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=u(Kr()),t=mN(),i=u(yN()),s=u(Xk()),l=Wc();function u(b){return b&&b.__esModule?b:{default:b}}function p(b){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},p(b)}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var M=arguments[_];for(var j in M)Object.prototype.hasOwnProperty.call(M,j)&&(b[j]=M[j])}return b},f.apply(this,arguments)}function m(b,_){var M=Object.keys(b);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(b);_&&(j=j.filter(function(C){return Object.getOwnPropertyDescriptor(b,C).enumerable})),M.push.apply(M,j)}return M}function v(b){for(var _=1;_<arguments.length;_++){var M=arguments[_]!=null?arguments[_]:{};_%2?m(Object(M),!0).forEach(function(j){F(b,j,M[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(M)):m(Object(M)).forEach(function(j){Object.defineProperty(b,j,Object.getOwnPropertyDescriptor(M,j))})}return b}function x(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function A(b,_){for(var M=0;M<_.length;M++){var j=_[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(b,q(j.key),j)}}function P(b,_,M){return _&&A(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b}function U(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),_&&D(b,_)}function D(b,_){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,j){return M.__proto__=j,M},D(b,_)}function $(b){var _=X();return function(){var M=le(b),j;if(_){var C=le(this).constructor;j=Reflect.construct(M,arguments,C)}else j=M.apply(this,arguments);return H(this,j)}}function H(b,_){if(_&&(p(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(b)}function B(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function X(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X=function(){return!!b})()}function le(b){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},le(b)}function F(b,_,M){return _=q(_),_ in b?Object.defineProperty(b,_,{value:M,enumerable:!0,configurable:!0,writable:!0}):b[_]=M,b}function q(b){var _=N(b,"string");return p(_)=="symbol"?_:String(_)}function N(b,_){if(p(b)!="object"||!b)return b;var M=b[Symbol.toPrimitive];if(M!==void 0){var j=M.call(b,_);if(p(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}var I=(0,l.canUseDOM)()&&SN();n.default=function(b){U(M,b);var _=$(M);function M(j){var C;return x(this,M),C=_.call(this,j),F(B(C),"innerSliderRefHandler",function(se){return C.innerSlider=se}),F(B(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),F(B(C),"slickNext",function(){return C.innerSlider.slickNext()}),F(B(C),"slickGoTo",function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(se,pe)}),F(B(C),"slickPause",function(){return C.innerSlider.pause("paused")}),F(B(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return P(M,[{key:"media",value:function(j,C){I.register(j,C),this._responsiveMediaHandlers.push({query:j,handler:C})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var C=this.props.responsive.map(function(pe){return pe.breakpoint});C.sort(function(pe,te){return pe-te}),C.forEach(function(pe,te){var T;te===0?T=(0,i.default)({minWidth:0,maxWidth:pe}):T=(0,i.default)({minWidth:C[te-1]+1,maxWidth:pe}),(0,l.canUseDOM)()&&j.media(T,function(){j.setState({breakpoint:pe})})});var se=(0,i.default)({minWidth:C.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(se,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){I.unregister(j.query,j.handler)})}},{key:"render",value:function(){var j=this,C,se;this.state.breakpoint?(se=this.props.responsive.filter(function(ne){return ne.breakpoint===j.state.breakpoint}),C=se[0].settings==="unslick"?"unslick":v(v(v({},s.default),this.props),se[0].settings)):C=v(v({},s.default),this.props),C.centerMode&&(C.slidesToScroll>1,C.slidesToScroll=1),C.fade&&(C.slidesToShow>1,C.slidesToScroll>1,C.slidesToShow=1,C.slidesToScroll=1);var pe=e.default.Children.toArray(this.props.children);pe=pe.filter(function(ne){return typeof ne=="string"?!!ne.trim():!!ne}),C.variableWidth&&(C.rows>1||C.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),C.variableWidth=!1);for(var te=[],T=null,ge=0;ge<pe.length;ge+=C.rows*C.slidesPerRow){for(var k=[],E=ge;E<ge+C.rows*C.slidesPerRow;E+=C.slidesPerRow){for(var V=[],Y=E;Y<E+C.slidesPerRow&&(C.variableWidth&&pe[Y].props.style&&(T=pe[Y].props.style.width),!(Y>=pe.length));Y+=1)V.push(e.default.cloneElement(pe[Y],{key:100*ge+10*E+Y,tabIndex:-1,style:{width:"".concat(100/C.slidesPerRow,"%"),display:"inline-block"}}));k.push(e.default.createElement("div",{key:10*ge+E},V))}C.variableWidth?te.push(e.default.createElement("div",{key:ge,style:{width:T}},k)):te.push(e.default.createElement("div",{key:ge},k))}if(C==="unslick"){var J="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:J},pe)}else te.length<=C.slidesToShow&&!C.infinite&&(C.unslick=!0);return e.default.createElement(t.InnerSlider,f({style:this.props.style,ref:this.innerSliderRefHandler},(0,l.filterSettings)(C)),te)}}]),M}(e.default.Component)}(hw)),hw}var Lw;function EN(){return Lw||(Lw=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(kN());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(dw)),dw}var _N=EN();const Rh=Rg(_N),TN=()=>{const n=[{id:1,image:"banner1.jpg",title:"¡Oferta Especial! 35% OFF"},{id:2,image:"banner2.jpg",title:"Nuevos Lanzamientos"},{id:3,image:"banner3.jpg",title:"Envíos Gratis Hoy"},{id:4,image:"banner4.jpg",title:"Descuentos Exclusivos"}],e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3};return R.jsx("div",{className:"bg-body text-white",children:R.jsx(Rh,{...e,children:n.map(t=>R.jsxs("div",{className:"relative outline-none",children:[R.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[500px] object-cover"}),R.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:R.jsx("h2",{className:"text-4xl font-bold text-white",children:t.title})})]},t.id))})})},xN=()=>{};var Dw={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},CN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],u=n[t++],p=n[t++],f=((s&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|u&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],u=s+1<n.length,p=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,v=l>>2,x=(l&3)<<4|p>>4;let A=(p&15)<<2|m>>6,P=m&63;f||(P=64,u||(A=64)),i.push(t[v],t[x],t[A],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const f=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||u==null||p==null||f==null)throw new IN;const m=l<<2|u>>4;if(i.push(m),p!==64){const v=u<<4&240|p>>2;if(i.push(v),f!==64){const x=p<<6&192|f;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class IN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NN=function(n){const e=aE(n);return sE.encodeByteArray(e,!0)},nh=function(n){return NN(n).replace(/\./g,"")},oE=function(n){try{return sE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function AN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ON=()=>AN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof Dw>"u")return;const n=Dw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&oE(n[1]);return e&&JSON.parse(e)},Ph=()=>{try{return xN()||ON()||RN()||PN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lE=n=>{var e,t;return(t=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cE=n=>{const e=lE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},uE=()=>{var n;return(n=Ph())===null||n===void 0?void 0:n.config},dE=n=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${n}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nh(JSON.stringify(t)),nh(JSON.stringify(u)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function MN(){var n;const e=(n=Ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zN(){return!MN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pE(){try{return typeof indexedDB=="object"}catch{return!1}}function mE(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function VN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $N="FirebaseError";class lr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$N,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],u=l?qN(l,i):"Error",p=`${this.serviceName}: ${u} (${s}).`;return new lr(s,p,i)}}function qN(n,e){return n.replace(HN,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const HN=/\{\$([^}]+)}/g;function BN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],u=e[s];if(Mw(l)&&Mw(u)){if(!Pa(l,u))return!1}else if(l!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Mw(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Kc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function bc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[i,s]=t.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WN(n,e){const t=new KN(n,e);return t.subscribe.bind(t)}class KN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");QN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Im),s.error===void 0&&(s.error=Im),s.complete===void 0&&(s.complete=Im);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Im(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YN=1e3,GN=2,JN=4*60*60*1e3,XN=.5;function jw(n,e=YN,t=GN){const i=e*Math.pow(t,n),s=Math.round(XN*i*(Math.random()-.5)*2);return Math.min(JN,i+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Et(n){return n&&n._delegate?n._delegate:n}class sr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _s="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new LN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t2(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);i===p&&u.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e2(n){return n===_s?void 0:n}function t2(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const r2={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},i2=Ke.INFO,a2={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},s2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=a2[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lh{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const o2=(n,e)=>e.some(t=>n instanceof t);let Uw,Fw;function l2(){return Uw||(Uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return Fw||(Fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,Ym=new WeakMap,yE=new WeakMap,Nm=new WeakMap,Ug=new WeakMap;function u2(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ia(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&gE.set(t,n)}).catch(()=>{}),Ug.set(e,n),e}function d2(n){if(Ym.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Ym.set(n,e)}let Gm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ym.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ia(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function h2(n){Gm=n(Gm)}function f2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Am(this),e,...t);return yE.set(i,e.sort?e.sort():[e]),Ia(i)}:c2().includes(n)?function(...e){return n.apply(Am(this),e),Ia(gE.get(this))}:function(...e){return Ia(n.apply(Am(this),e))}}function p2(n){return typeof n=="function"?f2(n):(n instanceof IDBTransaction&&d2(n),o2(n,l2())?new Proxy(n,Gm):n)}function Ia(n){if(n instanceof IDBRequest)return u2(n);if(Nm.has(n))return Nm.get(n);const e=p2(n);return e!==n&&(Nm.set(n,e),Ug.set(e,n)),e}const Am=n=>Ug.get(n);function vE(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const u=indexedDB.open(n,e),p=Ia(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ia(u.result),f.oldVersion,f.newVersion,Ia(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),p.then(f=>{l&&f.addEventListener("close",()=>l()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const m2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Om=new Map;function zw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=g2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||m2.includes(t)))return;const l=async function(u,...p){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(p.shift())),(await Promise.all([m[t](...p),s&&f.done]))[0]};return Om.set(e,l),l}h2(n=>({...n,get:(e,t,i)=>zw(e,t)||n.get(e,t,i),has:(e,t)=>!!zw(e,t)||n.has(e,t)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(v2(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(" ")}}function v2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",Vw="0.11.2";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ri=new Lh("@firebase/app"),b2="@firebase/app-compat",w2="@firebase/analytics-compat",S2="@firebase/analytics",k2="@firebase/app-check-compat",E2="@firebase/app-check",_2="@firebase/auth",T2="@firebase/auth-compat",x2="@firebase/database",C2="@firebase/data-connect",I2="@firebase/database-compat",N2="@firebase/functions",A2="@firebase/functions-compat",O2="@firebase/installations",R2="@firebase/installations-compat",P2="@firebase/messaging",L2="@firebase/messaging-compat",D2="@firebase/performance",M2="@firebase/performance-compat",j2="@firebase/remote-config",U2="@firebase/remote-config-compat",F2="@firebase/storage",z2="@firebase/storage-compat",V2="@firebase/firestore",$2="@firebase/vertexai",q2="@firebase/firestore-compat",H2="firebase",B2="11.4.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xm="[DEFAULT]",W2={[Jm]:"fire-core",[b2]:"fire-core-compat",[S2]:"fire-analytics",[w2]:"fire-analytics-compat",[E2]:"fire-app-check",[k2]:"fire-app-check-compat",[_2]:"fire-auth",[T2]:"fire-auth-compat",[x2]:"fire-rtdb",[C2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[N2]:"fire-fn",[A2]:"fire-fn-compat",[O2]:"fire-iid",[R2]:"fire-iid-compat",[P2]:"fire-fcm",[L2]:"fire-fcm-compat",[D2]:"fire-perf",[M2]:"fire-perf-compat",[j2]:"fire-rc",[U2]:"fire-rc-compat",[F2]:"fire-gcs",[z2]:"fire-gcs-compat",[V2]:"fire-fst",[q2]:"fire-fst-compat",[$2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rh=new Map,K2=new Map,Zm=new Map;function $w(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yr(n){const e=n.name;if(Zm.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,n);for(const t of rh.values())$w(t,n);for(const t of K2.values())$w(t,n);return!0}function za(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zn(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Fs("app","Firebase",Q2);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zs=B2;function bE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xm,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Na.create("bad-app-name",{appName:String(s)});if(t||(t=uE()),!t)throw Na.create("no-options");const l=rh.get(s);if(l){if(Pa(t,l.options)&&Pa(i,l.config))return l;throw Na.create("duplicate-app",{appName:s})}const u=new n2(s);for(const f of Zm.values())u.addComponent(f);const p=new Y2(t,i,u);return rh.set(s,p),p}function Dh(n=Xm){const e=rh.get(n);if(!e&&n===Xm&&uE())return bE();if(!e)throw Na.create("no-app",{appName:n});return e}function In(n,e,t){var i;let s=(i=W2[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&p.push("and"),u&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(p.join(" "));return}yr(new sr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G2="firebase-heartbeat-database",J2=1,Oc="firebase-heartbeat-store";let Rm=null;function wE(){return Rm||(Rm=vE(G2,J2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Oc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Na.create("idb-open",{originalErrorMessage:n.message})})),Rm}async function X2(n){try{const e=(await wE()).transaction(Oc),t=await e.objectStore(Oc).get(SE(n));return await e.done,t}catch(e){if(e instanceof lr)Ri.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function qw(n,e){try{const t=(await wE()).transaction(Oc,"readwrite");await t.objectStore(Oc).put(e,SE(n)),await t.done}catch(t){if(t instanceof lr)Ri.warn(t.message);else{const i=Na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(i.message)}}}function SE(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Z2=1024,eA=30;class tA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>eA){const l=iA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ri.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hw(),{heartbeatsToSend:i,unsentEntries:s}=nA(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ri.warn(t),""}}}function Hw(){return new Date().toISOString().substring(0,10)}function nA(n,e=Z2){const t=[];let i=n.slice();for(const s of n){const l=t.find(u=>u.agent===s.agent);if(l){if(l.dates.push(s.date),Bw(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Bw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class rA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pE()?mE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await X2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bw(n){return nh(JSON.stringify({version:2,heartbeats:n})).length}function iA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aA(n){yr(new sr("platform-logger",e=>new y2(e),"PRIVATE")),yr(new sr("heartbeat",e=>new tA(e),"PRIVATE")),In(Jm,Vw,n),In(Jm,Vw,"esm2017"),In("fire-js","")}aA("");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aa,kE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function b(){}b.prototype=I.prototype,N.D=I.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(_,M,j){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return I.prototype[M].apply(_,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,I,b){b||(b=0);var _=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)_[M]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(M=0;16>M;++M)_[M]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=N.g[0],b=N.g[1],M=N.g[2];var j=N.g[3],C=I+(j^b&(M^j))+_[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=j+(M^I&(b^M))+_[1]+3905402710&4294967295,j=I+(C<<12&4294967295|C>>>20),C=M+(b^j&(I^b))+_[2]+606105819&4294967295,M=j+(C<<17&4294967295|C>>>15),C=b+(I^M&(j^I))+_[3]+3250441966&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(j^b&(M^j))+_[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=j+(M^I&(b^M))+_[5]+1200080426&4294967295,j=I+(C<<12&4294967295|C>>>20),C=M+(b^j&(I^b))+_[6]+2821735955&4294967295,M=j+(C<<17&4294967295|C>>>15),C=b+(I^M&(j^I))+_[7]+4249261313&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(j^b&(M^j))+_[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=j+(M^I&(b^M))+_[9]+2336552879&4294967295,j=I+(C<<12&4294967295|C>>>20),C=M+(b^j&(I^b))+_[10]+4294925233&4294967295,M=j+(C<<17&4294967295|C>>>15),C=b+(I^M&(j^I))+_[11]+2304563134&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(j^b&(M^j))+_[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=j+(M^I&(b^M))+_[13]+4254626195&4294967295,j=I+(C<<12&4294967295|C>>>20),C=M+(b^j&(I^b))+_[14]+2792965006&4294967295,M=j+(C<<17&4294967295|C>>>15),C=b+(I^M&(j^I))+_[15]+1236535329&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(M^j&(b^M))+_[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^M&(I^b))+_[6]+3225465664&4294967295,j=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(j^I))+_[11]+643717713&4294967295,M=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(M^j))+_[0]+3921069994&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(M^j&(b^M))+_[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^M&(I^b))+_[10]+38016083&4294967295,j=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(j^I))+_[15]+3634488961&4294967295,M=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(M^j))+_[4]+3889429448&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(M^j&(b^M))+_[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^M&(I^b))+_[14]+3275163606&4294967295,j=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(j^I))+_[3]+4107603335&4294967295,M=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(M^j))+_[8]+1163531501&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(M^j&(b^M))+_[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^M&(I^b))+_[2]+4243563512&4294967295,j=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(j^I))+_[7]+1735328473&4294967295,M=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(M^j))+_[12]+2368359562&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(b^M^j)+_[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^M)+_[8]+2272392833&4294967295,j=I+(C<<11&4294967295|C>>>21),C=M+(j^I^b)+_[11]+1839030562&4294967295,M=j+(C<<16&4294967295|C>>>16),C=b+(M^j^I)+_[14]+4259657740&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(b^M^j)+_[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^M)+_[4]+1272893353&4294967295,j=I+(C<<11&4294967295|C>>>21),C=M+(j^I^b)+_[7]+4139469664&4294967295,M=j+(C<<16&4294967295|C>>>16),C=b+(M^j^I)+_[10]+3200236656&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(b^M^j)+_[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^M)+_[0]+3936430074&4294967295,j=I+(C<<11&4294967295|C>>>21),C=M+(j^I^b)+_[3]+3572445317&4294967295,M=j+(C<<16&4294967295|C>>>16),C=b+(M^j^I)+_[6]+76029189&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(b^M^j)+_[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^M)+_[12]+3873151461&4294967295,j=I+(C<<11&4294967295|C>>>21),C=M+(j^I^b)+_[15]+530742520&4294967295,M=j+(C<<16&4294967295|C>>>16),C=b+(M^j^I)+_[2]+3299628645&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(M^(b|~j))+_[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~M))+_[7]+1126891415&4294967295,j=I+(C<<10&4294967295|C>>>22),C=M+(I^(j|~b))+_[14]+2878612391&4294967295,M=j+(C<<15&4294967295|C>>>17),C=b+(j^(M|~I))+_[5]+4237533241&4294967295,b=M+(C<<21&4294967295|C>>>11),C=I+(M^(b|~j))+_[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~M))+_[3]+2399980690&4294967295,j=I+(C<<10&4294967295|C>>>22),C=M+(I^(j|~b))+_[10]+4293915773&4294967295,M=j+(C<<15&4294967295|C>>>17),C=b+(j^(M|~I))+_[1]+2240044497&4294967295,b=M+(C<<21&4294967295|C>>>11),C=I+(M^(b|~j))+_[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~M))+_[15]+4264355552&4294967295,j=I+(C<<10&4294967295|C>>>22),C=M+(I^(j|~b))+_[6]+2734768916&4294967295,M=j+(C<<15&4294967295|C>>>17),C=b+(j^(M|~I))+_[13]+1309151649&4294967295,b=M+(C<<21&4294967295|C>>>11),C=I+(M^(b|~j))+_[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~M))+_[11]+3174756917&4294967295,j=I+(C<<10&4294967295|C>>>22),C=M+(I^(j|~b))+_[2]+718787259&4294967295,M=j+(C<<15&4294967295|C>>>17),C=b+(j^(M|~I))+_[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+j&4294967295}i.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var b=I-this.blockSize,_=this.B,M=this.h,j=0;j<I;){if(M==0)for(;j<=b;)s(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<I;)if(_[M++]=N.charCodeAt(j++),M==this.blockSize){s(this,_),M=0;break}}else for(;j<I;)if(_[M++]=N[j++],M==this.blockSize){s(this,_),M=0;break}}this.h=M,this.o+=I},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var b=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=b&255,b/=256;for(this.u(N),N=Array(16),I=b=0;4>I;++I)for(var _=0;32>_;_+=8)N[b++]=this.g[I]>>>_&255;return N};function l(N,I){var b=p;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=I(N)}function u(N,I){this.h=I;for(var b=[],_=!0,M=N.length-1;0<=M;M--){var j=N[M]|0;_&&j==I||(b[M]=j,_=!1)}this.g=b}var p={};function f(N){return-128<=N&&128>N?l(N,function(I){return new u([I|0],0>I?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return $(m(-N));for(var I=[],b=1,_=0;N>=b;_++)I[_]=N/b|0,b*=4294967296;return new u(I,0)}function v(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return $(v(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(I,8)),_=x,M=0;M<N.length;M+=8){var j=Math.min(8,N.length-M),C=parseInt(N.substring(M,M+j),I);8>j?(j=m(Math.pow(I,j)),_=_.j(j).add(m(C))):(_=_.j(b),_=_.add(m(C)))}return _}var x=f(0),A=f(1),P=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-$(this).m();for(var N=0,I=1,b=0;b<this.g.length;b++){var _=this.i(b);N+=(0<=_?_:4294967296+_)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(D(this))return"-"+$(this).toString(N);for(var I=m(Math.pow(N,6)),b=this,_="";;){var M=le(b,I).g;b=H(b,M.j(I));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=M,U(b))return j+_;for(;6>j.length;)j="0"+j;_=j+_}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function D(N){return N.h==-1}n.l=function(N){return N=H(this,N),D(N)?-1:U(N)?0:1};function $(N){for(var I=N.g.length,b=[],_=0;_<I;_++)b[_]=~N.g[_];return new u(b,~N.h).add(A)}n.abs=function(){return D(this)?$(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],_=0,M=0;M<=I;M++){var j=_+(this.i(M)&65535)+(N.i(M)&65535),C=(j>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);_=C>>>16,j&=65535,C&=65535,b[M]=C<<16|j}return new u(b,b[b.length-1]&-2147483648?-1:0)};function H(N,I){return N.add($(I))}n.j=function(N){if(U(this)||U(N))return x;if(D(this))return D(N)?$(this).j($(N)):$($(this).j(N));if(D(N))return $(this.j($(N)));if(0>this.l(P)&&0>N.l(P))return m(this.m()*N.m());for(var I=this.g.length+N.g.length,b=[],_=0;_<2*I;_++)b[_]=0;for(_=0;_<this.g.length;_++)for(var M=0;M<N.g.length;M++){var j=this.i(_)>>>16,C=this.i(_)&65535,se=N.i(M)>>>16,pe=N.i(M)&65535;b[2*_+2*M]+=C*pe,B(b,2*_+2*M),b[2*_+2*M+1]+=j*pe,B(b,2*_+2*M+1),b[2*_+2*M+1]+=C*se,B(b,2*_+2*M+1),b[2*_+2*M+2]+=j*se,B(b,2*_+2*M+2)}for(_=0;_<I;_++)b[_]=b[2*_+1]<<16|b[2*_];for(_=I;_<2*I;_++)b[_]=0;return new u(b,0)};function B(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function X(N,I){this.g=N,this.h=I}function le(N,I){if(U(I))throw Error("division by zero");if(U(N))return new X(x,x);if(D(N))return I=le($(N),I),new X($(I.g),$(I.h));if(D(I))return I=le(N,$(I)),new X($(I.g),I.h);if(30<N.g.length){if(D(N)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var b=A,_=I;0>=_.l(N);)b=F(b),_=F(_);var M=q(b,1),j=q(_,1);for(_=q(_,2),b=q(b,2);!U(_);){var C=j.add(_);0>=C.l(N)&&(M=M.add(b),j=C),_=q(_,1),b=q(b,1)}return I=H(N,M.j(I)),new X(M,I)}for(M=x;0<=N.l(I);){for(b=Math.max(1,Math.floor(N.m()/I.m())),_=Math.ceil(Math.log(b)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),j=m(b),C=j.j(I);D(C)||0<C.l(N);)b-=_,j=m(b),C=j.j(I);U(j)&&(j=A),M=M.add(j),N=H(N,C)}return new X(M,N)}n.A=function(N){return le(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],_=0;_<I;_++)b[_]=this.i(_)&N.i(_);return new u(b,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],_=0;_<I;_++)b[_]=this.i(_)|N.i(_);return new u(b,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],_=0;_<I;_++)b[_]=this.i(_)^N.i(_);return new u(b,this.h^N.h)};function F(N){for(var I=N.g.length+1,b=[],_=0;_<I;_++)b[_]=N.i(_)<<1|N.i(_-1)>>>31;return new u(b,N.h)}function q(N,I){var b=I>>5;I%=32;for(var _=N.g.length-b,M=[],j=0;j<_;j++)M[j]=0<I?N.i(j+b)>>>I|N.i(j+b+1)<<32-I:N.i(j+b);return new u(M,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,kE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Aa=u}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,Sc,_E,zd,eg,TE,xE,CE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function s(d,y){if(y)e:{var w=i;d=d.split(".");for(var L=0;L<d.length-1;L++){var Z=d[L];if(!(Z in w))break e;w=w[Z]}d=d[d.length-1],L=w[d],y=y(L),y!=L&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function l(d,y){d instanceof String&&(d+="");var w=0,L=!1,Z={next:function(){if(!L&&w<d.length){var ie=w++;return{value:y(ie,d[ie]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}s("Array.prototype.values",function(d){return d||function(){return l(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},p=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function m(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function v(d,y,w){return d.call.apply(d.bind,arguments)}function x(d,y,w){if(!d)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,L),d.apply(y,Z)}}return function(){return d.apply(y,arguments)}}function A(d,y,w){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:x,A.apply(null,arguments)}function P(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var L=w.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function U(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(L,Z,ie){for(var ve=Array(arguments.length-2),et=2;et<arguments.length;et++)ve[et-2]=arguments[et];return y.prototype[Z].apply(L,ve)}}function D(d){const y=d.length;if(0<y){const w=Array(y);for(let L=0;L<y;L++)w[L]=d[L];return w}return[]}function $(d,y){for(let w=1;w<arguments.length;w++){const L=arguments[w];if(f(L)){const Z=d.length||0,ie=L.length||0;d.length=Z+ie;for(let ve=0;ve<ie;ve++)d[Z+ve]=L[ve]}else d.push(L)}}class H{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=p.navigator;return d&&(d=d.userAgent)?d:""}function le(d){return le[" "](d),d}le[" "]=function(){};var F=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function q(d,y,w){for(const L in d)y.call(w,d[L],L,d)}function N(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function I(d){const y={};for(const w in d)y[w]=d[w];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(d,y){let w,L;for(let Z=1;Z<arguments.length;Z++){L=arguments[Z];for(w in L)d[w]=L[w];for(let ie=0;ie<b.length;ie++)w=b[ie],Object.prototype.hasOwnProperty.call(L,w)&&(d[w]=L[w])}}function M(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function j(d){p.setTimeout(()=>{throw d},0)}function C(){var d=k;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,w){const L=pe.get();L.set(y,w),this.h?this.h.next=L:this.g=L,this.h=L}}var pe=new H(()=>new te,d=>d.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let T,ge=!1,k=new se,E=()=>{const d=p.Promise.resolve(void 0);T=()=>{d.then(V)}};var V=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(w){j(w)}var y=pe;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ge=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};p.addEventListener("test",w,y),p.removeEventListener("test",w,y)}catch{}return d}();function ce(d,y){if(J.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(F){e:{try{le(y.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ye[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ce.aa.h.call(this)}}U(ce,J);var ye={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),ke=0;function xe(d,y,w,L,Z){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!L,this.ha=Z,this.key=++ke,this.da=this.fa=!1}function _e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function We(d){this.src=d,this.g={},this.h=0}We.prototype.add=function(d,y,w,L,Z){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var ve=Ae(d,y,L,Z);return-1<ve?(y=d[ve],w||(y.fa=!1)):(y=new xe(y,this.src,ie,!!L,Z),y.fa=w,d.push(y)),y};function Oe(d,y){var w=y.type;if(w in d.g){var L=d.g[w],Z=Array.prototype.indexOf.call(L,y,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(L,Z,1),ie&&(_e(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Ae(d,y,w,L){for(var Z=0;Z<d.length;++Z){var ie=d[Z];if(!ie.da&&ie.listener==y&&ie.capture==!!w&&ie.ha==L)return Z}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),ct={};function Pe(d,y,w,L,Z){if(Array.isArray(y)){for(var ie=0;ie<y.length;ie++)Pe(d,y[ie],w,L,Z);return null}return w=Hs(w),d&&d[Se]?d.K(y,w,m(L)?!!L.capture:!1,Z):dt(d,y,w,!1,L,Z)}function dt(d,y,w,L,Z,ie){if(!y)throw Error("Invalid event type");var ve=m(Z)?!!Z.capture:!!Z,et=Fi(d);if(et||(d[Ue]=et=new We(d)),w=et.add(y,w,L,ve,ie),w.proxy)return w;if(L=gt(),w.proxy=L,L.src=d,L.listener=w,d.addEventListener)ne||(Z=ve),Z===void 0&&(Z=!1),d.addEventListener(y.toString(),L,Z);else if(d.attachEvent)d.attachEvent(Rn(y.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return w}function gt(){function d(w){return y.call(d.src,d.listener,w)}const y=Ui;return d}function yt(d,y,w,L,Z){if(Array.isArray(y))for(var ie=0;ie<y.length;ie++)yt(d,y[ie],w,L,Z);else L=m(L)?!!L.capture:!!L,w=Hs(w),d&&d[Se]?(d=d.i,y=String(y).toString(),y in d.g&&(ie=d.g[y],w=Ae(ie,w,L,Z),-1<w&&(_e(ie[w]),Array.prototype.splice.call(ie,w,1),ie.length==0&&(delete d.g[y],d.h--)))):d&&(d=Fi(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Ae(y,w,L,Z)),(w=-1<d?y[d]:null)&&It(w))}function It(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Se])Oe(y.i,d);else{var w=d.type,L=d.proxy;y.removeEventListener?y.removeEventListener(w,L,d.capture):y.detachEvent?y.detachEvent(Rn(w),L):y.addListener&&y.removeListener&&y.removeListener(L),(w=Fi(y))?(Oe(w,d),w.h==0&&(w.src=null,y[Ue]=null)):_e(d)}}}function Rn(d){return d in ct?ct[d]:ct[d]="on"+d}function Ui(d,y){if(d.da)d=!0;else{y=new ce(y,this);var w=d.listener,L=d.ha||d.src;d.fa&&It(d),d=w.call(L,y)}return d}function Fi(d){return d=d[Ue],d instanceof We?d:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hs(d){return typeof d=="function"?d:(d[Lt]||(d[Lt]=function(y){return d.handleEvent(y)}),d[Lt])}function st(){Y.call(this),this.i=new We(this),this.M=this,this.F=null}U(st,Y),st.prototype[Se]=!0,st.prototype.removeEventListener=function(d,y,w,L){yt(this,d,y,w,L)};function vt(d,y){var w,L=d.F;if(L)for(w=[];L;L=L.F)w.push(L);if(d=d.M,L=y.type||y,typeof y=="string")y=new J(y,d);else if(y instanceof J)y.target=y.target||d;else{var Z=y;y=new J(L,d),_(y,Z)}if(Z=!0,w)for(var ie=w.length-1;0<=ie;ie--){var ve=y.g=w[ie];Z=ei(ve,L,!0,y)&&Z}if(ve=y.g=d,Z=ei(ve,L,!0,y)&&Z,Z=ei(ve,L,!1,y)&&Z,w)for(ie=0;ie<w.length;ie++)ve=y.g=w[ie],Z=ei(ve,L,!1,y)&&Z}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],L=0;L<w.length;L++)_e(w[L]);delete d.g[y],d.h--}}this.F=null},st.prototype.K=function(d,y,w,L){return this.i.add(String(d),y,!1,w,L)},st.prototype.L=function(d,y,w,L){return this.i.add(String(d),y,!0,w,L)};function ei(d,y,w,L){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var Z=!0,ie=0;ie<y.length;++ie){var ve=y[ie];if(ve&&!ve.da&&ve.capture==w){var et=ve.listener,$t=ve.ha||ve.src;ve.fa&&Oe(d.i,ve),Z=et.call($t,L)!==!1&&Z}}return Z&&!L.defaultPrevented}function lu(d,y,w){if(typeof d=="function")w&&(d=A(d,w));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(d,y||0)}function ll(d){d.g=lu(()=>{d.g=null,d.i&&(d.i=!1,ll(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class bf extends Y{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ll(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wa(d){Y.call(this),this.h=d,this.g={}}U(Wa,Y);var zi=[];function ln(d){q(d.g,function(y,w){this.g.hasOwnProperty(w)&&It(y)},d),d.g={}}Wa.prototype.N=function(){Wa.aa.N.call(this),ln(this)},Wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=p.JSON.stringify,Sr=p.JSON.parse,gn=class{stringify(d){return p.JSON.stringify(d,void 0)}parse(d){return p.JSON.parse(d,void 0)}};function ul(){}ul.prototype.h=null;function cu(d){return d.h||(d.h=d.i())}function uu(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vi(){J.call(this,"d")}U(Vi,J);function cr(){J.call(this,"c")}U(cr,J);var Hn={},$i=null;function Bs(){return $i=$i||new st}Hn.La="serverreachability";function dl(d){J.call(this,Hn.La,d)}U(dl,J);function qi(d){const y=Bs();vt(y,new dl(y))}Hn.STAT_EVENT="statevent";function Ws(d,y){J.call(this,Hn.STAT_EVENT,d),this.stat=y}U(Ws,J);function Nt(d){const y=Bs();vt(y,new Ws(y,d))}Hn.Ma="timingevent";function du(d,y){J.call(this,Hn.Ma,d),this.size=y}U(du,J);function Hi(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){d()},y)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function hu(d,y,w,L,Z,ie){d.info(function(){if(d.g)if(ie)for(var ve="",et=ie.split("&"),$t=0;$t<et.length;$t++){var rt=et[$t].split("=");if(1<rt.length){var Qt=rt[0];rt=rt[1];var Zt=Qt.split("_");ve=2<=Zt.length&&Zt[1]=="type"?ve+(Qt+"="+rt+"&"):ve+(Qt+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+L+") [attempt "+Z+"]: "+y+`
`+w+`
`+ve})}function fu(d,y,w,L,Z,ie,ve){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Z+"]: "+y+`
`+w+`
`+ie+" "+ve})}function Wi(d,y,w,L){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Wt(d,w)+(L?" "+L:"")})}function Er(d,y){d.info(function(){return"TIMEOUT: "+y})}Bi.prototype.info=function(){};function Wt(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var L=w[d];if(!(2>L.length)){var Z=L[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Z.length;ve++)Z[ve]=""}}}}return cl(w)}catch{return y}}var Vt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ka;function Ks(){}U(Ks,ul),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},Ka=new Ks;function _r(d,y,w,L){this.j=d,this.i=y,this.l=w,this.R=L||1,this.U=new Wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var Ki={},Qa={};function ur(d,y,w){d.L=1,d.v=Ja(At(y)),d.m=w,d.P=!0,ni(d,null)}function ni(d,y){d.F=Date.now(),bt(d),d.A=At(d.v);var w=d.A,L=d.R;Array.isArray(L)||(L=[String(L)]),ai(w.i,"t",L),d.C=0,w=d.j.J,d.h=new hl,d.g=Cu(d.j,w?y:null,!d.m),0<d.O&&(d.M=new bf(A(d.Y,d,d.g),d.O)),y=d.U,w=d.g,L=d.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(zi[0]=Z.toString()),Z=zi);for(var ie=0;ie<Z.length;ie++){var ve=Pe(w,Z[ie],L||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),qi(),hu(d.i,d.u,d.A,d.l,d.R,d.m)}_r.prototype.ca=function(d){d=d.target;const y=this.M;y&&Yn(d)==3?y.j():this.Y(d)},_r.prototype.Y=function(d){try{if(d==this.g)e:{const Zt=Yn(this.g);var y=this.g.Ba();const ci=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Zt!=4||y==7||(y==8||0>=ci?qi(3):qi(2)),Qs(this);var w=this.g.Z();this.X=w;t:if(Qi(this)){var L=bu(this.g);d="";var Z=L.length,ie=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Pn(this);var ve="";break t}this.h.i=new p.TextDecoder}for(y=0;y<Z;y++)this.h.h=!0,d+=this.h.i.decode(L[y],{stream:!(ie&&y==Z-1)});L.length=0,this.h.g+=d,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=w==200,fu(this.i,this.u,this.A,this.l,this.R,Zt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var et,$t=this.g;if((et=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(et)){var rt=et;break t}}rt=null}if(w=rt)Wi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ln(this,w);else{this.o=!1,this.s=3,Nt(12),_n(this),Pn(this);break e}}if(this.P){w=!0;let en;for(;!this.J&&this.C<ve.length;)if(en=Yi(this,ve),en==Qa){Zt==4&&(this.s=4,Nt(14),w=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Ki){this.s=4,Nt(15),Wi(this.i,this.l,ve,"[Invalid Chunk]"),w=!1;break}else Wi(this.i,this.l,en,null),Ln(this,en);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||ve.length!=0||this.h.h||(this.s=1,Nt(16),w=!1),this.o=this.o&&w,!w)Wi(this.i,this.l,ve,"[Invalid Chunked Response]"),_n(this),Pn(this);else if(0<ve.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),is(Qt),Qt.M=!0,Nt(11))}}else Wi(this.i,this.l,ve,null),Ln(this,ve);Zt==4&&_n(this),this.o&&!this.J&&(Zt==4?_u(this.j,this):(this.o=!1,bt(this)))}else Tf(this.g),w==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),_n(this),Pn(this)}}}catch{}finally{}};function Qi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yi(d,y){var w=d.C,L=y.indexOf(`
`,w);return L==-1?Qa:(w=Number(y.substring(w,L)),isNaN(w)?Ki:(L+=1,L+w>y.length?Qa:(y=y.slice(L,L+w),d.C=L+w,y)))}_r.prototype.cancel=function(){this.J=!0,_n(this)};function bt(d){d.S=Date.now()+d.I,fl(d,d.I)}function fl(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Hi(A(d.ba,d),y)}function Qs(d){d.B&&(p.clearTimeout(d.B),d.B=null)}_r.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Er(this.i,this.A),this.L!=2&&(qi(),Nt(17)),_n(this),this.s=2,Pn(this)):fl(this,this.S-d)};function Pn(d){d.j.G==0||d.J||_u(d.j,d)}function _n(d){Qs(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ln(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ln(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||Gi(w.h,d))){if(!d.K&&Gi(w.h,d)&&w.G==3){try{var L=w.Da.g.parse(y)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Z=L;if(Z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)io(w),no(w);else break e;_l(w),Nt(18)}}else w.za=Z[1],0<w.za-w.T&&37500>Z[2]&&w.F&&w.v==0&&!w.C&&(w.C=Hi(A(w.Za,w),6e3));if(1>=pu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else li(w,11)}else if((d.K||w.g==d)&&io(w),!B(y))for(Z=w.Da.g.parse(y),y=0;y<Z.length;y++){let rt=Z[y];if(w.T=rt[0],rt=rt[1],w.G==2)if(rt[0]=="c"){w.K=rt[1],w.ia=rt[2];const Qt=rt[3];Qt!=null&&(w.la=Qt,w.j.info("VER="+w.la));const Zt=rt[4];Zt!=null&&(w.Aa=Zt,w.j.info("SVER="+w.Aa));const ci=rt[5];ci!=null&&typeof ci=="number"&&0<ci&&(L=1.5*ci,w.L=L,w.j.info("backChannelRequestTimeoutMs_="+L)),L=w;const en=d.g;if(en){const Or=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var ie=L.h;ie.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ji(ie,ie.h),ie.h=null))}if(L.D){const xl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(L.ya=xl,Ze(L.I,L.D,xl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),L=w;var ve=d;if(L.qa=xu(L,L.J?L.ia:null,L.W),ve.K){Bn(L.h,ve);var et=ve,$t=L.L;$t&&(et.I=$t),et.B&&(Qs(et),bt(et)),L.g=ve}else ku(L);0<w.i.length&&ro(w)}else rt[0]!="stop"&&rt[0]!="close"||li(w,7);else w.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?li(w,7):kl(w):rt[0]!="noop"&&w.l&&w.l.ta(rt),w.v=0)}}qi(4)}catch{}}var wf=class{constructor(d,y){this.g=d,this.map=y}};function pl(d){this.l=d||10,p.PerformanceNavigationTiming?(d=p.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ml(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function pu(d){return d.h?1:d.g?d.g.size:0}function Gi(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ji(d,y){d.g?d.g.add(y):d.h=y}function Bn(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}pl.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return D(d.i)}function mu(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],w=d.length,L=0;L<w;L++)y.push(d[L]);return y}y=[],w=0;for(L in d)y[w++]=d[L];return y}function Sf(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const L in d)y[w++]=L;return y}}}function Ya(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=Sf(d),L=mu(d),Z=L.length,ie=0;ie<Z;ie++)y.call(void 0,L[ie],w&&w[ie],d)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var L=d[w].indexOf("="),Z=null;if(0<=L){var ie=d[w].substring(0,L);Z=d[w].substring(L+1)}else ie=d[w];y(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ri(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ri){this.h=d.h,Xi(this,d.j),this.o=d.o,this.g=d.g,Ga(this,d.s),this.l=d.l;var y=d.i,w=new Tr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Gs(this,w),this.m=d.m}else d&&(y=String(d).match(gl))?(this.h=!1,Xi(this,y[1]||"",!0),this.o=Zi(y[2]||""),this.g=Zi(y[3]||"",!0),Ga(this,y[4]),this.l=Zi(y[5]||"",!0),Gs(this,y[6]||"",!0),this.m=Zi(y[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}ri.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Wn(y,yl,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Wn(y,yl,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Wn(w,w.charAt(0)=="/"?vl:gu,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Wn(w,_f)),d.join("")};function At(d){return new ri(d)}function Xi(d,y,w){d.j=w?Zi(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ga(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Gs(d,y,w){y instanceof Tr?(d.i=y,bl(d.i,d.h)):(w||(y=Wn(y,Ef)),d.i=new Tr(y,d.h))}function Ze(d,y,w){d.i.set(y,w)}function Ja(d){return Ze(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Zi(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Wn(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,kf),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var yl=/[#\/\?@]/g,gu=/[#\?:]/g,vl=/[#\?]/g,Ef=/[#\?@]/g,_f=/#/g;function Tr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Kn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ys(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Tr.prototype,n.add=function(d,y){Kn(this),this.i=null,d=si(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function Js(d,y){Kn(d),y=si(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function ii(d,y){return Kn(d),y=si(d,y),d.g.has(y)}n.forEach=function(d,y){Kn(this),this.g.forEach(function(w,L){w.forEach(function(Z){d.call(y,Z,L,this)},this)},this)},n.na=function(){Kn(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let L=0;L<y.length;L++){const Z=d[L];for(let ie=0;ie<Z.length;ie++)w.push(y[L])}return w},n.V=function(d){Kn(this);let y=[];if(typeof d=="string")ii(this,d)&&(y=y.concat(this.g.get(si(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},n.set=function(d,y){return Kn(this),this.i=null,d=si(this,d),ii(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function ai(d,y,w){Js(d,y),0<w.length&&(d.i=null,d.g.set(si(d,y),D(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var L=y[w];const ie=encodeURIComponent(String(L)),ve=this.V(L);for(L=0;L<ve.length;L++){var Z=ie;ve[L]!==""&&(Z+="="+encodeURIComponent(String(ve[L]))),d.push(Z)}}return this.i=d.join("&")};function si(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function bl(d,y){y&&!d.j&&(Kn(d),d.i=null,d.g.forEach(function(w,L){var Z=L.toLowerCase();L!=Z&&(Js(this,L),ai(this,Z,w))},d)),d.j=y}function yu(d,y){const w=new Bi;if(p.Image){const L=new Image;L.onload=P(Qn,w,"TestLoadImage: loaded",!0,y,L),L.onerror=P(Qn,w,"TestLoadImage: error",!1,y,L),L.onabort=P(Qn,w,"TestLoadImage: abort",!1,y,L),L.ontimeout=P(Qn,w,"TestLoadImage: timeout",!1,y,L),p.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else y(!1)}function Xa(d,y){const w=new Bi,L=new AbortController,Z=setTimeout(()=>{L.abort(),Qn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:L.signal}).then(ie=>{clearTimeout(Z),ie.ok?Qn(w,"TestPingServer: ok",!0,y):Qn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Z),Qn(w,"TestPingServer: error",!1,y)})}function Qn(d,y,w,L,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),L(w)}catch{}}function Za(){this.g=new gn}function xr(d,y,w){const L=w||"";try{Ya(d,function(Z,ie){let ve=Z;m(Z)&&(ve=cl(Z)),y.push(L+ie+"="+encodeURIComponent(ve))})}catch(Z){throw y.push(L+"type="+encodeURIComponent("_badmap")),Z}}function ea(d){this.l=d.Ub||null,this.j=d.eb||!1}U(ea,ul),ea.prototype.g=function(){return new oi(this.l,this.j)},ea.prototype.i=function(d){return function(){return d}}({});function oi(d,y){st.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(oi,st),n=oi.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Ir(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Cr(this):Ir(this),this.readyState==3&&wl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Cr(this))},n.Qa=function(d){this.g&&(this.response=d,Cr(this))},n.ga=function(){this.g&&Cr(this)};function Cr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ir(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function Ir(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Sl(d){let y="";return q(d,function(w,L){y+=L,y+=":",y+=w,y+=`\r
`}),y}function Kt(d,y,w){e:{for(L in w){var L=!1;break e}L=!0}L||(w=Sl(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Ze(d,y,w))}function it(d){st.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(it,st);var Xs=/^https?$/i,es=["POST","PUT"];n=it.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,w,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ka.g(),this.v=this.o?cu(this.o):cu(Ka),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(ie){vu(this,ie);return}if(d=w||"",w=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Z in L)w.set(Z,L[Z]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ie of L.keys())w.set(ie,L.get(ie));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(w.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=p.FormData&&d instanceof p.FormData,!(0<=Array.prototype.indexOf.call(es,y,void 0))||L||Z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of w)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){vu(this,ie)}};function vu(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Zs(d),Nr(d)}function Zs(d){d.A||(d.A=!0,vt(d,"complete"),vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,vt(this,"complete"),vt(this,"abort"),Nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eo(this):this.bb())},n.bb=function(){eo(this)};function eo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Yn(d)!=4||d.Z()!=2)){if(d.u&&Yn(d)==4)lu(d.Ea,0,d);else if(vt(d,"readystatechange"),Yn(d)==4){d.h=!1;try{const ve=d.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var L;if(L=ve===0){var Z=String(d.D).match(gl)[1]||null;!Z&&p.self&&p.self.location&&(Z=p.self.location.protocol.slice(0,-1)),L=!Xs.test(Z?Z.toLowerCase():"")}w=L}if(w)vt(d,"complete"),vt(d,"success");else{d.m=6;try{var ie=2<Yn(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",Zs(d)}}finally{Nr(d)}}}}function Nr(d,y){if(d.g){ts(d);const w=d.g,L=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||vt(d,"ready");try{w.onreadystatechange=L}catch{}}}function ts(d){d.I&&(p.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Yn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Sr(y)}};function bu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Tf(d){const y={};d=(d.g&&2<=Yn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(B(d[L]))continue;var w=M(d[L]);const Z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ie=y[Z]||[];y[Z]=ie,ie.push(w)}N(y,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function to(d){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,d),this.cb=ns("retryDelaySeedMs",1e4,d),this.Wa=ns("forwardChannelMaxRetries",2,d),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new pl(d&&d.concurrentRequestLimit),this.Da=new Za,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=to.prototype,n.la=8,n.G=1,n.connect=function(d,y,w,L){Nt(0),this.W=d,this.H=y||{},w&&L!==void 0&&(this.H.OSID=w,this.H.OAID=L),this.F=this.X,this.I=xu(this,null,this.W),ro(this)};function kl(d){if(wu(d),d.G==3){var y=d.U++,w=At(d.I);if(Ze(w,"SID",d.K),Ze(w,"RID",y),Ze(w,"TYPE","terminate"),rs(d,w),y=new _r(d,d.j,y),y.L=2,y.v=Ja(At(w)),w=!1,p.navigator&&p.navigator.sendBeacon)try{w=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&p.Image&&(new Image().src=y.v,w=!0),w||(y.g=Cu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bt(y)}Tu(d)}function no(d){d.g&&(is(d),d.g.cancel(),d.g=null)}function wu(d){no(d),d.u&&(p.clearTimeout(d.u),d.u=null),io(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&p.clearTimeout(d.s),d.s=null)}function ro(d){if(!ml(d.h)&&!d.s){d.s=!0;var y=d.Ga;T||E(),ge||(T(),ge=!0),k.add(y,d),d.B=0}}function xf(d,y){return pu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Hi(A(d.Ga,d,y),Tl(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Z=new _r(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=I(ie),_(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var L=this.i[w];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(y+=L,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Su(this,Z,y),w=At(this.I),Ze(w,"RID",d),Ze(w,"CVER",22),this.D&&Ze(w,"X-HTTP-Session-Id",this.D),rs(this,w),ie&&(this.O?y="headers="+encodeURIComponent(String(Sl(ie)))+"&"+y:this.m&&Kt(w,this.m,ie)),Ji(this.h,Z),this.Ua&&Ze(w,"TYPE","init"),this.P?(Ze(w,"$req",y),Ze(w,"SID","null"),Z.T=!0,ur(Z,w,null)):ur(Z,w,y),this.G=2}}else this.G==3&&(d?El(this,d):this.i.length==0||ml(this.h)||El(this))};function El(d,y){var w;y?w=y.l:w=d.U++;const L=At(d.I);Ze(L,"SID",d.K),Ze(L,"RID",w),Ze(L,"AID",d.T),rs(d,L),d.m&&d.o&&Kt(L,d.m,d.o),w=new _r(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Su(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ji(d.h,w),ur(w,L,y)}function rs(d,y){d.H&&q(d.H,function(w,L){Ze(y,L,w)}),d.l&&Ya({},function(w,L){Ze(y,L,w)})}function Su(d,y,w){w=Math.min(d.i.length,w);var L=d.l?A(d.l.Na,d.l,d):null;e:{var Z=d.i;let ie=-1;for(;;){const ve=["count="+w];ie==-1?0<w?(ie=Z[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let et=!0;for(let $t=0;$t<w;$t++){let rt=Z[$t].g;const Qt=Z[$t].map;if(rt-=ie,0>rt)ie=Math.max(0,Z[$t].g-100),et=!1;else try{xr(Qt,ve,"req"+rt+"_")}catch{L&&L(Qt)}}if(et){L=ve.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,L}function ku(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;T||E(),ge||(T(),ge=!0),k.add(y,d),d.v=0}}function _l(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Hi(A(d.Fa,d),Tl(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Hi(A(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),no(this),Eu(this))};function is(d){d.A!=null&&(p.clearTimeout(d.A),d.A=null)}function Eu(d){d.g=new _r(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=At(d.qa);Ze(y,"RID","rpc"),Ze(y,"SID",d.K),Ze(y,"AID",d.T),Ze(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ze(y,"TO",d.ja),Ze(y,"TYPE","xmlhttp"),rs(d,y),d.m&&d.o&&Kt(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Ja(At(y)),w.m=null,w.P=!0,ni(w,d)}n.Za=function(){this.C!=null&&(this.C=null,no(this),_l(this),Nt(19))};function io(d){d.C!=null&&(p.clearTimeout(d.C),d.C=null)}function _u(d,y){var w=null;if(d.g==y){io(d),is(d),d.g=null;var L=2}else if(Gi(d.h,y))w=y.D,Bn(d.h,y),L=1;else return;if(d.G!=0){if(y.o)if(L==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var Z=d.B;L=Bs(),vt(L,new du(L,w)),ro(d)}else ku(d);else if(Z=y.s,Z==3||Z==0&&0<y.X||!(L==1&&xf(d,y)||L==2&&_l(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),Z){case 1:li(d,5);break;case 4:li(d,10);break;case 3:li(d,6);break;default:li(d,2)}}}function Tl(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function li(d,y){if(d.j.info("Error code "+y),y==2){var w=A(d.fb,d),L=d.Xa;const Z=!L;L=new ri(L||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Xi(L,"https"),Ja(L),Z?yu(L.toString(),w):Xa(L.toString(),w)}else Nt(2);d.G=0,d.l&&d.l.sa(y),Tu(d),wu(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Tu(d){if(d.G=0,d.ka=[],d.l){const y=yn(d.h);(y.length!=0||d.i.length!=0)&&($(d.ka,y),$(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function xu(d,y,w){var L=w instanceof ri?At(w):new ri(w);if(L.g!="")y&&(L.g=y+"."+L.g),Ga(L,L.s);else{var Z=p.location;L=Z.protocol,y=y?y+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new ri(null);L&&Xi(ie,L),y&&(ie.g=y),Z&&Ga(ie,Z),w&&(ie.l=w),L=ie}return w=d.D,y=d.ya,w&&y&&Ze(L,w,y),Ze(L,"VER",d.la),rs(d,L),L}function Cu(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new it(new ea({eb:w})):new it(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}n=Iu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ao(){}ao.prototype.g=function(d,y){return new vn(d,y)};function vn(d,y){st.call(this),this.g=new to(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!B(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ar(this)}U(vn,st),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){kl(this.g)},vn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=cl(d),d=w);y.i.push(new wf(y.Ya++,d)),y.G==3&&ro(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,vn.aa.N.call(this)};function Nu(d){Vi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}U(Nu,Vi);function Au(){cr.call(this),this.status=1}U(Au,cr);function Ar(d){this.g=d}U(Ar,Iu),Ar.prototype.ua=function(){vt(this.g,"a")},Ar.prototype.ta=function(d){vt(this.g,new Nu(d))},Ar.prototype.sa=function(d){vt(this.g,new Au)},Ar.prototype.ra=function(){vt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,CE=function(){return new ao},xE=function(){return Bs()},TE=Hn,eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vt.NO_ERROR=0,Vt.TIMEOUT=8,Vt.HTTP_ERROR=6,zd=Vt,ti.COMPLETE="complete",_E=ti,uu.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",st.prototype.listen=st.prototype.K,Sc=uu,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,EE=it}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const Kw="@firebase/firestore",Qw="4.7.9";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let el="11.4.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const As=new Lh("@firebase/firestore");function Po(){return As.logLevel}function Ee(n,...e){if(As.logLevel<=Ke.DEBUG){const t=e.map(Fg);As.debug(`Firestore (${el}): ${n}`,...t)}}function Pi(n,...e){if(As.logLevel<=Ke.ERROR){const t=e.map(Fg);As.error(`Firestore (${el}): ${n}`,...t)}}function Ho(n,...e){if(As.logLevel<=Ke.WARN){const t=e.map(Fg);As.warn(`Firestore (${el}): ${n}`,...t)}}function Fg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function De(n="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+n;throw Pi(e),new Error(e)}function at(n,e){n||De()}function je(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class oA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const s=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let l=new Oa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Oa,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},p=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>p(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?p(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Oa)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new IE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new hn(e)}}class cA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new cA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){at(this.o===void 0);const i=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Yw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new Yw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=hA(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function Bo(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gw=-62135596800,Jw=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Jw);return new zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gw)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jw}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new zt(0,0))}static max(){return new Me(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xw="__name__";class Ur{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Ur.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Ur.isNumericId(e),s=Ur.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Aa.fromString(e.substring(4,e.length-2))}}class pt extends Ur{construct(e,t,i){return new pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const fA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ur{construct(e,t,i){return new sn(e,t,i)}static isValidIdentifier(e){return fA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xw}static keyField(){return new sn([Xw])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const p=e[s];if(p==="\\"){if(s+1===e.length)throw new be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else p==="`"?(u=!u,s++):p!=="."||u?(i+=p,s++):(l(),s++)}if(l(),u)throw new be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(pt.fromString(e))}static fromName(e){return new Ne(pt.fromString(e).popFirst(5))}static empty(){return new Ne(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new pt(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rc=-1;function pA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(i===1e9?new zt(t+1,0):new zt(t,i));return new La(s,Ne.empty(),e)}function mA(n){return new La(n.readTime,n.key,Rc)}class La{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new La(Me.min(),Ne.empty(),Rc)}static max(){return new La(Me.max(),Ne.empty(),Rc)}}function gA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function tl(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==yA)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let s=0,l=0,u=!1;e.forEach(p=>{++s,p.next(()=>{++l,u&&l===s&&t()},f=>i(f))}),u=!0,l===s&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(s=>s?fe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,s)=>{const l=e.length,u=new Array(l);let p=0;for(let f=0;f<l;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++p,p===l&&i(u)},v=>s(v))}})}static doWhile(e,t){return new fe((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function bA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nl(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mh.ae=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zg=-1;function jh(n){return n==null}function ih(n){return n===0&&1/n==-1/0}function wA(n){return typeof n=="number"&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AE="";function SA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zw(e)),e=kA(n.get(t),e);return Zw(e)}function kA(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case AE:t+="";break;default:t+=l}}return t}function Zw(n){return n+AE+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _t{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Od(this.root,e,this.comparator,!1)}getReverseIterator(){return new Od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Od(this.root,e,this.comparator,!0)}}class Od{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??an.RED,this.left=s??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new an(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(n,e,t,i,s){return this}insert(n,e,t){return new an(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tS(this.data.getIterator())}getIteratorFrom(e){return new tS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class tS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Bt(sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RE("Invalid base64 string: "+s):s}}(e);return new on(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const EA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(n){if(at(!!n),typeof n=="string"){let e=0;const t=EA.exec(n);if(at(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ma(n){return typeof n=="string"?on.fromBase64String(n):on.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PE="server_timestamp",LE="__type__",DE="__previous_value__",ME="__local_write_time__";function Uh(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||t===void 0?void 0:t.stringValue)===PE}function Fh(n){const e=n.mapValue.fields[DE];return Uh(e)?Fh(e):e}function Pc(n){const e=Da(n.mapValue.fields[ME].timestampValue);return new zt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _A{constructor(e,t,i,s,l,u,p,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=f,this.useFetchStreams=m}}const ah="(default)";class Lc{constructor(e,t){this.projectId=e,this.database=t||ah}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jE="__type__",TA="__max__",Rd={mapValue:{}},UE="__vector__",sh="value";function ja(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uh(n)?4:CA(n)?9007199254740991:xA(n)?10:11:De()}function Br(n,e){if(n===e)return!0;const t=ja(n);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pc(n).isEqual(Pc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Da(i.timestampValue),u=Da(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ma(i.bytesValue).isEqual(Ma(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Rt(i.geoPointValue.latitude)===Rt(s.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Rt(i.integerValue)===Rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Rt(i.doubleValue),u=Rt(s.doubleValue);return l===u?ih(l)===ih(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(eS(l)!==eS(u))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(u[p]===void 0||!Br(l[p],u[p])))return!1;return!0}(n,e);default:return De()}}function Dc(n,e){return(n.values||[]).find(t=>Br(t,e))!==void 0}function Wo(n,e){if(n===e)return 0;const t=ja(n),i=ja(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Rt(s.integerValue||s.doubleValue),p=Rt(l.integerValue||l.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return nS(n.timestampValue,e.timestampValue);case 4:return nS(Pc(n),Pc(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(s,l){const u=Ma(s),p=Ma(l);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),p=l.split("/");for(let f=0;f<u.length&&f<p.length;f++){const m=Ge(u[f],p[f]);if(m!==0)return m}return Ge(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Ge(Rt(s.latitude),Rt(l.latitude));return u!==0?u:Ge(Rt(s.longitude),Rt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rS(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,p,f,m;const v=s.fields||{},x=l.fields||{},A=(u=v[sh])===null||u===void 0?void 0:u.arrayValue,P=(p=x[sh])===null||p===void 0?void 0:p.arrayValue,U=Ge(((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0,((m=P==null?void 0:P.values)===null||m===void 0?void 0:m.length)||0);return U!==0?U:rS(A,P)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===Rd.mapValue&&l===Rd.mapValue)return 0;if(s===Rd.mapValue)return 1;if(l===Rd.mapValue)return-1;const u=s.fields||{},p=Object.keys(u),f=l.fields||{},m=Object.keys(f);p.sort(),m.sort();for(let v=0;v<p.length&&v<m.length;++v){const x=Ge(p[v],m[v]);if(x!==0)return x;const A=Wo(u[p[v]],f[m[v]]);if(A!==0)return A}return Ge(p.length,m.length)}(n.mapValue,e.mapValue);default:throw De()}}function nS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Da(n),i=Da(e),s=Ge(t.seconds,i.seconds);return s!==0?s:Ge(t.nanos,i.nanos)}function rS(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Wo(t[s],i[s]);if(l)return l}return Ge(t.length,i.length)}function Ko(n){return tg(n)}function tg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const t=Da(e);return`time(${t.seconds},${t.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Ma(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ne.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let t="[",i=!0;for(const s of e.values||[])i?i=!1:t+=",",t+=tg(s);return t+"]"}(n.arrayValue):"mapValue"in n?function(e){const t=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const l of t)s?s=!1:i+=",",i+=`${l}:${tg(e.fields[l])}`;return i+"}"}(n.mapValue):De()}function Vd(n){switch(ja(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(n);return e?16+Vd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ma(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce((i,s)=>i+Vd(s),0)}(n.arrayValue);case 10:case 11:return function(t){let i=0;return Va(t.fields,(s,l)=>{i+=s.length+Vd(l)}),i}(n.mapValue);default:throw De()}}function oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ng(n){return!!n&&"integerValue"in n}function Vg(n){return!!n&&"arrayValue"in n}function iS(n){return!!n&&"nullValue"in n}function aS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function xA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jE])===null||t===void 0?void 0:t.stringValue)===UE}function Tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Va(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===TA}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(t)}setAll(e){let t=sn.emptyPath(),i={},s=[];e.forEach((u,p)=>{if(!t.isImmediateParentOf(p)){const f=this.getFieldsMap(t);this.applyChanges(f,i,s),i={},s=[],t=p.popLast()}u?i[p.lastSegment()]=Tc(u):s.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];$d(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Va(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Cn(Tc(this.value))}}function FE(n){const e=[];return Va(n.fields,(t,i)=>{const s=new sn([t]);if($d(i)){const l=FE(i.mapValue).fields;if(l.length===0)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)}),new Vn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fn{constructor(e,t,i,s,l,u,p){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,Me.min(),Me.min(),Me.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,s){return new fn(e,1,t,Me.min(),i,s,0)}static newNoDocument(e,t){return new fn(e,2,t,Me.min(),Me.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Me.min(),Me.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qo{constructor(e,t){this.position=e,this.inclusive=t}}function sS(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],u=n.position[s];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(u.referenceValue),t.key):i=Wo(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function oS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function IA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zE{}class Ft extends zE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new AA(e,t,i):t==="array-contains"?new PA(e,i):t==="in"?new LA(e,i):t==="not-in"?new DA(e,i):t==="array-contains-any"?new MA(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new OA(e,i):new RA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wo(t,this.value)):t!==null&&ja(this.value)===ja(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends zE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new vr(e,t)}matches(e){return VE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function VE(n){return n.op==="and"}function $E(n){return NA(n)&&VE(n)}function NA(n){for(const e of n.filters)if(e instanceof vr)return!1;return!0}function rg(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if($E(n))return n.filters.map(e=>rg(e)).join(",");{const e=n.filters.map(t=>rg(t)).join(",");return`${n.op}(${e})`}}function qE(n,e){return n instanceof Ft?function(t,i){return i instanceof Ft&&t.op===i.op&&t.field.isEqual(i.field)&&Br(t.value,i.value)}(n,e):n instanceof vr?function(t,i){return i instanceof vr&&t.op===i.op&&t.filters.length===i.filters.length?t.filters.reduce((s,l,u)=>s&&qE(l,i.filters[u]),!0):!1}(n,e):void De()}function HE(n){return n instanceof Ft?function(e){return`${e.field.canonicalString()} ${e.op} ${Ko(e.value)}`}(n):n instanceof vr?function(e){return e.op.toString()+" {"+e.getFilters().map(HE).join(" ,")+"}"}(n):"Filter"}class AA extends Ft{constructor(e,t,i){super(e,t,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class OA extends Ft{constructor(e,t){super(e,"in",t),this.keys=BE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RA extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=BE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class PA extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vg(t)&&Dc(t.arrayValue,this.value)}}class LA extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dc(this.value.arrayValue,t)}}class DA extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Dc(this.value.arrayValue,t)}}class MA extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Dc(this.value.arrayValue,i))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jA{constructor(e,t=null,i=[],s=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=u,this.endAt=p,this.le=null}}function lS(n,e=null,t=[],i=[],s=null,l=null,u=null){return new jA(n,e,t,i,s,l,u)}function $g(n){const e=je(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>rg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ko(i)).join(",")),e.le=t}return e.le}function qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oS(n.startAt,e.startAt)&&oS(n.endAt,e.endAt)}function ig(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $a{constructor(e,t=null,i=[],s=[],l=null,u="F",p=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function UA(n,e,t,i,s,l,u,p){return new $a(n,e,t,i,s,l,u,p)}function zh(n){return new $a(n)}function cS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Hg(n){return n.collectionGroup!==null}function Uo(n){const e=je(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Bt(sn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(p=>{p.isInequality()&&(l=l.add(p.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Mc(s,i))}),t.has(sn.keyField().canonicalString())||e.he.push(new Mc(sn.keyField(),i))}return e.he}function Fr(n){const e=je(n);return e.Pe||(e.Pe=FA(e,Uo(n))),e.Pe}function FA(n,e){if(n.limitType==="F")return lS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Mc(s.field,l)});const t=n.endAt?new Qo(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qo(n.startAt.position,n.startAt.inclusive):null;return lS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ag(n,e){const t=n.filters.concat([e]);return new $a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function lh(n,e,t){return new $a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vh(n,e){return qg(Fr(n),Fr(e))&&n.limitType===e.limitType}function WE(n){return`${$g(Fr(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>HE(i)).join(", ")}]`),jh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ko(i)).join(",")),`Target(${t})`}(Fr(n))}; limitType=${n.limitType})`}function $h(n,e){return e.isFoundDocument()&&function(t,i){const s=i.key.path;return t.collectionGroup!==null?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ne.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,i){for(const s of Uo(t))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(t,i){for(const s of t.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(t,i){return!(t.startAt&&!function(s,l,u){const p=sS(s,l,u);return s.inclusive?p<=0:p<0}(t.startAt,Uo(t),i)||t.endAt&&!function(s,l,u){const p=sS(s,l,u);return s.inclusive?p>=0:p>0}(t.endAt,Uo(t),i))}(n,e)}function zA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KE(n){return(e,t)=>{let i=!1;for(const s of Uo(n)){const l=VA(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function VA(n,e,t){const i=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(s,l,u){const p=l.data.field(s),f=u.data.field(s);return p!==null&&f!==null?Wo(p,f):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $A=new _t(Ne.comparator);function Li(){return $A}const QE=new _t(Ne.comparator);function kc(...n){let e=QE;for(const t of n)e=e.insert(t.key,t);return e}function YE(n){let e=QE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ts(){return xc()}function GE(){return xc()}function xc(){return new Vs(n=>n.toString(),(n,e)=>n.isEqual(e))}const qA=new _t(Ne.comparator),HA=new Bt(Ne.comparator);function Qe(...n){let e=HA;for(const t of n)e=e.add(t);return e}const BA=new Bt(Ge);function WA(){return BA}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function JE(n){return{integerValue:""+n}}function KA(n,e){return wA(e)?JE(e):Bg(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qh{constructor(){this._=void 0}}function QA(n,e,t){return n instanceof ch?function(i,s){const l={fields:{[LE]:{stringValue:PE},[ME]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uh(s)&&(s=Fh(s)),s&&(l.fields[DE]=s),{mapValue:l}}(t,e):n instanceof jc?ZE(n,e):n instanceof Uc?e_(n,e):function(i,s){const l=XE(i,s),u=uS(l)+uS(i.Ie);return ng(l)&&ng(i.Ie)?JE(u):Bg(i.serializer,u)}(n,e)}function YA(n,e,t){return n instanceof jc?ZE(n,e):n instanceof Uc?e_(n,e):t}function XE(n,e){return n instanceof uh?function(t){return ng(t)||function(i){return!!i&&"doubleValue"in i}(t)}(e)?e:{integerValue:0}:null}class ch extends qh{}class jc extends qh{constructor(e){super(),this.elements=e}}function ZE(n,e){const t=t_(e);for(const i of n.elements)t.some(s=>Br(s,i))||t.push(i);return{arrayValue:{values:t}}}class Uc extends qh{constructor(e){super(),this.elements=e}}function e_(n,e){let t=t_(e);for(const i of n.elements)t=t.filter(s=>!Br(s,i));return{arrayValue:{values:t}}}class uh extends qh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uS(n){return Rt(n.integerValue||n.doubleValue)}function t_(n){return Vg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function GA(n,e){return n.field.isEqual(e.field)&&function(t,i){return t instanceof jc&&i instanceof jc||t instanceof Uc&&i instanceof Uc?Bo(t.elements,i.elements,Br):t instanceof uh&&i instanceof uh?Br(t.Ie,i.Ie):t instanceof ch&&i instanceof ch}(n.transform,e.transform)}class JA{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hh{}function n_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wg(n.key,gr.none()):new Qc(n.key,n.data,gr.none());{const t=n.data,i=Cn.empty();let s=new Bt(sn.comparator);for(let l of e.fields)if(!s.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),s=s.add(l)}return new qa(n.key,i,new Vn(s.toArray()),gr.none())}}function XA(n,e,t){n instanceof Qc?function(i,s,l){const u=i.value.clone(),p=hS(i.fieldTransforms,s,l.transformResults);u.setAll(p),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof qa?function(i,s,l){if(!qd(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=hS(i.fieldTransforms,s,l.transformResults),p=s.data;p.setAll(r_(i)),p.setAll(u),s.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Cc(n,e,t,i){return n instanceof Qc?function(s,l,u,p){if(!qd(s.precondition,l))return u;const f=s.value.clone(),m=fS(s.fieldTransforms,p,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof qa?function(s,l,u,p){if(!qd(s.precondition,l))return u;const f=fS(s.fieldTransforms,p,l),m=l.data;return m.setAll(r_(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(s,l,u){return qd(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function ZA(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=XE(i.transform,s||null);l!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,l))}return t||null}function dS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,i){return t===void 0&&i===void 0||!(!t||!i)&&Bo(t,i,(s,l)=>GA(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qc extends Hh{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qa extends Hh{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function r_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function hS(n,e,t){const i=new Map;at(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],u=l.transform,p=e.data.field(l.field);i.set(l.field,YA(u,p,t[s]))}return i}function fS(n,e,t){const i=new Map;for(const s of n){const l=s.transform,u=t.data.field(s.field);i.set(s.field,QA(l,u,e))}return i}class Wg extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eO extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tO{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&XA(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=GE();return this.mutations.forEach(s=>{const l=e.get(s.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(s.key)?null:p;const f=n_(u,p);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(t,i)=>dS(t,i))&&Bo(this.baseMutations,e.baseMutations,(t,i)=>dS(t,i))}}class Kg{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){at(e.mutations.length===i.length);let s=function(){return qA}();const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,i[u].version);return new Kg(e,t,i,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ut,Xe;function iO(n){switch(n){case de.OK:return De();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return De()}}function i_(n){if(n===void 0)return Pi("GRPC error has no .code"),de.UNKNOWN;switch(n){case Ut.OK:return de.OK;case Ut.CANCELLED:return de.CANCELLED;case Ut.UNKNOWN:return de.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return de.INTERNAL;case Ut.UNAVAILABLE:return de.UNAVAILABLE;case Ut.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ut.NOT_FOUND:return de.NOT_FOUND;case Ut.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ut.ABORTED:return de.ABORTED;case Ut.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ut.DATA_LOSS:return de.DATA_LOSS;default:return De()}}(Xe=Ut||(Ut={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aO(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sO=new Aa([4294967295,4294967295],0);function pS(n){const e=aO().encode(n),t=new kE;return t.update(e),new Uint8Array(t.digest())}function mS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Aa([t,i],0),new Aa([s,l],0)]}class Qg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ec(`Invalid padding: ${t}`);if(i<0)throw new Ec(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Aa.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(Aa.fromNumber(i)));return s.compare(sO)===1&&(s=new Aa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=pS(e),[i,s]=mS(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,s,l);if(!this.Re(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Qg(l,s,t);return i.forEach(p=>u.insert(p)),u}insert(e){if(this.Ee===0)return;const t=pS(e),[i,s]=mS(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,s,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bh{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bh(Me.min(),s,new _t(Ge),Li(),Qe())}}class Yc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Yc(i,t,Qe(),Qe(),Qe())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hd{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class a_{constructor(e,t){this.targetId=e,this.ge=t}}class s_{constructor(e,t,i=on.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class gS{constructor(){this.pe=0,this.ye=yS(),this.we=on.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Qe(),t=Qe(),i=Qe();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:De()}}),new Yc(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=yS()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,at(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class oO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.$e=Pd(),this.Ke=Pd(),this.Ue=new _t(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(ig(l))if(i===0){const u=new Ne(l.path);this.ze(t,u,fn.newNoDocument(u,Me.min()))}else at(i===1);else{const u=this.et(t);if(u!==i){const p=this.tt(e),f=p?this.nt(p,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let u,p;try{u=Ma(i).toUint8Array()}catch(f){if(f instanceof RE)return Ho("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{p=new Qg(u,s,l)}catch(f){return Ho(f instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return p.Ee===0?null:p}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const u=this.ke.it(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const p=this.Xe(u);if(p){if(l.current&&ig(p.target)){const f=new Ne(p.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,fn.newNoDocument(f,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let i=Qe();this.Ke.forEach((l,u)=>{let p=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(i=i.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const s=new Bh(e,t,this.Ue,this.Qe,i);return this.Qe=Li(),this.$e=Pd(),this.Ke=Pd(),this.Ue=new _t(Ge),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Bt(Ge),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Bt(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Pd(){return new _t(Ne.comparator)}function yS(){return new _t(Ne.comparator)}const lO={asc:"ASCENDING",desc:"DESCENDING"},cO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uO={and:"AND",or:"OR"};class dO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sg(n,e){return n.useProto3Json||jh(e)?e:{value:e}}function dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hO(n,e){return dh(n,e.toTimestamp())}function zr(n){return at(!!n),Me.fromTimestamp(function(e){const t=Da(e);return new zt(t.seconds,t.nanos)}(n))}function Yg(n,e){return og(n,e).canonicalString()}function og(n,e){const t=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function l_(n){const e=pt.fromString(n);return at(f_(e)),e}function lg(n,e){return Yg(n.databaseId,e.path)}function Pm(n,e){const t=l_(e);if(t.get(1)!==n.databaseId.projectId)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(u_(t))}function c_(n,e){return Yg(n.databaseId,e)}function fO(n){const e=l_(n);return e.length===4?pt.emptyPath():u_(e)}function cg(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function u_(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vS(n,e,t){return{name:lg(n,e),fields:t.value.mapValue.fields}}function pO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(f,m){return f.useProto3Json?(at(m===void 0||typeof m=="string"),on.fromBase64String(m||"")):(at(m===void 0||m instanceof Buffer||m instanceof Uint8Array),on.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(f){const m=f.code===void 0?de.UNKNOWN:i_(f.code);return new be(m,f.message||"")}(u);t=new s_(i,s,l,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Pm(n,i.document.name),l=zr(i.document.updateTime),u=i.document.createTime?zr(i.document.createTime):Me.min(),p=new Cn({mapValue:{fields:i.document.fields}}),f=fn.newFoundDocument(s,l,u,p),m=i.targetIds||[],v=i.removedTargetIds||[];t=new Hd(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Pm(n,i.document),l=i.readTime?zr(i.readTime):Me.min(),u=fn.newNoDocument(s,l),p=i.removedTargetIds||[];t=new Hd([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Pm(n,i.document),l=i.removedTargetIds||[];t=new Hd([],l,s,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,u=new rO(s,l),p=i.targetId;t=new a_(p,u)}}return t}function mO(n,e){let t;if(e instanceof Qc)t={update:vS(n,e.key,e.value)};else if(e instanceof Wg)t={delete:lg(n,e.key)};else if(e instanceof qa)t={update:vS(n,e.key,e.data),updateMask:_O(e.fieldMask)};else{if(!(e instanceof eO))return De();t={verify:lg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,l){const u=l.transform;if(u instanceof ch)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Uc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof uh)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:De()}(n,e.precondition)),t}function gO(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?zr(i.updateTime):zr(s);return l.isEqual(Me.min())&&(l=zr(s)),new JA(l,i.transformResults||[])}(t,e))):[]}function yO(n,e){return{documents:[c_(n,e.path)]}}function vO(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=c_(n,s);const l=function(f){if(f.length!==0)return h_(vr.create(f,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:Do(v.field),direction:SO(v.dir)}}(m))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=sg(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:s}}function bO(n){let e=fO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){at(i===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(v){const x=d_(v);return x instanceof vr&&$E(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(x=>function(A){return new Mc(Mo(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(x))}(t.orderBy));let p=null;t.limit&&(p=function(v){let x;return x=typeof v=="object"?v.value:v,jh(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(v){const x=!!v.before,A=v.values||[];return new Qo(A,x)}(t.startAt));let m=null;return t.endAt&&(m=function(v){const x=!v.before,A=v.values||[];return new Qo(A,x)}(t.endAt)),UA(e,s,u,l,p,"F",f,m)}function wO(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function d_(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mo(e.unaryFilter.field);return Ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Mo(e.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mo(e.unaryFilter.field);return Ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Mo(e.unaryFilter.field);return Ft.create(l,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(e){return Ft.create(Mo(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return vr.create(e.compositeFilter.filters.map(t=>d_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return De()}}(e.compositeFilter.op))}(n):De()}function SO(n){return lO[n]}function kO(n){return cO[n]}function EO(n){return uO[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Mo(n){return sn.fromServerFormat(n.fieldPath)}function h_(n){return n instanceof Ft?function(e){if(e.op==="=="){if(aS(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NAN"}};if(iS(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(aS(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NAN"}};if(iS(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(e.field),op:kO(e.op),value:e.value}}}(n):n instanceof vr?function(e){const t=e.getFilters().map(i=>h_(i));return t.length===1?t[0]:{compositeFilter:{op:EO(e.op),filters:t}}}(n):De()}function _O(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function f_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ca{constructor(e,t,i,s,l=Me.min(),u=Me.min(),p=on.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=f}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TO{constructor(e){this.Tt=e}}function xO(n){const e=bO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lh(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CO{constructor(){this.Tn=new IO}addToCollectionParentIndex(e,t){return this.Tn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(La.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class IO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Bt(pt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Bt(pt.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p_=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(p_,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Yo(0)}static Un(){return new Yo(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wS="LruGarbageCollector",NO=1048576;function SS([n,e],[t,i]){const s=Ge(n,t);return s===0?Ge(e,i):s}class AO{constructor(e){this.Hn=e,this.buffer=new Bt(SS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();SS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(wS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nl(t)?Ee(wS,"Ignoring IndexedDB error during garbage collection: ",t):await tl(t)}await this.er(3e5)})}}class RO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Mh.ae);const i=new AO(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(bS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,l,u,p,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,u=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(i=x,p=Date.now(),this.removeTargets(e,i,t))).next(x=>(l=x,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(x=>(m=Date.now(),Po()<=Ke.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(p-u)+`ms
	Removed ${l} targets in `+(f-p)+`ms
	Removed ${x} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:x})))}}function PO(n,e){return new RO(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LO{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MO{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Cc(i.mutation,s,Vn.empty(),zt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Qe()){const s=Ts();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let u=kc();return l.forEach((p,f)=>{u=u.insert(p,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ts();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Qe()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((u,p)=>{t.set(u,p)})})}computeViews(e,t,i,s){let l=Li();const u=xc(),p=function(){return xc()}();return t.forEach((f,m)=>{const v=i.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof qa)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Cc(v.mutation,m,v.mutation.getFieldMask(),zt.now())):u.set(m.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var x;return p.set(m,new DO(v,(x=u.get(m))!==null&&x!==void 0?x:null))}),p))}recalculateAndSaveOverlays(e,t){const i=xc();let s=new _t((u,p)=>u-p),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const p of u)p.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||Vn.empty();v=p.applyToLocalView(m,v),i.set(f,v);const x=(s.get(p.batchId)||Qe()).add(f);s=s.insert(p.batchId,x)})}).next(()=>{const u=[],p=s.getReverseIterator();for(;p.hasNext();){const f=p.getNext(),m=f.key,v=f.value,x=GE();v.forEach(A=>{if(!l.has(A)){const P=n_(t.get(A),i.get(A));P!==null&&x.set(A,P),l=l.add(A)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return fe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return Ne.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):fe.resolve(Ts());let p=Rc,f=l;return u.next(m=>fe.forEach(m,(v,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{f=f.insert(v,A)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,f,m,Qe())).next(v=>({batchId:p,changes:YE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(i=>{let s=kc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,l).next(p=>fe.forEach(p,f=>{const m=function(v,x){return new $a(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(v=>{v.forEach((x,A)=>{u=u.insert(x,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(u=>{l.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,fn.newInvalidDocument(v)))});let p=kc();return u.forEach((f,m)=>{const v=l.get(f);v!==void 0&&Cc(v.mutation,m,Vn.empty(),zt.now()),$h(t,m)&&(p=p.insert(f,m))}),p})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return fe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zr(i.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:xO(i.bundledQuery),readTime:zr(i.readTime)}}(t)),fe.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UO{constructor(){this.overlays=new _t(Ne.comparator),this.Rr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ts();return fe.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.Et(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const s=Ts(),l=t.length+1,u=new Ne(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const f=p.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>i&&s.set(f.getKey(),f)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new _t((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=Ts(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const p=Ts(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>p.set(m,v)),!(p.size()>=s)););return fe.resolve(p)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new nO(t,i));let l=this.Rr.get(t);l===void 0&&(l=Qe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FO{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gg{constructor(){this.Vr=new Bt(Xt.mr),this.gr=new Bt(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Xt(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new Ne(new pt([])),i=new Xt(t,e),s=new Xt(t,e+1),l=[];return this.gr.forEachInRange([i,s],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ne(new pt([])),i=new Xt(t,e),s=new Xt(t,e+1);let l=Qe();return this.gr.forEachInRange([i,s],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Xt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ne.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||Ne.comparator(e.key,t.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Bt(Xt.mr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new tO(l,t,i,s);this.mutationQueue.push(u);for(const p of s)this.Mr=this.Mr.add(new Xt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),l=s<0?0:s;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?zg:this.Fr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),s=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,s],u=>{const p=this.Or(u.Cr);l.push(p)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Ge);return t.forEach(s=>{const l=new Xt(s,0),u=new Xt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],p=>{i=i.add(p.Cr)})}),fe.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new Ne(l),0);let p=new Bt(Ge);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(p=p.add(f.Cr)),!0)},u),fe.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){at(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return fe.forEach(t.mutations,s=>{const l=new Xt(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Xt(t,0),s=this.Mr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VO{constructor(e){this.kr=e,this.docs=function(){return new _t(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Li();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():fn.newInvalidDocument(s))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Li();const u=t.path,p=new Ne(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(p);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||gA(mA(v),i)<=0||(s.has(v.key)||$h(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,s){De()}qr(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $O(this)}getSize(e){return fe.resolve(this.size)}}class $O extends LO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qO{constructor(e){this.persistence=e,this.Qr=new Vs(t=>$g(t),qg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Gg,this.targetCount=0,this.Ur=Yo.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),fe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.zn(t),fe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.Qr.forEach((u,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),fe.waitFor(l).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(u=>{l.push(s.markPotentiallyOrphaned(e,u))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.Kr.containsKey(t))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m_{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Mh(0),this.zr=!1,this.zr=!0,this.jr=new FO,this.referenceDelegate=e(this),this.Hr=new qO(this),this.indexManager=new CO,this.remoteDocumentCache=function(i){return new VO(i)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new TO(t),this.Yr=new jO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new zO(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Ee("MemoryPersistence","Starting transaction:",e);const s=new HO(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return fe.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class HO extends vA{constructor(e){super(),this.currentSequenceNumber=e}}class Jg{constructor(e){this.persistence=e,this.ti=new Gg,this.ni=null}static ri(e){return new Jg(e)}get ii(){if(this.ni)return this.ni;throw De()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),fe.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ii,i=>{const s=Ne.fromPath(i);return this.si(e,s).next(l=>{l||t.removeEntry(s,Me.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return fe.or([()=>fe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class hh{constructor(e,t){this.persistence=e,this.oi=new Vs(i=>SA(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=PO(this,t)}static ri(e,t){return new hh(e,t)}Zr(){}Xr(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return fe.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(l=>l?fe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(p=>{p||(i++,l.removeEntry(u,Me.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vd(e.data.value)),t}ar(e,t,i){return fe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xg{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=Qe(),s=Qe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Xg(e,t.fromCache,i,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zN()?8:bA(mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,s,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new BO;return this._s(e,t,u).next(p=>{if(l.result=p,this.Xi)return this.us(e,t,u,p.size)})}).next(()=>l.result)}us(e,t,i,s){return i.documentReadCount<this.es?(Po()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),fe.resolve()):(Po()<=Ke.DEBUG&&Ee("QueryEngine","Query:",Lo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Po()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):fe.resolve())}rs(e,t){if(cS(t))return fe.resolve(null);let i=Fr(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=lh(t,null,"F"),i=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Qe(...l);return this.ns.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(t,p);return this.ls(t,m,u,f.readTime)?this.rs(e,lh(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,i,s){return cS(t)||s.isEqual(Me.min())?fe.resolve(null):this.ns.getDocuments(e,i).next(l=>{const u=this.cs(t,l);return this.ls(t,u,i,s)?fe.resolve(null):(Po()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lo(t)),this.hs(e,u,t,pA(s,Rc)).next(p=>p))})}cs(e,t){let i=new Bt(KE(e));return t.forEach((s,l)=>{$h(e,l)&&(i=i.add(l))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,i){return Po()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ns.getDocumentsMatchingQuery(e,t,La.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zg="LocalStore",KO=3e8;class QO{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new _t(Ge),this.Is=new Vs(l=>$g(l),qg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function YO(n,e,t,i){return new QO(n,e,t,i)}async function g_(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],p=[];let f=Qe();for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of l){p.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:p}))})})}function GO(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,p,f,m){const v=f.batch,x=v.keys();let A=fe.resolve();return x.forEach(P=>{A=A.next(()=>m.getEntry(p,P)).next(U=>{const D=f.docVersions.get(P);at(D!==null),U.version.compareTo(D)<0&&(v.applyToRemoteDocument(U,f),U.isValidDocument()&&(U.setReadTime(f.commitVersion),m.addEntry(U)))})}),A.next(()=>u.mutationQueue.removeMutationBatch(p,v))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let p=Qe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(p=p.add(u.batch.mutations[f].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function y_(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function JO(n,e){const t=je(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const p=[];e.targetChanges.forEach((v,x)=>{const A=s.get(x);if(!A)return;p.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,x).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,x)));let P=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?P=P.withResumeToken(on.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,i)),s=s.insert(x,P),function(U,D,$){return U.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=KO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,P,v)&&p.push(t.Hr.updateTargetData(l,P))});let f=Li(),m=Qe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),p.push(XO(l,u,e.documentUpdates).next(v=>{f=v.Vs,m=v.fs})),!i.isEqual(Me.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(x=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));p.push(v)}return fe.waitFor(p).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,m)).next(()=>f)}).then(l=>(t.Ts=s,l))}function XO(n,e,t){let i=Qe(),s=Qe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Li();return t.forEach((p,f)=>{const m=l.get(p);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(p)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(p,f.readTime),u=u.insert(p,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(p,f)):Ee(Zg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:s}})}function ZO(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=zg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function eR(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(l=>l?(s=l,fe.resolve(s)):t.Hr.allocateTargetId(i).next(u=>(s=new Ca(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function ug(n,e,t){const i=je(n),s=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!nl(u))throw u;Ee(Zg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function kS(n,e,t){const i=je(n);let s=Me.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,f,m){const v=je(p),x=v.Is.get(m);return x!==void 0?fe.resolve(v.Ts.get(x)):v.Hr.getTargetData(f,m)}(i,u,Fr(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,p.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?s:Me.min(),t?l:Qe())).next(p=>(tR(i,zA(e),p),{documents:p,gs:l})))}function tR(n,e,t){let i=n.Es.get(e)||Me.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class ES{constructor(){this.activeTargetIds=WA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nR{constructor(){this.ho=new ES,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ES,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rR{To(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _S="ConnectivityMonitor";class TS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(_S,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(_S,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ld=null;function dg(){return Ld===null?Ld=function(){return 268435456+Math.round(2147483648*Math.random())}():Ld++,"0x"+Ld.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lm="RestConnection",iR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===ah?`project_id=${i}`:`project_id=${i}&database_id=${s}`}bo(e,t,i,s,l){const u=dg(),p=this.So(e,t.toUriEncodedString());Ee(Lm,`Sending RPC '${e}' ${u}:`,p,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,s,l),this.vo(e,p,f,i).then(m=>(Ee(Lm,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Ho(Lm,`RPC '${e}' ${u} failed with error: `,m,"url: ",p,"request:",i),m})}Co(e,t,i,s,l,u){return this.bo(e,t,i,s,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}So(e,t){const i=iR[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dn="WebChannelConnection";class oR extends aR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const l=dg();return new Promise((u,p)=>{const f=new EE;f.setWithCredentials(!0),f.listenOnce(_E.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case zd.NO_ERROR:const v=f.getResponseJson();Ee(dn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case zd.TIMEOUT:Ee(dn,`RPC '${e}' ${l} timed out`),p(new be(de.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const x=f.getStatus();if(Ee(dn,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let A=f.getResponseJson();Array.isArray(A)&&(A=A[0]);const P=A==null?void 0:A.error;if(P&&P.status&&P.message){const U=function(D){const $=D.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN}(P.status);p(new be(U,P.message))}else p(new be(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else p(new be(de.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{Ee(dn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);Ee(dn,`RPC '${e}' ${l} sending request:`,s),f.send(t,"POST",m,i,15)})}Wo(e,t,i){const s=dg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=CE(),p=xE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=l.join("");Ee(dn,`Creating RPC '${e}' stream ${s}: ${v}`,f);const x=u.createWebChannel(v,f);let A=!1,P=!1;const U=new sR({Fo:$=>{P?Ee(dn,`Not sending because RPC '${e}' stream ${s} is closed:`,$):(A||(Ee(dn,`Opening RPC '${e}' stream ${s} transport.`),x.open(),A=!0),Ee(dn,`RPC '${e}' stream ${s} sending:`,$),x.send($))},Mo:()=>x.close()}),D=($,H,B)=>{$.listen(H,X=>{try{B(X)}catch(le){setTimeout(()=>{throw le},0)}})};return D(x,Sc.EventType.OPEN,()=>{P||(Ee(dn,`RPC '${e}' stream ${s} transport opened.`),U.Qo())}),D(x,Sc.EventType.CLOSE,()=>{P||(P=!0,Ee(dn,`RPC '${e}' stream ${s} transport closed`),U.Ko())}),D(x,Sc.EventType.ERROR,$=>{P||(P=!0,Ho(dn,`RPC '${e}' stream ${s} transport errored:`,$),U.Ko(new be(de.UNAVAILABLE,"The operation could not be completed")))}),D(x,Sc.EventType.MESSAGE,$=>{var H;if(!P){const B=$.data[0];at(!!B);const X=B,le=(X==null?void 0:X.error)||((H=X[0])===null||H===void 0?void 0:H.error);if(le){Ee(dn,`RPC '${e}' stream ${s} received error:`,le);const F=le.status;let q=function(I){const b=Ut[I];if(b!==void 0)return i_(b)}(F),N=le.message;q===void 0&&(q=de.INTERNAL,N="Unknown error status: "+F+" with message "+le.message),P=!0,U.Ko(new be(q,N)),x.close()}else Ee(dn,`RPC '${e}' stream ${s} received:`,B),U.Uo(B)}}),D(p,TE.STAT_EVENT,$=>{$.stat===eg.PROXY?Ee(dn,`RPC '${e}' stream ${s} detected buffering proxy`):$.stat===eg.NOPROXY&&Ee(dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Dm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wh(n){return new dO(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v_{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xS="PersistentStream";class b_{constructor(e,t,i,s,l,u,p,f){this.Ti=e,this.n_=i,this.r_=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new v_(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new be(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(xS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ee(xS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lR extends b_{constructor(e,t,i,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=pO(this.serializer,e),i=function(s){if(!("targetChange"in s))return Me.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?zr(l.readTime):Me.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=cg(this.serializer),t.addTarget=function(s,l){let u;const p=l.target;if(u=ig(p)?{documents:yO(s,p)}:{query:vO(s,p).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=o_(s,l.resumeToken);const f=sg(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Me.min())>0){u.readTime=dh(s,l.snapshotVersion.toTimestamp());const f=sg(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=wO(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=cg(this.serializer),t.removeTarget=e,this.I_(t)}}class cR extends b_{constructor(e,t,i,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=gO(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=cg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mO(this.serializer,i))};this.I_(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uR{}class dR extends uR{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.bo(e,og(t,i),s,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(de.UNKNOWN,l.toString())})}Co(e,t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.Co(e,og(t,i),s,u,p,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(de.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class hR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pi(t),this.N_=!1):Ee("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Os="RemoteStore";class fR{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{i.enqueueAndForget(async()=>{$s(this)&&(Ee(Os,"Restarting streams for network reachability change."),await async function(p){const f=je(p);f.W_.add(4),await Gc(f),f.j_.set("Unknown"),f.W_.delete(4),await Kh(f)}(this))})}),this.j_=new hR(i,s)}}async function Kh(n){if($s(n))for(const e of n.G_)await e(!0)}async function Gc(n){for(const e of n.G_)await e(!1)}function w_(n,e){const t=je(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ry(t)?ny(t):rl(t).c_()&&ty(t,e))}function ey(n,e){const t=je(n),i=rl(t);t.U_.delete(e),i.c_()&&S_(t,e),t.U_.size===0&&(i.c_()?i.P_():$s(t)&&t.j_.set("Unknown"))}function ty(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(n).y_(e)}function S_(n,e){n.H_.Ne(e),rl(n).w_(e)}function ny(n){n.H_=new oO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.j_.B_()}function ry(n){return $s(n)&&!rl(n).u_()&&n.U_.size>0}function $s(n){return je(n).W_.size===0}function k_(n){n.H_=void 0}async function pR(n){n.j_.set("Online")}async function mR(n){n.U_.forEach((e,t)=>{ty(n,e)})}async function gR(n,e){k_(n),ry(n)?(n.j_.q_(e),ny(n)):n.j_.set("Unknown")}async function yR(n,e,t){if(n.j_.set("Online"),e instanceof s_&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(i){Ee(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fh(n,i)}else if(e instanceof Hd?n.H_.We(e):e instanceof a_?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Me.min()))try{const i=await y_(n.localStore);t.compareTo(i)>=0&&await function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach((p,f)=>{if(p.resumeToken.approximateByteSize()>0){const m=s.U_.get(f);m&&s.U_.set(f,m.withResumeToken(p.resumeToken,l))}}),u.targetMismatches.forEach((p,f)=>{const m=s.U_.get(p);if(!m)return;s.U_.set(p,m.withResumeToken(on.EMPTY_BYTE_STRING,m.snapshotVersion)),S_(s,p);const v=new Ca(m.target,p,f,m.sequenceNumber);ty(s,v)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){Ee(Os,"Failed to raise snapshot:",i),await fh(n,i)}}async function fh(n,e,t){if(!nl(e))throw e;n.W_.add(1),await Gc(n),n.j_.set("Offline"),t||(t=()=>y_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ee(Os,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Kh(n)})}function E_(n,e){return e().catch(t=>fh(n,t,e))}async function Qh(n){const e=je(n),t=Ua(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:zg;for(;vR(e);)try{const s=await ZO(e.localStore,i);if(s===null){e.K_.length===0&&t.P_();break}i=s.batchId,bR(e,s)}catch(s){await fh(e,s)}__(e)&&T_(e)}function vR(n){return $s(n)&&n.K_.length<10}function bR(n,e){n.K_.push(e);const t=Ua(n);t.c_()&&t.b_&&t.S_(e.mutations)}function __(n){return $s(n)&&!Ua(n).u_()&&n.K_.length>0}function T_(n){Ua(n).start()}async function wR(n){Ua(n).C_()}async function SR(n){const e=Ua(n);for(const t of n.K_)e.S_(t.mutations)}async function kR(n,e,t){const i=n.K_.shift(),s=Kg.from(i,e,t);await E_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Qh(n)}async function ER(n,e){e&&Ua(n).b_&&await async function(t,i){if(function(s){return iO(s)&&s!==de.ABORTED}(i.code)){const s=t.K_.shift();Ua(t).h_(),await E_(t,()=>t.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qh(t)}}(n,e),__(n)&&T_(n)}async function CS(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Ee(Os,"RemoteStore received new credentials");const i=$s(t);t.W_.add(3),await Gc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Kh(t)}async function _R(n,e){const t=je(n);e?(t.W_.delete(2),await Kh(t)):e||(t.W_.add(2),await Gc(t),t.j_.set("Unknown"))}function rl(n){return n.J_||(n.J_=function(e,t,i){const s=je(e);return s.M_(),new lR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:pR.bind(null,n),No:mR.bind(null,n),Lo:gR.bind(null,n),p_:yR.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),ry(n)?ny(n):n.j_.set("Unknown")):(await n.J_.stop(),k_(n))})),n.J_}function Ua(n){return n.Y_||(n.Y_=function(e,t,i){const s=je(e);return s.M_(),new cR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:wR.bind(null,n),Lo:ER.bind(null,n),D_:SR.bind(null,n),v_:kR.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Qh(n)):(await n.Y_.stop(),n.K_.length>0&&(Ee(Os,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iy{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const u=Date.now()+i,p=new iy(e,t,u,s,l);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(n,e){if(Pi("AsyncQueue",`${e}: ${n}`),nl(n))return new be(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ne.comparator(t.key,i.key):(t,i)=>Ne.comparator(t.key,i.key),this.keyedMap=kc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IS{constructor(){this.Z_=new _t(Ne.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):De():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Go{constructor(e,t,i,s,l,u,p,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,s,l){const u=[];return t.forEach(p=>{u.push({type:0,doc:p})}),new Go(e,t,Fo.emptySet(t),u,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class xR{constructor(){this.queries=NS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,t){const i=je(e),s=i.queries;i.queries=NS(),s.forEach((l,u)=>{for(const p of u.ta)p.onError(t)})})(this,new be(de.ABORTED,"Firestore shutting down"))}}function NS(){return new Vs(n=>WE(n),Vh)}async function x_(n,e){const t=je(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(i=2):(l=new TR,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const p=ay(u,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(p)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&sy(t)}async function C_(n,e){const t=je(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function CR(n,e){const t=je(n);let i=!1;for(const s of e){const l=s.query,u=t.queries.get(l);if(u){for(const p of u.ta)p.oa(s)&&(i=!0);u.ea=s}}i&&sy(t)}function IR(n,e,t){const i=je(n),s=i.queries.get(e);if(s)for(const l of s.ta)l.onError(t);i.queries.delete(e)}function sy(n){n.ia.forEach(e=>{e.next()})}var hg,AS;(AS=hg||(hg={}))._a="default",AS.Cache="cache";class I_{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hg.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N_{constructor(e){this.key=e}}class A_{constructor(e){this.key=e}}class NR{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Qe(),this.mutatedKeys=Qe(),this.ya=KE(e),this.wa=new Fo(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new IS,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=s,p=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,x)=>{const A=s.get(v),P=$h(this.query,x)?x:null,U=!!A&&this.mutatedKeys.has(A.key),D=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let $=!1;A&&P?A.data.isEqual(P.data)?U!==D&&(i.track({type:3,doc:P}),$=!0):this.va(A,P)||(i.track({type:2,doc:P}),$=!0,(f&&this.ya(P,f)>0||m&&this.ya(P,m)<0)&&(p=!0)):!A&&P?(i.track({type:0,doc:P}),$=!0):A&&!P&&(i.track({type:1,doc:A}),$=!0,(f||m)&&(p=!0)),$&&(P?(u=u.add(P),l=D?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:p,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,x)=>function(A,P){const U=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return U(A)-U(P)}(v.type,x.type)||this.ya(v.doc,x.doc)),this.Ca(i),s=s!=null&&s;const p=t&&!s?this.Fa():[],f=this.pa.size===0&&this.current&&!s?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new Go(this.query,e.wa,l,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new IS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Qe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new A_(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new N_(i))}),t}Oa(e){this.fa=e.gs,this.pa=Qe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const oy="SyncEngine";class AR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OR{constructor(e){this.key=e,this.Ba=!1}}class RR{constructor(e,t,i,s,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Vs(p=>WE(p),Vh),this.qa=new Map,this.Qa=new Set,this.$a=new _t(Ne.comparator),this.Ka=new Map,this.Ua=new Gg,this.Wa={},this.Ga=new Map,this.za=Yo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function PR(n,e,t=!0){const i=M_(n);let s;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await O_(i,e,t,!0),s}async function LR(n,e){const t=M_(n);await O_(t,e,!0,!1)}async function O_(n,e,t,i){const s=await eR(n.localStore,Fr(e)),l=s.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let p;return i&&(p=await DR(n,e,l,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&w_(n.remoteStore,s),p}async function DR(n,e,t,i,s){n.Ha=(x,A,P)=>async function(U,D,$,H){let B=D.view.Sa($);B.ls&&(B=await kS(U.localStore,D.query,!1).then(({documents:q})=>D.view.Sa(q,B)));const X=H&&H.targetChanges.get(D.targetId),le=H&&H.targetMismatches.get(D.targetId)!=null,F=D.view.applyChanges(B,U.isPrimaryClient,X,le);return RS(U,D.targetId,F.Ma),F.snapshot}(n,x,A,P);const l=await kS(n.localStore,e,!0),u=new NR(e,l.gs),p=u.Sa(l.documents),f=Yc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),m=u.applyChanges(p,n.isPrimaryClient,f);RS(n,t,m.Ma);const v=new AR(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function MR(n,e,t){const i=je(n),s=i.ka.get(e),l=i.qa.get(s.targetId);if(l.length>1)return i.qa.set(s.targetId,l.filter(u=>!Vh(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await ug(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&ey(i.remoteStore,s.targetId),fg(i,s.targetId)}).catch(tl)):(fg(i,s.targetId),await ug(i.localStore,s.targetId,!0))}async function jR(n,e){const t=je(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ey(t.remoteStore,i.targetId))}async function UR(n,e,t){const i=BR(n);try{const s=await function(l,u){const p=je(l),f=zt.now(),m=u.reduce((A,P)=>A.add(P.key),Qe());let v,x;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let P=Li(),U=Qe();return p.ds.getEntries(A,m).next(D=>{P=D,P.forEach(($,H)=>{H.isValidDocument()||(U=U.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,P)).next(D=>{v=D;const $=[];for(const H of u){const B=ZA(H,v.get(H.key).overlayedDocument);B!=null&&$.push(new qa(H.key,B,FE(B.value.mapValue),gr.exists(!0)))}return p.mutationQueue.addMutationBatch(A,f,$,u)}).next(D=>{x=D;const $=D.applyToLocalDocumentSet(v,U);return p.documentOverlayCache.saveOverlays(A,D.batchId,$)})}).then(()=>({batchId:x.batchId,changes:YE(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,p){let f=l.Wa[l.currentUser.toKey()];f||(f=new _t(Ge)),f=f.insert(u,p),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,t),await Jc(i,s.changes),await Qh(i.remoteStore)}catch(s){const l=ay(s,"Failed to persist write");t.reject(l)}}async function R_(n,e){const t=je(n);try{const i=await JO(t.localStore,e);e.targetChanges.forEach((s,l)=>{const u=t.Ka.get(l);u&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?at(u.Ba):s.removedDocuments.size>0&&(at(u.Ba),u.Ba=!1))}),await Jc(t,i,e)}catch(i){await tl(i)}}function OS(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((l,u)=>{const p=u.view.sa(e);p.snapshot&&s.push(p.snapshot)}),function(l,u){const p=je(l);p.onlineState=u;let f=!1;p.queries.forEach((m,v)=>{for(const x of v.ta)x.sa(u)&&(f=!0)}),f&&sy(p)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function FR(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ka.get(e),l=s&&s.key;if(l){let u=new _t(Ne.comparator);u=u.insert(l,fn.newNoDocument(l,Me.min()));const p=Qe().add(l),f=new Bh(Me.min(),new Map,new _t(Ge),u,p);await R_(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),ly(i)}else await ug(i.localStore,e,!1).then(()=>fg(i,e,t)).catch(tl)}async function zR(n,e){const t=je(n),i=e.batch.batchId;try{const s=await GO(t.localStore,e);L_(t,i,null),P_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Jc(t,s)}catch(s){await tl(s)}}async function VR(n,e,t){const i=je(n);try{const s=await function(l,u){const p=je(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return p.mutationQueue.lookupMutationBatch(f,u).next(v=>(at(v!==null),m=v.keys(),p.mutationQueue.removeMutationBatch(f,v))).next(()=>p.mutationQueue.performConsistencyCheck(f)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>p.localDocuments.getDocuments(f,m))})}(i.localStore,e);L_(i,e,t),P_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Jc(i,s)}catch(s){await tl(s)}}function P_(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function L_(n,e,t){const i=je(n);let s=i.Wa[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function fg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||D_(n,i)})}function D_(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(ey(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),ly(n))}function RS(n,e,t){for(const i of t)i instanceof N_?(n.Ua.addReference(i.key,e),$R(n,i)):i instanceof A_?(Ee(oy,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||D_(n,i.key)):De()}function $R(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Ee(oy,"New document in limbo: "+t),n.Qa.add(i),ly(n))}function ly(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ne(pt.fromString(e)),i=n.za.next();n.Ka.set(i,new OR(t)),n.$a=n.$a.insert(t,i),w_(n.remoteStore,new Ca(Fr(zh(t.path)),i,"TargetPurposeLimboResolution",Mh.ae))}}async function Jc(n,e,t){const i=je(n),s=[],l=[],u=[];i.ka.isEmpty()||(i.ka.forEach((p,f)=>{u.push(i.Ha(f,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const x=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(m){s.push(m);const x=Xg.Yi(f.targetId,m);l.push(x)}}))}),await Promise.all(u),i.La.p_(s),await async function(p,f){const m=je(p);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(f,x=>fe.forEach(x.Hi,A=>m.persistence.referenceDelegate.addReference(v,x.targetId,A)).next(()=>fe.forEach(x.Ji,A=>m.persistence.referenceDelegate.removeReference(v,x.targetId,A)))))}catch(v){if(!nl(v))throw v;Ee(Zg,"Failed to update sequence numbers: "+v)}for(const v of f){const x=v.targetId;if(!v.fromCache){const A=m.Ts.get(x),P=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(P);m.Ts=m.Ts.insert(x,U)}}}(i.localStore,l))}async function qR(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Ee(oy,"User change. New user:",e.toKey());const i=await g_(t.localStore,e);t.currentUser=e,function(s,l){s.Ga.forEach(u=>{u.forEach(p=>{p.reject(new be(de.CANCELLED,l))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jc(t,i.Rs)}}function HR(n,e){const t=je(n),i=t.Ka.get(e);if(i&&i.Ba)return Qe().add(i.key);{let s=Qe();const l=t.qa.get(e);if(!l)return s;for(const u of l){const p=t.ka.get(u);s=s.unionWith(p.view.ba)}return s}}function M_(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FR.bind(null,e),e.La.p_=CR.bind(null,e.eventManager),e.La.Ja=IR.bind(null,e.eventManager),e}function BR(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VR.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return YO(this.persistence,new WO,e.initialUser,this.serializer)}Xa(e){return new m_(Jg.ri,this.serializer)}Za(e){return new nR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class WR extends ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){at(this.persistence.referenceDelegate instanceof hh);const i=this.persistence.referenceDelegate.garbageCollector;return new OO(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new m_(i=>hh.ri(i,t),this.serializer)}}class pg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qR.bind(null,this.syncEngine),await _R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xR}()}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),i=function(s){return new oR(s)}(e.databaseInfo);return function(s,l,u,p){return new dR(s,l,u,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(t,i,s,l,u){return new fR(t,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>OS(this.syncEngine,t,0),function(){return TS.D()?new TS:new rR}())}createSyncEngine(e,t){return function(i,s,l,u,p,f,m){const v=new RR(i,s,l,u,p,f);return m&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=je(i);Ee(Os,"RemoteStore shutting down."),s.W_.add(5),await Gc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pg.provider={build:()=>new pg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fa="FirestoreClient";class KR{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=NE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{Ee(Fa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ee(Fa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ay(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Mm(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(Fa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await g_(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function PS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await QR(n);Ee(Fa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>CS(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>CS(e.remoteStore,s)),n._onlineComponents=e}async function QR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(Fa,"Using user provided OfflineComponentProvider");try{await Mm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),await Mm(n,new ph)}}else Ee(Fa,"Using default OfflineComponentProvider"),await Mm(n,new WR(void 0));return n._offlineComponents}async function U_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(Fa,"Using user provided OnlineComponentProvider"),await PS(n,n._uninitializedComponentsProvider._online)):(Ee(Fa,"Using default OnlineComponentProvider"),await PS(n,new pg))),n._onlineComponents}function YR(n){return U_(n).then(e=>e.syncEngine)}async function mg(n){const e=await U_(n),t=e.eventManager;return t.onListen=PR.bind(null,e.syncEngine),t.onUnlisten=MR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),t}function GR(n,e,t={}){const i=new Oa;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,p,f){const m=new j_({next:x=>{m.su(),l.enqueueAndForget(()=>C_(s,v));const A=x.docs.has(u);!A&&x.fromCache?f.reject(new be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&p&&p.source==="server"?f.reject(new be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new I_(zh(u.path),m,{includeMetadataChanges:!0,Ta:!0});return x_(s,v)}(await mg(n),n.asyncQueue,e,t,i)),i.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LS=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function z_(n,e,t){if(!t)throw new be(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JR(n,e,t,i){if(e===!0&&i===!0)throw new be(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DS(n){if(!Ne.isDocumentKey(n))throw new be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MS(n){if(Ne.isDocumentKey(n))throw new be(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yh(n);throw new be(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function XR(n,e){if(e<=0)throw new be(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V_="firestore.googleapis.com",jS=!0;class US{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V_,this.ssl=jS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:jS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NO)throw new be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(t,i){return t.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new US({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new US(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new sA;switch(t.type){case"firstParty":return new uA(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LS.get(e);t&&(Ee("ComponentProvider","Removing Datastore"),LS.delete(e),t.terminate())}(this),Promise.resolve()}}function ZR(n,e,t,i={}){var s;const l=(n=Vr(n,Gh))._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l.host!==V_&&l.host!==p&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:p,ssl:!1,emulatorOptions:i});if(!Pa(f,u)&&(n._setSettings(f),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=hn.MOCK_USER;else{m=hE(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(x)}n._authCredentials=new oA(new IE(m,v))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gr(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Ra extends Gr{constructor(e,t,i){super(e,t,zh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Ne(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function or(n,e,...t){if(n=Et(n),z_("collection","path",e),n instanceof Gh){const i=pt.fromString(e,...t);return MS(i),new Ra(n,null,i)}{if(!(n instanceof En||n instanceof Ra))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return MS(i),new Ra(n.firestore,null,i)}}function mh(n,e,...t){if(n=Et(n),arguments.length===1&&(e=NE.newId()),z_("doc","path",e),n instanceof Gh){const i=pt.fromString(e,...t);return DS(i),new En(n,null,new Ne(i))}{if(!(n instanceof En||n instanceof Ra))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return DS(i),new En(n.firestore,n instanceof Ra?n.converter:null,new Ne(i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FS="AsyncQueue";class zS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new v_(this,"async_queue_retry"),this.bu=()=>{const i=Dm();i&&Ee(FS,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=Dm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Dm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Oa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!nl(e))throw e;Ee(FS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(i);throw Pi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=iy.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&De()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function VS(n){return function(e,t){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of t)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Rs extends Gh{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new zS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zS(e),this._firestoreClient=void 0,await e}}}function eP(n,e){const t=typeof n=="object"?n:Dh(),i=typeof n=="string"?n:ah,s=za(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=cE("firestore");l&&ZR(s,...l)}return s}function cy(n){if(n._terminated)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tP(n),n._firestoreClient}function tP(n){var e,t,i;const s=n._freezeSettings(),l=function(u,p,f,m){return new _A(u,p,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,F_(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new KR(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(u){const p=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(p),_online:p}}(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(on.fromBase64String(e))}catch(t){throw new be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jo(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uy{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(t,i){if(t.length!==i.length)return!1;for(let s=0;s<t.length;++s)if(t[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nP=/^__.*__$/;class rP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qc(e,this.data,t,this.fieldTransforms)}}class $_{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class fy{constructor(e,t,i,s,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(q_(this.Lu)&&nP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class iP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Wh(e)}ju(e,t,i,s=!1){return new fy({Lu:e,methodName:t,zu:i,path:sn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(n){const e=n._freezeSettings(),t=Wh(n._databaseId);return new iP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aP(n,e,t,i,s,l={}){const u=n.ju(l.merge||l.mergeFields?2:0,e,t,s);py("Data must be an object, but it was:",u,i);const p=B_(i,u);let f,m;if(l.merge)f=new Vn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const A=gg(e,x,t);if(!u.contains(A))throw new be(de.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);K_(v,A)||v.push(A)}f=new Vn(v),m=u.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,m=u.fieldTransforms;return new rP(new Cn(p),f,m)}class Zh extends uy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function sP(n,e,t,i){const s=n.ju(1,e,t);py("Data must be an object, but it was:",s,i);const l=[],u=Cn.empty();Va(i,(f,m)=>{const v=my(e,f,t);m=Et(m);const x=s.Ku(v);if(m instanceof Zh)l.push(v);else{const A=Xc(m,x);A!=null&&(l.push(v),u.set(v,A))}});const p=new Vn(l);return new $_(u,p,s.fieldTransforms)}function oP(n,e,t,i,s,l){const u=n.ju(1,e,t),p=[gg(e,i,t)],f=[s];if(l.length%2!=0)throw new be(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)p.push(gg(e,l[A])),f.push(l[A+1]);const m=[],v=Cn.empty();for(let A=p.length-1;A>=0;--A)if(!K_(m,p[A])){const P=p[A];let U=f[A];U=Et(U);const D=u.Ku(P);if(U instanceof Zh)m.push(P);else{const $=Xc(U,D);$!=null&&(m.push(P),v.set(P,$))}}const x=new Vn(m);return new $_(v,x,u.fieldTransforms)}function H_(n,e,t,i=!1){return Xc(t,n.ju(i?4:3,e))}function Xc(n,e){if(W_(n=Et(n)))return py("Unsupported field value:",e,n),B_(n,e);if(n instanceof uy)return function(t,i){if(!q_(i.Lu))throw i.Wu(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(t,i){const s=[];let l=0;for(const u of t){let p=Xc(u,i.Uu(l));p==null&&(p={nullValue:"NULL_VALUE"}),s.push(p),l++}return{arrayValue:{values:s}}}(n,e)}return function(t,i){if((t=Et(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return KA(i.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const s=zt.fromDate(t);return{timestampValue:dh(i.serializer,s)}}if(t instanceof zt){const s=new zt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dh(i.serializer,s)}}if(t instanceof dy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jo)return{bytesValue:o_(i.serializer,t._byteString)};if(t instanceof En){const s=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yg(t.firestore._databaseId||i.databaseId,t._key.path)}}if(t instanceof hy)return function(s,l){return{mapValue:{fields:{[jE]:{stringValue:UE},[sh]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Wu("VectorValues must only contain numeric values.");return Bg(l.serializer,u)})}}}}}}(t,i);throw i.Wu(`Unsupported field value: ${Yh(t)}`)}(n,e)}function B_(n,e){const t={};return OE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(n,(i,s)=>{const l=Xc(s,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function W_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zt||n instanceof dy||n instanceof Jo||n instanceof En||n instanceof uy||n instanceof hy)}function py(n,e,t){if(!W_(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const i=Yh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function gg(n,e,t){if((e=Et(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return my(n,e);throw gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const lP=new RegExp("[~\\*/\\[\\]]");function my(n,e,t){if(e.search(lP)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gh(n,e,t,i,s){const l=i&&!i.isEmpty(),u=s!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new be(de.INVALID_ARGUMENT,p+n+f)}function K_(n,e){return n.some(t=>t.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gy{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ef("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cP extends gy{data(){return super.data()}}function ef(n,e){return typeof e=="string"?my(n,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class Zc extends yy{}function il(n,e,...t){let i=[];e instanceof yy&&i.push(e),i=i.concat(t),function(s){const l=s.filter(p=>p instanceof by).length,u=s.filter(p=>p instanceof tf).length;if(l>1||l>0&&u>0)throw new be(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class tf extends Zc{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new tf(e,t,i)}_apply(e){const t=this._parse(e);return Y_(e._query,t),new Gr(e.firestore,e.converter,ag(e._query,t))}_parse(e){const t=Xh(e.firestore);return function(i,s,l,u,p,f,m){let v;if(p.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new be(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){qS(m,f);const x=[];for(const A of m)x.push($S(u,i,A));v={arrayValue:{values:x}}}else v=$S(u,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||qS(m,f),v=H_(l,s,m,f==="in"||f==="not-in");return Ft.create(p,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vy(n,e,t){const i=e,s=ef("where",n);return tf._create(s,i,t)}class by extends yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new by(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const p of u)Y_(l,p),l=ag(l,p)}(e._query,t),new Gr(e.firestore,e.converter,ag(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends Zc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wy(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(s,l)}(e._query,this._field,this._direction);return new Gr(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new $a(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Sy(n,e="asc"){const t=e,i=ef("orderBy",n);return wy._create(i,t)}class ky extends Zc{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ky(e,t,i)}_apply(e){return new Gr(e.firestore,e.converter,lh(e._query,this._limit,this._limitType))}}function Ey(n){return XR("limit",n),ky._create("limit",n,"F")}class _y extends Zc{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new _y(e,t,i)}_apply(e){const t=Q_(e,this.type,this._docOrFields,this._inclusive);return new Gr(e.firestore,e.converter,function(i,s){return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function dP(...n){return _y._create("startAt",n,!0)}class Ty extends Zc{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Ty(e,t,i)}_apply(e){const t=Q_(e,this.type,this._docOrFields,this._inclusive);return new Gr(e.firestore,e.converter,function(i,s){return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function hP(...n){return Ty._create("endAt",n,!0)}function Q_(n,e,t,i){if(t[0]=Et(t[0]),t[0]instanceof gy)return function(s,l,u,p,f){if(!p)throw new be(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const v of Uo(s))if(v.field.isKeyField())m.push(oh(l,p.key));else{const x=p.data.field(v.field);if(Uh(x))throw new be(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const A=v.field.canonicalString();throw new be(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}m.push(x)}return new Qo(m,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const s=Xh(n.firestore);return function(l,u,p,f,m,v){const x=l.explicitOrderBy;if(m.length>x.length)throw new be(de.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let P=0;P<m.length;P++){const U=m[P];if(x[P].field.isKeyField()){if(typeof U!="string")throw new be(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof U}`);if(!Hg(l)&&U.indexOf("/")!==-1)throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${U}' contains a slash.`);const D=l.path.child(pt.fromString(U));if(!Ne.isDocumentKey(D))throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const $=new Ne(D);A.push(oh(u,$))}else{const D=H_(p,f,U);A.push(D)}}return new Qo(A,v)}(n._query,n.firestore._databaseId,s,e,t,i)}}function $S(n,e,t){if(typeof(t=Et(t))=="string"){if(t==="")throw new be(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hg(e)&&t.indexOf("/")!==-1)throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(pt.fromString(t));if(!Ne.isDocumentKey(i))throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oh(n,new Ne(i))}if(t instanceof En)return oh(n,t._key);throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(t)}.`)}function qS(n,e){if(!Array.isArray(n)||n.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y_(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fP{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Va(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[sh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(u=>Rt(u.doubleValue));return new hy(l)}convertGeoPoint(e){return new dy(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Fh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const t=Da(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pt.fromString(e);at(f_(i));const s=new Lc(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return s.isEqual(t)||Pi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _c{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G_ extends gy{constructor(e,t,i,s,l,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ef("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Bd extends G_{data(e={}){return super.data(e)}}class mP{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new _c(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bd(this._firestore,this._userDataWriter,i.key,i,new _c(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const p=new Bd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new _c(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const p=new Bd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new _c(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:gP(u.type),doc:p,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yP(n){n=Vr(n,En);const e=Vr(n.firestore,Rs);return GR(cy(e),n._key).then(t=>Z_(e,n,t))}class J_ extends fP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function vP(n,e,t,...i){n=Vr(n,En);const s=Vr(n.firestore,Rs),l=Xh(s);let u;return u=typeof(e=Et(e))=="string"||e instanceof Jh?oP(l,"updateDoc",n._key,e,t,i):sP(l,"updateDoc",n._key,e),xy(s,[u.toMutation(n._key,gr.exists(!0))])}function bP(n){return xy(Vr(n.firestore,Rs),[new Wg(n._key,gr.none())])}function X_(n,e){const t=Vr(n.firestore,Rs),i=mh(n),s=pP(n.converter,e);return xy(t,[aP(Xh(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,gr.exists(!1))]).then(()=>i)}function Jr(n,...e){var t,i,s;n=Et(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||VS(e[u])||(l=e[u],u++);const p={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(VS(e[u])){const x=e[u];e[u]=(t=x.next)===null||t===void 0?void 0:t.bind(x),e[u+1]=(i=x.error)===null||i===void 0?void 0:i.bind(x),e[u+2]=(s=x.complete)===null||s===void 0?void 0:s.bind(x)}let f,m,v;if(n instanceof En)m=Vr(n.firestore,Rs),v=zh(n._key.path),f={next:x=>{e[u]&&e[u](Z_(m,n,x))},error:e[u+1],complete:e[u+2]};else{const x=Vr(n,Gr);m=Vr(x.firestore,Rs),v=x._query;const A=new J_(m);f={next:P=>{e[u]&&e[u](new mP(m,A,x,P))},error:e[u+1],complete:e[u+2]},uP(n._query)}return function(x,A,P,U){const D=new j_(U),$=new I_(A,D,P);return x.asyncQueue.enqueueAndForget(async()=>x_(await mg(x),$)),()=>{D.su(),x.asyncQueue.enqueueAndForget(async()=>C_(await mg(x),$))}}(cy(m),v,p,f)}function xy(n,e){return function(t,i){const s=new Oa;return t.asyncQueue.enqueueAndForget(async()=>UR(await YR(t),i,s)),s.promise}(cy(n),e)}function Z_(n,e,t){const i=t.docs.get(e._key),s=new J_(n);return new G_(n,s,e._key,i,new _c(t.hasPendingWrites,t.fromCache),e.converter)}(function(n,e=!0){(function(t){el=t})(zs),yr(new sr("firestore",(t,{instanceIdentifier:i,options:s})=>{const l=t.getProvider("app").getImmediate(),u=new Rs(new lA(t.getProvider("auth-internal")),new dA(l,t.getProvider("app-check-internal")),function(p,f){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(p.options.projectId,f)}(l,i),l);return s=Object.assign({useFetchStreams:e},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),In(Kw,Qw,n),In(Kw,Qw,"esm2017")})();var wP="firebase",SP="11.4.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/In(wP,SP,"app");function Cy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kP=eT,tT=new Fs("auth","Firebase",eT());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yh=new Lh("@firebase/auth");function EP(n,...e){yh.logLevel<=Ke.WARN&&yh.warn(`Auth (${zs}): ${n}`,...e)}function Wd(n,...e){yh.logLevel<=Ke.ERROR&&yh.error(`Auth (${zs}): ${n}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function br(n,...e){throw Iy(n,...e)}function $r(n,...e){return Iy(n,...e)}function nT(n,e,t){const i=Object.assign(Object.assign({},kP()),{[e]:t});return new Fs("auth","Firebase",i).create(e,{appName:n.name})}function Ai(n){return nT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return tT.create(n,...e)}function Le(n,e,...t){if(!n)throw Iy(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wd(e),new Error(e)}function Di(n,e){n||xi(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _P(){return HS()==="http:"||HS()==="https:"}function HS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_P()||fE()||"connection"in navigator)?navigator.onLine:!0}function xP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=DN()||UN()}get(){return TP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ny(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IP=new eu(3e4,6e4);function Ha(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ba(n,e,t,i,s={}){return iT(n,s,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const p=Kc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},l);return jN()||(m.referrerPolicy="no-referrer"),rT.fetch()(aT(n,n.config.apiHost,t,p),m)})}async function iT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},CP),e);try{const s=new AP(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Dd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[f,m]=p.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Dd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Dd(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw nT(n,v,m);br(n,v)}}catch(s){if(s instanceof lr)throw s;br(n,"network-request-failed",{message:String(s)})}}async function tu(n,e,t,i,s={}){const l=await Ba(n,e,t,i,s);return"mfaPendingCredential"in l&&br(n,"multi-factor-auth-required",{_serverResponse:l}),l}function aT(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?Ny(n.config,s):`${n.config.apiScheme}://${s}`}function NP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),IP.get())})}}function Dd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=$r(n,e,i);return s.customData._tokenResponse=t,s}function BS(n){return n!==void 0&&n.enterprise!==void 0}class OP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RP(n,e){return Ba(n,"GET","/v2/recaptchaConfig",Ha(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function PP(n,e){return Ba(n,"POST","/v1/accounts:delete",e)}async function sT(n,e){return Ba(n,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ic(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LP(n,e=!1){const t=Et(n),i=await t.getIdToken(e),s=Ay(i);Le(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Ic(jm(s.auth_time)),issuedAtTime:Ic(jm(s.iat)),expirationTime:Ic(jm(s.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function jm(n){return Number(n)*1e3}function Ay(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const s=oE(t);return s?JSON.parse(s):(Wd("Failed to decode base64 JWT payload"),null)}catch(s){return Wd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function WS(n){const e=Ay(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Fc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof lr&&DP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function DP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vh(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Fc(n,sT(t,{idToken:i}));Le(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?oT(l.providerUserInfo):[],p=UP(n.providerData,u),f=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(p!=null&&p.length),v=f?m:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new vg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,x)}async function jP(n){const e=Et(n);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UP(n,e){return[...n.filter(t=>!e.some(i=>i.providerId===t.providerId)),...e]}function oT(n){return n.map(e=>{var{providerId:t}=e,i=Cy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function FP(n,e){const t=await iT(n,{},async()=>{const i=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,u=aT(n,s,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",rT.fetch()(u,{method:"POST",headers:p,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zP(n,e){return Ba(n,"POST","/v2/accounts:revokeToken",Ha(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=WS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await FP(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,u=new zo;return i&&(Le(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(Le(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),l&&(Le(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sa(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=Cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LP(this,e)}reload(){return jP(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Fc(this,PP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,u,p,f,m,v;const x=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(s=t.email)!==null&&s!==void 0?s:void 0,P=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(p=t.tenantId)!==null&&p!==void 0?p:void 0,$=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(m=t.createdAt)!==null&&m!==void 0?m:void 0,B=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:le,isAnonymous:F,providerData:q,stsTokenManager:N}=t;Le(X&&N,e,"internal-error");const I=zo.fromJSON(this.name,N);Le(typeof X=="string",e,"internal-error"),Sa(x,e.name),Sa(A,e.name),Le(typeof le=="boolean",e,"internal-error"),Le(typeof F=="boolean",e,"internal-error"),Sa(P,e.name),Sa(U,e.name),Sa(D,e.name),Sa($,e.name),Sa(H,e.name),Sa(B,e.name);const b=new Ci({uid:X,auth:e,email:A,emailVerified:le,displayName:x,isAnonymous:F,photoURL:U,phoneNumber:P,tenantId:D,stsTokenManager:I,createdAt:H,lastLoginAt:B});return q&&Array.isArray(q)&&(b.providerData=q.map(_=>Object.assign({},_))),$&&(b._redirectEventId=$),b}static async _fromIdTokenResponse(e,t,i=!1){const s=new zo;s.updateFromServerResponse(t);const l=new Ci({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await vh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Le(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?oT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),p=new zo;p.updateFromIdToken(i);const f=new Ci({uid:s.localId,auth:e,stsTokenManager:p,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new vg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,m),f}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KS=new Map;function Ii(n){Di(n instanceof Function,"Expected a class definition");let e=KS.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,KS.set(n,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lT.type="NONE";const QS=lT;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Kd(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Kd(this.userKey,s.apiKey,l),this.fullPersistenceKey=Kd("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Vo(Ii(QS),e,i);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=s[0]||Ii(QS);const u=Kd(i,e.config.apiKey,e.name);let p=null;for(const m of t)try{const v=await m._get(u);if(v){const x=Ci._fromJSON(e,v);m!==l&&(p=x),l=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Vo(l,e,i):(l=f[0],p&&await l._set(u,p.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Vo(l,e,i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pT(e))return"Blackberry";if(mT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function cT(n=mn()){return/firefox\//i.test(n)}function uT(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(n=mn()){return/crios\//i.test(n)}function hT(n=mn()){return/iemobile/i.test(n)}function fT(n=mn()){return/android/i.test(n)}function pT(n=mn()){return/blackberry/i.test(n)}function mT(n=mn()){return/webos/i.test(n)}function Oy(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VP(n=mn()){var e;return Oy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $P(){return FN()&&document.documentMode===10}function gT(n=mn()){return Oy(n)||fT(n)||mT(n)||pT(n)||/windows phone/i.test(n)||hT(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yT(n,e=[]){let t;switch(n){case"Browser":t=YS(mn());break;case"Worker":t=`${YS(mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zs}/${i}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,p)=>{try{const f=e(l);u(f)}catch(f){p(f)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function HP(n,e={}){return Ba(n,"GET","/v2/passwordPolicy",Ha(n,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BP=6;class WP{constructor(e){var t,i,s,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:BP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,u,p;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(p=f.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KP{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GS(this),this.idTokenSubscription=new GS(this),this.beforeStateQueue=new qP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sT(this,{idToken:e}),i=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===p)&&f!=null&&f.user&&(s=f.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Ai(this));const t=e?Et(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HP(this),t=new WP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await zP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&EP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qs(n){return Et(n)}class GS{constructor(e){this.auth=e,this.observer=null,this.addObserver=WN(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QP(n){nf=n}function vT(n){return nf.loadJS(n)}function YP(){return nf.recaptchaEnterpriseScript}function GP(){return nf.gapiScript}function JP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XP{constructor(){this.enterprise=new ZP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eL="recaptcha-enterprise",bT="NO_RECAPTCHA";class tL{constructor(e){this.type=eL,this.auth=qs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,p)=>{RP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new OP(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(f=>{p(f)})})}function s(l,u,p){const f=window.grecaptcha;BS(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(bT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XP().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(p=>{if(!t&&BS(window.grecaptcha))s(p,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=YP();f.length!==0&&(f+=p),vT(f).then(()=>{s(p,l,u)}).catch(m=>{u(m)})}}).catch(p=>{u(p)})})}}async function JS(n,e,t,i=!1,s=!1){const l=new tL(n);let u;if(s)u=bT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const f=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const f=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function bg(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await JS(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await JS(n,e,t,t==="getOobCode");return i(n,p)}else return Promise.reject(u)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nL(n,e){const t=za(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Pa(s,e??{}))return i;br(i,"already-initialized")}return t.initialize({options:e})}function rL(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function iL(n,e,t){const i=qs(n);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=wT(e),{host:u,port:p}=aL(e),f=p===null?"":`:${p}`,m={url:`${l}//${u}${f}/`},v=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(Pa(m,i.config.emulator)&&Pa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,sL()}function wT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aL(n){const e=wT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:XS(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:XS(u)}}}function XS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ry{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function oL(n,e){return Ba(n,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function lL(n,e){return tu(n,"POST","/v1/accounts:signInWithPassword",Ha(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function cL(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Ha(n,e))}async function uL(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Ha(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zc extends Ry{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new zc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new zc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&t!=null&&t.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,t,"signInWithPassword",lL);case"emailLink":return cL(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,i,"signUpPassword",oL);case"emailLink":return uL(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $o(n,e){return tu(n,"POST","/v1/accounts:signInWithIdp",Ha(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dL="http://localhost";class Ps extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=Cy(t,["providerId","signInMethod"]);if(!i||!s)return null;const u=new Ps(i,s);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$o(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:dL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kc(t)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fL(n){const e=bc(wc(n)).link,t=e?bc(wc(e)).deep_link_id:null,i=bc(wc(n)).deep_link_id;return(i?bc(wc(i)).link:null)||i||t||e||n}class Py{constructor(e){var t,i,s,l,u,p;const f=bc(wc(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,x=hL((s=f.mode)!==null&&s!==void 0?s:null);Le(m&&v&&x,"argument-error"),this.apiKey=m,this.operation=x,this.code=v,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(p=f.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=fL(e);try{return new Py(t)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,t){return zc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Py.parseLink(t);return Le(i,"argument-error"),zc._fromEmailAndCode(e,i.code,i.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ST{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nu extends ST{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ka extends nu{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ea extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ps._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ea.credential(t,i)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _a extends nu{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ta extends nu{constructor(){super("twitter.com")}static credential(e,t){return Ps._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ta.credential(t,i)}catch{return null}}}Ta.TWITTER_SIGN_IN_METHOD="twitter.com";Ta.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function pL(n,e){return tu(n,"POST","/v1/accounts:signUp",Ha(n,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Ci._fromIdTokenResponse(e,i,s),u=ZS(i);return new Ls({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=ZS(i);return new Ls({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function ZS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bh extends lr{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new bh(e,t,i,s)}}function kT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(n,s,e,i):s})}async function mL(n,e,t=!1){const i=await Fc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ls._forOperation(n,"link",i)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function gL(n,e,t=!1){const{auth:i}=n;if(zn(i.app))return Promise.reject(Ai(i));const s="reauthenticate";try{const l=await Fc(n,kT(i,s,e,n),t);Le(l.idToken,i,"internal-error");const u=Ay(l.idToken);Le(u,i,"internal-error");const{sub:p}=u;return Le(n.uid===p,i,"user-mismatch"),Ls._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&br(i,"user-mismatch"),l}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ET(n,e,t=!1){if(zn(n.app))return Promise.reject(Ai(n));const i="signIn",s=await kT(n,i,e),l=await Ls._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function yL(n,e){return ET(qs(n),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _T(n){const e=qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vL(n,e,t){if(zn(n.app))return Promise.reject(Ai(n));const i=qs(n),s=await bg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&_T(n),u}),l=await Ls._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function bL(n,e,t){return zn(n.app)?Promise.reject(Ai(n)):yL(Et(n),al.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_T(n),i})}function wL(n,e,t,i){return Et(n).onIdTokenChanged(e,t,i)}function SL(n,e,t){return Et(n).beforeAuthStateChanged(e,t)}function kL(n,e,t,i){return Et(n).onAuthStateChanged(e,t,i)}function EL(n){return Et(n).signOut()}const wh="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _L=1e3,TL=10;class xT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);$P()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,TL):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},_L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xT.type="LOCAL";const xL=xT;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CT.type="SESSION";const IT=CT;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new rf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const p=Array.from(u).map(async m=>m(t.origin,l)),f=await CL(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ly(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,u;return new Promise((p,f)=>{const m=Ly("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(x){const A=x;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(A.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qr(){return window}function NL(n){qr().location.href=n}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NT(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function AL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function RL(){return NT()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AT="firebaseLocalStorageDb",PL=1,Sh="firebaseLocalStorage",OT="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function af(n,e){return n.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function LL(){const n=indexedDB.deleteDatabase(AT);return new ru(n).toPromise()}function wg(){const n=indexedDB.open(AT,PL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Sh,{keyPath:OT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Sh)?e(i):(i.close(),await LL(),e(await wg()))})})}async function ek(n,e,t){const i=af(n,!0).put({[OT]:e,value:t});return new ru(i).toPromise()}async function DL(n,e){const t=af(n,!1).get(e),i=await new ru(t).toPromise();return i===void 0?null:i.value}function tk(n,e){const t=af(n,!0).delete(e);return new ru(t).toPromise()}const ML=800,jL=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>jL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(RL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await AL(),!this.activeServiceWorker)return;this.sender=new IL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await ek(e,wh,"1"),await tk(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ek(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>DL(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=af(s,!1).getAll();return new ru(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const UL=RT;new eu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FL(n,e){return e?Ii(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dy extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zL(n){return ET(n.auth,new Dy(n),n.bypassAuthState)}function VL(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),gL(t,new Dy(n),n.bypassAuthState)}async function $L(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),mL(t,new Dy(n),n.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PT{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zL;case"linkViaPopup":case"linkViaRedirect":return $L;case"reauthViaPopup":case"reauthViaRedirect":return VL;default:br(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qL=new eu(2e3,1e4);class jo extends PT{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qL.get())};e()}}jo.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HL="pendingRedirect",Qd=new Map;class BL extends PT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const t=await WL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WL(n,e){const t=YL(e),i=QL(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function KL(n,e){Qd.set(n._key(),e)}function QL(n){return Ii(n._redirectPersistence)}function YL(n){return Kd(HL,n.config.apiKey,n.name)}async function GL(n,e,t=!1){if(zn(n.app))return Promise.reject(Ai(n));const i=qs(n),s=FL(i,e),l=await new BL(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JL=10*60*1e3;class XL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!LT(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JL&&this.cachedEventUids.clear(),this.cachedEventUids.has(nk(e))}saveEventToCache(e){this.cachedEventUids.add(nk(e)),this.lastProcessedEventTime=Date.now()}}function nk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(n);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function eD(n,e={}){return Ba(n,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function rD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await eD(n);for(const t of e)try{if(iD(t))return}catch{}br(n,"unauthorized-domain")}function iD(n){const e=yg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!nD.test(t))return!1;if(tD.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aD=new eu(3e4,6e4);function rk(){const n=qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sD(n){return new Promise((e,t)=>{var i,s,l;function u(){rk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rk(),t($r(n,"network-request-failed"))},timeout:aD.get()})}if(!((s=(i=qr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=qr().gapi)===null||l===void 0)&&l.load)u();else{const p=JP("iframefcb");return qr()[p]=()=>{gapi.load?u():t($r(n,"network-request-failed"))},vT(`${GP()}?onload=${p}`).catch(f=>t(f))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function oD(n){return Yd=Yd||sD(n),Yd}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lD=new eu(5e3,15e3),cD="__/auth/iframe",uD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ny(e,uD):`https://${n.config.authDomain}/${cD}`,i={apiKey:e.apiKey,appName:n.name,v:zs},s=hD.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Kc(i).slice(1)}`}async function pD(n){const e=await oD(n),t=qr().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:fD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const u=$r(n,"network-request-failed"),p=qr().setTimeout(()=>{l(u)},lD.get());function f(){qr().clearTimeout(p),s(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gD=500,yD=600,vD="_blank",bD="http://localhost";class ik{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(n,e,t,i=gD,s=yD){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const f=Object.assign(Object.assign({},mD),{width:i.toString(),height:s.toString(),top:l,left:u}),m=mn().toLowerCase();t&&(p=dT(m)?vD:t),cT(m)&&(e=e||bD,f.scrollbars="yes");const v=Object.entries(f).reduce((A,[P,U])=>`${A}${P}=${U},`,"");if(VP(m)&&p!=="_self")return SD(e||"",p),new ik(null);const x=window.open(e||"",p,v);Le(x,n,"popup-blocked");try{x.focus()}catch{}return new ik(x)}function SD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kD="__/auth/handler",ED="emulator/auth/handler",_D=encodeURIComponent("fac");async function ak(n,e,t,i,s,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:zs,eventId:s};if(e instanceof ST){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",BN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof nu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const p=u;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const f=await n._getAppCheckToken(),m=f?`#${_D}=${encodeURIComponent(f)}`:"";return`${TD(n)}?${Kc(p).slice(1)}${m}`}function TD({config:n}){return n.emulator?Ny(n,ED):`https://${n.authDomain}/${kD}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Um="webStorageSupport";class xD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=GL,this._overrideRedirectResult=KL}async _openPopup(e,t,i,s){var l;Di((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await ak(e,t,i,yg(),s);return wD(e,u,Ly())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await ak(e,t,i,yg(),s);return NL(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Di(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await pD(e),i=new XL(e);return t.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Um,{type:Um},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Um];l!==void 0&&t(!!l),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gT()||uT()||Oy()}}const CD=xD;var sk="@firebase/auth",ok="1.9.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ID{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ND(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AD(n){yr(new sr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=i.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(n)},m=new KP(i,s,l,f);return rL(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),yr(new sr("auth-internal",e=>{const t=qs(e.getProvider("auth").getImmediate());return(i=>new ID(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(sk,ok,ND(n)),In(sk,ok,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OD=5*60,RD=dE("authIdTokenMaxAge")||OD;let lk=null;const PD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>RD)return;const s=t==null?void 0:t.token;lk!==s&&(lk=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LD(n=Dh()){const e=za(n,"auth");if(e.isInitialized())return e.getImmediate();const t=nL(n,{popupRedirectResolver:CD,persistence:[UL,xL,IT]}),i=dE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=PD(l.toString());SL(t,u,()=>u(t.currentUser)),wL(t,p=>u(p))}}const s=lE("auth");return s&&iL(t,`http://${s}`),t}function DD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}QP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=$r("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",DD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AD("Browser");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DT="firebasestorage.googleapis.com",MD="storageBucket",jD=2*60*1e3,UD=10*60*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xr extends lr{constructor(e,t,i=0){super(Fm(e),`Firebase Storage: ${t} (${Fm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wr||(Wr={}));function Fm(n){return"storage/"+n}function FD(){const n="An unknown error occurred, please check the error payload for server response.";return new Xr(Wr.UNKNOWN,n)}function zD(){return new Xr(Wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VD(){return new Xr(Wr.CANCELED,"User canceled the upload/download.")}function $D(n){return new Xr(Wr.INVALID_URL,"Invalid URL '"+n+"'.")}function qD(n){return new Xr(Wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ck(n){return new Xr(Wr.INVALID_ARGUMENT,n)}function MT(){return new Xr(Wr.APP_DELETED,"The Firebase app was deleted.")}function HD(n){return new Xr(Wr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=mr.makeFromUrl(e,t)}catch{return new mr(e,"")}if(i.path==="")return i;throw qD(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",P=new RegExp(`^https?://${x}/${v}/b/${s}/o${A}`,"i"),U={bucket:1,path:3},D=t===DT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,$="([^?#]*)",H=new RegExp(`^https?://${D}/${s}/${$}`,"i"),B=[{regex:p,indices:f,postModify:l},{regex:P,indices:U,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let X=0;X<B.length;X++){const le=B[X],F=le.regex.exec(e);if(F){const q=F[le.indices.bucket];let N=F[le.indices.path];N||(N=""),i=new mr(q,N),le.postModify(i);break}}if(i==null)throw $D(e);return i}}class BD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function WD(n,e,t){let i=1,s=null,l=null,u=!1,p=0;function f(){return p===2}let m=!1;function v(...$){m||(m=!0,e.apply(null,$))}function x($){s=setTimeout(()=>{s=null,n(P,f())},$)}function A(){l&&clearTimeout(l)}function P($,...H){if(m){A();return}if($){A(),v.call(null,$,...H);return}if(f()||u){A(),v.call(null,$,...H);return}i<64&&(i*=2);let B;p===1?(p=2,B=0):B=(i+Math.random())*1e3,x(B)}let U=!1;function D($){U||(U=!0,A(),!m&&(s!==null?($||(p=2),clearTimeout(s),x(0)):$||(p=1)))}return x(0),l=setTimeout(()=>{u=!0,D(!0)},t),D}function KD(n){n(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QD(n){return n!==void 0}function uk(n,e,t,i){if(i<e)throw ck(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ck(`Invalid value for '${n}'. Expected ${t} or less.`)}function YD(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var kh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(kh||(kh={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GD(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JD{constructor(e,t,i,s,l,u,p,f,m,v,x,A=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=x,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,U)=>{this.resolve_=P,this.reject_=U,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Md(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=p=>{const f=p.loaded,m=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const p=l.getErrorCode()===kh.NO_ERROR,f=l.getStatus();if(!p||GD(f,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===kh.ABORT;i(!1,new Md(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Md(m,l))})},t=(i,s)=>{const l=this.resolve_,u=this.reject_,p=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(p,p.getResponse());QD(f)?l(f):l()}catch(f){u(f)}else if(p!==null){const f=FD();f.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,f)):u(f)}else if(s.canceled){const f=this.appDelete_?MT():VD();u(f)}else{const f=zD();u(f)}};this.canceled_?t(!1,new Md(!1,null,!0)):this.backoffId_=WD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Md{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function XD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ZD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function tM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function nM(n,e,t,i,s,l,u=!0){const p=YD(n.urlParams),f=n.url+p,m=Object.assign({},n.headers);return eM(m,e),XD(m,t),ZD(m,l),tM(m,i),new JD(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function iM(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Eh{constructor(e,t){this._service=e,t instanceof mr?this._location=t:this._location=mr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Eh(e,t)}get root(){const e=new mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iM(this._location.path)}get storage(){return this._service}get parent(){const e=rM(this._location.path);if(e===null)return null;const t=new mr(this._location.bucket,e);return new Eh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw HD(e)}}function dk(n,e){const t=e==null?void 0:e[MD];return t==null?null:mr.makeFromBucketSpec(t,n)}function aM(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:hE(s,n.app.options.projectId))}class sM{constructor(e,t,i,s,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._bucket=null,this._host=DT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jD,this._maxUploadRetryTime=UD,this._requests=new Set,s!=null?this._bucket=mr.makeFromBucketSpec(s,this._host):this._bucket=dk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mr.makeFromBucketSpec(this._url,e):this._bucket=dk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eh(this,e)}_makeRequest(e,t,i,s,l=!0){if(this._deleted)return new BD(MT());{const u=nM(e,this._appId,i,s,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const hk="@firebase/storage",fk="0.13.7";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jT="storage";function oM(n=Dh(),e){n=Et(n);const t=za(n,jT).getImmediate({identifier:e}),i=cE("storage");return i&&lM(t,...i),t}function lM(n,e,t,i={}){aM(n,e,t,i)}function cM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new sM(t,i,s,e,zs)}function uM(){yr(new sr(jT,cM,"PUBLIC").setMultipleInstances(!0)),In(hk,fk,""),In(hk,fk,"esm2017")}uM();const UT="@firebase/installations",My="0.6.13";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FT=1e4,zT=`w:${My}`,VT="FIS_v2",dM="https://firebaseinstallations.googleapis.com/v1",hM=60*60*1e3,fM="installations",pM="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ds=new Fs(fM,pM,mM);function $T(n){return n instanceof lr&&n.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qT({projectId:n}){return`${dM}/projects/${n}/installations`}function HT(n){return{token:n.token,requestStatus:2,expiresIn:yM(n.expiresIn),creationTime:Date.now()}}async function BT(n,e){const t=(await e.json()).error;return Ds.create("request-failed",{requestName:n,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function WT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function gM(n,{refreshToken:e}){const t=WT(n);return t.append("Authorization",vM(e)),t}async function KT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function yM(n){return Number(n.replace("s","000"))}function vM(n){return`${VT} ${n}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function bM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=qT(n),s=WT(n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={fid:t,authVersion:VT,appId:n.appId,sdkVersion:zT},p={method:"POST",headers:s,body:JSON.stringify(u)},f=await KT(()=>fetch(i,p));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:HT(m.authToken)}}else throw await BT("Create Installation",f)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QT(n){return new Promise(e=>{setTimeout(e,n)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SM=/^[cdef][\w-]{21}$/,Sg="";function kM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=EM(n);return SM.test(e)?e:Sg}catch{return Sg}}function EM(n){return wM(n).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sf(n){return`${n.appName}!${n.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YT=new Map;function GT(n,e){const t=sf(n);JT(t,e),_M(t,e)}function JT(n,e){const t=YT.get(n);if(t)for(const i of t)i(e)}function _M(n,e){const t=TM();t&&t.postMessage({key:n,fid:e}),xM()}let xs=null;function TM(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=n=>{JT(n.data.key,n.data.fid)}),xs}function xM(){YT.size===0&&xs&&(xs.close(),xs=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CM="firebase-installations-database",IM=1,Ms="firebase-installations-store";let zm=null;function jy(){return zm||(zm=vE(CM,IM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ms)}}})),zm}async function _h(n,e){const t=sf(n),i=(await jy()).transaction(Ms,"readwrite"),s=i.objectStore(Ms),l=await s.get(t);return await s.put(e,t),await i.done,(!l||l.fid!==e.fid)&&GT(n,e.fid),e}async function XT(n){const e=sf(n),t=(await jy()).transaction(Ms,"readwrite");await t.objectStore(Ms).delete(e),await t.done}async function of(n,e){const t=sf(n),i=(await jy()).transaction(Ms,"readwrite"),s=i.objectStore(Ms),l=await s.get(t),u=e(l);return u===void 0?await s.delete(t):await s.put(u,t),await i.done,u&&(!l||l.fid!==u.fid)&&GT(n,u.fid),u}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Uy(n){let e;const t=await of(n.appConfig,i=>{const s=NM(i),l=AM(n,s);return e=l.registrationPromise,l.installationEntry});return t.fid===Sg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NM(n){const e=n||{fid:kM(),registrationStatus:0};return ZT(e)}function AM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ds.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=OM(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RM(n)}:{installationEntry:e}}async function OM(n,e){try{const t=await bM(n,e);return _h(n.appConfig,t)}catch(t){throw $T(t)&&t.customData.serverCode===409?await XT(n.appConfig):await _h(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function RM(n){let e=await pk(n.appConfig);for(;e.registrationStatus===1;)await QT(100),e=await pk(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Uy(n);return i||t}return e}function pk(n){return of(n,e=>{if(!e)throw Ds.create("installation-not-found");return ZT(e)})}function ZT(n){return PM(n)?{fid:n.fid,registrationStatus:0}:n}function PM(n){return n.registrationStatus===1&&n.registrationTime+FT<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function LM({appConfig:n,heartbeatServiceProvider:e},t){const i=DM(n,t),s=gM(n,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={installation:{sdkVersion:zT,appId:n.appId}},p={method:"POST",headers:s,body:JSON.stringify(u)},f=await KT(()=>fetch(i,p));if(f.ok){const m=await f.json();return HT(m)}else throw await BT("Generate Auth Token",f)}function DM(n,{fid:e}){return`${qT(n)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Fy(n,e=!1){let t;const i=await of(n.appConfig,s=>{if(!ex(s))throw Ds.create("not-registered");const l=s.authToken;if(!e&&UM(l))return s;if(l.requestStatus===1)return t=MM(n,e),s;{if(!navigator.onLine)throw Ds.create("app-offline");const u=zM(s);return t=jM(n,u),u}});return t?await t:i.authToken}async function MM(n,e){let t=await mk(n.appConfig);for(;t.authToken.requestStatus===1;)await QT(100),t=await mk(n.appConfig);const i=t.authToken;return i.requestStatus===0?Fy(n,e):i}function mk(n){return of(n,e=>{if(!ex(e))throw Ds.create("not-registered");const t=e.authToken;return VM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function jM(n,e){try{const t=await LM(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await _h(n.appConfig,i),t}catch(t){if($T(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await XT(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _h(n.appConfig,i)}throw t}}function ex(n){return n!==void 0&&n.registrationStatus===2}function UM(n){return n.requestStatus===2&&!FM(n)}function FM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+hM}function zM(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function VM(n){return n.requestStatus===1&&n.requestTime+FT<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $M(n){const e=n,{installationEntry:t,registrationPromise:i}=await Uy(e);return i?i.catch(console.error):Fy(e).catch(console.error),t.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qM(n,e=!1){const t=n;return await HM(t),(await Fy(t,e)).token}async function HM(n){const{registrationPromise:e}=await Uy(n);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BM(n){if(!n||!n.options)throw Vm("App Configuration");if(!n.name)throw Vm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Vm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vm(n){return Ds.create("missing-app-config-values",{valueName:n})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tx="installations",WM="installations-internal",KM=n=>{const e=n.getProvider("app").getImmediate(),t=BM(e),i=za(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},QM=n=>{const e=n.getProvider("app").getImmediate(),t=za(e,tx).getImmediate();return{getId:()=>$M(t),getToken:i=>qM(t,i)}};function YM(){yr(new sr(tx,KM,"PUBLIC")),yr(new sr(WM,QM,"PRIVATE"))}YM();In(UT,My);In(UT,My,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Th="analytics",GM="firebase_id",JM="origin",XM=60*1e3,ZM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zy="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nn=new Lh("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ej={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new Fs("analytics","Analytics",ej);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tj(n){if(!n.startsWith(zy)){const e=$n.create("invalid-gtag-resource",{gtagURL:n});return Nn.warn(e.message),""}return n}function nx(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function nj(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function rj(n,e){const t=nj("firebase-js-sdk-policy",{createScriptURL:tj}),i=document.createElement("script"),s=`${zy}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function ij(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function aj(n,e,t,i,s,l){const u=i[s];try{if(u)await e[u];else{const p=(await nx(t)).find(f=>f.measurementId===s);p&&await e[p.appId]}}catch(p){Nn.error(p)}n("config",s,l)}async function sj(n,e,t,i,s){try{let l=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const p=await nx(t);for(const f of u){const m=p.find(x=>x.measurementId===f),v=m&&e[m.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,s||{})}catch(l){Nn.error(l)}}function oj(n,e,t,i){async function s(l,...u){try{if(l==="event"){const[p,f]=u;await sj(n,e,t,p,f)}else if(l==="config"){const[p,f]=u;await aj(n,e,t,i,p,f)}else if(l==="consent"){const[p,f]=u;n("consent",p,f)}else if(l==="get"){const[p,f,m]=u;n("get",p,f,m)}else if(l==="set"){const[p]=u;n("set",p)}else n(l,...u)}catch(p){Nn.error(p)}}return s}function lj(n,e,t,i,s){let l=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=oj(l,n,e,t),{gtagCore:l,wrappedGtag:window[s]}}function cj(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(zy)&&t.src.includes(n))return t;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uj=30,dj=1e3;class hj{constructor(e={},t=dj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rx=new hj;function fj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function pj(n){var e;const{appId:t,apiKey:i}=n,s={method:"GET",headers:fj(i)},l=ZM.replace("{app-id}",t),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let p="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(p=f.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function mj(n,e=rx,t){const{appId:i,apiKey:s,measurementId:l}=n.options;if(!i)throw $n.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:i};throw $n.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new vj;return setTimeout(async()=>{p.abort()},XM),ix({appId:i,apiKey:s,measurementId:l},u,p,e)}async function ix(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=rx){var l;const{appId:u,measurementId:p}=n;try{await gj(i,e)}catch(f){if(p)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:p};throw f}try{const f=await pj(n);return s.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!yj(m)){if(s.deleteThrottleMetadata(u),p)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:p};throw f}const v=Number((l=m==null?void 0:m.customData)===null||l===void 0?void 0:l.httpStatus)===503?jw(t,s.intervalMillis,uj):jw(t,s.intervalMillis),x={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return s.setThrottleMetadata(u,x),Nn.debug(`Calling attemptFetch again in ${v} millis`),ix(n,x,i,s)}}function gj(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(l),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yj(n){if(!(n instanceof lr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class vj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bj(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const l=await e,u=Object.assign(Object.assign({},i),{send_to:l});n("event",t,u)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function wj(){if(pE())try{await mE()}catch(n){return Nn.warn($n.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Nn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Sj(n,e,t,i,s,l,u){var p;const f=mj(n);f.then(P=>{t[P.measurementId]=P.appId,n.options.measurementId&&P.measurementId!==n.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>Nn.error(P)),e.push(f);const m=wj().then(P=>{if(P)return i.getId()}),[v,x]=await Promise.all([f,m]);cj(l)||rj(l,v.measurementId),s("js",new Date);const A=(p=u==null?void 0:u.config)!==null&&p!==void 0?p:{};return A[JM]="firebase",A.update=!0,x!=null&&(A[GM]=x),s("config",v.measurementId,A),v.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kj{constructor(e){this.app=e}_delete(){return delete Nc[this.app.options.appId],Promise.resolve()}}let Nc={},gk=[];const yk={};let $m="dataLayer",Ej="gtag",vk,ax,bk=!1;function _j(){const n=[];if(fE()&&n.push("This is a browser extension environment."),VN()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=$n.create("invalid-analytics-context",{errorInfo:e});Nn.warn(t.message)}}function Tj(n,e,t){_j();const i=n.options.appId;if(!i)throw $n.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(Nc[i]!=null)throw $n.create("already-exists",{id:i});if(!bk){ij($m);const{wrappedGtag:s,gtagCore:l}=lj(Nc,gk,yk,$m,Ej);ax=s,vk=l,bk=!0}return Nc[i]=Sj(n,gk,yk,e,vk,$m,t),new kj(n)}function xj(n=Dh()){n=Et(n);const e=za(n,Th);return e.isInitialized()?e.getImmediate():Cj(n)}function Cj(n,e={}){const t=za(n,Th);if(t.isInitialized()){const i=t.getImmediate();if(Pa(e,t.getOptions()))return i;throw $n.create("already-initialized")}return t.initialize({options:e})}function Ij(n,e,t,i){n=Et(n),bj(ax,Nc[n.app.options.appId],e,t,i).catch(s=>Nn.error(s))}const wk="@firebase/analytics",Sk="0.10.12";function Nj(){yr(new sr(Th,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Tj(i,s,t)},"PUBLIC")),yr(new sr("analytics-internal",n,"PRIVATE")),In(wk,Sk),In(wk,Sk,"esm2017");function n(e){try{const t=e.getProvider(Th).getImmediate();return{logEvent:(i,s,l)=>Ij(t,i,s,l)}}catch(t){throw $n.create("interop-component-reg-failed",{reason:t})}}}Nj();const Aj={apiKey:"AIzaSyCG_qXbdnlbUIa1QYkzkzto1L8SXFdLLN8",authDomain:"ecommerce-pc-parts.firebaseapp.com",projectId:"ecommerce-pc-parts",storageBucket:"ecommerce-pc-parts.firebasestorage.app",messagingSenderId:"153204523621",appId:"1:153204523621:web:4b1e4bde73cf058b6dfc8c",measurementId:"G-QJTMEYB4PD"},lf=bE(Aj),Sn=eP(lf),jd=LD(lf);oM(lf);xj(lf);function sx(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=sx(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Is(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=sx(n))&&(i&&(i+=" "),i+=e);return i}function Oj(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Oj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var iu=n=>typeof n=="number"&&!isNaN(n),js=n=>typeof n=="string",Mi=n=>typeof n=="function",Rj=n=>js(n)||iu(n),kg=n=>js(n)||Mi(n)?n:null,Pj=(n,e)=>n===!1||iu(n)&&n>0?n:e,Eg=n=>Q.isValidElement(n)||js(n)||Mi(n)||iu(n);function Lj(n,e,t=300){let{scrollHeight:i,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function Dj({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:l,position:u,preventExitTransition:p,done:f,nodeRef:m,isIn:v,playToast:x}){let A=t?`${n}--${u}`:n,P=t?`${e}--${u}`:e,U=Q.useRef(0);return Q.useLayoutEffect(()=>{let D=m.current,$=A.split(" "),H=B=>{B.target===m.current&&(x(),D.removeEventListener("animationend",H),D.removeEventListener("animationcancel",H),U.current===0&&B.type!=="animationcancel"&&D.classList.remove(...$))};D.classList.add(...$),D.addEventListener("animationend",H),D.addEventListener("animationcancel",H)},[]),Q.useEffect(()=>{let D=m.current,$=()=>{D.removeEventListener("animationend",$),i?Lj(D,f,s):f()};v||(p?$():(U.current=1,D.className+=` ${P}`,D.addEventListener("animationend",$)))},[v]),mt.createElement(mt.Fragment,null,l)}}function kk(n,e){return{content:ox(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function ox(n,e,t=!1){return Q.isValidElement(n)&&!js(n.type)?Q.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Mi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function Mj({closeToast:n,theme:e,ariaLabel:t="close"}){return mt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},mt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},mt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function jj({delay:n,isRunning:e,closeToast:t,type:i="default",hide:s,className:l,controlledProgress:u,progress:p,rtl:f,isIn:m,theme:v}){let x=s||u&&p===0,A={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(A.transform=`scaleX(${p})`);let P=Is("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),U=Mi(l)?l({rtl:f,type:i,defaultClassName:P}):Is(P,l),D={[u&&p>=1?"onTransitionEnd":"onAnimationEnd"]:u&&p<1?null:()=>{m&&t()}};return mt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},mt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),mt.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:U,style:A,...D}))}var Uj=1,lx=()=>`${Uj++}`;function Fj(n,e,t){let i=1,s=0,l=[],u=[],p=e,f=new Map,m=new Set,v=B=>(m.add(B),()=>m.delete(B)),x=()=>{u=Array.from(f.values()),m.forEach(B=>B())},A=({containerId:B,toastId:X,updateId:le})=>{let F=B?B!==n:n!==1,q=f.has(X)&&le==null;return F||q},P=(B,X)=>{f.forEach(le=>{var F;(X==null||X===le.props.toastId)&&((F=le.toggle)==null||F.call(le,B))})},U=B=>{var X,le;(le=(X=B.props)==null?void 0:X.onClose)==null||le.call(X,B.removalReason),B.isActive=!1},D=B=>{if(B==null)f.forEach(U);else{let X=f.get(B);X&&U(X)}x()},$=()=>{s-=l.length,l=[]},H=B=>{var X,le;let{toastId:F,updateId:q}=B.props,N=q==null;B.staleId&&f.delete(B.staleId),B.isActive=!0,f.set(F,B),x(),t(kk(B,N?"added":"updated")),N&&((le=(X=B.props).onOpen)==null||le.call(X))};return{id:n,props:p,observe:v,toggle:P,removeToast:D,toasts:f,clearQueue:$,buildToast:(B,X)=>{if(A(X))return;let{toastId:le,updateId:F,data:q,staleId:N,delay:I}=X,b=F==null;b&&s++;let _={...p,style:p.toastStyle,key:i++,...Object.fromEntries(Object.entries(X).filter(([j,C])=>C!=null)),toastId:le,updateId:F,data:q,isIn:!1,className:kg(X.className||p.toastClassName),progressClassName:kg(X.progressClassName||p.progressClassName),autoClose:X.isLoading?!1:Pj(X.autoClose,p.autoClose),closeToast(j){f.get(le).removalReason=j,D(le)},deleteToast(){let j=f.get(le);if(j!=null){if(t(kk(j,"removed")),f.delete(le),s--,s<0&&(s=0),l.length>0){H(l.shift());return}x()}}};_.closeButton=p.closeButton,X.closeButton===!1||Eg(X.closeButton)?_.closeButton=X.closeButton:X.closeButton===!0&&(_.closeButton=Eg(p.closeButton)?p.closeButton:!0);let M={content:B,props:_,staleId:N};p.limit&&p.limit>0&&s>p.limit&&b?l.push(M):iu(I)?setTimeout(()=>{H(M)},I):H(M)},setProps(B){p=B},setToggle:(B,X)=>{let le=f.get(B);le&&(le.toggle=X)},isToastActive:B=>{var X;return(X=f.get(B))==null?void 0:X.isActive},getSnapshot:()=>u}}var kn=new Map,Vc=[],_g=new Set,zj=n=>_g.forEach(e=>e(n)),cx=()=>kn.size>0;function Vj(){Vc.forEach(n=>dx(n.content,n.options)),Vc=[]}var $j=(n,{containerId:e})=>{var t;return(t=kn.get(e||1))==null?void 0:t.toasts.get(n)};function ux(n,e){var t;if(e)return!!((t=kn.get(e))!=null&&t.isToastActive(n));let i=!1;return kn.forEach(s=>{s.isToastActive(n)&&(i=!0)}),i}function qj(n){if(!cx()){Vc=Vc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||Rj(n))kn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=kn.get(n.containerId);e?e.removeToast(n.id):kn.forEach(t=>{t.removeToast(n.id)})}}var Hj=(n={})=>{kn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function dx(n,e){Eg(n)&&(cx()||Vc.push({content:n,options:e}),kn.forEach(t=>{t.buildToast(n,e)}))}function Bj(n){var e;(e=kn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function hx(n,e){kn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Wj(n){let e=n.containerId||1;return{subscribe(t){let i=Fj(e,n,zj);kn.set(e,i);let s=i.observe(t);return Vj(),()=>{s(),kn.delete(e)}},setProps(t){var i;(i=kn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=kn.get(e))==null?void 0:t.getSnapshot()}}}function Kj(n){return _g.add(n),()=>{_g.delete(n)}}function Qj(n){return n&&(js(n.toastId)||iu(n.toastId))?n.toastId:lx()}function au(n,e){return dx(n,e),e.toastId}function cf(n,e){return{...e,type:e&&e.type||n,toastId:Qj(e)}}function uf(n){return(e,t)=>au(e,cf(n,t))}function qe(n,e){return au(n,cf("default",e))}qe.loading=(n,e)=>au(n,cf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Yj(n,{pending:e,error:t,success:i},s){let l;e&&(l=js(e)?qe.loading(e,s):qe.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(m,v,x)=>{if(v==null){qe.dismiss(l);return}let A={type:m,...u,...s,data:x},P=js(v)?{render:v}:v;return l?qe.update(l,{...A,...P}):qe(P.render,{...A,...P}),x},f=Mi(n)?n():n;return f.then(m=>p("success",i,m)).catch(m=>p("error",t,m)),f}qe.promise=Yj;qe.success=uf("success");qe.info=uf("info");qe.error=uf("error");qe.warning=uf("warning");qe.warn=qe.warning;qe.dark=(n,e)=>au(n,cf("default",{theme:"dark",...e}));function Gj(n){qj(n)}qe.dismiss=Gj;qe.clearWaitingQueue=Hj;qe.isActive=ux;qe.update=(n,e={})=>{let t=$j(n,e);if(t){let{props:i,content:s}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:lx()};l.toastId!==n&&(l.staleId=n);let u=l.render||s;delete l.render,au(u,l)}};qe.done=n=>{qe.update(n,{progress:1})};qe.onChange=Kj;qe.play=n=>hx(!0,n);qe.pause=n=>hx(!1,n);function Jj(n){var e;let{subscribe:t,getSnapshot:i,setProps:s}=Q.useRef(Wj(n)).current;s(n);let l=(e=Q.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(p){if(!l)return[];let f=new Map;return n.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:v}=m.props;f.has(v)||f.set(v,[]),f.get(v).push(m)}),Array.from(f,m=>p(m[0],m[1]))}return{getToastToRender:u,isToastActive:ux,count:l==null?void 0:l.length}}function Xj(n){let[e,t]=Q.useState(!1),[i,s]=Q.useState(!1),l=Q.useRef(null),u=Q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:f,closeToast:m,onClick:v,closeOnClick:x}=n;Bj({id:n.toastId,containerId:n.containerId,fn:t}),Q.useEffect(()=>{if(n.pauseOnFocusLoss)return A(),()=>{P()}},[n.pauseOnFocusLoss]);function A(){document.hasFocus()||H(),window.addEventListener("focus",$),window.addEventListener("blur",H)}function P(){window.removeEventListener("focus",$),window.removeEventListener("blur",H)}function U(N){if(n.draggable===!0||n.draggable===N.pointerType){B();let I=l.current;u.canCloseOnClick=!0,u.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(u.start=N.clientX,u.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(u.start=N.clientY,u.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function D(N){let{top:I,bottom:b,left:_,right:M}=l.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&n.pauseOnHover&&N.clientX>=_&&N.clientX<=M&&N.clientY>=I&&N.clientY<=b?H():$()}function $(){t(!0)}function H(){t(!1)}function B(){u.didMove=!1,document.addEventListener("pointermove",le),document.addEventListener("pointerup",F)}function X(){document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",F)}function le(N){let I=l.current;if(u.canDrag&&I){u.didMove=!0,e&&H(),n.draggableDirection==="x"?u.delta=N.clientX-u.start:u.delta=N.clientY-u.start,u.start!==N.clientX&&(u.canCloseOnClick=!1);let b=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;I.style.transform=`translate3d(${b},0)`,I.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function F(){X();let N=l.current;if(u.canDrag&&u.didMove&&N){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let q={onPointerDown:U,onPointerUp:D};return p&&f&&(q.onMouseEnter=H,n.stacked||(q.onMouseLeave=$)),x&&(q.onClick=N=>{v&&v(N),u.canCloseOnClick&&m(!0)}),{playToast:$,pauseToast:H,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:q}}var Zj=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,df=({theme:n,type:e,isLoading:t,...i})=>mt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function e4(n){return mt.createElement(df,{...n},mt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function t4(n){return mt.createElement(df,{...n},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function n4(n){return mt.createElement(df,{...n},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function r4(n){return mt.createElement(df,{...n},mt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function i4(){return mt.createElement("div",{className:"Toastify__spinner"})}var Tg={info:t4,warning:e4,success:n4,error:r4,spinner:i4},a4=n=>n in Tg;function s4({theme:n,type:e,isLoading:t,icon:i}){let s=null,l={theme:n,type:e};return i===!1||(Mi(i)?s=i({...l,isLoading:t}):Q.isValidElement(i)?s=Q.cloneElement(i,l):t?s=Tg.spinner():a4(e)&&(s=Tg[e](l))),s}var o4=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:s,playToast:l}=Xj(n),{closeButton:u,children:p,autoClose:f,onClick:m,type:v,hideProgressBar:x,closeToast:A,transition:P,position:U,className:D,style:$,progressClassName:H,updateId:B,role:X,progress:le,rtl:F,toastId:q,deleteToast:N,isIn:I,isLoading:b,closeOnClick:_,theme:M,ariaLabel:j}=n,C=Is("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":_}),se=Mi(D)?D({rtl:F,position:U,type:v,defaultClassName:C}):Is(C,D),pe=s4(n),te=!!le||!f,T={closeToast:A,type:v,theme:M},ge=null;return u===!1||(Mi(u)?ge=u(T):Q.isValidElement(u)?ge=Q.cloneElement(u,T):ge=Mj(T)),mt.createElement(P,{isIn:I,done:N,position:U,preventExitTransition:t,nodeRef:i,playToast:l},mt.createElement("div",{id:q,tabIndex:0,onClick:m,"data-in":I,className:se,...s,style:$,ref:i,...I&&{role:X,"aria-label":j}},pe!=null&&mt.createElement("div",{className:Is("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!b})},pe),ox(p,n,!e),ge,!n.customProgressBar&&mt.createElement(jj,{...B&&!te?{key:`p-${B}`}:{},rtl:F,theme:M,delay:f,isRunning:e,isIn:I,closeToast:A,hide:x,type:v,className:H,controlledProgress:te,progress:le||0})))},l4=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),c4=Dj(l4("bounce",!0)),u4={position:"top-right",transition:c4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function d4(n){let e={...u4,...n},t=n.stacked,[i,s]=Q.useState(!0),l=Q.useRef(null),{getToastToRender:u,isToastActive:p,count:f}=Jj(e),{className:m,style:v,rtl:x,containerId:A,hotKeys:P}=e;function U($){let H=Is("Toastify__toast-container",`Toastify__toast-container--${$}`,{"Toastify__toast-container--rtl":x});return Mi(m)?m({position:$,rtl:x,defaultClassName:H}):Is(H,kg(m))}function D(){t&&(s(!0),qe.play())}return Zj(()=>{var $;if(t){let H=l.current.querySelectorAll('[data-in="true"]'),B=12,X=($=e.position)==null?void 0:$.includes("top"),le=0,F=0;Array.from(H).reverse().forEach((q,N)=>{let I=q;I.classList.add("Toastify__toast--stacked"),N>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=X?"top":"bot");let b=le*(i?.2:1)+(i?0:B*N);I.style.setProperty("--y",`${X?b:b*-1}px`),I.style.setProperty("--g",`${B}`),I.style.setProperty("--s",`${1-(i?F:0)}`),le+=I.offsetHeight,F+=.025})}},[i,f,t]),Q.useEffect(()=>{function $(H){var B;let X=l.current;P(H)&&((B=X.querySelector('[tabIndex="0"]'))==null||B.focus(),s(!1),qe.pause()),H.key==="Escape"&&(document.activeElement===X||X!=null&&X.contains(document.activeElement))&&(s(!0),qe.play())}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[P]),mt.createElement("section",{ref:l,className:"Toastify",id:A,onMouseEnter:()=>{t&&(s(!1),qe.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u(($,H)=>{let B=H.length?{...v}:{...v,pointerEvents:"none"};return mt.createElement("div",{tabIndex:-1,className:U($),"data-stacked":t,style:B,key:`c-${$}`},H.map(({content:X,props:le})=>mt.createElement(o4,{...le,stacked:t,collapseAll:D,isIn:p(le.toastId,le.containerId),key:`t-${le.key}`},X)))}))}const fx=Q.createContext(void 0),h4=({children:n})=>{const[e,t]=Q.useState([]),[i,s]=Q.useState(null),l=v=>{const x=e.find(P=>P.id===v.id),A=x?x.quantity:0;if(v.stock!==void 0&&A>=v.stock){qe.error(`No hay más stock disponible para ${v.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}s(v),t(P=>x?P.map(U=>U.id===v.id?{...U,quantity:U.quantity+1}:U):[...P,{...v,quantity:1}])},u=v=>{const x=e.find(A=>A.id===v);if(x){if(x.stock!==void 0&&x.quantity>=x.stock){qe.error(`No hay más stock disponible para ${x.name}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return}t(A=>A.map(P=>P.id===v?{...P,quantity:P.quantity+1}:P))}},p=v=>{t(x=>{const A=x.find(P=>P.id===v);return A&&A.quantity>1?x.map(P=>P.id===v?{...P,quantity:P.quantity-1}:P):x.filter(P=>P.id!==v)})},f=v=>{t(x=>{const A=x.find(P=>P.id===v);return A&&A.quantity>1?x.map(P=>P.id===v?{...P,quantity:P.quantity-1}:P):x.filter(P=>P.id!==v)})},m=()=>{t([])};return Q.useEffect(()=>{if(i){const v=e.find(x=>x.id===i.id);v?qe.success(`${i.name} añadido al carrito (x${v.quantity})`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):qe.success(`${i.name} añadido al carrito`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s(null)}},[e,i]),R.jsx(fx.Provider,{value:{cartItems:e,addToCart:l,removeFromCart:f,clearCart:m,increaseQuantity:u,decreaseQuantity:p},children:n})},Zr=()=>{const n=Q.useContext(fx);if(!n)throw new Error("useCart must be used within a CartProvider");return n},f4=()=>{const[n,e]=Q.useState([]),t=On(),{addToCart:i}=Zr();Q.useEffect(()=>{const u=il(or(Sn,"products"),Sy("sales","desc"),Ey(4)),p=Jr(u,f=>{const m=f.docs.map(v=>({id:v.id,...v.data()}));e(m)},f=>{console.error("Error fetching recently viewed products:",f)});return()=>p()},[]);const s=u=>{t(`/product/${u}`)},l=u=>{i(u)};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Recientemente visto"}),n.length>0?R.jsx(Rh,{dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}],children:n.map(u=>R.jsx("div",{className:"p-4",children:R.jsxs("div",{className:"bg-menu p-4 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow",children:[R.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-2 cursor-pointer",onClick:()=>s(u.id)}),R.jsx("p",{className:"text-lg font-medium",children:u.name}),R.jsxs("p",{className:"text-md text-button",children:["$",u.price]}),R.jsx("button",{onClick:()=>l(u),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})},u.id))}):R.jsx("p",{className:"text-center",children:"No hay productos recientes."})]})})},p4=()=>{const[n,e]=Q.useState([]),[t,i]=Q.useState("all"),s=On(),{addToCart:l}=Zr();Q.useEffect(()=>{const f=Jr(or(Sn,"products"),m=>{const v=m.docs.map(x=>({id:x.id,...x.data()}));e(v)});return()=>f()},[]);const u=["all","Placas Base","tarjetas gráficas","procesadores","memoria ram"],p=f=>{s(`/product/${f}`)};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Productos"}),R.jsxs("div",{className:"mb-6 flex items-center",children:[R.jsx("label",{className:"mr-3 text-lg",children:"Filtrar por categoría:"}),R.jsx("select",{value:t,onChange:f=>i(f.target.value),className:"p-2 rounded-md bg-menu text-white focus:outline-none focus:ring-2 focus:ring-button",children:u.map(f=>R.jsx("option",{value:f,className:"text-black",children:f},f))})]}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(f=>t==="all"||f.category===t).map(f=>R.jsxs("div",{className:"bg-menu p-4 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow",children:[R.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-full h-48 object-cover rounded-md mb-3 cursor-pointer",onClick:()=>p(f.id)}),R.jsx("h3",{className:"text-lg font-medium",children:f.name}),R.jsxs("p",{className:"text-md text-button",children:["$",f.price]}),R.jsx("button",{onClick:()=>l(f),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]},f.id))})]})})},m4=()=>{const[n,e]=Q.useState([]),t=On(),{addToCart:i}=Zr();Q.useEffect(()=>{const u=il(or(Sn,"products"),vy("discount",">",0)),p=Jr(u,f=>{const m=f.docs.map(v=>({id:v.id,...v.data()}));e(m)},f=>{console.error("Error fetching offers:",f)});return()=>p()},[]);const s=u=>{t(`/product/${u}`)},l={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Ofertas Especiales"}),n.length>0?R.jsx(Rh,{...l,children:n.map(u=>R.jsx("div",{className:"p-4",children:R.jsxs("div",{className:"bg-menu p-4 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow",children:[R.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-2 cursor-pointer",onClick:()=>s(u.id)}),R.jsx("p",{className:"text-lg font-medium",children:u.name}),R.jsxs("p",{className:"text-md text-button",children:["$",u.price," ",R.jsxs("span",{className:"text-red-500",children:["(-",u.discount,"%)"]})]}),R.jsx("button",{onClick:()=>i(u),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})},u.id))}):R.jsx("p",{className:"text-center",children:"No hay ofertas disponibles."})]})})},g4=()=>{const[n,e]=Q.useState([]),t=On(),{addToCart:i}=Zr();Q.useEffect(()=>{const u=il(or(Sn,"products"),Sy("sales","desc"),Ey(4)),p=Jr(u,f=>{const m=f.docs.map(v=>({id:v.id,...v.data()}));e(m)},f=>{console.error("Error fetching top selling products:",f)});return()=>p()},[]);const s=u=>{t(`/product/${u}`)},l={dots:!0,infinite:!0,speed:500,slidesToShow:Math.min(4,n.length),slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Más Vendidos"}),n.length>0?R.jsx(Rh,{...l,children:n.map(u=>R.jsx("div",{className:"p-4",children:R.jsxs("div",{className:"bg-menu p-4 rounded-lg text-center border border-gray-700 hover:shadow-lg transition-shadow",children:[R.jsx("img",{src:u.image||"/placeholder.jpg",alt:u.name,className:"w-full h-40 object-cover rounded-md mb-2 cursor-pointer",onClick:()=>s(u.id)}),R.jsx("p",{className:"text-lg font-medium",children:u.name}),R.jsxs("p",{className:"text-md text-button",children:["$",u.price]}),R.jsx("button",{onClick:()=>i(u),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})},u.id))}):R.jsx("p",{className:"text-center",children:"No hay productos más vendidos."})]})})},y4=()=>R.jsxs("div",{className:"container mx-auto",children:[R.jsx(TN,{}),R.jsx(f4,{}),R.jsx(m4,{}),R.jsx(g4,{}),R.jsx(p4,{})]}),v4=()=>{const[n,e]=Q.useState([]),t=On(),{addToCart:i}=Zr();Q.useEffect(()=>{const l=il(or(Sn,"products"),vy("discount",">",0)),u=Jr(l,p=>{const f=p.docs.map(m=>({id:m.id,...m.data()}));e(f)},p=>{console.error("Error fetching offers:",p)});return()=>u()},[]);const s=l=>{t(`/product/${l}`)};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",children:"Ofertas"}),n.length>0?R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.map(l=>R.jsxs("div",{className:"bg-menu p-4 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow",children:[R.jsx("img",{src:l.image||"/placeholder.jpg",alt:l.name,className:"w-full h-48 object-cover rounded-md mb-3 cursor-pointer",onClick:()=>s(l.id)}),R.jsx("h3",{className:"text-lg font-medium",children:l.name}),R.jsxs("p",{className:"text-md text-button",children:["$",l.price," ",R.jsxs("span",{className:"text-red-500",children:["(-",l.discount,"%)"]})]}),R.jsx("button",{onClick:()=>i(l),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]},l.id))}):R.jsx("p",{children:"No hay ofertas disponibles."})]})})},b4=()=>{const[n,e]=Q.useState([]),[t,i]=Q.useState("all"),s=On(),{addToCart:l}=Zr();Q.useEffect(()=>{const f=Jr(or(Sn,"products"),m=>{const v=m.docs.map(x=>({id:x.id,...x.data()}));e(v)});return()=>f()},[]);const u=["all","Placas Base","tarjetas gráficas","procesadores","memoria ram"],p=f=>{s(`/product/${f}`)};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",children:"Categorías"}),R.jsxs("div",{className:"mb-6 flex items-center",children:[R.jsx("label",{className:"mr-3 text-lg",children:"Filtrar por categoría:"}),R.jsx("select",{value:t,onChange:f=>i(f.target.value),className:"p-2 rounded-md bg-menu text-white focus:outline-none focus:ring-2 focus:ring-button",children:u.map(f=>R.jsx("option",{value:f,className:"text-black",children:f},f))})]}),n.length>0?R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:n.filter(f=>t==="all"||f.category===t).map(f=>R.jsxs("div",{className:"bg-menu p-4 rounded-lg text-center border border-gray-700 hover:shadow-xl transition-shadow",children:[R.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-full h-48 object-cover rounded-md mb-3 cursor-pointer",onClick:()=>p(f.id)}),R.jsx("h3",{className:"text-lg font-medium",children:f.name}),R.jsxs("p",{className:"text-md text-button",children:["$",f.price]}),R.jsx("button",{onClick:()=>l(f),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]},f.id))}):R.jsx("p",{children:"No hay productos disponibles."})]})})},px=Q.createContext(void 0),w4=({children:n})=>{const[e,t]=Q.useState(null),[i,s]=Q.useState(!0),l=async(m,v)=>{await vL(jd,m,v)},u=async(m,v)=>{await bL(jd,m,v)},p=async()=>{await EL(jd)};Q.useEffect(()=>kL(jd,m=>{t(m),s(!1)}),[]);const f={currentUser:e,signUp:l,signIn:u,signOutUser:p};return R.jsx(px.Provider,{value:f,children:!i&&n})},hf=()=>{const n=Q.useContext(px);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},S4=()=>{const{id:n}=GC(),[e,t]=Q.useState(null),[i,s]=Q.useState([]),[l,u]=Q.useState(""),[p,f]=Q.useState(!0),{addToCart:m}=Zr(),{currentUser:v}=hf(),x=On();Q.useEffect(()=>{const P=async()=>{if(n)try{const D=await yP(mh(Sn,"products",n));D.exists()?t({id:D.id,...D.data()}):console.log("Producto no encontrado:",n)}catch(D){console.error("Error al obtener el producto:",D)}finally{f(!1)}},U=()=>{if(!n)return;const D=or(Sn,"products",n,"reviews");return Jr(D,$=>{const H=$.docs.map(B=>({id:B.id,...B.data()}));s(H)},$=>{console.error("Error al obtener reviews:",$)})};return P(),U()},[n]);const A=async P=>{if(P.preventDefault(),!v){x("/auth");return}if(!(!n||!l.trim()))try{await X_(or(Sn,"products",n,"reviews"),{userId:v.uid,userEmail:v.email,comment:l.trim(),createdAt:zt.fromDate(new Date)}),u("")}catch(U){console.error("Error al enviar la reseña:",U)}};return p?R.jsx("div",{className:"container mx-auto p-6 text-white",children:"Cargando..."}):e?R.jsxs("div",{className:"container mx-auto p-6 bg-body text-white",children:[R.jsx("button",{onClick:()=>x(-1),className:"mb-4 text-[#f90] hover:underline",children:"← Volver"}),R.jsx("h1",{className:"text-3xl font-semibold mb-4",children:e.name}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsx("div",{children:R.jsx("img",{src:e.image||"/placeholder.jpg",alt:e.name,className:"w-full h-96 object-cover rounded-lg"})}),R.jsxs("div",{className:"flex flex-col justify-between",children:[R.jsxs("div",{children:[R.jsxs("p",{className:"text-2xl text-[#f90] mb-4",children:["$",e.price]}),e.discount&&e.discount>0&&R.jsxs("p",{className:"text-md text-red-500 mb-4",children:["Descuento: ",e.discount,"%"]}),R.jsx("p",{className:"mb-4",children:e.description}),R.jsxs("p",{className:"mb-4",children:[R.jsx("strong",{children:"Categoría:"})," ",e.category]}),R.jsxs("p",{className:"mb-4",children:[R.jsx("strong",{children:"Stock:"})," ",e.stock]}),e.coupon&&R.jsxs("p",{className:"mb-4",children:[R.jsx("strong",{children:"Cupón:"})," ",e.coupon]})]}),R.jsx("button",{onClick:()=>m(e),className:"bg-[#f90] text-white px-6 py-3 rounded-md hover:bg-[#e68a00]",children:"Añadir al carrito"})]})]}),R.jsxs("div",{className:"mt-8",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Reseñas"}),i.length>0?R.jsx("div",{className:"space-y-4",children:i.map(P=>R.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[R.jsx("p",{children:R.jsx("strong",{children:P.userEmail})}),R.jsx("p",{children:P.comment}),R.jsx("p",{className:"text-gray-400 text-sm",children:P.createdAt.toDate().toLocaleDateString()})]},P.id))}):R.jsx("p",{children:"No hay reseñas todavía."}),v&&R.jsxs("form",{onSubmit:A,className:"mt-6 space-y-4",children:[R.jsx("h3",{className:"text-xl font-semibold",children:"Deja tu reseña"}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Comentario"}),R.jsx("textarea",{value:l,onChange:P=>u(P.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",rows:4,required:!0})]}),R.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Enviar Reseña"})]})]})]}):R.jsx("div",{className:"container mx-auto p-6 text-white",children:"Producto no encontrado"})},k4=()=>{const{cartItems:n,removeFromCart:e,clearCart:t,increaseQuantity:i,decreaseQuantity:s}=Zr(),l=On(),u=n.reduce((f,m)=>f+m.price*m.quantity,0),p=()=>{if(n.length===0){alert("El carrito está vacío. Agrega productos antes de pagar.");return}l("/payment",{state:{total:u,cartItems:n}})};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",children:"Carrito de Compras"}),n.length>0?R.jsxs("div",{children:[R.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(f=>R.jsxs("div",{className:"flex items-center bg-menu p-4 rounded-lg border border-gray-700",children:[R.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"text-lg font-medium",children:f.name}),R.jsxs("p",{className:"text-md text-button",children:["$",f.price," x ",f.quantity]}),R.jsxs("p",{className:"text-md",children:["Subtotal: $",(f.price*f.quantity).toFixed(2)]}),R.jsxs("div",{className:"flex items-center mt-2",children:[R.jsx("button",{onClick:()=>s(f.id),className:"bg-gray-500 text-white px-3 py-1 rounded-md hover:bg-gray-600",children:"−"}),R.jsx("span",{className:"mx-3",children:f.quantity}),R.jsx("button",{onClick:()=>i(f.id),className:"bg-gray-500 text-white px-3 py-1 rounded-md hover:bg-gray-600",children:"+"})]})]}),R.jsx("button",{onClick:()=>e(f.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Eliminar"})]},f.id))}),R.jsxs("div",{className:"mt-6 text-right",children:[R.jsxs("p",{className:"text-xl font-semibold",children:["Total: $",u.toFixed(2)]}),R.jsx("button",{onClick:t,className:"mt-4 bg-red-500 text-white px-6 py-3 rounded-md hover:bg-red-600 mr-4",children:"Limpiar carrito"}),R.jsx("button",{onClick:p,className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Proceder al pago"})]})]}):R.jsx("p",{children:"Tu carrito está vacío."})]})})},E4=()=>{const[n,e]=Q.useState(""),[t,i]=Q.useState(""),[s,l]=Q.useState(!1),[u,p]=Q.useState(""),{signUp:f,signIn:m}=hf(),v=On(),x=async A=>{A.preventDefault(),p("");try{s?await f(n,t):await m(n,t),v("/")}catch(P){p(P.message)}};return R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto max-w-md",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",children:s?"Registrarse":"Iniciar Sesión"}),u&&R.jsx("p",{className:"text-red-500 mb-4",children:u}),R.jsxs("form",{onSubmit:x,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Correo Electrónico"}),R.jsx("input",{type:"email",value:n,onChange:A=>e(A.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Contraseña"}),R.jsx("input",{type:"password",value:t,onChange:A=>i(A.target.value),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),R.jsx("button",{type:"submit",className:"w-full bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:s?"Registrarse":"Iniciar Sesión"})]}),R.jsxs("p",{className:"mt-4 text-center",children:[s?"¿Ya tienes una cuenta?":"¿No tienes una cuenta?"," ",R.jsx("button",{onClick:()=>l(!s),className:"text-[#f90] hover:underline",children:s?"Inicia Sesión":"Regístrate"})]})]})})},_4=()=>{const{currentUser:n}=hf(),e=On(),[t,i]=Q.useState([]),[s,l]=Q.useState({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""});Q.useEffect(()=>{if(!n||n.email!=="admin@example.com"){e("/");return}const m=Jr(or(Sn,"products"),v=>{const x=v.docs.map(A=>({id:A.id,...A.data()}));i(x)});return()=>m()},[n,e]);const u=async m=>{m.preventDefault();try{await X_(or(Sn,"products"),s),l({name:"",price:0,image:"",category:"",description:"",discount:0,sales:0,stock:0,coupon:""})}catch(v){console.error("Error al añadir producto:",v)}},p=async m=>{try{await bP(mh(Sn,"products",m))}catch(v){console.error("Error al eliminar producto:",v)}},f=async(m,v)=>{try{await vP(mh(Sn,"products",m),{stock:v})}catch(x){console.error("Error al actualizar stock:",x)}};return!n||n.email!=="admin@example.com"?null:R.jsx("div",{className:"bg-body text-white p-6",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-3xl font-semibold mb-4",children:"Panel Administrativo"}),R.jsxs("div",{className:"mb-8",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Añadir Producto"}),R.jsxs("form",{onSubmit:u,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Nombre"}),R.jsx("input",{type:"text",value:s.name,onChange:m=>l({...s,name:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Precio"}),R.jsx("input",{type:"number",value:s.price,onChange:m=>l({...s,price:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Imagen (URL)"}),R.jsx("input",{type:"text",value:s.image,onChange:m=>l({...s,image:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Categoría"}),R.jsx("input",{type:"text",value:s.category,onChange:m=>l({...s,category:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Descripción"}),R.jsx("textarea",{value:s.description,onChange:m=>l({...s,description:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]",rows:4})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Descuento (%)"}),R.jsx("input",{type:"number",value:s.discount,onChange:m=>l({...s,discount:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Ventas"}),R.jsx("input",{type:"number",value:s.sales,onChange:m=>l({...s,sales:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Stock"}),R.jsx("input",{type:"number",value:s.stock,onChange:m=>l({...s,stock:Number(m.target.value)}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block mb-1",children:"Cupón"}),R.jsx("input",{type:"text",value:s.coupon,onChange:m=>l({...s,coupon:m.target.value}),className:"w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90]"})]}),R.jsx("button",{type:"submit",className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Añadir Producto"})]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Gestionar Productos"}),R.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(m=>R.jsxs("div",{className:"flex items-center bg-menu p-4 rounded-lg border border-gray-700",children:[R.jsx("img",{src:m.image||"/placeholder.jpg",alt:m.name,className:"w-20 h-20 object-cover rounded-md mr-4"}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"text-lg font-medium",children:m.name}),R.jsxs("p",{className:"text-md text-[#f90]",children:["$",m.price]}),R.jsxs("p",{children:["Stock: ",m.stock]}),R.jsxs("div",{className:"flex items-center mt-2",children:[R.jsx("input",{type:"number",defaultValue:m.stock,onBlur:v=>f(m.id,Number(v.target.value)),className:"w-20 p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#f90] mr-2"}),R.jsx("button",{onClick:()=>p(m.id),className:"bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Eliminar"})]})]})]},m.id))})]})]})})},T4=()=>{const{search:n}=ji(),e=On(),[t,i]=Q.useState([]),[s,l]=Q.useState(!0),u=new URLSearchParams(n).get("q");return Q.useEffect(()=>{if(!u){e("/");return}l(!0);const p=u.toLowerCase().trim(),f=il(or(Sn,"products"),vy("searchKeywords","array-contains",p)),m=Jr(f,v=>{const x=v.docs.map(A=>({id:A.id,...A.data()}));i(x),l(!1)},v=>{console.error("Error fetching search results:",v),l(!1)});return()=>m()},[u,e]),s?R.jsx("div",{className:"container mx-auto p-6 text-white",children:"Cargando..."}):u?R.jsxs("div",{className:"container mx-auto p-6 bg-body text-white",children:[R.jsxs("h1",{className:"text-3xl font-semibold mb-4",children:["Resultados de búsqueda para: ",u]}),t.length>0?R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(p=>R.jsxs("div",{className:"bg-menu p-4 rounded-lg border border-gray-700",children:[R.jsx("img",{src:p.image||"/placeholder.jpg",alt:p.name,className:"w-full h-40 object-cover rounded-md mb-2"}),R.jsx("h3",{className:"text-lg font-medium",children:p.name}),R.jsxs("p",{className:"text-md text-button",children:["$",p.price]}),R.jsx("button",{onClick:()=>e(`/product/${p.id}`),className:"mt-2 bg-[#f90] text-white px-4 py-2 rounded-md hover:bg-[#e68a00]",children:"Ver detalles"})]},p.id))}):R.jsxs("p",{children:['No se encontraron productos para "',u,'".']})]}):R.jsx("div",{className:"container mx-auto p-6 text-white",children:"No se proporcionó término de búsqueda"})},x4=()=>{const[n,e]=Q.useState(""),[t,i]=Q.useState([]),{cartItems:s}=Zr(),{currentUser:l,signOutUser:u}=hf(),p=On(),[f,m]=Q.useState(!1),v=s.reduce((U,D)=>U+D.quantity,0),x=U=>{const D=U.target.value.toLowerCase().trim();if(e(D),D.length>0){console.log("Buscando término:",D);const $=il(or(Sn,"products"),Sy("nameLowercase"),dP(D),hP(D+""),Ey(5)),H=Jr($,B=>{console.log("Snapshot recibido:",B.docs.length);const X=B.docs.map(le=>({id:le.id,...le.data()}));console.log("Resultados encontrados:",X),i(X)},B=>{console.error("Error en la búsqueda:",B)});return()=>H()}else i([])},A=U=>{if(U.key==="Enter"){const D=n.toLowerCase().trim();D.length>0&&(console.log("Redirigiendo a /search con término:",D),p(`/search?q=${D}`),e(""),i([]))}},P=async()=>{try{await u(),p("/"),m(!1)}catch(U){console.error("Error al cerrar sesión:",U.message)}};return R.jsxs("header",{className:"bg-menu text-white p-4 flex flex-col md:flex-row items-center justify-between shadow-lg",children:[R.jsxs("div",{className:"flex w-full md:w-auto justify-between items-center",children:[R.jsx(xa,{to:"/",className:"mb-4 md:mb-0",children:R.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-10 md:h-12"})}),R.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:()=>m(!f),"aria-label":"Toggle menu",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:f?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),R.jsx("div",{className:"w-full md:w-auto md:mx-auto",children:R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:x,onKeyDown:A,className:"w-full p-2 rounded-full bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f90] md:max-w-lg"}),t.length>0&&R.jsx("ul",{className:"absolute w-full bg-gray-900 border border-gray-700 mt-2 rounded-lg shadow-lg z-10",children:t.map(U=>R.jsxs("li",{className:"p-3 hover:bg-gray-700 cursor-pointer",onClick:()=>{p(`/product/${U.id}`),e(""),i([])},children:[U.name," - $",U.price]},U.id))})]})}),R.jsxs("div",{className:`w-full md:w-auto ${f?"block":"hidden"} md:flex md:items-center md:space-x-4 mt-4 md:mt-0`,children:[R.jsx(xa,{to:"/cart",className:"w-full md:w-auto mb-4 md:mb-0",children:R.jsxs("span",{className:"relative flex items-center justify-center bg-[#f90] text-white px-4 py-2 rounded-full hover:bg-[#e68a00] cursor-pointer w-full",children:["🛒 Carrito",v>0&&R.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v})]})}),l?R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"block md:inline text-center md:text-left mb-2 md:mb-0",children:`Bienvenido, ${l.email}`}),R.jsx("button",{onClick:P,className:"w-full md:w-auto bg-[#f90] text-white px-4 py-2 rounded-full hover:bg-[#e68a00] mb-2 md:mb-0",children:"Cerrar Sesión"}),l.email==="admin@example.com"&&R.jsx(xa,{to:"/admin",className:"w-full md:w-auto block",children:R.jsx("span",{className:"bg-[#f90] text-white px-4 py-2 rounded-full hover:bg-[#e68a00] w-full text-center",children:"Panel Admin"})})]}):R.jsx(xa,{to:"/auth",className:"w-full md:w-auto",children:R.jsx("span",{className:"bg-[#f90] text-white px-4 py-2 rounded-full hover:bg-[#e68a00] w-full text-center",children:"Iniciar Sesión"})})]})]})},C4=()=>{const[n,e]=Q.useState(null),[t,i]=Q.useState(!1),[s,l]=Q.useState(""),[u,p]=Q.useState(!1);Q.useEffect(()=>{const v=localStorage.getItem("userLocation");if(v){const[x,A]=v.split(", ");e({city:x,country:A})}},[]);const f=()=>{if(!navigator.geolocation){l("La geolocalización no es compatible con este navegador.");return}navigator.geolocation.getCurrentPosition(async v=>{const{latitude:x,longitude:A}=v.coords;try{const P=await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${x}&lon=${A}`);if(!P.ok)throw new Error(`Error en Nominatim: ${P.status} ${P.statusText}`);const U=await P.json(),D=`${U.address.city||U.address.town||U.address.village||""}, ${U.address.country||""}`.trim();if(D){const[$,H]=D.split(", ");e({city:$,country:H}),localStorage.setItem("userLocation",D),l("")}else throw new Error("No se encontraron datos de dirección.")}catch(P){console.error("Error al obtener la dirección:",P),l("No se pudo obtener la dirección. Ingresa tu ubicación manualmente."),i(!0)}},v=>{console.error("Error al obtener la ubicación:",v),v.code===v.PERMISSION_DENIED?l("Permiso denegado. Ingresa tu ubicación manualmente."):l("Error al obtener la ubicación. Ingresa tu ubicación manualmente."),i(!0)})},m=v=>{const[x,A]=v.split(", ");x&&A?(e({city:x,country:A}),localStorage.setItem("userLocation",v),i(!1),l(""),qe.success("Ubicación guardada exitosamente.",{position:"top-right",autoClose:3e3})):qe.error("Por favor, usa el formato 'Ciudad, País' (e.g., Bogotá, Colombia).",{position:"top-right",autoClose:3e3})};return R.jsx("nav",{className:"bg-menu text-white p-4",children:R.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between",children:[R.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[!n&&R.jsx("button",{onClick:f,className:"bg-button text-white px-3 py-1 rounded-md hover:bg-opacity-80 text-sm md:text-base",children:"Obtener Ubicación"}),R.jsx("button",{onClick:()=>i(!0),className:"bg-button text-white px-3 py-1 rounded-md hover:bg-opacity-80 text-sm md:text-base w-full md:w-auto",children:n?`Ubicación: ${n.city}, ${n.country}`:"Agregar Ubicación"}),s&&R.jsx("p",{className:"text-red-500 text-xs md:text-sm",children:s}),t&&R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-[#0e0e0e] p-6 rounded-lg shadow-lg",children:[R.jsx("h3",{className:"text-xl font-bold mb-4 text-[#fff]",children:"Ingresa tu ubicación"}),R.jsx("input",{type:"text",placeholder:"Ej: Bogotá, Colombia",className:"w-full p-2 mb-4 rounded bg-[#fff] text-[#000] focus:outline-none",onChange:v=>{const x=v.target.value;m(x)},onKeyDown:v=>{v.key==="Enter"&&m(v.currentTarget.value)}}),R.jsxs("div",{className:"flex justify-end space-x-4",children:[R.jsx("button",{onClick:()=>{i(!1),l("")},className:"bg-gray-500 text-[#fff] px-4 py-2 rounded hover:bg-gray-600 cursor-pointer",children:"Cancelar"}),R.jsx("button",{onClick:()=>{var v;return m(((v=document.querySelector("input"))==null?void 0:v.value)||"")},className:"bg-[#f90] text-[#fff] px-4 py-2 rounded hover:bg-[#e68a00] cursor-pointer",children:"Guardar"})]})]})})]}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("button",{className:"md:hidden text-white focus:outline-none mr-2",onClick:()=>p(!u),"aria-label":"Toggle menu",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:u?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),R.jsxs("div",{className:`md:flex space-x-6 ${u?"block":"hidden"} md:block`,children:[R.jsx(xa,{to:"/offers",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>p(!1),children:"Ofertas"}),R.jsx(xa,{to:"/categories",className:"hover:text-button transition-colors block md:inline-block text-sm md:text-base",onClick:()=>p(!1),children:"Categorías"})]})]})]})})},I4=()=>R.jsx("footer",{className:"bg-menu text-white p-8 mt-8",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ecommerce PC Parts"}),R.jsx("p",{children:"Tu tienda favorita para componentes de PC y más."})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces"}),R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Inicio"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Ofertas"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Categorías"})})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Facebook"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Twitter"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"hover:text-button",children:"Instagram"})})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),R.jsx("p",{children:"Email: support@ecommercepcparts.com"}),R.jsx("p",{children:"Teléfono: +123 456 7890"})]})]}),R.jsx("p",{className:"text-center mt-8",children:"© 2025 Ecommerce PC Parts. Todos los derechos reservados."})]})});function mx(n,e){return function(){return n.apply(e,arguments)}}const{toString:N4}=Object.prototype,{getPrototypeOf:Vy}=Object,ff=(n=>e=>{const t=N4.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),wr=n=>(n=n.toLowerCase(),e=>ff(e)===n),pf=n=>e=>typeof e===n,{isArray:sl}=Array,$c=pf("undefined");function A4(n){return n!==null&&!$c(n)&&n.constructor!==null&&!$c(n.constructor)&&qn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const gx=wr("ArrayBuffer");function O4(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&gx(n.buffer),e}const R4=pf("string"),qn=pf("function"),yx=pf("number"),mf=n=>n!==null&&typeof n=="object",P4=n=>n===!0||n===!1,Gd=n=>{if(ff(n)!=="object")return!1;const e=Vy(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},L4=wr("Date"),D4=wr("File"),M4=wr("Blob"),j4=wr("FileList"),U4=n=>mf(n)&&qn(n.pipe),F4=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||qn(n.append)&&((e=ff(n))==="formdata"||e==="object"&&qn(n.toString)&&n.toString()==="[object FormData]"))},z4=wr("URLSearchParams"),[V4,$4,q4,H4]=["ReadableStream","Request","Response","Headers"].map(wr),B4=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function su(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),sl(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),u=l.length;let p;for(i=0;i<u;i++)p=l[i],e.call(null,n[p],p,n)}}function vx(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const Cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bx=n=>!$c(n)&&n!==Cs;function xg(){const{caseless:n}=bx(this)&&this||{},e={},t=(i,s)=>{const l=n&&vx(e,s)||s;Gd(e[l])&&Gd(i)?e[l]=xg(e[l],i):Gd(i)?e[l]=xg({},i):sl(i)?e[l]=i.slice():e[l]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&su(arguments[i],t);return e}const W4=(n,e,t,{allOwnKeys:i}={})=>(su(e,(s,l)=>{t&&qn(s)?n[l]=mx(s,t):n[l]=s},{allOwnKeys:i}),n),K4=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Q4=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Y4=(n,e,t,i)=>{let s,l,u;const p={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),l=s.length;l-- >0;)u=s[l],(!i||i(u,n,e))&&!p[u]&&(e[u]=n[u],p[u]=!0);n=t!==!1&&Vy(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},G4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},J4=n=>{if(!n)return null;if(sl(n))return n;let e=n.length;if(!yx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},X4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Vy(Uint8Array)),Z4=(n,e)=>{const t=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=t.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},e3=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},t3=wr("HTMLFormElement"),n3=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),Ek=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),r3=wr("RegExp"),wx=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};su(t,(s,l)=>{let u;(u=e(s,l,n))!==!1&&(i[l]=u||s)}),Object.defineProperties(n,i)},i3=n=>{wx(n,(e,t)=>{if(qn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(qn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},a3=(n,e)=>{const t={},i=s=>{s.forEach(l=>{t[l]=!0})};return sl(n)?i(n):i(String(n).split(e)),t},s3=()=>{},o3=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function l3(n){return!!(n&&qn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const c3=n=>{const e=new Array(10),t=(i,s)=>{if(mf(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const l=sl(i)?[]:{};return su(i,(u,p)=>{const f=t(u,s+1);!$c(f)&&(l[p]=f)}),e[s]=void 0,l}}return i};return t(n,0)},u3=wr("AsyncFunction"),d3=n=>n&&(mf(n)||qn(n))&&qn(n.then)&&qn(n.catch),Sx=((n,e)=>n?setImmediate:e?((t,i)=>(Cs.addEventListener("message",({source:s,data:l})=>{s===Cs&&l===t&&i.length&&i.shift()()},!1),s=>{i.push(s),Cs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",qn(Cs.postMessage)),h3=typeof queueMicrotask<"u"?queueMicrotask.bind(Cs):typeof process<"u"&&process.nextTick||Sx,ae={isArray:sl,isArrayBuffer:gx,isBuffer:A4,isFormData:F4,isArrayBufferView:O4,isString:R4,isNumber:yx,isBoolean:P4,isObject:mf,isPlainObject:Gd,isReadableStream:V4,isRequest:$4,isResponse:q4,isHeaders:H4,isUndefined:$c,isDate:L4,isFile:D4,isBlob:M4,isRegExp:r3,isFunction:qn,isStream:U4,isURLSearchParams:z4,isTypedArray:X4,isFileList:j4,forEach:su,merge:xg,extend:W4,trim:B4,stripBOM:K4,inherits:Q4,toFlatObject:Y4,kindOf:ff,kindOfTest:wr,endsWith:G4,toArray:J4,forEachEntry:Z4,matchAll:e3,isHTMLForm:t3,hasOwnProperty:Ek,hasOwnProp:Ek,reduceDescriptors:wx,freezeMethods:i3,toObjectSet:a3,toCamelCase:n3,noop:s3,toFiniteNumber:o3,findKey:vx,global:Cs,isContextDefined:bx,isSpecCompliantForm:l3,toJSONObject:c3,isAsyncFn:u3,isThenable:d3,setImmediate:Sx,asap:h3};function ze(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}ae.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const kx=ze.prototype,Ex={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ex[n]={value:n}});Object.defineProperties(ze,Ex);Object.defineProperty(kx,"isAxiosError",{value:!0});ze.from=(n,e,t,i,s,l)=>{const u=Object.create(kx);return ae.toFlatObject(n,u,function(p){return p!==Error.prototype},p=>p!=="isAxiosError"),ze.call(u,n.message,e,t,i,s),u.cause=n,u.name=n.name,l&&Object.assign(u,l),u};const f3=null;function Cg(n){return ae.isPlainObject(n)||ae.isArray(n)}function _x(n){return ae.endsWith(n,"[]")?n.slice(0,-2):n}function _k(n,e,t){return n?n.concat(e).map(function(i,s){return i=_x(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function p3(n){return ae.isArray(n)&&!n.some(Cg)}const m3=ae.toFlatObject(ae,{},null,function(n){return/^is[A-Z]/.test(n)});function gf(n,e,t){if(!ae.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ae.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,U){return!ae.isUndefined(U[P])});const i=t.metaTokens,s=t.visitor||m,l=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(s))throw new TypeError("visitor must be a function");function f(P){if(P===null)return"";if(ae.isDate(P))return P.toISOString();if(!p&&ae.isBlob(P))throw new ze("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(P)||ae.isTypedArray(P)?p&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function m(P,U,D){let $=P;if(P&&!D&&typeof P=="object"){if(ae.endsWith(U,"{}"))U=i?U:U.slice(0,-2),P=JSON.stringify(P);else if(ae.isArray(P)&&p3(P)||(ae.isFileList(P)||ae.endsWith(U,"[]"))&&($=ae.toArray(P)))return U=_x(U),$.forEach(function(H,B){!(ae.isUndefined(H)||H===null)&&e.append(u===!0?_k([U],B,l):u===null?U:U+"[]",f(H))}),!1}return Cg(P)?!0:(e.append(_k(D,U,l),f(P)),!1)}const v=[],x=Object.assign(m3,{defaultVisitor:m,convertValue:f,isVisitable:Cg});function A(P,U){if(!ae.isUndefined(P)){if(v.indexOf(P)!==-1)throw Error("Circular reference detected in "+U.join("."));v.push(P),ae.forEach(P,function(D,$){(!(ae.isUndefined(D)||D===null)&&s.call(e,D,ae.isString($)?$.trim():$,U,x))===!0&&A(D,U?U.concat($):[$])}),v.pop()}}if(!ae.isObject(n))throw new TypeError("data must be an object");return A(n),e}function Tk(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function $y(n,e){this._pairs=[],n&&gf(n,this,e)}const Tx=$y.prototype;Tx.append=function(n,e){this._pairs.push([n,e])};Tx.toString=function(n){const e=n?function(t){return n.call(this,t,Tk)}:Tk;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};function g3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xx(n,e,t){if(!e)return n;const i=t&&t.encode||g3;ae.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let l;if(s?l=s(e,t):l=ae.isURLSearchParams(e)?e.toString():new $y(e,t).toString(i),l){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class xk{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(t){t!==null&&e(t)})}}const Cx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y3=typeof URLSearchParams<"u"?URLSearchParams:$y,v3=typeof FormData<"u"?FormData:null,b3=typeof Blob<"u"?Blob:null,w3={isBrowser:!0,classes:{URLSearchParams:y3,FormData:v3,Blob:b3},protocols:["http","https","file","blob","url","data"]},qy=typeof window<"u"&&typeof document<"u",Ig=typeof navigator=="object"&&navigator||void 0,S3=qy&&(!Ig||["ReactNative","NativeScript","NS"].indexOf(Ig.product)<0),k3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",E3=qy&&window.location.href||"http://localhost",_3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qy,hasStandardBrowserEnv:S3,hasStandardBrowserWebWorkerEnv:k3,navigator:Ig,origin:E3},Symbol.toStringTag,{value:"Module"})),pn={..._3,...w3};function T3(n,e){return gf(n,new pn.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,l){return pn.isNode&&ae.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function x3(n){return ae.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function C3(n){const e={},t=Object.keys(n);let i;const s=t.length;let l;for(i=0;i<s;i++)l=t[i],e[l]=n[l];return e}function Ix(n){function e(t,i,s,l){let u=t[l++];if(u==="__proto__")return!0;const p=Number.isFinite(+u),f=l>=t.length;return u=!u&&ae.isArray(s)?s.length:u,f?(ae.hasOwnProp(s,u)?s[u]=[s[u],i]:s[u]=i,!p):((!s[u]||!ae.isObject(s[u]))&&(s[u]=[]),e(t,i,s[u],l)&&ae.isArray(s[u])&&(s[u]=C3(s[u])),!p)}if(ae.isFormData(n)&&ae.isFunction(n.entries)){const t={};return ae.forEachEntry(n,(i,s)=>{e(x3(i),s,t,0)}),t}return null}function I3(n,e,t){if(ae.isString(n))try{return(e||JSON.parse)(n),ae.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const ou={transitional:Cx,adapter:["xhr","http","fetch"],transformRequest:[function(n,e){const t=e.getContentType()||"",i=t.indexOf("application/json")>-1,s=ae.isObject(n);if(s&&ae.isHTMLForm(n)&&(n=new FormData(n)),ae.isFormData(n))return i?JSON.stringify(Ix(n)):n;if(ae.isArrayBuffer(n)||ae.isBuffer(n)||ae.isStream(n)||ae.isFile(n)||ae.isBlob(n)||ae.isReadableStream(n))return n;if(ae.isArrayBufferView(n))return n.buffer;if(ae.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(s){if(t.indexOf("application/x-www-form-urlencoded")>-1)return T3(n,this.formSerializer).toString();if((l=ae.isFileList(n))||t.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return gf(l?{"files[]":n}:n,u&&new u,this.formSerializer)}}return s||i?(e.setContentType("application/json",!1),I3(n)):n}],transformResponse:[function(n){const e=this.transitional||ou.transitional,t=e&&e.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(n)||ae.isReadableStream(n))return n;if(n&&ae.isString(n)&&(t&&!this.responseType||i)){const s=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?ze.from(l,ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pn.classes.FormData,Blob:pn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],n=>{ou.headers[n]={}});const N3=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),A3=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!t||e[t]&&N3[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Ck=Symbol("internals");function vc(n){return n&&String(n).trim().toLowerCase()}function Jd(n){return n===!1||n==null?n:ae.isArray(n)?n.map(Jd):String(n)}function O3(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const R3=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function qm(n,e,t,i,s){if(ae.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!ae.isString(e)){if(ae.isString(i))return e.indexOf(i)!==-1;if(ae.isRegExp(i))return i.test(e)}}function P3(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function L3(n,e){const t=ae.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,l,u){return this[i].call(this,e,s,l,u)},configurable:!0})})}let An=class{constructor(n){n&&this.set(n)}set(n,e,t){const i=this;function s(u,p,f){const m=vc(p);if(!m)throw new Error("header name must be a non-empty string");const v=ae.findKey(i,m);(!v||i[v]===void 0||f===!0||f===void 0&&i[v]!==!1)&&(i[v||p]=Jd(u))}const l=(u,p)=>ae.forEach(u,(f,m)=>s(f,m,p));if(ae.isPlainObject(n)||n instanceof this.constructor)l(n,e);else if(ae.isString(n)&&(n=n.trim())&&!R3(n))l(A3(n),e);else if(ae.isHeaders(n))for(const[u,p]of n.entries())s(p,u,t);else n!=null&&s(e,n,t);return this}get(n,e){if(n=vc(n),n){const t=ae.findKey(this,n);if(t){const i=this[t];if(!e)return i;if(e===!0)return O3(i);if(ae.isFunction(e))return e.call(this,i,t);if(ae.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=vc(n),n){const t=ae.findKey(this,n);return!!(t&&this[t]!==void 0&&(!e||qm(this,this[t],t,e)))}return!1}delete(n,e){const t=this;let i=!1;function s(l){if(l=vc(l),l){const u=ae.findKey(t,l);u&&(!e||qm(t,t[u],u,e))&&(delete t[u],i=!0)}}return ae.isArray(n)?n.forEach(s):s(n),i}clear(n){const e=Object.keys(this);let t=e.length,i=!1;for(;t--;){const s=e[t];(!n||qm(this,this[s],s,n,!0))&&(delete this[s],i=!0)}return i}normalize(n){const e=this,t={};return ae.forEach(this,(i,s)=>{const l=ae.findKey(t,s);if(l){e[l]=Jd(i),delete e[s];return}const u=n?P3(s):String(s).trim();u!==s&&delete e[s],e[u]=Jd(i),t[u]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const e=Object.create(null);return ae.forEach(this,(t,i)=>{t!=null&&t!==!1&&(e[i]=n&&ae.isArray(t)?t.join(", "):t)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){const t=new this(n);return e.forEach(i=>t.set(i)),t}static accessor(n){const e=(this[Ck]=this[Ck]={accessors:{}}).accessors,t=this.prototype;function i(s){const l=vc(s);e[l]||(L3(t,s),e[l]=!0)}return ae.isArray(n)?n.forEach(i):i(n),this}};An.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(An.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});ae.freezeMethods(An);function Hm(n,e){const t=this||ou,i=e||t,s=An.from(i.headers);let l=i.data;return ae.forEach(n,function(u){l=u.call(t,l,s.normalize(),e?e.status:void 0)}),s.normalize(),l}function Nx(n){return!!(n&&n.__CANCEL__)}function ol(n,e,t){ze.call(this,n??"canceled",ze.ERR_CANCELED,e,t),this.name="CanceledError"}ae.inherits(ol,ze,{__CANCEL__:!0});function Ax(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new ze("Request failed with status code "+t.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function D3(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function M3(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,l=0,u;return e=e!==void 0?e:1e3,function(p){const f=Date.now(),m=i[l];u||(u=f),t[s]=p,i[s]=f;let v=l,x=0;for(;v!==s;)x+=t[v++],v=v%n;if(s=(s+1)%n,s===l&&(l=(l+1)%n),f-u<e)return;const A=m&&f-m;return A?Math.round(x*1e3/A):void 0}}function j3(n,e){let t=0,i=1e3/e,s,l;const u=(p,f=Date.now())=>{t=f,s=null,l&&(clearTimeout(l),l=null),n.apply(null,p)};return[(...p)=>{const f=Date.now(),m=f-t;m>=i?u(p,f):(s=p,l||(l=setTimeout(()=>{l=null,u(s)},i-m)))},()=>s&&u(s)]}const xh=(n,e,t=3)=>{let i=0;const s=M3(50,250);return j3(l=>{const u=l.loaded,p=l.lengthComputable?l.total:void 0,f=u-i,m=s(f),v=u<=p;i=u;const x={loaded:u,total:p,progress:p?u/p:void 0,bytes:f,rate:m||void 0,estimated:m&&p&&v?(p-u)/m:void 0,event:l,lengthComputable:p!=null,[e?"download":"upload"]:!0};n(x)},t)},Ik=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Nk=n=>(...e)=>ae.asap(()=>n(...e)),U3=pn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,pn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(pn.origin),pn.navigator&&/(msie|trident)/i.test(pn.navigator.userAgent)):()=>!0,F3=pn.hasStandardBrowserEnv?{write(n,e,t,i,s,l){const u=[n+"="+encodeURIComponent(e)];ae.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),ae.isString(i)&&u.push("path="+i),ae.isString(s)&&u.push("domain="+s),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function z3(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function V3(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Ox(n,e,t){let i=!z3(e);return n&&i||t==!1?V3(n,e):e}const Ak=n=>n instanceof An?{...n}:n;function Us(n,e){e=e||{};const t={};function i(m,v,x,A){return ae.isPlainObject(m)&&ae.isPlainObject(v)?ae.merge.call({caseless:A},m,v):ae.isPlainObject(v)?ae.merge({},v):ae.isArray(v)?v.slice():v}function s(m,v,x,A){if(ae.isUndefined(v)){if(!ae.isUndefined(m))return i(void 0,m,x,A)}else return i(m,v,x,A)}function l(m,v){if(!ae.isUndefined(v))return i(void 0,v)}function u(m,v){if(ae.isUndefined(v)){if(!ae.isUndefined(m))return i(void 0,m)}else return i(void 0,v)}function p(m,v,x){if(x in e)return i(m,v);if(x in n)return i(void 0,m)}const f={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:p,headers:(m,v,x)=>s(Ak(m),Ak(v),x,!0)};return ae.forEach(Object.keys(Object.assign({},n,e)),function(m){const v=f[m]||s,x=v(n[m],e[m],m);ae.isUndefined(x)&&v!==p||(t[m]=x)}),t}const Rx=n=>{const e=Us({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:l,headers:u,auth:p}=e;e.headers=u=An.from(u),e.url=xx(Ox(e.baseURL,e.url),n.params,n.paramsSerializer),p&&u.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let f;if(ae.isFormData(t)){if(pn.hasStandardBrowserEnv||pn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[m,...v]=f?f.split(";").map(x=>x.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...v].join("; "))}}if(pn.hasStandardBrowserEnv&&(i&&ae.isFunction(i)&&(i=i(e)),i||i!==!1&&U3(e.url))){const m=s&&l&&F3.read(l);m&&u.set(s,m)}return e},$3=typeof XMLHttpRequest<"u",q3=$3&&function(n){return new Promise(function(e,t){const i=Rx(n);let s=i.data;const l=An.from(i.headers).normalize();let{responseType:u,onUploadProgress:p,onDownloadProgress:f}=i,m,v,x,A,P;function U(){A&&A(),P&&P(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function $(){if(!D)return;const B=An.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),X={data:!u||u==="text"||u==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:B,config:n,request:D};Ax(function(le){e(le),U()},function(le){t(le),U()},X),D=null}"onloadend"in D?D.onloadend=$:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout($)},D.onabort=function(){D&&(t(new ze("Request aborted",ze.ECONNABORTED,n,D)),D=null)},D.onerror=function(){t(new ze("Network Error",ze.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const X=i.transitional||Cx;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),t(new ze(B,X.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,n,D)),D=null},s===void 0&&l.setContentType(null),"setRequestHeader"in D&&ae.forEach(l.toJSON(),function(B,X){D.setRequestHeader(X,B)}),ae.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),u&&u!=="json"&&(D.responseType=i.responseType),f&&([x,P]=xh(f,!0),D.addEventListener("progress",x)),p&&D.upload&&([v,A]=xh(p),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",A)),(i.cancelToken||i.signal)&&(m=B=>{D&&(t(!B||B.type?new ol(null,n,D):B),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const H=D3(i.url);if(H&&pn.protocols.indexOf(H)===-1){t(new ze("Unsupported protocol "+H+":",ze.ERR_BAD_REQUEST,n));return}D.send(s||null)})},H3=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const l=function(m){if(!s){s=!0,p();const v=m instanceof Error?m:this.reason;i.abort(v instanceof ze?v:new ol(v instanceof Error?v.message:v))}};let u=e&&setTimeout(()=>{u=null,l(new ze(`timeout ${e} of ms exceeded`,ze.ETIMEDOUT))},e);const p=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),n=null)};n.forEach(m=>m.addEventListener("abort",l));const{signal:f}=i;return f.unsubscribe=()=>ae.asap(p),f}},B3=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},W3=async function*(n,e){for await(const t of K3(n))yield*B3(t,e)},K3=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Ok=(n,e,t,i)=>{const s=W3(n,e);let l=0,u,p=f=>{u||(u=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:m,value:v}=await s.next();if(m){p(),f.close();return}let x=v.byteLength;if(t){let A=l+=x;t(A)}f.enqueue(new Uint8Array(v))}catch(m){throw p(m),m}},cancel(f){return p(f),s.return()}},{highWaterMark:2})},yf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Px=yf&&typeof ReadableStream=="function",Q3=yf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Lx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Y3=Px&&Lx(()=>{let n=!1;const e=new Request(pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Rk=64*1024,Ng=Px&&Lx(()=>ae.isReadableStream(new Response("").body)),Ch={stream:Ng&&(n=>n.body)};yf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ch[e]&&(Ch[e]=ae.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new ze(`Response type '${e}' is not supported`,ze.ERR_NOT_SUPPORT,i)})})})(new Response);const G3=async n=>{if(n==null)return 0;if(ae.isBlob(n))return n.size;if(ae.isSpecCompliantForm(n))return(await new Request(pn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(n)||ae.isArrayBuffer(n))return n.byteLength;if(ae.isURLSearchParams(n)&&(n=n+""),ae.isString(n))return(await Q3(n)).byteLength},J3=async(n,e)=>ae.toFiniteNumber(n.getContentLength())??G3(e),X3=yf&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:l,timeout:u,onDownloadProgress:p,onUploadProgress:f,responseType:m,headers:v,withCredentials:x="same-origin",fetchOptions:A}=Rx(n);m=m?(m+"").toLowerCase():"text";let P=H3([s,l&&l.toAbortSignal()],u),U;const D=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let $;try{if(f&&Y3&&t!=="get"&&t!=="head"&&($=await J3(v,i))!==0){let F=new Request(e,{method:"POST",body:i,duplex:"half"}),q;if(ae.isFormData(i)&&(q=F.headers.get("content-type"))&&v.setContentType(q),F.body){const[N,I]=Ik($,xh(Nk(f)));i=Ok(F.body,Rk,N,I)}}ae.isString(x)||(x=x?"include":"omit");const H="credentials"in Request.prototype;U=new Request(e,{...A,signal:P,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:H?x:void 0});let B=await fetch(U);const X=Ng&&(m==="stream"||m==="response");if(Ng&&(p||X&&D)){const F={};["status","statusText","headers"].forEach(b=>{F[b]=B[b]});const q=ae.toFiniteNumber(B.headers.get("content-length")),[N,I]=p&&Ik(q,xh(Nk(p),!0))||[];B=new Response(Ok(B.body,Rk,N,()=>{I&&I(),D&&D()}),F)}m=m||"text";let le=await Ch[ae.findKey(Ch,m)||"text"](B,n);return!X&&D&&D(),await new Promise((F,q)=>{Ax(F,q,{data:le,headers:An.from(B.headers),status:B.status,statusText:B.statusText,config:n,request:U})})}catch(H){throw D&&D(),H&&H.name==="TypeError"&&/fetch/i.test(H.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,n,U),{cause:H.cause||H}):ze.from(H,H&&H.code,n,U)}}),Ag={http:f3,xhr:q3,fetch:X3};ae.forEach(Ag,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Pk=n=>`- ${n}`,Z3=n=>ae.isFunction(n)||n===null||n===!1,Dx={getAdapter:n=>{n=ae.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let l=0;l<e;l++){t=n[l];let u;if(i=t,!Z3(t)&&(i=Ag[(u=String(t)).toLowerCase()],i===void 0))throw new ze(`Unknown adapter '${u}'`);if(i)break;s[u||"#"+l]=i}if(!i){const l=Object.entries(s).map(([p,f])=>`adapter ${p} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(Pk).join(`
`):" "+Pk(l[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Ag};function Bm(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ol(null,n)}function Lk(n){return Bm(n),n.headers=An.from(n.headers),n.data=Hm.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Dx.getAdapter(n.adapter||ou.adapter)(n).then(function(e){return Bm(n),e.data=Hm.call(n,n.transformResponse,e),e.headers=An.from(e.headers),e},function(e){return Nx(e)||(Bm(n),e&&e.response&&(e.response.data=Hm.call(n,n.transformResponse,e.response),e.response.headers=An.from(e.response.headers))),Promise.reject(e)})}const Mx="1.8.2",vf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{vf[n]=function(t){return typeof t===n||"a"+(e<1?"n ":" ")+n}});const Dk={};vf.transitional=function(n,e,t){function i(s,l){return"[Axios v"+Mx+"] Transitional option '"+s+"'"+l+(t?". "+t:"")}return(s,l,u)=>{if(n===!1)throw new ze(i(l," has been removed"+(e?" in "+e:"")),ze.ERR_DEPRECATED);return e&&!Dk[l]&&(Dk[l]=!0,console.warn(i(l," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(s,l,u):!0}};vf.spelling=function(n){return(e,t)=>(console.warn(`${t} is likely a misspelling of ${n}`),!0)};function eU(n,e,t){if(typeof n!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const l=i[s],u=e[l];if(u){const p=n[l],f=p===void 0||u(p,l,n);if(f!==!0)throw new ze("option "+l+" must be "+f,ze.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ze("Unknown option "+l,ze.ERR_BAD_OPTION)}}const Xd={assertOptions:eU,validators:vf},Mr=Xd.validators;let Ns=class{constructor(n){this.defaults=n,this.interceptors={request:new xk,response:new xk}}async request(n,e){try{return await this._request(n,e)}catch(t){if(t instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{t.stack?s&&!String(t.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(t.stack+=`
`+s):t.stack=s}catch{}}throw t}}_request(n,e){typeof n=="string"?(e=e||{},e.url=n):e=n||{},e=Us(this.defaults,e);const{transitional:t,paramsSerializer:i,headers:s}=e;t!==void 0&&Xd.assertOptions(t,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),i!=null&&(ae.isFunction(i)?e.paramsSerializer={serialize:i}:Xd.assertOptions(i,{encode:Mr.function,serialize:Mr.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Xd.assertOptions(e,{baseUrl:Mr.spelling("baseURL"),withXsrfToken:Mr.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=s&&ae.merge(s.common,s[e.method]);s&&ae.forEach(["delete","get","head","post","put","patch","common"],P=>{delete s[P]}),e.headers=An.concat(l,s);const u=[];let p=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(e)===!1||(p=p&&P.synchronous,u.unshift(P.fulfilled,P.rejected))});const f=[];this.interceptors.response.forEach(function(P){f.push(P.fulfilled,P.rejected)});let m,v=0,x;if(!p){const P=[Lk.bind(this),void 0];for(P.unshift.apply(P,u),P.push.apply(P,f),x=P.length,m=Promise.resolve(e);v<x;)m=m.then(P[v++],P[v++]);return m}x=u.length;let A=e;for(v=0;v<x;){const P=u[v++],U=u[v++];try{A=P(A)}catch(D){U.call(this,D);break}}try{m=Lk.call(this,A)}catch(P){return Promise.reject(P)}for(v=0,x=f.length;v<x;)m=m.then(f[v++],f[v++]);return m}getUri(n){n=Us(this.defaults,n);const e=Ox(n.baseURL,n.url,n.allowAbsoluteUrls);return xx(e,n.params,n.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(n){Ns.prototype[n]=function(e,t){return this.request(Us(t||{},{method:n,url:e,data:(t||{}).data}))}});ae.forEach(["post","put","patch"],function(n){function e(t){return function(i,s,l){return this.request(Us(l||{},{method:n,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Ns.prototype[n]=e(),Ns.prototype[n+"Form"]=e(!0)});let tU=class jx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(s=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](s);i._listeners=null}),this.promise.then=s=>{let l;const u=new Promise(p=>{i.subscribe(p),l=p}).then(s);return u.cancel=function(){i.unsubscribe(l)},u},e(function(s,l,u){i.reason||(i.reason=new ol(s,l,u),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new jx(function(t){e=t}),cancel:e}}};function nU(n){return function(e){return n.apply(null,e)}}function rU(n){return ae.isObject(n)&&n.isAxiosError===!0}const Og={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Og).forEach(([n,e])=>{Og[e]=n});function Ux(n){const e=new Ns(n),t=mx(Ns.prototype.request,e);return ae.extend(t,Ns.prototype,e,{allOwnKeys:!0}),ae.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Ux(Us(n,i))},t}const Pt=Ux(ou);Pt.Axios=Ns;Pt.CanceledError=ol;Pt.CancelToken=tU;Pt.isCancel=Nx;Pt.VERSION=Mx;Pt.toFormData=gf;Pt.AxiosError=ze;Pt.Cancel=Pt.CanceledError;Pt.all=function(n){return Promise.all(n)};Pt.spread=nU;Pt.isAxiosError=rU;Pt.mergeConfig=Us;Pt.AxiosHeaders=An;Pt.formToJSON=n=>Ix(ae.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=Dx.getAdapter;Pt.HttpStatusCode=Og;Pt.default=Pt;const{Axios:lU,AxiosError:cU,CanceledError:uU,isCancel:dU,CancelToken:hU,VERSION:fU,all:pU,Cancel:mU,isAxiosError:gU,spread:yU,toFormData:vU,AxiosHeaders:bU,HttpStatusCode:wU,formToJSON:SU,getAdapter:kU,mergeConfig:EU}=Pt,iU="pub_test_dl5weFJ67b9vBvRDqv3TRK5NRpJrQy01",aU="prv_test_XvhUl53FFLEgGi7ub4ERlcTu5Tp6A8J1",sU=()=>{const{cartItems:n}=Zr(),{state:e}=ji(),{total:t=0}=e||{},[i,s]=Q.useState(null),l=On(),u=Math.round(t*100),p=async()=>{var f,m;if(n.length===0){qe.error("El carrito está vacío. Agrega productos antes de pagar.");return}const v={amount_in_cents:u,currency:"COP",customer_email:"cliente@example.com",payment_method_type:"MULTIPLE",payment_method:{installments:1},reference:`REF_${Date.now()}`,customer_data:{full_name:"Cliente Ejemplo",email:"cliente@example.com",phone_number:"1234567890",legal_id:"123456789",legal_id_type:"CC"}};try{const x=(await Pt.post("https://api.wompi.co/v1/transactions",v,{headers:{Authorization:`Bearer ${aU}`,"Content-Type":"application/json"}})).data.data;s(x.id),qe.success("Transacción creada. Redirigiendo al widget de pago...")}catch(x){const A=x;console.error("Error al crear transacción:",{message:A.message,status:(f=A.response)==null?void 0:f.status,response:(m=A.response)==null?void 0:m.data}),qe.error("Error al procesar el pago. Intenta de nuevo.")}};return Q.useEffect(()=>{if(i){const f=document.createElement("script");return f.src="https://checkout.wompi.co/widget.js",f.async=!0,f.onload=()=>{window.Wompi?window.Wompi.renderButton({publicKey:iU,reference:`REF_${i}`,amountInCents:u,currency:"COP",onSuccess:m=>{console.log("Pago exitoso:",m),qe.success("Pago aprobado. ¡Gracias por tu compra!"),l("/order-confirmation")},onError:m=>{console.error("Error en el pago:",m),qe.error("Error al procesar el pago.")},onClose:()=>{console.log("Widget cerrado"),s(null)}}):(console.error("Wompi widget no cargado"),qe.error("Error al cargar el widget de pago."))},document.body.appendChild(f),()=>{document.body.removeChild(f)}}},[i,u,l]),R.jsxs("div",{className:"container mx-auto p-6 bg-menu text-white min-h-screen",children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Pago con Wompi"}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("p",{className:"text-lg",children:["Total a pagar: $",(t/100).toFixed(2)," COP"]}),R.jsx("button",{onClick:p,className:"bg-[#f90] text-white px-4 py-2 rounded hover:bg-[#e68a00]",children:"Pagar con Wompi"}),i&&R.jsx("div",{id:"wompi-button-container",style:{marginTop:"20px"}})]})]})},oU=()=>R.jsx(w4,{children:R.jsx(h4,{children:R.jsxs(LI,{children:[R.jsx(x4,{}),R.jsx(C4,{}),R.jsxs(dI,{children:[R.jsx(jr,{path:"/",element:R.jsx(y4,{})}),R.jsx(jr,{path:"/payment",element:R.jsx(sU,{})}),R.jsx(jr,{path:"/offers",element:R.jsx(v4,{})}),R.jsx(jr,{path:"/categories",element:R.jsx(b4,{})}),R.jsx(jr,{path:"/product/:id",element:R.jsx(S4,{})}),R.jsx(jr,{path:"/cart",element:R.jsx(k4,{})}),R.jsx(jr,{path:"/auth",element:R.jsx(E4,{})}),R.jsx(jr,{path:"/admin",element:R.jsx(_4,{})}),R.jsx(jr,{path:"/search",element:R.jsx(T4,{})})," "]}),R.jsx(I4,{}),R.jsx(d4,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})})});wC.createRoot(document.getElementById("root")).render(R.jsx(mt.StrictMode,{children:R.jsx(oU,{})}));
